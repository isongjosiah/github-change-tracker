-- create update
CREATE TABLE IF NOT EXISTS public.repositories (
    id SERIAL PRIMARY KEY,
    owner TEXT NOT NULL,
    name TEXT NOT NULL,
    url TEXT NOT NULL,
    last_fetched TIMESTAMPTZ NOT NULL,
    created_at TIMESTAMPTZ NOT NULL,
    updated_at TIMESTAMPTZ NOT NULL
);
CREATE TABLE IF NOT EXISTS public.commits (
    id SERIAL PRIMARY KEY,
    repo_id INTEGER NOT NULL REFERENCES public.repositories(id) ON DELETE CASCADE,
    message TEXT NOT NULL,
    author TEXT NOT NULL,
    date TIMESTAMPTZ NOT NULL,
    repository_id );

--- insert repositories
INSERT INTO public.repositories (id, owner, name, url, last_fetched, created_at, updated_at) VALUES (1, 'isongjosiah', 'the-ledger', 'https://github.com/isongjosiah/the-ledger', '2025-04-02 12:52:55.000000 +00:00', '2025-06-05 16:50:57.461505 +00:00', '2025-06-05 16:50:57.461505 +00:00');
INSERT INTO public.repositories (id, owner, name, url, last_fetched, created_at, updated_at) VALUES (2, 'chromium', 'chromium', 'https://github.com/chromium/chromium', '2001-09-04 18:27:34.000000 +00:00', '2025-06-05 16:58:19.974789 +00:00', '2025-06-05 16:58:19.974789 +00:00');

-- insert commits
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnkxe8000001l5k3qswjaz', 1, 'style: format with prettier. add scripts', 'isongjosiah', '2025-04-02 12:52:55.000000 +00:00', 'https://api.github.com/repos/isongjosiah/the-ledger/git/commits/94cb390fdc68a8613d98dd68e9db3a93225b7763');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjm4zzi000001l5xh74yvdt', 1, 'style: format with prettier. add scripts', 'isongjosiah', '2025-04-02 12:52:55.000000 +00:00', 'https://api.github.com/repos/isongjosiah/the-ledger/git/commits/94cb390fdc68a8613d98dd68e9db3a93225b7763');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjm4zzi000101l5tt6dzkrh', 1, 'doc: restructure', 'isongjosiah', '2025-04-02 12:14:49.000000 +00:00', 'https://api.github.com/repos/isongjosiah/the-ledger/git/commits/44ba64aacb37c157ab7cee824d0a3cc1e52cbbbe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjm4zzi000201l50jt59v4n', 1, 'doc: resolve broken image link', 'isongjosiah', '2025-04-02 12:04:05.000000 +00:00', 'https://api.github.com/repos/isongjosiah/the-ledger/git/commits/8edc4b44e66362a537868aab2ec5449d5b543dd2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjm4zzi000301l5ub0imj1a', 1, 'doc: improve doc. Add system architecture and design diagrams', 'isongjosiah', '2025-04-02 11:22:17.000000 +00:00', 'https://api.github.com/repos/isongjosiah/the-ledger/git/commits/d23ef1a3037f1275b8b9a5b9d918eaa38286c5f2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjm4zzi000401l5qkgm05a5', 1, 'feat: Initial commit', 'isongjosiah', '2025-04-02 10:51:35.000000 +00:00', 'https://api.github.com/repos/isongjosiah/the-ledger/git/commits/1deede62bfc525158ab4f04a451322f35d887670');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjm4zzi000501l5s81s8bj0', 1, 'Initial commit', 'isongjosiah', '2025-04-02 10:42:52.000000 +00:00', 'https://api.github.com/repos/isongjosiah/the-ledger/git/commits/51e0e4387cd5646a67a76c74e960c13f1148310f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs802bf01l537fhok4b', 2, e'        * kjs/ustring.h: Fix spelling of occurrence.git-svn-id: svn://svn.chromium.org/blink/trunk@3315 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-13 18:27:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/972150f63f3320d3b69ba7f5559b8f2de2630c9e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs802bg01l5fm8f7o8b', 2, e'        Reviewed by Ken.

	- fixed 3143781 -- submitting the same form twice doesn\'t work properly
	(example at directory.apple.com)

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::submitForm): Only run the "don\'t submit the same
	form twice" logic when the form is one that affects the frame that the form is in.


git-svn-id: svn://svn.chromium.org/blink/trunk@3314 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-13 17:38:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/45e3a5af4a105408cb16c616df916c0ff25a5d13');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs802bh01l5r8882v3u', 2, e'        Reviewed by Maciej.

	- turned more recursion into iteration, and fixed some backwards stuff

        * kjs/grammar.y: Use the normal idiom for CaseClauses and FormalParameterList
	rather than using append().
        * kjs/grammar.cpp: Regenerated.

        * kjs/nodes.h: Change ClauseListNode and ParameterNode to use the normal idiom,
	and got rid of append methods. Also added friend declarations and calls to reverseList().
        * kjs/nodes.cpp:
        (StatListNode::ref): Iteration, not recursion.
        (StatListNode::deref): Iteration, not recursion.
        (StatListNode::execute): Iteration, not recursion.
        (StatListNode::processVarDecls): Iteration, not recursion.
        (CaseClauseNode::reverseList): Added.
        (ClauseListNode::ref): Iteration, not recursion.
        (ClauseListNode::deref): Iteration, not recursion.
        (ClauseListNode::processVarDecls): Iteration, not recursion.
        (CaseBlockNode::reverseLists): Added.
        (ParameterNode::ref): Iteration, not recursion.
        (ParameterNode::deref): Iteration, not recursion.
        (FuncDeclNode::reverseParameterList): Added.
        (FuncExprNode::reverseParameterList): Added.
        (SourceElementsNode::ref): Iteration, not recursion.
        (SourceElementsNode::deref): Iteration, not recursion.
        (SourceElementsNode::execute): Use variable name of n to match other functions.
        (SourceElementsNode::processFuncDecl): Ditto.
        (SourceElementsNode::processVarDecls): Ditto.

        * kjs/nodes2string.cpp:
        (SourceStream::operator<<): Used a switch statement for a bit of added clarity.
        (ElementNode::streamTo): Iteration, not recursion.
        (PropertyValueNode::streamTo): Iteration, not recursion.
        (ArgumentListNode::streamTo): Iteration, not recursion.
        (StatListNode::streamTo): Iteration, not recursion, and fixed order.
        (VarDeclListNode::streamTo): Iteration, not recursion.
        (ClauseListNode::streamTo): Used for statement to match other functions.
        (CaseBlockNode::streamTo): Used for statement to match other functions.
        (ParameterNode::streamTo): Iteration, not recursion.
        (SourceElementsNode::streamTo): Iteration, not recursion, and fixed order that has been
	backwards since I changed how this works in nodes.cpp.


git-svn-id: svn://svn.chromium.org/blink/trunk@3313 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-13 15:49:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f5b35cc05626200f102ef68f5cc67827af1a2f26');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs802bi01l5ib0e2egd', 2, e'        * WebCorePrefix.h: Needed to touch this file since we now have plain C source (expat).
        * kwq/KWQKHTMLPart.cpp: Reformatted a bit.


git-svn-id: svn://svn.chromium.org/blink/trunk@3312 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-13 05:53:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/85b18c7609cbdf9d80fb2e8621f0ed5d258c800e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs802bj01l5aapaa1ra', 2, e'        Reviewed by Maciej.

	- first step towards integrating expat for XML support: make it compile and link

        * kwq/KWQXml.mm: (QXmlSimpleReader::parse): Put in a placeholder that calls expat.
	Mainly just used to make sure we link.

        * WebCore.pbproj/project.pbxproj: Added expat files.

        * expat/COPYING: Added.
        * expat/Changes: Added.
        * expat/MANIFEST: Added.
        * expat/README: Added.
        * expat/expat_config.h: Added.
        * expat/lib/ascii.h: Added.
        * expat/lib/asciitab.h: Added.
        * expat/lib/expat.h: Added.
        * expat/lib/iasciitab.h: Added.
        * expat/lib/internal.h: Added.
        * expat/lib/latin1tab.h: Added.
        * expat/lib/nametab.h: Added.
        * expat/lib/utf8tab.h: Added.
        * expat/lib/xmlparse.c: Added.
        * expat/lib/xmlrole.c: Added.
        * expat/lib/xmlrole.h: Added.
        * expat/lib/xmltok.c: Added.
        * expat/lib/xmltok.h: Added.
        * expat/lib/xmltok_impl.c: Added.
        * expat/lib/xmltok_impl.h: Added.
        * expat/lib/xmltok_ns.c: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@3308 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-13 05:28:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9b1d014f5e1395664eac729afc8a2eec1b1f0c4c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs802bk01l5rhgwgfuo', 2, e'        Reviewed by John.

	- fixed 3144882 -- pretend to be WinIE for abcnews.com

        * WebView.subproj/WebControllerPrivate.h: Add an enum, UserAgentStringType, with values
	Safari, MacIE, and WinIE. Also add NumUserAgentStringTypes and turn the userAgent and
	userAgentWhenPretendingToBeMacIE strings into an array indexed by type.

        * WebView.subproj/WebController.m:
        (-[WebController setApplicationNameForUserAgent:]): Use a loop to discard the user agent
	strings, since we have an array now.
        (-[WebController userAgentForURL:]): Change user agent algorithm to check two strings rather
	than once against the spoof table, allowing two dots in the "domain name", which is needed
	for "abcnews.go.com". Get a user agent string type from the table rather than just a boolean
	"pretend to be MacIE". Store a string per type rather than one for normalcy and one for MacIE.
	Add a case for WinIE to the user agent computations.

	* English.lproj/StringsNotToBeLocalized.txt: Update for change above.

        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate dealloc]): Use a loop to discard the user agent strings, since we have
	an array now.
        (-[WebController _defaultsDidChange]): Ditto.

        * WebView.subproj/WebUserAgentSpoofTable.gperf: Add a UserAgentStringType field to the struct.
	Add MacIE to each existing table entry, and add a new one that says WinIE for abcnews.go.com.

        * Makefile.am: Pass "-F ,0" to gperf so that we don\'t get warnings compiling empty entries
	in the hash table.

        * WebView.subproj/WebUserAgentSpoofTable.c: Re-generated.

        - other changes

        * WebView.subproj/WebHTMLView.m: Removed some old, dead, #if 0\'d code.


git-svn-id: svn://svn.chromium.org/blink/trunk@3307 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-13 03:49:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0006fd1a4096abfd2c808826428713c3df8ff184');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs802bl01l5n7g1msvy', 2, e'        Reviewed by John.

	- changes inspired by things I noticed reviewing diffs vs. KDE when preparing the tarball

        * kjs/function.cpp: (GlobalFuncImp::call): Use strtol when strtoll is
	not available. Do #ifndef NDEBUG, not #if !NDEBUG.
        * kjs/function.h: Do #ifndef NDEBUG, not #if !NDEBUG.
        * kjs/internal.cpp:
        (InterpreterImp::initGlobalObject): Do #ifndef NDEBUG, not #if !NDEBUG.
        (KJS::printInfo): Remove case for ListType and remove default case that just
	ends up suppressing the "missing case" warning and does no good.
        * kjs/interpreter.cpp: (Interpreter::evaluate): Do #ifndef NDEBUG, not #if !NDEBUG.
        * kjs/nodes.cpp:
        (Node::finalCheck): Fix accidentally-deleted code in an ifdef we never compile.
        (FunctionCallNode::evaluate): Remove bogus XXX comment. Maciej put this comment in,
        and together we determined it\'s not needed.
        (TypeOfNode::evaluate): Ditto.
        * kjs/object.cpp: Remove assert that refers to ListType.
        * kjs/value.h: Remove ListType.


git-svn-id: svn://svn.chromium.org/blink/trunk@3306 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-12 18:43:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/93a4cd7f5de99ab177efa5fb2cca48d15e4a4342');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs802bm01l5kk62c5zf', 2, e'        Reviewed by Dave.

	- minor cleanup of plug-in-related classes in ECMA directory

        * khtml/ecma/kjs_navigator.cpp: Remove unneeded PluginBase member functions
	ref() and deref(). Instead just make Plugin and MimeType both derive from
	PluginBase and remove APPLE_CHANGES.
        (Navigator::getValueProperty): Don\'t use "Konqueror" for the fallback.
	Just return Undefined() for that case since we will never reach it anyway.

	- simplify the logic in khtmlMoveMouseEvent so it\'s easier to decipher

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::khtmlMouseMoveEvent): By merging two
	identical if statements, the logic of this function becomes much clearer.


git-svn-id: svn://svn.chromium.org/blink/trunk@3305 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-12 18:41:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a35681313cbe034f58c6879f4e2c05d245274023');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902bn01l547webymp', 2, e'        Reviewed by Dave.

	- fixed a bunch of places where KHTML did !x == y instead of !(x == y) or x != y.

        * khtml/css/cssstyleselector.cpp: (CSSStyleSelector::applyRule):
        * khtml/html/htmlparser.cpp: (KHTMLParser::insertNode):
        * khtml/misc/loader.cpp: (Cache::requestImage), (Cache::requestStyleSheet):
        * khtml/rendering/render_flow.cpp: (RenderFlow::setStyle):
	Changed !x == y to x != y. In each case, there\'s a reason that this does not create
	any problem in practice, which is why we didn\'t rush to get this in for beta 1.


git-svn-id: svn://svn.chromium.org/blink/trunk@3304 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-12 17:05:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bbf427b45beb8cfdc8cf2e4a6b68cd6244f14d21');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902bo01l5w4t1pg0m', 2, e'        Reviewed by John.

	- fixed 3144789 -- reproducible crash in KHTMLParser::freeBlock on a page at www.library.arizona.edu

        * khtml/html/htmlparser.cpp: (KHTMLParser::finished): Call freeBlock here rather than
	waiting until the parser is destroyed. This fixes the bug because when the parser is
        destroyed, the document is already destroyed, so we have a dangling current pointer to an
	already-destroyed node.

	- fixed 3142024 -- crash/hang/assert on java.sun.com in HTMLTokenizer

	The bug was caused by an erroneous clicked signal that was being emitted by
	QListBox at just the wrong time.

        * kwq/KWQListBox.h: Added _changingSelection boolean.
        * kwq/KWQListBox.mm: (QListBox::QListBox): Set _changingSelection to false.
        (QListBox::setSelected): Set _changingSelection to true.
        (-[KWQListBoxTableViewDelegate tableViewSelectionDidChange:]): Only emit the "clicked"
	signal if _changingSelection is false.

        * khtml/html/htmltokenizer.h: Add debug-only boolean inWrite.
        * khtml/html/htmltokenizer.cpp: (HTMLTokenizer::HTMLTokenizer): Set inWrite to false.
	(HTMLTokenizer::write): Set inWrite to true.
	(HTMLTokenizer::~HTMLTokenizer): Assert that inWrite is not true.


git-svn-id: svn://svn.chromium.org/blink/trunk@3303 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-12 17:01:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fe0a22e64cf463524c2b591195447edecb2a3459');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902bp01l5046knqis', 2, e'        Reviewed by John.

	- fixed 3144479 -- put TITLE from links in status bar

        * WebKit.exp: Add _WebElementLinkTitleKey and also sort this file.

        * WebCoreSupport.subproj/WebImageRenderer.m: Need to touch a file to get the above
	to have any effect, so update the copyright date here.


git-svn-id: svn://svn.chromium.org/blink/trunk@3302 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-12 05:13:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3a4cb1a2ed63c6f67152897fa6270935ca1d115c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902bq01l5fwhx1v9q', 2, e'        Reviewed by Dave.

	- fixed 3136944 -- mouseover feedback over non-mapped part of image map claims
	link to current page

        * kwq/WebCoreBridge.mm: (-[WebCoreBridge elementAtPoint:]):
	Change code so we won\'t call completeURL and complete a null ATTR_HREF (which is distinct
	from an empty ATTR_HREF). Did a similar cleanup on the image code.


git-svn-id: svn://svn.chromium.org/blink/trunk@3301 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-12 01:17:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d4202b81938c037ce3a6a061ea18c5b613412113');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902br01l5300yrxms', 2, e'JavaScriptCore:

        * JavaScriptCore.pbproj/project.pbxproj: Add the year 2003, remove CFBundleIconFile,
	bump marketing version to 0.8.1 and version to 52u to keep up with the branch,
	remove CFHumanReadableCopyright, remove NSPrincipalClass.

        * English.lproj/InfoPlist.strings: Updated to match above changes.

WebFoundation:

        * WebFoundation.pbproj/project.pbxproj: Add the year 2003, remove CFBundleIconFile,
	bump marketing version to 0.8.1 and version to 52u to keep up with the branch,
	remove NSHumanReadableCopyright, remove NSPrincipalClass.

        * English.lproj/InfoPlist.strings: Update to match above.

WebCore:

        * WebCore.pbproj/project.pbxproj: Add the year 2003, remove CFBundleIconFile,
	bump marketing version to 0.8.1 and version to 52u to keep up with the branch,
	remove NSHumanReadableCopyright, remove NSPrincipalClass, remove SKIP_INSTALL
	that was in the Info plist instead of project settings.

        * English.lproj/InfoPlist.strings: Update to match above.

WebKit:

        * WebKit.pbproj/project.pbxproj: Add the year 2003, remove CFBundleIconFile,
	bump marketing version to 0.8.1 and version to 52u to keep up with the branch,
	remove CFHumanReadableCopyright, remove NSPrincipalClass.

        * English.lproj/InfoPlist.strings: Updated to match above changes.

WebBrowser:

        * WebBrowser.pbproj/project.pbxproj: Add 2003 to copyright, bump versions
	to 0.8.1 and 52u to keep up with the branch.

        * English.lproj/InfoPlist.strings: Update to match above.


git-svn-id: svn://svn.chromium.org/blink/trunk@3300 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-10 08:20:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/eb3600b3e8458adfe0dca4bc08e3596e81f68a51');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902bs01l5tqejz9kx', 2, e'Lets call this 51u, not 50u.


git-svn-id: svn://svn.chromium.org/blink/trunk@3294 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-10 03:57:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f2d47a4da2ecd180f2f0c4f3138d27f6458063c5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902bt01l5twkx3s4t', 2, e'WebKit:

        Reviewed by Maciej.

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.

WebBrowser:

        Reviewed by Maciej.

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.
        * English.lproj/Localizable.strings: Regenerate.


git-svn-id: svn://svn.chromium.org/blink/trunk@3293 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-10 03:56:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dbddf376044555a74b2e391d6b88b2f61f7715a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902bu01l5rlsv7ab3', 2, e'        Fixed 3143361.  This was a regression introduced with some image
        rendering optimizations.  Don\'t bypass the tiling code path if
        the image needs to be rendered out-of-phase.

        Reviewed by hyatt.

        * WebCoreSupport.subproj/WebImageRenderer.m:
        (-[WebImageRenderer tileInRect:fromPoint:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3290 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2003-01-10 02:06:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e9f2c82564f04cbe178cb7193ab98d5b2776509f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902bv01l5ks2wqujq', 2, e'        Reviewed by Chris.

	- second pass on 3143332 - we still need a test case to be sure this is right

        * Plugins.subproj/WebBaseNetscapePluginStream.m:
        (-[WebBaseNetscapePluginStream finishedLoadingWithData:]):
	Check for "/". Also report the failure instead of just hanging on forever.


git-svn-id: svn://svn.chromium.org/blink/trunk@3289 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-10 01:33:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15798890f5f5ed109d1fb4a81dbf620241adac6b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902bw01l5xlw8j98n', 2, e'        Reviewed by Richard.

        - fixed 3143332 -- if path returned is empty string (or "." or "..") it will trash the /tmp symlink

        * Plugins.subproj/WebBaseNetscapePluginStream.m:
        (-[WebBaseNetscapePluginStream finishedLoadingWithData:]):
        Check for empty string, ".", and "..", and don\'t create files by those names.


git-svn-id: svn://svn.chromium.org/blink/trunk@3288 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-10 01:12:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/027e21650136636878eae1f6c09764687d6da953');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902bx01l5uisuf7uz', 2, e'WebKit:

	3143294 - need short-term bulletproofing of download code against bad filenames

	We protect against a download location that is not an absolute path.

        Reviewed by Darin

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient continueAfterContentPolicy:response:]):
	Bail on download if we don\'t have a abs path to write to.

WebBrowser:

	3143294 - need short-term bulletproofing of download code against bad filenames

	We protect against slashes and leading periods, as well as handling empty filenames.

        Reviewed by Darin

        * BrowserWebController.m:
        (-[BrowserWebController saveFilenameForResponse:andRequest:]):
	Check results of [response filename] carefully


git-svn-id: svn://svn.chromium.org/blink/trunk@3287 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2003-01-10 01:04:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2b30bc61d9dc7370852af45e7ecb681be71c62ba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902by01l5ldg9xdyw', 2, e'        Reviewed by Dave.

	- fixed Radar 3143013 - hang trying to load spiny.com/software

        * khtml/rendering/render_table.cpp:
        (RenderTable::layoutRows): Check for the render root as a loop
	termination condition, to avoid an infinite loop for an absolute
	but non-fixed table cell.


git-svn-id: svn://svn.chromium.org/blink/trunk@3286 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2003-01-10 00:14:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f9d440e01c4f26601d3d5740f26f33f72b7899f9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902bz01l5x491zqwm', 2, e'	The "flow-mode" quirk for lists is just that - a quirk, and should
	not be applied when in strict mode.

	Fixes diveintomark.org\'s navigation bar on the front page (issue #2
	on his list).

        Reviewed by darin and maciej

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@3285 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2003-01-10 00:06:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b072b387e321a71ecbd544fd10cf27dd726c9da3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902c001l5tin6sta1', 2, e'	Finish the KONQBLOCK removal and make sure that table rows and
	cells encountered inside stray content cause the stray content to
	close so that the rows and cells can be part of the table.

	This fixes the versiontracker bug.  #3142319.

        Reviewed by darin.

        * khtml/html/htmlparser.cpp:
        (KHTMLParser::reset):
        (isTableRelatedTag):
        (KHTMLParser::insertNode):
        (KHTMLParser::popOneBlock):
        * khtml/html/htmlparser.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3282 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2003-01-09 18:52:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d929a88cf94befae2b7364bb9906de2ddabc8aa2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902c101l577nh6zvt', 2, e'	3142201 - home directory nuked during power download session

	We add checks for various error cases that could combine to cause this problem.  While we
	never got a reproducible case, we are confident that this is the only file removal done
	in the download code, and its ability to wreak havoc has been clipped.

        Reviewed by Richard.

        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler cleanUpAfterFailure]):  Only nuke the partial download if in fact we created
	a new download file.  Never nuke a directory.
        (-[WebDownloadHandler createFileIfNecessary]):  Don\'t add "." to the foo-1 filenames we generate
	if the original filename doesn\'t have any extension.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient continueAfterContentPolicy:response:]):
	If the policyDelegate gives us a nil filename, just stop the whole load, instead of trying to
	overwrite the user\'s home directory.


git-svn-id: svn://svn.chromium.org/blink/trunk@3281 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2003-01-09 07:50:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e7131d09a73bf4047ea77a9ae4beb43cc92443fc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902c201l52obm66f6', 2, e'	Revert the redundancy that dirk noticed.

	Fixing issue #3 on diveintomark.org\'s list, which actually involved
	merging calcAbsoluteVertical to KHTML\'s trunk and then fixing
	a math error in the bottom computation.

        Reviewed by NOBODY (OOPS!).

        * khtml/html/html_baseimpl.cpp:
        (HTMLBodyElementImpl::parseAttribute):
        * khtml/rendering/render_box.cpp:
        (RenderBox::calcAbsoluteVertical):


git-svn-id: svn://svn.chromium.org/blink/trunk@3280 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2003-01-09 07:07:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2b82da97709686b826bfb03bb4c50ab51b408b96');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902c301l5ut0jo2u9', 2, e'WebCore:

	Fixed: 3111432 - Support OBJECT tags with type text/plain or text/html

        Reviewed by dave.

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::createPart): call [_bridge frameRequiredForMIMEType:] to determine if we should create a plug-in view or iframe
        * kwq/WebCoreBridge.h: add frameRequiredForMIMEType:

WebKit:

	Fixed: 3111432 - Support OBJECT tags with type text/plain or text/html

        Reviewed by dave.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge frameRequiredForMIMEType:]): added, returns YES for non-plug-in views


git-svn-id: svn://svn.chromium.org/blink/trunk@3279 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2003-01-09 02:08:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/88648dfd09ba6fa177bb7df676fc68f7938aed9d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902c401l56z474y50', 2, e'	3136213 - Page loads stopped by backtracking don\'t finish when moving forward

	We need to remove the entry from the KHTML image cache when a load
	has an error, so it will be reloaded next time we try.

        Reviewed by Darin,

        * khtml/misc/loader.cpp:
        (Loader::slotFinished):  Remove cache entry on job error.


git-svn-id: svn://svn.chromium.org/blink/trunk@3278 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2003-01-08 21:33:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1cee6a944c55106f363e1e37808cb456a3e6f46e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902c501l57a07ozjd', 2, e'        Reviewed by Dave.

	- fixed 96/72 dpi snafu; no need to do something different for AppKit,
          because it always uses pixel sizes, not font size

        * khtml/css/css_valueimpl.cpp:
        * khtml/css/css_valueimpl.h:
        * khtml/css/cssstyleselector.cpp:
        * kwq/KWQPaintDeviceMetrics.mm:
	Rolled out change from 2002-12-05

	- a cut at implementing heretofore unimplemented QTextStream classes

        * kwq/KWQTextStream.h:
        * kwq/KWQTextStream.mm:
	First cut implementation.


git-svn-id: svn://svn.chromium.org/blink/trunk@3277 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-08 20:17:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d401dbf26bbc83a5c32c610e5af3d34cd259c30c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902c601l57fkleeu2', 2, e'	FIXED: 3128098 - flash performance weak!!!

        Reviewed by darin.

        * Plugins.subproj/WebBaseNetscapePluginView.m: Don\'t throttle plug-in when in an active window.


git-svn-id: svn://svn.chromium.org/blink/trunk@3276 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2003-01-08 19:47:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ea6a55185b50c250efc22edaf3b896b4d74f71da');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902c701l5g4f9n0zx', 2, e'Safari-50u. tree is open.


git-svn-id: svn://svn.chromium.org/blink/trunk@3273 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2003-01-08 07:08:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fab52ecb903c96d9b4e7db205e87e13c488be841');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnphs902c801l5pqiohw00', 2, e'Safari-49 stamp.
Note that I am not using "Alexander" in the tag name any more (RIP Great Alex)
and that I did not rev the marketing version.


git-svn-id: svn://svn.chromium.org/blink/trunk@3272 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2003-01-08 07:05:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8603d36e74013e44e642f0378e5bf67da1687415');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02al01l53uamis90', 2, e'JavaScriptCore:

        Reviewed by no one cause I\'m just changing copyright strings.

        * JavaScriptCore.pbproj/project.pbxproj: Added non-Apple copyrights to
	copyright strings.
        * English.lproj/InfoPlist.strings: Likewise.

WebCore:

        Reviewed by no one cause I\'m just changing copyright strings.

        * WebCore.pbproj/project.pbxproj: Added non-Apple copyrights to
	copyright strings.
        * English.lproj/InfoPlist.strings: Likewise.


git-svn-id: svn://svn.chromium.org/blink/trunk@3266 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2003-01-06 06:37:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/323b3b302f2d137f22bc4c057d44fc0b404c32ed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02am01l55sbrd7bu', 2, e'Another revision on the READMEs.


git-svn-id: svn://svn.chromium.org/blink/trunk@3259 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-06 05:17:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3acafd69d8fda7a5de03aaee782963abe7060228');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02an01l54c7bxykz', 2, e'JavaScriptCore:

        * JavaScriptCore.pbproj/project.pbxproj: Fix "Apple Compupter" typo.
	Remove unneeded CFBundleLongVersionString we don\'t use anywhere else.

WebFoundation:

        * WebFoundation.pbproj/project.pbxproj: Fix "Apple Compupter" typo.

WebCore:

        * Resources/Info.plist: Fix "Apple Compupter" typo.


git-svn-id: svn://svn.chromium.org/blink/trunk@3258 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-06 05:13:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/48c702ac08c824c3733bd9fbf61011493608f643');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02ao01l5my9ejbpv', 2, e'Rewrap to 72 columns.


git-svn-id: svn://svn.chromium.org/blink/trunk@3257 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-06 03:57:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/abda68d9065d8ebf0cd9238360a4ace8d0bc1fb8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02ap01l5tq41gkfv', 2, e'README files for the JavaScriptCore and WebCore tarballs.


git-svn-id: svn://svn.chromium.org/blink/trunk@3256 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-06 01:12:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3bd6b11bd92ec9bfe331b79706773f3cc1c6b4c2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02aq01l5txbfccnx', 2, e'License and change log updates requested by Don.


git-svn-id: svn://svn.chromium.org/blink/trunk@3255 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-05 23:03:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/723919f2bca94ec2dcbbe367335e44da6e860c8b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02ar01l5b3ztde73', 2, e'	3098388 - Pressing the back button goes back two levels at allmusic.com

	When processing an assignment to document.location, allow items to be added
	to history.  This parallels the existing treatment of window.location.href.

        Reviewed by Richard, Darin

        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLDocument::putValue):  Pass false for lockHistory arg of scheduleRedirection()


git-svn-id: svn://svn.chromium.org/blink/trunk@3254 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2003-01-05 06:59:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5997aeb7c356775b5528306c5065b6e99e2d6a7b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02as01l5pvvqy9pw', 2, e'        I checked in kjs_window.cpp by accident.  The only change
        was a logging printf.  Back out that change.

        Reviewed by me.

        * khtml/ecma/kjs_window.cpp:
        (WindowFunc::tryCall):


git-svn-id: svn://svn.chromium.org/blink/trunk@3253 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2003-01-04 11:10:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2963f9b8a8cf231ba4b7fff8bbae7cdea1887427');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02at01l50mwhs5fh', 2, e'        Fixed 3139129.  Added application/xhtml+xml to list of supported type.

        Reviewed by gramps.

        * WebView.subproj/WebDataSourcePrivate.m:
        (+[WebDataSource _repTypes]):
        * WebView.subproj/WebViewPrivate.m:
        (+[WebView _viewTypes]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3252 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2003-01-04 02:53:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/199d3fbeeb2a089696840d695d2393c61622ee58');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02au01l53skvp3ro', 2, e'        Fix for 3138425. Don\'t open a new window when document.open() is called
        with < 2 parameters.

        Reviewed by darin.

        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLDocFunction::tryCall):
        * khtml/ecma/kjs_window.cpp:
        (WindowFunc::tryCall):


git-svn-id: svn://svn.chromium.org/blink/trunk@3251 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2003-01-04 01:52:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9f37bb74f5eaa11bc827ea1cea2cd6691d7efae8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02av01l50hpxpjt3', 2, e'WebCore:
        Fixed 3138743, 3138678, and 3138854.  Removed the RenderText
        widths cache, replaced it with a much simply monospace character
        cache.  Should be much faster for covered cases too!  Also fixed
        buffer overrun problem causing the crash in 3138854.

        Reviewed by darin.

        * khtml/rendering/font.cpp:
        (Font::isFixedPitch):
        * khtml/rendering/font.h:
        * khtml/rendering/render_text.cpp:
        (TextSlave::checkSelectionPoint):
        (RenderText::RenderText):
        (RenderText::setStyle):
        (RenderText::~RenderText):
        (RenderText::shouldUseMonospaceCache):
        (RenderText::cacheWidths):
        (RenderText::widthFromCache):
        (RenderText::trimmedMinMaxWidth):
        (RenderText::calcMinMaxWidth):
        (RenderText::setText):
        (RenderText::width):
        * khtml/rendering/render_text.h:
        * kwq/KWQFont.h:
        * kwq/KWQFont.mm:
        (QFont::isFixedPitch):
        * kwq/WebCoreTextRendererFactory.h:
        * kwq/WebCoreTextRendererFactory.m:
        (-[WebCoreTextRendererFactory isFontFixedPitch:]):

WebKit:
        Support for fixes to 3138743, 3138678.  Added
        isFontFixedPitch used to determine if font is fixed
        pitch.  Makes use of appkit private _isFakeFixedPitch
        (detects courier and monoca).  Updated our fakey test
        to use the appkit\'s version.

        Reviewed by darin.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        * WebCoreSupport.subproj/WebTextRendererFactory.m:
        (-[WebTextRendererFactory isFontFixedPitch:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3250 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2003-01-04 00:57:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5e3fac42649226b1804f63c1fc9faf9ed7be5341');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02aw01l50lcnp06p', 2, e'        Reviewed by Chris.

	- fixed leak of WebIconLoader observed using leaks tool

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): Tell the icon loader to stop loading.
	Add a FIXME asking why we had to do this to fix the leak.
        (-[WebDataSource _loadIcon]): Add an assertion.


git-svn-id: svn://svn.chromium.org/blink/trunk@3249 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-04 00:50:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/93f27f3a6cdb36876188b6cd98678b5e3ff3ffb5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02ax01l5bhsiia9h', 2, e'	- fixed 3138673 -- reproducible crash in JavaScript

        Reviewed by Darin, OK\'ed by Don.

        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::setTitle):
	Check for nil view or nil part before dereferencing.


git-svn-id: svn://svn.chromium.org/blink/trunk@3248 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2003-01-03 22:05:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/667faf6c2c6a2b3acba283d117509cf226d96ed8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02ay01l5vblcuhy7', 2, e'	Fix for percentage table heights.  A check was missing to
	look for a fixed height on the containing block.

        Reviewed by darin

        * khtml/rendering/render_table.cpp:
        (RenderTable::layoutRows):


git-svn-id: svn://svn.chromium.org/blink/trunk@3247 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2003-01-03 20:05:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c304279a1ea57fba334f2e9a29628951041b35d4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02az01l5iwqhgqby', 2, e'        Fix to 3131226.  Don\'t force a layout when the document view is set
        on the page\'s scrollview.  A layout would occur indirectly as a result
        of reflectScrolledClipView: being called when the document view
        was set.  The khtmlpart/khtmlview/WebHTMLView would be out of sync
        at this point and a layout would have unintended and incorrect
        side effects.

        Reviewed by Darin (and tested by John).

        * WebView.subproj/WebDynamicScrollBarsView.h:
        * WebView.subproj/WebDynamicScrollBarsView.m:
        (-[WebDynamicScrollBarsView updateScrollers]):
        * WebView.subproj/WebViewPrivate.m:
        (-[WebView _setDocumentView:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3246 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2003-01-03 19:21:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/455a2295255dc82c2ddf57cda27c2a92c64f0663');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02b001l57zghkusp', 2, e'        Reviewed by Maciej.

	- fixed 3138213 -- browser hangs trying to open Apple travel site

        * kjs/date_object.cpp: (timetUsingCF): Check for very-negative year numbers too.


git-svn-id: svn://svn.chromium.org/blink/trunk@3245 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-03 18:28:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1c3bc9e92023f428cff9d91fe973bad9617f587c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02b101l5shr0zz2y', 2, e'Setting version to 49u


git-svn-id: svn://svn.chromium.org/blink/trunk@3244 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2003-01-03 02:19:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/246e605face9ccefbc0e98b6c6645a068b7ba3be');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02b201l5lrq8usoi', 2, e'Building Safari-48


git-svn-id: svn://svn.chromium.org/blink/trunk@3240 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2003-01-03 01:23:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c89ad21fe50c5a367058edebea15089caab8b158');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02b301l5h2s8dpja', 2, e'        Increase the minimum font size to 9pt.  This bounds the lower
        size of the sizes array used for named sizes.  Net effect is
        to increase xx-small from 8pt to 9pt.  xx-small is used by
        www.microsoft.com.

        Reviewed by hyatt.

        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3239 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2003-01-02 23:34:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/80b17afbbccaa48fd8e321a39d5d14039d5ee84d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02b401l59uaod7e1', 2, e'	Fix for 3136473.  <object>s with no specified size should be
	0x0.  They should not be 300x200.  Fixes thinker.org.

        Reviewed by john and darin.

        * khtml/rendering/render_frames.cpp:
        (RenderPart::intrinsicWidth):
        (RenderPart::intrinsicHeight):


git-svn-id: svn://svn.chromium.org/blink/trunk@3238 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2003-01-02 23:24:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/488d0f862bde275ca2388b70f2b4bab50246924c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02b501l52gh7e3mx', 2, e'        Reviewed by Maciej and Trey.

	- fixed 3138063 -- REGRESSION: JavaScript-submitted form activates input type=image (webmail.mac.com)

	JavaScript-submitted forms must not get a submit button activated as return-key-submitted ones do.

        * khtml/html/html_formimpl.h: Add boolean activateSubmitButton parameter to submit.
        * khtml/html/html_formimpl.cpp:
        (HTMLFormElementImpl::prepareSubmit): Pass true for activateSubmitButton.
        (HTMLFormElementImpl::submit): Only activate a button if activateSubmitButton is true.

        * khtml/dom/html_form.cpp: (HTMLFormElement::submit): Pass false for activateSubmitButton.


git-svn-id: svn://svn.chromium.org/blink/trunk@3237 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-02 23:22:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c1593a0dd64809ba65477cd433a5f7b5e5e3e456');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02b601l5136a8o3c', 2, e'	Fix for the 3137790.   This patch passes the mouse event x and y as
	distinct arguments to constructZTree, so that the damageRect can
	really reflect your clip rect.
	This allows me to prune out layers that are clipped so
	that if x,y aren\'t inside the clip rect, the layer doesn\'t get added to
	the list.

	This patch also makes the "clip" property apply to the element that specifies the clip instead of to the element\'s kids.  This is ambiguous in the spec, but it turns out other browsers do it this way, so there really is an interpretation that must be followed. :)

	Reviewed by darin

        * khtml/rendering/render_layer.cpp:
        (RenderLayer::nodeAtPoint):
        (RenderLayer::constructZTree):
        * khtml/rendering/render_layer.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3236 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2003-01-02 23:05:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a6999126fc8371b2f19370113dcf4b4d5bc2407e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02b701l5qqblpfe8', 2, e'	Fix for bug #3137935.  When a float causes a line to get
	moved down past the float, the line would incorrectly break
	rather than expanding to use the newly-available width.

        Reviewed by darin.

        * khtml/rendering/bidi.cpp:
        (RenderFlow::findNextLineBreak):


git-svn-id: svn://svn.chromium.org/blink/trunk@3235 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2003-01-02 20:25:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/217ba6d9eaf1b16ca9e7a633de6e8fb3b5108f25');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02b801l5zz0ixs24', 2, e'        Reviewed by John.

	- fixed 3131190 -- <textarea wrap="hard"> eats text on blur

        * kwq/KWQTextArea.mm: (-[KWQTextArea paragraphs]): Add missing parentheses so we don\'t
	always return 0 or 1 for the number of paragraphs.


git-svn-id: svn://svn.chromium.org/blink/trunk@3234 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-02 19:34:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/213ce00b7b57707e0d34a5867695cb1dc9dc12ad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02b901l50hi0lcxc', 2, e'        Reviewed by Don.

        - at Scott and Don\'s request, roll out small text anti-aliasing cutoff

        Turns out this makes small text look worse, not better. We\'re not going to respect
        this setting, and in Panther AppKit will almost certainly be changed not to either.

        * WebCoreSupport.subproj/WebTextRenderer.m: Rolled out yesterday\'s change using CVS.


git-svn-id: svn://svn.chromium.org/blink/trunk@3233 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-02 19:17:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fcfcbecad2fcddb7fcfcf3dc6bb6da9275e786de');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02ba01l591ilvld7', 2, e'        Reviewed by John and Don.

	- fixed 3137661 -- REGRESSION: autoscroll selection is broken

	The new logic in WebCore is slightly pickier, and can\'t abide a mouse-moved event
	coming in during a drag. Unfortunately, we were sending a fake mouse-moved event
	during a drag, so lets not do that.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDown:]): Cancel any scheduled fake mouse-moved event.
        (-[WebHTMLView mouseUp:]): Send a fake mouse-moved event because we didn\'t update during the drag.

        * WebView.subproj/WebHTMLViewPrivate.m: (-[WebHTMLView _frameOrBoundsChanged]):
	Don\'t schedule a fake mouse-moved event if the mouse is down, because that means we are in the
        middle of a drag.


git-svn-id: svn://svn.chromium.org/blink/trunk@3232 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-02 18:58:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/af7a8026b35cbb0d2abdaa663fe64126981dd0af');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02bb01l517zgat7w', 2, e'        Reviewed by John and Ken.

	- fixed 3135548 -- exception in Internet Explorer bookmark import code at first startup

        * Bookmarks.subproj/WebBookmarkImporter.m:
        (_breakStringIntoLines): Break lines before a <DT> or </DL>.
        (_HREFTextFromSpec): Rewrite to simplify, search in a case-insensitive manner.
        (-[WebBookmarkImporter initWithPath:]): Change prefix checks to be case-insensitive.
	Don\'t discard folders altogether if the name can\'t be parsed as that would mess up
	nesting w.r.t the next </DL>. Make the </DL> handling robust so we misparse, but don\'t
	crash the whole application by raising an exception.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for this change and recent changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@3231 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-02 18:24:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e18696c6c9b85a1140467a5e0feabd18ccc7e12c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02bc01l5aypm7t51', 2, e'        Obey the font smoothing size preference (3137618).

        Reviewed by Don and Darin.

        * WebCoreSupport.subproj/WebTextRenderer.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@3230 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2003-01-02 06:03:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7d14009b5b5ae3e804ffbd4553c2027f74188aca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02bd01l50lvykft7', 2, e'WebCore:

        Reviewed by Darin.

	- fixed 3130831 - HOMEPAGE: JavaScript that tries to intercept onmousedown fails, image gets dragged instead
	- fixed 3125554 - while dragging to select text in a nested frame, you can start dragging a link or image

        * kwq/KWQKHTMLPart.h:
        * kwq/KWQKHTMLPart.mm:
	(KWQKHTMLPart::KWQKHTMLPart): Initialize new mouseDownMayStartDrag
	and mouseDownMayStartSelect methods.
        (KWQKHTMLPart::khtmlMousePressEvent): Make sure a mouse down
	won\'t be used to start a drag or selection if the default action
	is prevented on the mouse down event.
	(KWQKHTMLPart::mouseDown): Since the default action wasn\'t
	prevented, decide if this might be the start of a drag or
	selection.
        (KWQKHTMLPart::khtmlMouseMoveEvent): On a drag or selection, call
	back to the bridge to handle selection or autoscrolling
	appropriately.
	* kwq/WebCoreBridge.h: Prototype new methods.

WebKit:

	Reviewed by Darin.

	- fixed 3130831 - HOMEPAGE: JavaScript that tries to intercept onmousedown fails, image gets dragged instead
	- fixed 3125554 - while dragging to select text in a nested frame, you can start dragging a link or image

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge handleMouseDragged:]): New method; call through the WebHTMLView.
        (-[WebBridge mayStartDragWithMouseDown:]): Likewise.
        (-[WebBridge handleAutoscrollForMouseDragged:]): Likewise.
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]): Instead of doing drag handling
	here, just pass the event to WebCore.
	(-[WebHTMLView draggedImage:endedAt:operation:]): Send a fake
	mousemove event instead of sending the current event (likely a
	mouse up as if it were a mouse move).
        * WebView.subproj/WebHTMLViewPrivate.h:
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLViewPrivate dealloc]): Release drag element if any.
        (-[WebHTMLView _dragImageForElement:]): New method. Split out the
	code to make the special drag image for links.
	(-[WebHTMLView _handleMouseDragged:]): Move all the drag handling
	here. This method will get called only if WebCore hasn\'t blocked
	default drag handling.
        (-[WebHTMLView _handleAutoscrollForMouseDragged:]): Do
	autoscroll. Autoscroll is still lame, we need a timer.
        (-[WebHTMLView _mayStartDragWithMouseDown:]): Determine if the element
	is a link or image and so may be dragged; remember the drag element.


git-svn-id: svn://svn.chromium.org/blink/trunk@3229 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2003-01-02 05:37:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/41fdb2e13e66e7af1e9a673bb84f6ee70b23e872');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpgbg02be01l5wr9wv9vs', 2, e'        Reviewed by Don.

	- fixed 3137566 -- non-reproducible nil-dereference in KHTMLView::clearPart
	deallocating KWQPageState

        * kwq/KWQPageState.mm: (-[KWQPageState dealloc]): Add nil check.


git-svn-id: svn://svn.chromium.org/blink/trunk@3228 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-02 04:26:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2cbfb02cc5aa47ba7cdc5719513d0473ae80a62f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt029r01l51p2geufs', 2, e'        Correct fix for 3137430 that doesn\'t always effectively disable
        the cache.

        Reviewed by kocienda.

        * History.subproj/WebHistoryItem.m:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _continueLoadRequestAfterNavigationPolicy:request:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3227 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2003-01-02 01:14:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cafa4bc737057b528c131580471006f7c329e020');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt029s01l5tixl51an', 2, e'	Fix tables so that malformations inside them are properly pulled
	out of the table without being flattened.

	Fixes 3131480.

        Reviewed by gramps

        * khtml/html/dtd.cpp:
        (DOM::checkChild):
        * khtml/html/htmlparser.cpp:
        (KHTMLParser::insertNode):


git-svn-id: svn://svn.chromium.org/blink/trunk@3226 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2003-01-01 22:59:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/728b4b4f97e50194e8e5cf7a1c46ec36addfda76');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt029t01l5eeeflb7i', 2, e'        Don\'t reset the cookie policy URL if it has already been set.  Fixes to 3109590.

        Reviewed by Maciej.


git-svn-id: svn://svn.chromium.org/blink/trunk@3225 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2003-01-01 22:35:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/91b2d217236663ff249bea15cbc8532ff989fbe4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt029u01l5zaxtm2xy', 2, e'        Don\'t attempt to restore page from page cache if the cache
        doesn\'t contain valid page state.  This may happen after a
        redirect.  Fixes 3137430.

        Reviewed by kocienda.

        * History.subproj/WebHistoryItem.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@3224 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2003-01-01 20:45:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8f605adbc970d1e0f837a265dc984dd2c45df8df');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt029v01l57u5k8s4z', 2, e'WebKit:

        Reviewed by Trey.

	- fixed 3137287 -- REGRESSION: Java applets don\'t work when you go back to them (Java 1.4.1 plug-in)

	By attaching the plug-in controller to the frame, we run into trouble.
	It really needs to be attached to the data source, which has the right lifetime
	and is kept around in the page cache.

        * Plugins.subproj/WebPluginController.h: Keep a reference to a data source, not a frame.
	Add a new _started variable. Rename addPluginView: to addPlugin:, get rid of didAddPluginView:,
	replace destroyAllPlugins with dataSourceWillBeDeallocated, add startAllPlugins and stopAllPlugins.
        * Plugins.subproj/WebPluginController.m:
        (-[WebPluginController initWithDataSource:]): Store a data source reference, not a frame reference.
	Don\'t bother registering for the window will close notification, WebHTMLView handles that fine.
        (-[WebPluginController startAllPlugins]): Do nothing if they are already started, call pluginStart on each otherwise.
        (-[WebPluginController stopAllPlugins]): Do nothing if they are not started, call pluginStop on each otherwise.
        (-[WebPluginController addPlugin:]): Initialize the plugin if it\'s not already in our list. Also start
	it if we are in "started" mode.
        (-[WebPluginController dataSourceWillBeDeallocated]): Stop all the plugins, then destroy them.
	Also nil out the fields of the object. This is always called before the controller is released so we
	don\'t need to override dealloc.
        (-[WebPluginController showURL:inFrame:]): Added error checking and changed now that we start with a data source.
        (-[WebPluginController showStatus:]): Ditto.

        * WebCoreSupport.subproj/WebBridge.m: (-[WebBridge pluginViewWithPackage:attributes:baseURL:]):
	Use the data source, not the view. Don\'t add the plugin here, wait until we are ready to start.

        * WebView.subproj/WebDataSourcePrivate.h: Store a pointer to the plug-in controller here.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): Tell the plug-in controller to go away.
	(-[WebDataSource _makeHandleDelegates:deferCallbacks:]): Remove unused empty method.
        (-[WebDataSource _pluginController]): Create a plug-in controller if needed.

        * WebView.subproj/WebFramePrivate.h: Remove plug-in controller code.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate dealloc]): Remove plug-in controller code.
        (-[WebFrame _detachFromParent]): Remove plug-in controller code.
        (-[WebFrame _transitionToCommitted:]): Remove plug-in controller code.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView viewWillMoveToWindow:]): Stop plug-ins when view moves out of a window.
	This includes the case when the window is being destroyed.
        (-[WebHTMLView viewDidMoveToWindow]): Start plug-ins when view moves into a window.
        (-[WebHTMLView addSubview:]): Add plug-ins to the controller as they are added to us.

        * WebView.subproj/WebController.m: Added now-needed include due to header change.
        * WebView.subproj/WebDefaultContextMenuDelegate.m: Ditto.

WebBrowser:

        Reviewed by Don and Ken.

	- worked around 3137387 -- Using Java 1.4.1 plug-in causes world leak (NSDocument close never called)

        * BrowserWindow.m:
        (-[BrowserWindow setDelegate:]): If someone tries to set the delegate to something other than the
	BrowserWindowController, don\'t let them.
        (-[BrowserWindow setWindowController:]): Same thing for the controller.

	- fixed 3137494 -- loading bad URL with PLT window in "world leak check mode" indicates leak, prevents quit

        Filed bug 3137567 about the AppKit part of this.

        * Test/PageLoadTestRunner.m: (-[NSWindow closeIfBrowserWindow]): Close the sheet, if any, before
	closing the window.


git-svn-id: svn://svn.chromium.org/blink/trunk@3223 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2003-01-01 19:31:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/79049b9979e9c672ffb9ed08519d85640c27734a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt029w01l5c4uakw17', 2, e'Moving version to 48u.


git-svn-id: svn://svn.chromium.org/blink/trunk@3222 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-31 22:12:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ae1f051fb9f707ea339d6e0d34b84f27ba80f104');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt029x01l5x20yuok4', 2, e'Building Safari-47


git-svn-id: svn://svn.chromium.org/blink/trunk@3220 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-31 22:07:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a2c4c9e86521010191fd07ba3d433cdf63350183');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt029y01l5x5mjwdjg', 2, e'WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.

WebKit:

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@3219 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-31 07:18:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2b0cabc8d5a77f4726df6dd1078f7e1fbb7fd88f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt029z01l5sqbrzimm', 2, e'        Reviewed by Trey.

	- fixed 3132141 -- enter key does not work with input type=image

	Made the logic handle image and submit type inputs in the same way.

        * khtml/html/html_formimpl.h: Remove unused m_clicked flags.
        * khtml/html/html_formimpl.cpp:
        (HTMLButtonElementImpl::HTMLButtonElementImpl): Remove code to set the m_clicked flag.
	The only place this flag was looked at is better handled by the m_activeSubmit flag.
        (HTMLButtonElementImpl::defaultEventHandler): Remove more m_clicked flag code.
        (HTMLInputElementImpl::HTMLInputElementImpl): Remove more m_clicked flag code.
        (HTMLInputElementImpl::isSuccessfulSubmitButton): An image is also a successful submit
	button, and unlike a submit element, it doesn\'t require a name because it will just submit
        x and y with no name in that case. I suppose we could rename this function, but I think it\'s
        still a pretty clear name even if not 100% accurate.
        (HTMLInputElementImpl::encoding): Remove use of m_clicked and use m_activeSubmit instead.
	This was the only place using m_clicked at all. Also remove bogus check for a -1 coordinate.
	The coordinate defaults to 0, not -1, and it was never happening.
        (HTMLInputElementImpl::defaultEventHandler): Remove more m_clicked flag code.


git-svn-id: svn://svn.chromium.org/blink/trunk@3218 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-31 07:12:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/92df75dda7bbd26f63cfdf74a6e2021dbb7c6f66');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02a001l500umzoi5', 2, e'	3137110 - REGRESSION: calls from 2nd and subsequent instances of Java 1.4.1 plug-in seem to be ignored

	We had previously made changes to "numb" a plugin controller after its frame
	was tossed or changed content.  We now finish the job by making sure a new
	controller is created when we go to a new page with plugins.  To so this we
	release the old controller whenever we flush the plugins from a page.

        Reviewed by Maciej.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _detachFromParent]):  Call newly factored code.
        (-[WebFrame _transitionToCommitted:]):  Call newly factored code.
        (-[WebFrame _destroyPluginController]):  New method to tear down plugins.


git-svn-id: svn://svn.chromium.org/blink/trunk@3217 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-31 05:42:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6c9db99a3ca9549239c1430a84c5873c2a389ec8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02a101l5c14x59gk', 2, e'	3135025 - Assertion failure in _transitionToCommitted on espn nba scoreboard

	For blank pages we decided that there would be no b/f entry.  This means that
	subframes within such pages (created via doc.write()), should not try to make
	WebHistoryItems, since they have no parent items to attach them to.

        Reviewed by Darin.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted:]):  Don\'t make a history item for a subframe
	it the parent frame has no item.


git-svn-id: svn://svn.chromium.org/blink/trunk@3216 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-31 01:25:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1f62f71b72a6536b7e5221d46d26c6fd3727b9ae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02a201l5q1lcprtm', 2, e'        Reviewed by Don and Maciej.

	- follow-on to my fix for 3134693 that fixes one more case of recursion and simplifies further

        * kjs/grammar.y: Remove SourceElementNode and just use a StatementNode instead.
	Reverse SourceElements rule so the recursive rule comes first as in the original
	KJS code (avoids actual parser recursion).

        * kjs/grammar.cpp: Regenerated.
        * kjs/grammar.cpp.h: Regenerated.
        * kjs/grammar.h: Regenerated.

        * kjs/nodes.h: Make processFuncDecl a virtual function in StatementNode so that we can
	use a StatementNode instead of a SourceElementNode. Add a call to reverseList in BlockNode
	to correct the order of the linked list in SourceElementsNode, to replace the technique
	where we reversed it in the parser. Remove SourceElementNode class, and make the element in
	SourceElementsNode be a StatementNode instead.
        * kjs/nodes.cpp: Remove SourceElementNode code.
        (StatementNode::processFuncDecl): Added empty function.
        (BlockNode::reverseList): Added. Used to make the SourceElements list ordered correctly.
        * kjs/nodes2string.cpp: Remove SourceElementNode code.


git-svn-id: svn://svn.chromium.org/blink/trunk@3215 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-30 23:17:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/83b35f7895eb4c3a138abfbddf4a18d2717ec560');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02a301l5f1vejeyo', 2, e'	Fix for 3129016, make sure that zero-height tables and lists
	will be skipped in a search for floats that occur before
	them.  Makes usatoday work.

        Reviewed by gramps

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::clearFloats):


git-svn-id: svn://svn.chromium.org/blink/trunk@3214 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-30 22:10:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/23ffb34b05ef018795ee9aabd3dac1cce85d0581');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02a401l5ezf22xhr', 2, e'        Reviewed by Maciej.

	- fixed 3135642 -- ad frames are missing at channels.netscape.com

        * khtml/rendering/render_frames.cpp: (RenderPartObject::updateWidget): Updated to use the
	same rule as Mozilla: Empty URL for an iframe means "about:blank".

        * khtml/ecma/kjs_window.cpp: (Window::isSafeScript): Loosen things so that it\'s safe for
	a frame to manipulate an empty child frame, as well as an empty opened window. Also remove
	the useless check for an empty document -- it never happens in practice.


git-svn-id: svn://svn.chromium.org/blink/trunk@3213 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-30 22:06:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1ba4c7b43813a8554bff9b2938ed5a641470019c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02a501l50ac1kata', 2, e'	3135779 - REGRESSION: reproducible assertion failure, going back from ~orubin to the main spies.com page	
	3136218 - REGRESSION: Assertion failure in _restoreScrollPosition running browser buster

	Both were caused by subtle interactions between new code for short-circuiting loading of
	blank pages, and the WebHistoryItem manipulations we do for b/f and reload of child frames.

        Reviewed by Maciej

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _loadURL:intoChild:]):  Setup provisional or current item before jumping into
	the real work of loading the URL.
        (-[WebFrame _restoreScrollPosition]):  Tweaked to make the assertion message clearer.


git-svn-id: svn://svn.chromium.org/blink/trunk@3212 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-30 19:47:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/70e9930b2eab09efae5cc547d04e49a2a359a86d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02a601l557hav81z', 2, e'Tests:

        Reviewed by Darin and Gramps

	Added some more test cases as part of the work to fix this bug:

	Radar 3136795 (type URL with ../ in it, get assertion)

	I also notice an unrelated change in ifnsurlextensions-test.chk where
	leading whitespace in a URL is now getting removed correctly. Bonus.

        * TestURLs.h
        * WebFoundation-Misc/ifnsurlextensions-test.chk
        * WebFoundation-Misc/ifnsurlextensions-test.m:
        (main)

WebFoundation:

        Reviewed by Darin and Gramps

        Radar 3136795 (type URL with ../ in it, get assertion)

        The code to remove relative portions from URLs was eating leading slashes on
        URL paths. This caused absolute paths with relative portions to get mangled,
        resulting in a URL that the engine could not use. Now, leading slashes are no
        longer removed from URL paths, resulting in usuable URLs.

        * Misc.subproj/WebNSURLExtras.m:
        (pathRemovingDots)
        (-[NSURL _web_URLComponents])

WebCore:

        Reviewed by Darin and Gramps

	Fix for this bug:

	Radar 3136795 (type URL with ../ in it, get assertion)

	The code to remove relative portions from URLs was eating leading slashes on
	URL paths. This caused absolute paths with relative portions to get mangled,
	resulting in a URL that the engine could not use. Now, leading slashes are no
	longer removed from URL paths, resulting in usuable URLs.

        * kwq/KWQKURL.mm:
        (copyPathRemovingDots)


git-svn-id: svn://svn.chromium.org/blink/trunk@3211 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-30 19:22:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/50c6821a5930ba832254dfd170271e328bb34574');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02a701l59jwzqd9o', 2, e'        Reviewed by Don and Ken.

	- fixed 3136797 -- crash when Adobe SVG Viewer plug-in puts up modal dialog

        * Plugins.subproj/WebBaseNetscapePluginView.h: Add inSetWindow boolean.
        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView sendEvent:]): Don\'t send any events to a plug-in while it\'s
	inside NPP_SetWindow. We don\'t want to implement more general reentrancy protection, because
	it could cause trouble for plugins that can handle it correctly, but it\'s unlikely that any
	legitimate use would require reentrant calls while inside NPP_SetWindow, and that\'s the case
	that crashes for the SVG viewer plug-in when it presents its registration dialog.
        (-[WebBaseNetscapePluginView setWindow]): Set boolean.


git-svn-id: svn://svn.chromium.org/blink/trunk@3210 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-30 19:19:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b478a1ced3157a137d3a0accc603e8a1b70cd489');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02a801l5qtdmihw9', 2, e'WebCore:

        Reviewed by Don.

	- fixed 3103287 -- body of page not rendered (page uses JavaScript trick to be both a frameset and a frame)

	Our self-reference protection prevented this page from working.
	To fix the bug, I did three things:

   	    1) fixed the hole in the WebCore self-reference protection, so we could remove the WebKit one
               (the hole was that it didn\'t ignore #xxx suffixes)
 	    2) moved the self-reference protection into a single function so it wasn\'t copied and pasted all over
	    3) allowed one level of self-reference; still enough to prevent infinite recursion

	Then I tested with the site from bug 3103287 and the one from bug 3083732 to make sure that was still OK.

        * khtml/html/html_baseimpl.h: Added isURLAllowed().
        * khtml/html/html_baseimpl.cpp:
        (HTMLFrameElementImpl::isURLAllowed): Added. Does the self-reference check and the "local only" check.
	This logic was repeated in three different places before. Note that since we don\'t use the "local only"
        feature, it\'s not too risky to slightly change how it works.
        (HTMLFrameElementImpl::updateForNewURL): Use isURLAllowed.
        (HTMLFrameElementImpl::attach): Ditto.
        (HTMLIFrameElementImpl::attach): Ditto.

WebKit:

        Reviewed by Don.

	- fixed 3103287 -- body of page not rendered (page uses JavaScript trick to be both a frameset and a frame)

	Our self-reference checks prevented this page from working.
	I just removed the WebKit one, since it was really just working around a problem with the WebCore
	one that I fixed (didn\'t ignore #xxx suffixes).

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]):
	Remove self-reference check.


git-svn-id: svn://svn.chromium.org/blink/trunk@3209 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-30 07:53:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2f3e7cb490dcefd2c511cc98ae3d917e3466b227');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02a901l561h0luyc', 2, e'        Reviewed by Don.

	- fixed 3130566 -- REGRESSION: list item numbers are overlapping the text of the list items

	Moved the hack that handles list items that are not in lists out of the parser and into
	the DOM and Render tree code itself. This fixes the issue where the parser doesn\'t know which
	will be the parent node of the list item, and other problems with the old hack.

        * khtml/html/html_listimpl.cpp: (HTMLLIElementImpl::attach): Find the parent list (OL or UL).
	If there is no parent list, set a "not in list" flag on the render object so it knows to render
	"inside" no matter what the style says. Also use this parent and a safer check to make the
	start attribute work even when there is an intervening DOM element in the hierarchy.

        * khtml/html/htmlparser.cpp: (KHTMLParser::getElement): Remove the code that tries to set
	the style of an LI based on the current node at the time it\'s parsed, because the current node
	is now often not the OL or the UL due to our DTD fix to allow other nodes in lists.

        * khtml/rendering/render_list.h: Add isInside() to RenderListMarker, setNotInList(), notInList(),
	and _notInList to RenderListItem.

        * khtml/rendering/render_list.cpp:
        (RenderListItem::RenderListItem): Initialize _notInList to false.
        (RenderListMarker::paintObject): Use isInside() instead of checking listStylePosition().
        (RenderListMarker::calcMinMaxWidth): Ditto.
        (RenderListMarker::baselinePosition): Ditto.
        (RenderListMarker::isInside): Return true if we are not in a list, or if "inside" style is requested.


git-svn-id: svn://svn.chromium.org/blink/trunk@3208 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-30 07:51:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/02d78710a7b5a78bfb22593bf9e22f5d11d8b25e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02aa01l5mvzrr3ey', 2, e'        Reviewed by Don.

	- fixed 3134346 -- country menu at www.apple.com does not work when you go back to that page

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::openURLFromPageCache): Add call to checkCompleted().


git-svn-id: svn://svn.chromium.org/blink/trunk@3207 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-30 06:01:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c61ed4b8368eab0b3cd628dfff58f18f17138c51');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02ab01l5jiosz6f0', 2, e'        Reviewed by Don.

	- fixed 3136801 -- scrolling a page that contains a QuickTime movie leaves garbage behind

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView tellQuickTimeToChill]): Added. Calls a QuickDraw SPI
	CallDrawingNotifications to let QuickTime know it should take a nature break.
        (-[WebBaseNetscapePluginView viewWillMoveToWindow:]): Call tellQuickTimeToChill.
        (-[WebBaseNetscapePluginView viewHasMoved:]): Call tellQuickTimeToChill.


git-svn-id: svn://svn.chromium.org/blink/trunk@3206 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-30 05:12:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/174c72114810948e7a330c607c4d4f56aeb6004b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02ac01l5pckgdrcu', 2, e'        Reviewed by Maciej.

	- fixed 3136391 -- PianoNanny.com screens turn to garbage when resized

	Turns out browsers pass open calls to the window object if they show up at the document
	with parameters. We now emulate that too.

        * khtml/ecma/kjs_html.cpp: (KJS::HTMLDocFunction::tryCall): If we get an open call with
	parameters, pass it on to the window.


git-svn-id: svn://svn.chromium.org/blink/trunk@3205 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-29 20:15:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff3c83e8a2a1fe7e219a6993050a208d0b60cfdb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02ad01l5l0be6hzt', 2, e'        Reviewed by Don.

	- follow-on to my fix for 3125877 that fixes a crash I observed when a plug-in fails to NPP_New

        I filed bug 3136870 about the fact that we don\'t do a good job reporting the error.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView sendEvent:]): Return quietly if this is called when
	the plug-in is not started rather than asserting (and doing bad things on Deployment).
        (-[WebBaseNetscapePluginView setWindow]): Ditto.
        (-[WebBaseNetscapePluginView viewHasMoved:]): Just call setWindow since it now checks isStarted.


git-svn-id: svn://svn.chromium.org/blink/trunk@3204 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-29 18:20:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5fe5791dbfa356416bd228cef28875412a29b8b4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02ae01l5vbkwqnbh', 2, e'        Reviewed by Don.

	- follow-on to my fix for 3125877 that fixes a crash I observed when a plug-in fails to NPP_New

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView sendEvent:]): Return quietly if this is called when
	the plug-in is not started rather than asserting (and doing bad things on Deployment).
        (-[WebBaseNetscapePluginView setWindow]): Ditto.
        (-[WebBaseNetscapePluginView viewHasMoved:]): Just call setWindow since it now checks isStarted.


git-svn-id: svn://svn.chromium.org/blink/trunk@3203 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-29 18:13:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2d86974667bfb91b5d9825dd72691b41086ffec7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02af01l5c212uo4o', 2, e'        Reviewed by Don.

	- fixed 3120630 -- spacebar scrolls the page as well as pausing the QuickTime movie

	Imitate Mozilla and OmniWeb by not propagating keyboard events after passing them to
	plug-ins regardless of what the plug-in returns, rather than imitating MacIE, which
        looks at the return value from NPP_HandleEvent.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView keyUp:]): Remove call to super, add comment.
        (-[WebBaseNetscapePluginView keyDown:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@3202 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-29 17:58:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9c000a7e6f864c28b88b90fd4ded806f67488c14');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02ag01l55ei1naku', 2, e'        Reviewed by Ken and Don.

	- fixed 3136120 -- much content missing at www.olympic.org

	This site gives modern CSS to "Internet Explorer" or "Netscape 6". Since we are neither of
	those, we need to pretend to be one or the other. So we add olympic.org to our MacIE spoofing list.

        * WebView.subproj/WebUserAgentSpoofTable.gperf: Add olympic.org to the list of pages that give us better
	CSS if we claim to be Internet Explorer.
        * WebView.subproj/WebUserAgentSpoofTable.c: Regenerated.


git-svn-id: svn://svn.chromium.org/blink/trunk@3201 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-29 17:30:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/18cc5695d62aecdba17871cd23a9d921751c5002');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02ah01l5cuvjq9xu', 2, e'        Reviewed by Ken.

	- fixed 3134560 -- Lord of the Rings desktops don\'t load

        * khtml/ecma/kjs_window.cpp: (WindowFunc::tryCall): Removed the APPLE_CHANGES here.
	The comment claims that we don\'t need the code because "JavaScript will do the work
	below on demand", but that\'s not true for setting the base URL. Also, the comment
	claims that this "adds an extra entry to the back/forward list", but testing does not
	bear that out.


git-svn-id: svn://svn.chromium.org/blink/trunk@3200 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-29 17:26:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4e83a13bc0454a79ea144bb81cf85647d6322f73');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02ai01l50eq0nyp3', 2, e'Setting version to 47u


git-svn-id: svn://svn.chromium.org/blink/trunk@3199 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-29 00:48:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b70d1f95324577dc7cfc6c386ac022eebd61a205');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02aj01l5qf474cr4', 2, e'Safari-46 build


git-svn-id: svn://svn.chromium.org/blink/trunk@3197 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-29 00:44:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ab15975b1db82ba87f2952d80202ffe3dd86ae2d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpewt02ak01l5xurplc38', 2, e'Fixed cut-n-paste error I made when checking in Darin\'s patch for 3125877.
I mistakenly checked in his comment for 3133207. Doh!


git-svn-id: svn://svn.chromium.org/blink/trunk@3196 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-28 23:39:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0b2e2c834db0d8496634759be0fd48e51415e245');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z028x01l5v0e41gxm', 2, e'WebCore:

        Reviewed by Gramps and Richard.

	Fix for this bug:

	Radar 3112233 (400 response when attaching files at mail.yahoo.com)

	KHTML multipart form code called into KMimeType class to determine
	the mime type for file attachments, however, our implementation of
	KMimeType has only stubs which call ERROR.

	I added some code into KWQKHTMLPart and WebCoreBridge so that the
	code in html_formimpl can call through to the WebFoundation mime
	file map we maintain.

        * khtml/html/html_formimpl.cpp:
        (HTMLFormElementImpl::formData)
        * kwq/KWQKHTMLPart.h:
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::mimeTypeForFileName)
        * kwq/WebCoreBridge.h:

WebKit:

         Reviewed by Gramps and Richard

         Fix for this bug:

         Radar 3112233 (400 response when attaching files at mail.yahoo.com)

         I added the MIMETypeForPath method which accesses the WebFoundation mime
         file map we maintain. KHTML can now access this map by using the bridge.

         * WebCoreSupport.subproj/WebBridge.m:
         (-[WebBridge MIMETypeForPath:])


git-svn-id: svn://svn.chromium.org/blink/trunk@3195 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-28 23:30:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/67ef5603d6eadfdb569595aaf8d4b76b13c26d8e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z028y01l52fp90dex', 2, e'Corrected checkin date that I cut and pasted incorrectly.


git-svn-id: svn://svn.chromium.org/blink/trunk@3194 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-28 23:21:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3443510b12f67d2255cdee88c57a5bd03c0c4965');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z028z01l5kppvatpn', 2, e'        Reviewed by Gramps and Ken
	Checked in by Ken

	- fixed 3133207 -- crash in HTMLFrameElementImpl updateForNewURL at home.real.com

	My previous attempt to fix this dealt with the case where a RenderFrame object was
	not yet created, but not with the case where a RenderFrame object was created without
	a corresponding part. Somehow I overlooked this last time when I was doing testing.
	Testing this time confirms this takes care of the remaining problem at movies.real.com.

        * khtml/html/html_baseimpl.cpp: (HTMLFrameElementImpl::updateForNewURL):
	Use the same kind of requestFrame call here as in attach when there\'s a RenderFrame,
	but no corresponding part. Maybe we can fix this an even more elegant way later.


git-svn-id: svn://svn.chromium.org/blink/trunk@3193 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-28 23:20:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fae90f318659fdeb74eaa6e84f77eba6adaf9815');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029001l5hjm53muq', 2, e'        Reviewed by Gramps and Ken.
	Checked in by Ken.

	- fixed 3134693 -- carsdirect.com crash on used car search, due to large JavaScript array

	The parser was using recursion to handle many types of lists.
	This meant that we crashed out of stack space when any of the lists were extra big.
	I applied the same sort of fix we had already applied a while back for argument lists for
	all the other types of lists, including the list of ElementNode that was the reason for
	the crash reported here.

        * kjs/grammar.y: Removed ElisionNode altogether and just use a count.
	Use specific node types for PropertyNameAndValueList and PropertyName.

        * kjs/grammar.cpp: Regenerated.
        * kjs/grammar.cpp.h: Regenerated.
        * kjs/grammar.h: Regenerated.

        * kjs/nodes.h: Elide "ElisionNode", changing objects to keep elision counts instead.
	Make the ObjectLiteralNode list field be PropertyValueNode, not just Node.
	Make PropertyValueNode fields have specific types. Add new reverse list functions, calls
	to those functions in the constructors, and friend declarations as needed so the class
	that holds the head of a list can reverse the list during parsing.
        * kjs/nodes.cpp:
        (ElementNode::ref): Use iteration instead of recursion. Also elide "elision".
        (ElementNode::deref): Ditto.
        (ElementNode::evaluate): Use iteration instead of recursion, taking advantage of
	the fact that the linked list is reversed. Also use the elision count rather than
	an elision list.
        (ArrayNode::reverseElementList): Reverse the list so we can iterate normally.
        (ArrayNode::ref): Elide "elision".
        (ArrayNode::deref): Ditto.
        (ArrayNode::evaluate): Use elision count instead of elision list.
        (ObjectLiteralNode::reverseList): Reverse the list so we can iterate normally.
        (PropertyValueNode::ref): Use iteration instead of recursion.
        (PropertyValueNode::deref): Use iteration instead of recursion.
        (PropertyValueNode::evaluate): Use iteration instead of recursion, taking advantage
	of the fact that the linked list is reversed.
        (ArgumentListNode::ref): Change code to match the other similar cases we had to revise.
        (ArgumentListNode::deref): Ditto.
        (ArgumentListNode::evaluateList): Ditto.
        (ArgumentsNode::reverseList): Ditto.
        (VarDeclListNode::ref): Use iteration instead of recursion.
        (VarDeclListNode::deref): Ditto.
        (VarDeclListNode::evaluate): Use iteration instead of recursion, taking advantage
	of the fact that the linked list is reversed.
        (VarDeclListNode::processVarDecls): Ditto.
        (VarStatementNode::reverseList): Reverse the list so we can iterate normally.
        (FunctionBodyNode::FunctionBodyNode): Use BlockNode as the base class, removing
	most of the FunctionBodyNode class.

        * kjs/nodes2string.cpp:
        (ElementNode::streamTo): Update for using a count for elision, and reverse linking.
        (ArrayNode::streamTo): Update for using a count for elision.
        (PropertyValueNode::streamTo): Update for reverse linking.
        (ArgumentListNode::streamTo): Update for reverse linking. This has been wrong for
	a while, since we added the reverse a long time ago.
        (VarDeclListNode::streamTo): Update for reverse linking.
        (ParameterNode::streamTo): Update for reverse linking.


git-svn-id: svn://svn.chromium.org/blink/trunk@3192 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-28 23:07:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5345741af71256d4f4fcf83a5851489ad825ec2d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029101l5p1vtklj1', 2, e'        Reviewed by Don.

	- fixed 3136206 -- Can\'t display images in Ambrosia Software image viewer

	WebKit wasn\'t creating the frames correctly when they weren\'t HTML.

        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _makeDocumentView]): Added. Calls the
	WebView to make the document view and then installs the new view, as WebHTMLView used to do.
        (-[WebFrame _transitionToCommitted:]): Call _makeDocumentView instead of calling WebView
	directly. These are all the calls to _makeDocumentViewForDataSource:.

        * WebView.subproj/WebViewPrivate.h: Add return value to _makeDocumentViewForDataSource:.
        * WebView.subproj/WebViewPrivate.m: (-[WebView _makeDocumentViewForDataSource:]):
	Return the newly-created view.

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView setDataSource:]): Removed the code here
	since it\'s done by WebFrame now.


git-svn-id: svn://svn.chromium.org/blink/trunk@3191 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-28 18:33:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9f15975cd18976d72d9228a1be1b24a3a6c6eef4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029201l50gtbid4a', 2, e'        Reviewed by Don.

	- fixed 3136262 -- Shockwave Flash at movies.yahoo.com does not work

        * khtml/rendering/render_frames.cpp: (RenderPartObject::updateWidget):
	Moved the class ID special case MIME types out of the if statement so they can be shared
	in the case where we have an embed tag but no MIME type.


git-svn-id: svn://svn.chromium.org/blink/trunk@3190 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-28 18:31:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5450e39c37afa7d4d2732ebbf1d52a5540e68ccd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029301l5v709pbrr', 2, e'WebFoundation:

        Reviewed by Don.

        * Misc.subproj/WebAssertions.h: Fixed CRASH macro to use 0xbbadbeef instead of 0xbadbeef
	to reduce the chance that the address will be valid once we have allocated a lot of memory.

WebCore:

        Reviewed by Don.

        * kwq/KWQAssertions.h: Fixed CRASH macro to use 0xbbadbeef instead of 0xbadbeef
	to reduce the chance that the address will be valid once we have allocated a lot of memory.


git-svn-id: svn://svn.chromium.org/blink/trunk@3189 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-27 06:40:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dfd707b62448f7f8d076c1534a132273e45fac0e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029401l57j63ins8', 2, e'        Reviewed by Don, I mean.


git-svn-id: svn://svn.chromium.org/blink/trunk@3188 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-26 16:42:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/21be800e49a7c6f197503a7dfb9ffafdc29efb98');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029501l5u3viy3nl', 2, e'        Reviewed by Darin.

	- fixed 3133611 -- Java "ticker" applet renders badly when scrolling page

        * Plugins.subproj/WebBaseNetscapePluginView.m: (-[WebBaseNetscapePluginView viewHasMoved:]):
	Call setWindow so we make a call to the plugin each time it moves, rather than just adjusting
	the data structure we had passed to it earlier.


git-svn-id: svn://svn.chromium.org/blink/trunk@3187 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-26 03:42:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8e98a0660009f252191c4f2bde8da7dfe9f535b1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029601l58br7lq5f', 2, e'        Fix for 3134543 (and widely reported dupes).  Don\'t use render_text
        widths cache except for whitespace == PRE.  The problem was that additional
        spaces in the RenderText\'s string were being inappropiately measured.
        An alternate, more complex and risky, fix would account for the whitespace
        properties during scanning of the RenderText width buffer.  Considering
        the scenario for which this optimization was added (3133261), this
        simpler fix is adequate.

        Reviewed by Darin and Don.

        * khtml/rendering/render_text.cpp:
        (RenderText::computeWidths):


git-svn-id: svn://svn.chromium.org/blink/trunk@3186 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-25 20:09:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/818c8d4486479c1788f5a3e99046f07fcb008453');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029701l56t4m3lh5', 2, e'        Reviewed by Don.

	- fixed 3135010 -- nil-dereference in KHTMLPart::xmlDocImpl() at channels.netscape.com

        * khtml/html/html_baseimpl.cpp: (HTMLFrameElementImpl::contentDocument):
        Add missing nil check. Also added lots of FIXME comments about problems I observed here.


git-svn-id: svn://svn.chromium.org/blink/trunk@3185 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-24 22:51:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/780c18f9f0edb6273aec9166218cc74436f8099e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029801l5sq8nr76q', 2, e'        Reviewed by Richard and Don.

	- fixed 3132192 -- HOMEPAGE: Quicktime plug in with AVI content brings Plug-ins not found panel

        * Plugins.subproj/WebPluginDatabase.m: (-[WebPluginDatabase pluginForKey:withEnumeratorSelector:]):
	Lower-case the key before searching for it. This is needed for both MIME types and extensions,
	since we want case insensitive comparison in both cases.


git-svn-id: svn://svn.chromium.org/blink/trunk@3184 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-24 19:49:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/39a5419650215864acb58585c65a789152ce69ca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029901l5jm1qmics', 2, e'        Reviewed by Richard and Don.

	- fixed 3133207 -- crash in HTMLFrameElementImpl updateForNewURL at home.real.com

	My previous attempt to fix this dealt with the case where a RenderFrame object was
	not yet created, but not with the case where a RenderFrame object was created without
	a corresponding part. Somehow I overlooked this last time when I was doing testing.
	Testing this time confirms this takes care of the remaining problem at movies.real.com.

        * khtml/html/html_baseimpl.cpp: (HTMLFrameElementImpl::updateForNewURL):
	Use the same kind of requestFrame call here as in attach when there\'s a RenderFrame,
	but no corresponding part. Maybe we can fix this an even more elegant way later.


git-svn-id: svn://svn.chromium.org/blink/trunk@3183 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-24 19:48:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f5b8a112c423073c000ddae785f8fc383a94ffc9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029a01l5ouvet279', 2, e'Alexander 46u commit


git-svn-id: svn://svn.chromium.org/blink/trunk@3182 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-23 23:55:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d0eb1c424b6e5747b024045f1df59f80916e7856');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029b01l5f6k6xgff', 2, e'Building Alex-45


git-svn-id: svn://svn.chromium.org/blink/trunk@3180 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-23 23:49:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5c8ef7877e4bf2b0671960a8028c32b87022117c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029c01l5u4zyr8uf', 2, e'        Reviewed by me

	Fixed ChangeLog typos in previous commit.

        * ChangeLog


git-svn-id: svn://svn.chromium.org/blink/trunk@3179 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-23 23:23:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b876491abfc6beb9f29ee13ae02a7ef96fcc0aa4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029d01l57kkzpkx3', 2, e'        Reviewed by Darin and Gramps

	Workaround for this bug:

	Radar 3134219 (MPEG-4 files don\'t work with the QuickTime plugin in Safari,
	work fine in Mozilla, IE)

	For beta 1, we For beta 1, when getting the MIME information for the QuickTime
	plugin, we directly insert the information to handle MP4.

	In the future, we will use the additional plugin entry points to dynamically load
	this information from the plugin itself.

        * Plugins.subproj/WebNetscapePluginPackage.m:
        (-[WebNetscapePluginPackage getMIMEInformation])


git-svn-id: svn://svn.chromium.org/blink/trunk@3178 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-23 23:20:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/be0e749730d79bb891294df01012ec9409bfcedd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029e01l5xsh3j89g', 2, e'        Reviewed by Don and John.

	- fixed 3134449 -- Date.UTC returns NaN (invalid date)

	Did more testing of the date functions and made them behave like the other browsers.
	There were three problems:

            1) We did a validity check that other browsers don\'t do (hence the NaN).
            2) We treated passed-in dates as local time even in Date.UTC (hence a wrong result
               once I fixed the NaN).
            3) The results of ToUTCString (and ToGMTString) weren\'t formatted quite the same
	       as other browsers.

	Also found a couple of silly but unrelated coding mistakes.

        * kjs/date_object.cpp:
        (timetUsingCF): Added. Has the guts of mktimeUsingCF, but without the CFGregorianDateIsValid
        check. Other browsers accept invalid dates. Also takes a time zone parameter.
        (mktimeUsingCF): Calls timetUsingCF with the current time zone.
        (timegmUsingCF): Calls timetUsingCF with the UTC time zone.
        (formatDate): Remove the includeComma flag.
        (formatDateUTCVariant): Added. For use instead of formatDate with the includeComma flag.
	Puts the day before the month name.
        (DateProtoFuncImp::call): Use the new formatDateUTCVariant for ToGMTString and ToUTCString.
	Without this change the date didn\'t match other browsers.
        (DateObjectImp::DateObjectImp): Use UTCPropertyName. Somehow I declared this and didn\'t use
	it before.
        (DateObjectImp::construct): Pass -1 for is_dst literally instead of using invalidDate.
	Changing this to invalidDate was just a mistake (although no real difference in compiled
	code since invalidDate is just -1).
        (DateObjectFuncImp::call): Call timegm for the UTC case instead of mktime.


git-svn-id: svn://svn.chromium.org/blink/trunk@3177 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-23 22:35:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd880a98b8ee4ee7e21cc0ed116b1d1fa32228fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029f01l50x9wyvg8', 2, e'        Reviewed by John and Don.

	- fixed 3134282 -- REGRESSION: text encoding setting reverts when you go to a new location

        * WebView.subproj/WebFrame.m: (-[WebFrame loadRequest:]): Propagate an override encoding if there
	was an existing data source and it had an override encoding.
        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _loadRequest:triggeringAction:loadType:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@3176 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-23 22:34:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7e5640e2989c777ddd6bb2e6284a77b42cd61d43');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029g01l5b125ct0v', 2, e'        Reviewed by John.

	- fixed 3134558 -- REGRESSION: Lord of the Rings site problems

	This regression was caused when we fixed the abcnews.com problem (3124933).

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::createEmptyDocument):
	Despite its name, this function was never intended to overwrite an existing document with
	an empty document. When we changed it do do the creation in a better way, we lost the
	check that prevents it from doing anything at all if we already have a document.


git-svn-id: svn://svn.chromium.org/blink/trunk@3175 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-23 19:57:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/733bdfb886cdf32e74182faa911557a23125694f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029h01l5881m3cz1', 2, e'        Reviewed by NOBODY (OOPS!).

	- fixed 3134558 -- REGRESSION: Lord of the Rings site problems

	This regression was caused when we fixed the abcnews.com problem (3124933).

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::createEmptyDocument):
	Despite its name, this function was never intended to overwrite an existing document with
	an empty document. When we changed it do do the creation in a better way, we lost the
	check that prevents it from doing anything at all if we already have a document.


git-svn-id: svn://svn.chromium.org/blink/trunk@3174 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-23 19:57:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7af95a2619da77489154ecc8ad7f98fdf9ab8a6a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029i01l55g2vccdx', 2, e'        Reviewed by Don.

	- fixed 3134383 -- crash in KWQKHTMLPart::canCachePage at www.apple.com

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::canCachePage):
	Check for nil in the result of Window::retrieveWindow.


git-svn-id: svn://svn.chromium.org/blink/trunk@3173 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-23 06:35:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8fb28393eb28fd70bd44341c68bf4ae193eaea6c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029j01l5qeybr0ll', 2, e'        Reviewed by NOBODY (OOPS!).

	- fixed 3134383 -- crash in KWQKHTMLPart::canCachePage at www.apple.com

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::canCachePage):
	Check for nil in the result of Window::retrieveWindow.


git-svn-id: svn://svn.chromium.org/blink/trunk@3172 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-23 06:34:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/39de8195c2a90af194277bacca73f8896d1fe859');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029k01l5bkydni6u', 2, e'alex-44


git-svn-id: svn://svn.chromium.org/blink/trunk@3170 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-21 05:13:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a9ccde3758d77d0d16be105bb33cb78efb8255bb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029l01l5yrqft067', 2, e'        Do not add empty URLs to the back forward list.

	Reviewed by Richard, Darin

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3169 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-21 04:40:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aff01b40435c7269a952b769cf9fb1779cf12251');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029m01l52fy5oadh', 2, e'        Reviewed by Trey and Don.

	- fixed 3132160 -- meta refresh does not work if there\'s a space after the refresh interval value

        * khtml/xml/dom_docimpl.cpp: (DocumentImpl::processHttpEquiv):
	Added a call to stripWhiteSpace here. The other places that processes delays for
	meta refresh already had the stripWhiteSpace call, but this was missing it.


git-svn-id: svn://svn.chromium.org/blink/trunk@3168 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-21 04:35:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/338b00ee0b17c79d36c583139be9b53601bc0b3d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029n01l5yzhyb8ua', 2, e'	Fix for 3134163, a regression from the reduction of
	styleForElement calls.  Make sure image buttons
	get the width attribute and add it to style info
	before styleForElement gets called.

        Reviewed by rjw

        * khtml/html/html_formimpl.cpp:
        (HTMLInputElementImpl::attach):


git-svn-id: svn://svn.chromium.org/blink/trunk@3167 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-21 03:21:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/161e2f40e0921fd3181923cebde8e225bc02d0d2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029o01l5nenso2r3', 2, e'	Fix for 3134133. Back out the render_text code I gave to rjw
	to check in.  It wasn\'t filling in a value for hasBreak, so it
	became random whether or not you\'d break or not.

        Reviewed by rjw

        * khtml/rendering/render_text.cpp:
        (RenderText::trimmedMinMaxWidth):
        (RenderText::calcMinMaxWidth):
        * khtml/rendering/render_text.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3166 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-21 02:25:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/df0d67610f13135af8119a70a40ff84a31f747ee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029p01l5uhsrsup6', 2, e'        Reviewed by Trey.

	- fixed 3133801 -- REGRESSION: Japanese page comes up hash

        * khtml/khtml_part.cpp: (KHTMLPart::write): Roll back to original KHTML code here,
	removing the "all ASCII" optimization.


git-svn-id: svn://svn.chromium.org/blink/trunk@3165 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-21 01:56:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9d9f0dc01fcb3c535b8911acd0c567434cce0b6b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpd8z029q01l5wit9i9ni', 2, e'	Fix for 3133081, slashdot messed up when changing font sizes.
	setStyle in RenderFlow was messed up for continuations.  A
	block in the middle of a continuation incorrectly propagated
	its style to the following inlines.

        Reviewed by darin

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::setStyle):


git-svn-id: svn://svn.chromium.org/blink/trunk@3164 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-21 00:55:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/87b22e6e51a47cf6e2a53651b4eeaf5b5c2efcc8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028301l5zwhm87cx', 2, e'	3133829 - crash leaving page with a running applet

	This fixes some holes in how we teardown plugins.  An additional fix is expected
	from Mike Hay to finish the issue. (3133981)

        Reviewed by Richard

        * Plugins.subproj/WebPluginController.m:
        (-[WebPluginController destroyAllPlugins]):  frame=nil, so we don\'t do any more
	messaging back to WK after this step.
        (-[WebPluginController showURL:inFrame:]):  bail if !frame
        (-[WebPluginController showStatus:]):  bail if !frame
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _detachFromParent]):  destroy plugins here.  We were only doing it
	in the non-frame case.


git-svn-id: svn://svn.chromium.org/blink/trunk@3163 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-21 00:36:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/86b7f69e056c7ebc9c31a99d3ab1f24ce4700ac1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028401l53s77qrew', 2, e'Remove stray change marker.


git-svn-id: svn://svn.chromium.org/blink/trunk@3162 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-20 22:39:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/71bafa5a59f222ea1449c817ac55057fca8a312b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028501l5yaz2onc0', 2, e'i        Fix for 3133601.  Play the same trick we do in
        KHTMLPartBrowserExtension::openURLRequest to create an empty
        document if necessary.


git-svn-id: svn://svn.chromium.org/blink/trunk@3161 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-20 22:37:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d50a9b65ed644f060b2b3f1e87f8ed44395dfb20');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028601l5rj4i8rjy', 2, e'	Remove the clip hack from setLayout and make it
	asynchronous instead.  This fixes the crasher
	on autosite.com, which had a sync layout occur
	while in the middle of making a block box\'s
	children get wrapped in anonymous boxes.  It
	was only half done when the layout got
	triggered, which is what caused the assert to fire.

	The bug # is 3129534.

        Reviewed by rjw

        * khtml/khtmlview.cpp:
        (KHTMLView::KHTMLView):
        (KHTMLView::timerEvent):
        (KHTMLView::scheduleRelayout):
        * khtml/khtmlview.h:
        * khtml/rendering/render_object.cpp:
        (RenderObject::setLayouted):
        (RenderObject::scheduleRelayout):
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3160 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-20 22:27:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0445fc70f06adbf7044cbc401899015fa0ff4ecc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028701l5ctydig4x', 2, e'        Reviewed by John.

	- fixed 3129387 -- Stopped responding to controls while filling out form (exception in KWQTextArea)

        * kwq/KWQTextArea.mm:
        (-[KWQTextArea getCursorPositionAsIndex:inParagraph:]): Fix code that was returning the wrong
	paragraph number along with the index within the paragraph. Also made it return a paragraph one
	past the end with an index of 0 for cases where you are at the end of the text.
        (-[KWQTextArea setCursorPositionToIndex:inParagraph:]): Range check the passed-in index. This
	would also have prevented the exception.


git-svn-id: svn://svn.chromium.org/blink/trunk@3159 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-20 22:10:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/069b89489c5c465d4fa853647bbfbc50ea16e278');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028801l55z2giu3e', 2, e'version 44u


git-svn-id: svn://svn.chromium.org/blink/trunk@3158 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-20 22:09:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3c78c42eebc8147df37da201bbf47f3118ee23b4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028901l58byo0pcj', 2, e'alexander-43


git-svn-id: svn://svn.chromium.org/blink/trunk@3156 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-20 22:02:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f749ff0f1adfb8f1ff6169bf2413045f1bddcd74');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028a01l5kxybwowj', 2, e'        Reviewed by John.

	- fixed 3132382 -- crash in khtml::CachedImage

	The source of this bug was my long-ago fix to bug 3079499.
	I changed the code to copy the clients list. But this doesn\'t work if
	one of the clients is removed while iterating because it\'s deleted.
	So I made a new class, CachedObjectClientWalker, that does the iterating safely.
	Now both this new bug and the original are fixed.

        * khtml/misc/loader.cpp:
        (CachedCSSStyleSheet::checkNotify): Use CachedObjectClientWalker to walk the list.
        (CachedScript::checkNotify): Ditto.
        (CachedImage::do_notify): Ditto.
        (CachedImage::movieStatus): Ditto.
        (CachedImage::checkNotify): Ditto.
        (CachedObjectClientWalker::next): Walk the list using a list iterator, which is
	safe against the current item being removed. But go that safety one better by making
	sure you don\'t miss the item after one that\'s removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@3155 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-20 21:52:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3977e5b3e69fe5799d10f0e7759bf992ce0977ac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028b01l574l3lfo6', 2, e'	3131841 - crash when switching encodings on a page with frames

        Reviewed by rjw

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted:]):  Create a docView in the LoadStale case, like
	every other kind of load does.


git-svn-id: svn://svn.chromium.org/blink/trunk@3154 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-20 21:51:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c6f7dab6dfcfcb54bcc9cee2af1778af12dcc38c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028c01l5df05f9tv', 2, e'        Reviewed by Darin

	Fix for this bug:

	Radar 3132171 (trying to login at mypage.apple.com gives "Already Connected" message)

	The issue is that we submit the login form more than once when the user hits
	the return key to submit rather than clicking the submit button. We are also
	susceptible to double form submissions from buggy scripts that ask to submit
	more than one form.

	The fix is to prevent the KWQKHTMLPart from submitting more than one form by
	setting and checking a flag.

        * kwq/KWQKHTMLPart.h: Add a form submit flag.
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::submitForm): Check form submit flag. Return if a form
	has already been submitted.
        (KWQKHTMLPart::setView): Reset form flag. This is done since the part
	may have been retrieved for reuse from the bac/forward cache.


git-svn-id: svn://svn.chromium.org/blink/trunk@3153 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-20 21:50:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5690178f4cdd548e18c930a40c92815716f5c855');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028d01l58xbym77b', 2, e'WebCore:
        Fixed 3133261.  This fix really has two parts.  This first part
        fixes the stupid stack allocated buffer that caused the crash.
        The second part makes any RenderText with a large string perform
        much faster.  The page mentioned in the bug used to load and draw
        in about 15 minutes.  Now it loads in about 10 seconds and draws in about
        2 seconds.  The performance optimization caches a widths array
        for the string in the RenderText, and only updates that array if
        the font or text for the RenderText change.

        Reviewed by john.

        * khtml/rendering/render_text.cpp:
        (RenderText::RenderText):
        (RenderText::setStyle):
        (RenderText::~RenderText):
        (RenderText::computeWidths):
        (RenderText::widthFromBuffer):
        (RenderText::trimmedMinMaxWidth):
        (RenderText::calcMinMaxWidth):
        (RenderText::setText):
        (RenderText::width):
        * khtml/rendering/render_text.h:

WebKit:
        Fixed 3133261.  This fix really has two parts.  This first part
        is here in WebTextRenderer.  The second part adds some width
        caching to RenderText.  I was using a stack allocated array,
        this would blow out the stack for large strings.

        Reviewed by john.

        * WebCoreSupport.subproj/WebTextRenderer.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@3152 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-20 20:41:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1ff651c9fad872f2e02eebb04ac07dbc0711c751');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028e01l50mxeyw0h', 2, e'JavaScriptCore:

	We now build with symbols the B&I.  Deployment builds are without symbols,
	so it is easy to generate a non-huge app as a one-off.

        Reviewed by Darin

        * JavaScriptCore.pbproj/project.pbxproj:

WebFoundation:

	We now build with symbols the B&I.  Deployment builds are without symbols,
	so it is easy to generate a non-huge app as a one-off.

        Reviewed by Darin

        * WebFoundation.pbproj/project.pbxproj:

WebCore:

	We now build with symbols the B&I.  Deployment builds are without symbols,
	so it is easy to generate a non-huge app as a one-off.

        Reviewed by Darin

        * WebCore.pbproj/project.pbxproj:

WebKit:

	We now build with symbols the B&I.  Deployment builds are without symbols,
	so it is easy to generate a non-huge app as a one-off.

        Reviewed by Darin

        * WebKit.pbproj/project.pbxproj:

WebBrowser:

	We now build with symbols the B&I.  Deployment builds are without symbols,
	so it is easy to generate a non-huge app as a one-off.

        Reviewed by Darin

        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@3151 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-20 19:53:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/16483294266b28a62fb2b9d021d81e36a4917090');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028f01l56n6my8hf', 2, e'        Reviewed by John.

	- fixed 3129824 -- crash in QWidget::getView in KWQKHTMLPart::passSubframeEventToSubframe

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::passWidgetMouseDownEventToWidget):
	Check for a nil QWidget in a RenderWidget, and ERROR and return true in that case.
	We don\'t want to return false because otherwise the KHTML code will try to draw a frame splitter.


git-svn-id: svn://svn.chromium.org/blink/trunk@3150 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-20 19:48:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/05fe18d6b4754fdd102f2ecfe65b027885225c40');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028g01l5wyxediwj', 2, e'        Reviewed by John.

	- fixed 3131449 -- crash in DOMNamedNodesCollection::tryGet opening a new window from JavaScript

        * khtml/ecma/kjs_dom.cpp: (DOMNamedNodesCollection::tryGet):
	Add range checking. If the index is out of range fall back to the parent tryGet,
	which will eventually just return Undefined().


git-svn-id: svn://svn.chromium.org/blink/trunk@3149 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-20 19:35:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ea4fc3b7951f154ab39034fc64815703356068e2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028h01l5b8ac6v1x', 2, e'        Reviewed by Richard and John.

	- fixed 3133207 -- crash in HTMLFrameElementImpl updateForNewURL at home.real.com

	This refines Maciej\'s fix for 3052113, 3075392, and 3125412.

        * khtml/html/html_baseimpl.h: Remove detach() and parentWidget from HTMLFrameElementImpl.
        * khtml/html/html_baseimpl.cpp:
        (HTMLFrameElementImpl::HTMLFrameElementImpl): Take out initialization of unused parentWidget.
        (HTMLFrameElementImpl::updateForNewURL): Add case for when we are attached by did not allocate
	a render object. In that case we just detach so we can attach again. Also fix the self-reference
	check which was in there but not working.
        (HTMLFrameElementImpl::detach): Remove method since all it did was set unused parentWidget.
        (HTMLIFrameElementImpl::attach): Remove unused depth computation.

	- fixed more leaks

        * khtml/rendering/render_replaced.h: Made the deref method inherited from khtml::Shared
	private by using private inheritance. Changed the name of arenaDeref to deref, but it still
	takes an arena parameter. Now incorrect deref\'s are compile-time errors instead of potential leaks.
        * khtml/rendering/render_replaced.cpp:
        (RenderWidget::detach): Rename arenaDeref to deref.
        (RenderWidget::resizeWidget): Ditto.
        (RenderWidget::eventFilter): Ditto.
        (RenderWidget::deref): Ditto.

        * khtml/rendering/render_form.cpp: (RenderFormElement::slotClicked):
	Pass the arena when deref\'ing the RenderFormElement.
        * kwq/WebCoreBridge.h: Add a field for the arena for the RenderPart.
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge dealloc]): Pass the arena when deref\'ing the RenderPart.
        (-[WebCoreBridge setRenderPart:]): Pass the arena when deref\'ing the RenderPart. Store the arena
	of the new part when storing the part pointer.

        * khtml/xml/dom_docimpl.cpp: (DocumentImpl::~DocumentImpl): Assert that the render object is
	not nil, in an attempt to catch a leak I observed yesterday.


git-svn-id: svn://svn.chromium.org/blink/trunk@3148 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-20 19:21:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/af65ad301f1e7f081d7268019d84c7a9d6cf896c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028i01l5vrrn6ta5', 2, e'        Reviewed by Dave.

	- fixed 3129129 -- leak of 820 RenderStyle objects each time we run cvs-base

	The RenderStyle objects were the tip of an iceberg.

        I fixed a lot of leaks, but there are still some remaining.

	Note that these changes will make Development builds slower because they disable
	the arena allocator in favor of assertions that check we are using it correctly.
	But the changes make Deployment builds slightly faster.

        * khtml/html/html_baseimpl.cpp: (HTMLFrameSetElementImpl::attach):
	Fix a leak in the !isStyleAvailable() case by ref\'ing and deref\'ing the style.

        * khtml/html/html_formimpl.cpp:
        (HTMLFormElementImpl::attach): Fix a leak by getting the style from the render
	object instead of calling styleForElement again, which makes a new one.
        (HTMLFormElementImpl::parseAttribute): Ditto.
        (HTMLInputElementImpl::attach): Fix a leak by using the style in the local
	variable rather than calling styleForElement again.

        * khtml/html/html_imageimpl.cpp:
        (HTMLImageElementImpl::parseAttribute): Fix a leak by getting the style from the render
	object instead of calling styleForElement again, which makes a new one.
        (HTMLImageElementImpl::attach): Fix a leak by using the style in the local
	variable rather than calling styleForElement again.

        * khtml/html/html_inlineimpl.cpp: (HTMLBRElementImpl::attach):
	Fix a leak in the display() == NONE case by ref\'ing and deref\'ing the style.

        * khtml/html/html_objectimpl.cpp: (HTMLObjectElementImpl::attach): Fix a leak by using
	the style in the local variable rather than calling styleForElement again.

        * khtml/rendering/bidi.cpp:
        (BidiIterator::detach): Added debugging code to detect if someone does a delete directly,
	which will not deallocate the object because it won\'t run the correct arena code.
        (BidiIterator::operator delete): Ditto.
        (appendRunsForObject): Fix a leak by detaching bidi iterators when they are removed from
	the list. The list can\'t delete them because it doesn\'t have the arena pointer.
        (deleteMidpoints): Fix a leak by not removing the items from the list until done iterating.
	The old code would fail to delete half the items.

        * khtml/rendering/render_container.cpp:
        (RenderContainer::detach): Detach the continuation here. Before we removed it but did not
	detach it, which led to a leak.
        (RenderContainer::removeChild): Do not remove the continuation here. If we do, then we can\'t
	detach successfully. No one depends on this removing the continuation.
        (RenderContainer::removeLeftoverAnonymousBoxes): Detach the child, don\'t just delete it.
	This fixes a leak.

        * khtml/rendering/render_flow.cpp: (RenderFlow::removeChild): Detach the child, don\'t just
	delete it. This fixes a leak.

        * khtml/rendering/render_object.h: Added arenaDelete.
        * khtml/rendering/render_object.cpp:
        (RenderObject::operator delete): Added debugging code to detect if someone does a delete directly,
	which will not deallocate the object because it won\'t run the correct arena code.
        (RenderObject::detach): Ditto.
        (RenderObject::arenaDelete): Put the low-level delete here, so that subclasses (RenderWidget)
	can call it.

        * khtml/rendering/render_replaced.h: Add arenaDeref and make deref private so derived classes
	won\'t use it by accident.
        * khtml/rendering/render_replaced.cpp:
        (RenderWidget::detach): Use the new arenaDeref instead of deref, since we need to pass the
	arena pointer in to delete.
        (RenderWidget::resizeWidget): Ditto. Store the arena before calling back, since we can\'t get it
	once it\'s detached from its parent.
        (RenderWidget::eventFilter): Ditto.
        (RenderWidget::arenaDeref): Added. Calls RenderObject\'s arenaDelete.

	- other changes

        * khtml/rendering/render_arena.cpp:
        (RenderArena::allocate): Added debugging code that stores a signature, arena pointer, and size,
	and uses malloc rather than the arena.
        (RenderArena::free): Check the signature, arena pointer, and size, and use free.

        * khtml/rendering/render_layer.cpp:
        (RenderLayer::operator delete): Added debugging code to detect if someone does a delete directly,
	which will not deallocate the object because it won\'t run the correct arena code.
        (RenderLayer::detach): Ditto.
        (RenderLayer::RenderLayerElement::operator delete): Ditto.
        (RenderLayer::RenderLayerElement::detach): Ditto.
        (RenderLayer::RenderZTreeNode::operator delete): Ditto.
        (RenderLayer::RenderZTreeNode::detach): Ditto.

        * khtml/rendering/render_text.cpp:
        (TextSlave::detach): Added debugging code to detect if someone does a delete directly,
	which will not deallocate the object because it won\'t run the correct arena code.
        (TextSlave::operator delete): Ditto.

        * khtml/html/html_elementimpl.cpp: (HTMLElementImpl::createContextualFragment):
	Save one new/delete by using a stack-based HTMLTokenizer and add FIXMEs about
	some possible leaks I spotted here.

        * khtml/rendering/render_list.cpp: (RenderListItem::setStyle): Took out APPLE_CHANGES from around
	a generally useful bug fix.

        * WebCore.pbproj/project.pbxproj: Let Electron be Electron.


git-svn-id: svn://svn.chromium.org/blink/trunk@3147 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-20 09:19:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/83ad12e3e7ad87726a28e628d6d002f641cdb27f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028j01l5h7fa5tzh', 2, e'alexander-42
it\'s the meaning of life


git-svn-id: svn://svn.chromium.org/blink/trunk@3145 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-20 04:59:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/beb7210f831a75a22411d62e9453727c2554ce8a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028k01l5e26dpcul', 2, e'WebKit:

	- WebKit part of fix for 3124949 -- Alexander recreates the
	default set of bookmarks every time a separate app copy is launched

        Reviewed by Darin

        * Bookmarks.subproj/WebBookmarkGroup.h:
	new _tag ivar and -tag method.

        * Bookmarks.subproj/WebBookmarkGroup.m:
        (-[WebBookmarkGroup dealloc]):
	release _tag
        (-[WebBookmarkGroup tag]):
	return _tag
        (-[WebBookmarkGroup _loadBookmarkGroupGuts]):
	read _tag from the dictionary in the file (or leave it at
	nil if there\'s no value in the file).

        * English.lproj/StringsNotToBeLocalized.txt:
	kept this file up to date

WebBrowser:

	- WebBrowser part of fix for 3124949 -- Alexander recreates the
	default set of bookmarks every time a separate app copy is launched

        Reviewed by Darin

        * BookmarksController.m:
        (-[BookmarksController mergeBuiltInBookmarksIfNecessary]):
	if the mod date has changed since the last time this was
	checked, check the tag in the bookmarks	group (loaded from the
	file) to see if it has changed. If the tag hasn\'t changed, then
	don\'t merge the built-in bookmarks.

        * PreferenceKeys.h:
	new #define BuiltInBookmarksTagPreferenceKey

        * English.lproj/BuiltInBookmarks.plist:
	Added tag (happens to be string that looks like a date) to
	this file. We\'ll update this whenever we update the contents.


git-svn-id: svn://svn.chromium.org/blink/trunk@3144 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-12-20 04:48:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/23ea359aeb36e20fa4456a706953e90e043d8e18');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028l01l5yr7hry7z', 2, e'	Fix for 3129393, crasher on sundancecatalog.com.  There
	are two elements to this fix.  The basic problem was that
	sundancecatalog was saying:

	<table style="display: inline">

	In WinIE, this turns into an inline-table and not an inline.
	In Gecko this does not happen.  Like Gecko, we treated this
	as an inline, so we triggered a problem in my inline splitting
	code.

	The first fix was to bulletproof my inline splitting code to
	ensure all new render objects are fully connected before children
	are added, so that you can get to renderArenas at all times.

	The second fix implements the WinIE quirk and turns the table
	into an inline-table so that you avoid a complete garbage
	render tree.

        Reviewed by trey

        * khtml/css/html4.css:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layout):
        (RenderFlow::splitFlow):
        (RenderFlow::addChildToFlow):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_list.cpp:
        (RenderListMarker::lineHeight):
        * khtml/rendering/render_list.h:
        * khtml/rendering/render_object.cpp:
        (RenderObject::createObject):
        * khtml/rendering/render_table.cpp:
        (RenderTable::lineHeight):
        (RenderTable::baselinePosition):
        (RenderTable::setStyle):
        * khtml/rendering/render_table.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3143 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-20 01:50:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/418534d4891dbeac55100c8528fa80ec5c3582fc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028m01l550qeghvx', 2, e'        Reviewed by John.

	A number of non-reproducible bugs look like they may be due to bad
	event objects. I was assuming that callers retained the events until
	the functions handling them returned, but that assumption may be wrong.
	So I\'m retaining/releasing the current event. This is correct in any case.
	I\'m also adding a new assertion, but since assertions are in Development
	builds only that is very low risk.

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::keyEvent): Add retain/release and a new assertion.
        (KWQKHTMLPart::mouseDown): Ditto.
        (KWQKHTMLPart::mouseDragged): Ditto.
        (KWQKHTMLPart::mouseUp): Ditto.
        (KWQKHTMLPart::mouseMoved): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@3142 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-19 22:17:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/720e6b965ec4192c3db5696305d98fd59fbca1dd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028n01l5czij68dj', 2, e'Added missing bug # to log.


git-svn-id: svn://svn.chromium.org/blink/trunk@3141 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-19 20:33:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7ea6fc703632667927bf34810399b3aa8fdd2c5a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028o01l5wsmo9uly', 2, e'WebKit:

        Reviewed by John.

	- corrected the name of a method that was leading to trouble elsewhere

        * WebView.subproj/WebDataSource.h: Change fileType to fileExtension for clarity.
        * WebView.subproj/WebDataSource.m: (-[WebDataSource fileExtension]): Ditto.

WebBrowser:

        Reviewed by John.

	- fixed 3132671 -- REGRESSION: Saving an HTML file with Safari doesn\'t append .html (its used to)

        * BrowserDocument.m: (-[BrowserDocument fileType]): Call [NSDocumentController typeFromFileExtension:]
	instead of using the extension as the file type, which only works if you happen to have a file type that\'s
	named exactly the same as the extension.
        * HTMLSourceDocument.m: (-[HTMLSourceDocument fileType]): Ditto.

        * WebBrowser.pbproj/project.pbxproj: Added capitalized file types, fixed .jp2 to be separate from .jpg,
	These came from looking over NSImage\'s file type list.
        * English.lproj/InfoPlist.strings: Added JPEG 2000.


git-svn-id: svn://svn.chromium.org/blink/trunk@3140 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-19 20:19:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/20338eabc780808353519af76cf9553bf07efa80');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028p01l5l2ei7od8', 2, e'version 42u


git-svn-id: svn://svn.chromium.org/blink/trunk@3139 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-19 20:17:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/82d00da168310be2132e4db608058d089f964ea7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028q01l5ojd28gji', 2, e'Alexander-41 going to B&I


git-svn-id: svn://svn.chromium.org/blink/trunk@3137 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-19 20:07:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/416daacecc50645f2ccadea221b9e96cd1b3c63f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028r01l5nmiqy4dg', 2, e'        Reviewed by John.

	- probably fixed 3129395 -- Reproducible crash when running a javascript at www.scenespot.org

        * WebCoreSupport.subproj/WebViewFactory.m:
        (-[WebViewFactory runJavaScriptTextInputPanelWithPrompt:defaultText:returningText:]):
        Close the window. Before we relied on it being released which was bad. But it\'s not clear this
        actually was the cause of the bug.


git-svn-id: svn://svn.chromium.org/blink/trunk@3136 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-19 18:14:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d05c8bdcec078943001da25ecc13099ce4b1711e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028s01l5gwkt5exj', 2, e'        Reviewed by Chris.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView sendEvent:]): Added an assert.
        (-[WebBaseNetscapePluginView setWindow]): Added an assert.
        (-[WebBaseNetscapePluginView stop]): Cancel perform requests, now that we are using them for
	URL navigation.
        (-[WebBaseNetscapePluginView frameStateChanged:]): Only notify if the plugin is still running.
        (-[WebBaseNetscapePluginView loadPluginRequest:]): Added. Does the actual load at idle time.
	Also fixed to only notify if plugin is loaded. Added a number of FIXMEs for other problems here.
	Also send JavaScript to the appropriate frame, not always the top level.
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]): Use loadPluginRequest:
	to do the request after a delay. Also remove the special cases for special frame names; they
	were trying to avoid calling a plugin that has gone away, but we do that a better way now.
        (-[WebBaseNetscapePluginView getURLNotify:target:notifyData:]): Added logging.
        (-[WebBaseNetscapePluginView status:]): Use Windows Latin-1 rather than MacRoman for messages.
	I guess we should test later to find out which is used by MacIE and conform to that, but for now
	this seems like a better default.
        (-[WebPluginRequest initWithRequest:frame:notifyData:]): Added.
        (-[WebPluginRequest dealloc]): Added.
        (-[WebPluginRequest request]): Added.
        (-[WebPluginRequest webFrame]): Added.
        (-[WebPluginRequest notifyData]): Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@3135 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-19 18:08:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/57364811be745d64a2b09a1062fbccf8ac045e0a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028t01l5qyfmb5ww', 2, e'        Added an ASSERT to ensure that 3127329 isn\'t still happening.
        This bug should have been fixed be earlier changes.

        Reviewed by darin.

        * kwq/KWQPageState.mm:
        (-[KWQPageState dealloc]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3134 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-19 06:34:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dc6e8c38875e23679cad6b93116dc82e35982aa8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028u01l5ko2jsiq4', 2, e'	Fixed: 3131267 - REGRESSION: Java 1.4.1 Applets Restarted When Window is Resized
	Fixed: 3131244 - REGRESSION: Java 1.4.1 Multiple Copies of Applet Started When Window is Resized

	Dave recently patched khtml with a fix for media content inside of table cells. The patch causes the java widget to get the layout call more than once. Calling layout more than once is perfectly allowed, but the java widget wasn\'t prepared for that and would create a new java view for each layout. We now only create a java view when the java view hasn\'t already been created.

        Reviewed by darin.

        * kwq/KWQKJavaAppletWidget.mm:
        (KJavaAppletWidget::showApplet): If the view of the widget is still a KWQView, we haven\'t replaced it with the Java view. This stops multiple view from being created.


git-svn-id: svn://svn.chromium.org/blink/trunk@3133 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-19 06:18:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/105eca46401aefd99282c1b51629c5844b1e47cd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028v01l55qdwnk3t', 2, e'        Reviewed by Chris.

	- fixed fix for 3132056 -- Supply Finder bits for decoded BinHex files

        * Downloads.subproj/WebBinHexDecoder.m: (-[WebBinHexDecoder decodeHeader]):
	Mask off fewer Finder flag bits. Use the same mask as for MacBinary, in fact.


git-svn-id: svn://svn.chromium.org/blink/trunk@3132 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-19 06:17:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/49c6d601c8272fd9c32430b15386d625f2f46759');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpbpj028w01l546jrt9tg', 2, e'        Reviewed by Richard.

	- fixed 3127490 -- pages w/frames sometimes show up blank

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView drawRect:]):
	Updated the optimization where we draw the entire view if we did a layout
	so that it works properly for the case where the clip is narrower because of
	the parent WebHTMLView.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@3131 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-19 05:49:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/47c778a4a0d4edec71ec6285ab55e23b0c150d44');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027901l5f9x1bolp', 2, e'Alexander-40 stamp


git-svn-id: svn://svn.chromium.org/blink/trunk@3129 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-19 04:17:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6d1dff9ff36d39405ff924cef7c6d31721a5ce67');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027a01l5myb8512x', 2, e'WebCore:

	3098388 - Pressing the back button goes back two levels at allmusic.com

	In support of the fix for this bug, WebCore passes khtml\'s lockHistory setting
	up through the bridge.

        Reviewed by Darin

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::redirectionTimerStartedOrStopped):  Pass it along.
        * kwq/WebCoreBridge.h:

WebKit:

	3098388 - Pressing the back button goes back two levels at allmusic.com

	I rewrote the logic we use to decide whether a given redirect should be
	treated as part of the previous navigation.  We make use of WebCore\'s
	lockHistory setting, the delay time and the frame state.

        Reviewed by Darin.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge reportClientRedirectToURL:delay:fireDate:lockHistory:]):
	Pass lockHistory up to the frame.
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _clientRedirectedTo:delay:fireDate:lockHistory:]):
	New logic.  No quick summary, best to read the code.


git-svn-id: svn://svn.chromium.org/blink/trunk@3128 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-19 03:44:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b92ef504722e17895efe54ba89caa8a52efa3b16');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027b01l5fmtz1cnl', 2, e'WebKit:

	Reject the RealPlayer plug-in because we know it doesn\'t work.

        Reviewed by sullivan.

        * English.lproj/StringsNotToBeLocalized.txt:
        * Plugins.subproj/WebNetscapePluginPackage.m:
        (-[WebNetscapePluginPackage initWithPath:]): reject the RealPlayer plug-in

WebBrowser:

	Fixed: 3103603 - Safari becomes unresponsive while launching DiskCopy
	Special case RealPlayer and WMP plug-ins. Provide the option to open the content in the apps.

        Reviewed by sullivan.

        * BrowserNSWorkspaceExtras.m:
        (-[NSWorkspace launchApplicationAtPath:processSerialNumber:makeFrontmost:event:]): enable async launching of DiskCopy
        * English.lproj/Localizable.strings:
        * English.lproj/StringsNotToBeLocalized.txt:
        * LoadProgressMonitor.m:
        (-[LoadProgressMonitor pluginFailedWithError:dataSource:]): special case RealPlayer and WMP plug-ins. Provide the option to open the content in the apps.


git-svn-id: svn://svn.chromium.org/blink/trunk@3127 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-19 03:21:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0e0453c33e427a93af36fd61140f8a9ebd1ba9d1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027c01l5lli5p6ab', 2, e'Tools:

	Reviewed by John.

	- fixed 3131171 - Change Alex versions to satisfy both marketing and B&I requirements

        * Scripts/set-alex-version: New the script takes 3 different
	versions, source version, marketing version and internal version.

JavaScriptCore:

	Reviewed by John.

	- fixed 3131171 - Change Alex versions to satisfy both marketing and B&I requirements

        * English.lproj/InfoPlist.strings:
        * JavaScriptCore.pbproj/project.pbxproj:

WebFoundation:

	Reviewed by John.

	- fixed 3131171 - Change Alex versions to satisfy both marketing and B&I requirements

        * English.lproj/InfoPlist.strings:
        * WebFoundation.pbproj/project.pbxproj:

WebCore:

	Reviewed by John.

	- fixed 3131171 - Change Alex versions to satisfy both marketing and B&I requirements

        * English.lproj/InfoPlist.strings:

WebKit:

	Reviewed by John.

	- fixed 3131171 - Change Alex versions to satisfy both marketing and B&I requirements

        * English.lproj/InfoPlist.strings:

WebBrowser:

	Reviewed by John.

	- fixed 3131171 - Change Alex versions to satisfy both marketing and B&I requirements

        * English.lproj/InfoPlist.strings:
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@3126 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-19 01:58:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cd8158ec5946ca4ee7942d6a76d4e251a931217e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027d01l54gzycm3n', 2, e'        Fixed 3129951.  Don\'t allow pages that are stopping to enter the page cache.
        (Fixed yesterday, forgot to checkin.)

        Reviewed by trey.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _setState:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3125 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-19 01:13:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5e7f7ace5321cf329ae3991147fd767c86b96c11');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027e01l5k1xnxkyx', 2, e'WebFoundation:

        Reviewed by Trey and Darin.

	Minor fixes required to fix these bugs:

	3124933 - abcnews.com leads to empty window with sheet complaining about javascript: URL
	3091248 - picture does not show up in window from epinions

	* CacheLoader.subproj/WebResourceResponse.h: Don\'t include uninstalled headers
	in this private but installed header.
        * ProtocolHandlers.subproj/WebAboutProtocolHandler.m:
        (-[WebAboutProtocolHandler setResponseMetadata:]): "about:blank"
	should be a blank html document, not a blank plain text document.
        * Misc.subproj/WebNSURLExtras.h:
        * Misc.subproj/WebNSURLExtras.m:
        (-[NSString _web_shouldLoadAsEmptyDocument]): New method.
	* English.lproj/StringsNotToBeLocalized.txt: Updated.

WebCore:

        Reviewed by Trey and Darin.

	- fixed 3124933 - abcnews.com leads to empty window with sheet complaining about javascript: URL
	- fixed 3091248 - picture does not show up in window from epinions


        * khtml/ecma/kjs_window.cpp:
        (Window::get): Put back document-creating code that was in #if
	!APPLE_CHANGES.
	(Window::isSafeScript): Extend access to a window that was opened
	to no URL or to about:blank by the active window.
        (shouldLoadAsEmptyDocument): Helper for the above.
        (WindowFunc::tryCall): Update APPLE_CHANGES comments - now it\'s
	clear we don\'t need to create a document in a fresh window
	(accessing document will take care of that), and that it will be
	counter-productive, possibly adding a useless entry to the
	back/forward list.
        * khtml/khtml_part.cpp:
        (KHTMLPart::begin): If we\'re not loading a URL, make a dummy
	document (the call will check if we have a dummy document
	already).
        * kwq/KWQKHTMLPart.mm:
	(KWQKHTMLPart::createEmptyDocument): Isntead of setting up a
	half-assed document, ask bridge to synchronously load a fully
	assed (but empty) document. Renamed from createDummyDocument.
        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::openURLRequest): Decode script. Also,
	check if return value is a string - if so, write it into the
	document. Maybe we want this to be more general.
        * kwq/KWQKURL.mm:
        (KURL::KURL): Changed to successfully resolve absolute URLs
	against an empty base URL.
        * kwq/WebCoreBridge.h: prototyped new
	loadEmptyDocumentSynchronously method.

WebKit:

        Reviewed by Darin and Trey.

	- fixed 3124933 - abcnews.com leads to empty window with sheet complaining about javascript: URL
	- fixed 3091248 - picture does not show up in window from epinions
	- made "about:blank" load synchronously, which I\'m told is required by some sites.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge createWindowWithURL:frameName:]): If the URL is nil
	or empty, pass a nil request - otherwise WebBrowser will try to
	load it, resulting in an extra back/forward list entry.
        (-[WebBridge loadEmptyDocumentSynchronously]): Tell the frame to
	load a request with an empty URL - this will cause a synchronous
	load of an empty html document
        * WebView.subproj/WebBaseResourceHandleDelegate.h:
        * WebView.subproj/WebBaseResourceHandleDelegate.m:
	(-[WebBaseResourceHandleDelegate loadWithRequest:]): Split off
	startLoading: part of method to allow behavior to be subclassed.
        (-[WebBaseResourceHandleDelegate startLoading:]):
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _commitIfReady:]): Lie and claim the URL is
	"about:blank" if it\'s really empty to avoid confusing WebCore.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted:]): Don\'t put the empty URL in
	global history.
        (-[WebFrame
	_checkNavigationPolicyForRequest:dataSource:andCall:withSelector:]):
	Don\'t check policy if URL is empty - this is likely to confuse the
	client and we know what the right behavior here is.
        * WebView.subproj/WebMainResourceClient.m:
	(-[WebMainResourceClient startLoading:]): Try to load
	"about:blank" and the empty URL synchronously, bypassing
	WebFoundation.
        (-[WebMainResourceClient continueAfterContentPolicy:response:]): Ditto.
        (-[WebMainResourceClient setDefersCallbacks:]): Ditto.
        * English.lproj/StringsNotToBeLocalized.txt: Updated.


git-svn-id: svn://svn.chromium.org/blink/trunk@3124 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-19 00:54:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/80834d145816195289a30e4168a0659380a00d75');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027f01l5vk9ooeqe', 2, e'WebCore:

	Fixed: 3052731 - qt file complains about lack of active-x handler
	Fixed: 3025872 - Black square where lion should be on mgm.com

	3052731: The page has a syntax error. Notice the missing ">"? He treat this as an OBJECT without an EMBED. khtml actually has a fallback for this. They check the classid and map a mime type to it. They currently map for  realaudio and flash, but not quicktime. I added a quicktime mapping as well as a mapping for shockwave.

	3025872: khtml was unable to parse the EMBED tag within the OBJECT tag (similar to 3052731). When this happens, it looks at the classid and maps it to a mime type. This part was successful because it has a classid->mime type mapping for flash. The strange thing was that it was setting the main URL of the plug-in to "dummy". The code has this comment:

	url = "dummy"; // Not needed, but KHTMLPart aborts the request if empty

	It does this even if the url is valid. It even handles the invalid url case before even calling the part. The fix is to disable this line of code.

        Reviewed by trey.

        * khtml/rendering/render_frames.cpp:
        (RenderPartObject::updateWidget):

WebKit:

	Fixed: 2862385 - need to pass browser\'s user agent and version to plug-ins
	Added some more error checking to the plug-in code

        Reviewed by trey.

        * Plugins.subproj/WebBaseNetscapePluginView.h:
        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (+[WebBaseNetscapePluginView setCurrentPluginView:]): new, sets a global variable for the current plug-in
        (+[WebBaseNetscapePluginView currentPluginView]): new, returns the current plug-in
        (-[WebBaseNetscapePluginView start]): check if NPP_New fails, return NO if it does, set the current plug-in view. Currently, this is the only place we need to do this.
        (-[WebBaseNetscapePluginView userAgent]): made instance-specific because it depends on the plug-in view\'s WebController
        * Plugins.subproj/WebBaseNetscapePluginViewPrivate.h:
        * Plugins.subproj/WebNetscapePluginEmbeddedView.m:
        (-[WebNetscapePluginEmbeddedView viewDidMoveToWindow]): don\'t start the stream is start fails
        * Plugins.subproj/npapi.m:
        (NPN_MemAlloc): tweak
        (NPN_RequestRead): tweak
        (pluginViewForInstance): returns the instance\'s plug-in view if it has one, if not, return the current plug-in view
        (NPN_GetURLNotify): get the instance from pluginViewForInstance
        (NPN_GetURL):
        (NPN_PostURLNotify):
        (NPN_PostURL):
        (NPN_NewStream):
        (NPN_Write):
        (NPN_DestroyStream):
        (NPN_UserAgent):
        (NPN_Status):
        (NPN_InvalidateRect):
        (NPN_InvalidateRegion):
        (NPN_ForceRedraw):
        (NPN_GetValue):
        (NPN_SetValue):
        (NPN_GetJavaEnv):
        (NPN_GetJavaPeer):


git-svn-id: svn://svn.chromium.org/blink/trunk@3123 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-19 00:07:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8cafe99380595dc56dd11f8c5c8ceab98b87b7f5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027g01l5wib88g1n', 2, e'        Fixed 3109590.  We now set the cookie policy URL to a frame\'s URL if the
        contents of the frame changes as a result of user action.  The site mentioned
        is this bug branded a service by wrapping it in their own frameset.  That frameset
        had a different domain than the service, so our cookie policy prevented cookies
        from being set.

        Reviewed by trey.

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading:]):
        * WebView.subproj/WebFrame.m:
        (-[WebFrame loadRequest:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _loadItem:fromItem:withLoadType:]):
        (-[WebFrame _addExtraFieldsToRequest:alwaysFromRequest:]):
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]):
        (-[WebFrame _postWithURL:data:contentType:triggeringEvent:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3122 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-18 22:40:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8cf604330a74bcfa1793dccf2f94b0e9c75f91a5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027h01l53akk4mqb', 2, e'	Fixed: 3131714 - System becomes unresponsive while downloading

	While downloading a file, Safari and the Finder take up 30%-40% of the CPU each. This is happening because for every chunk of data we write to disk, we call -[NSWorkspace noteFileSystemChanged:]. noteFileSystemChanged is inefficient. It sends 2 AppleEvents each with 60 timeouts. The event also causes the Finder to do a lot of work.

	We should:
	- Send 1 AppleEvent ourselves with no timeout since we don\'t care about the reply
	- Call the notification/event less often. The only benefit of sending the event for every chunk written is that the file size updates in the Finder. Not worth the performance impact.

        Reviewed by kocienda.

        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler cleanUpAfterFailure]): call _web_noteFileChangedAtPath
        (-[WebDownloadHandler createFileIfNecessary]): call _web_noteFileChangedAtPath
        (-[WebDownloadHandler writeDataForkData:resourceForkData:]): don\'t call noteFileSystemChanged
        (-[WebDownloadHandler finishedLoading]): call _web_noteFileChangedAtPath
        * Misc.subproj/WebNSWorkspaceExtras.h: Added.
        * Misc.subproj/WebNSWorkspaceExtras.m: Added.
        (-[NSWorkspace _web_noteFileChangedAtPath:]): Notifies the Finder (or any other app that cares) that we added, removed or changed the attributes of a file. This method is better than calling noteFileSystemChanged: because noteFileSystemChanged: sends 2 apple events both with a 60 second timeout. This method returns immediately.
        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@3121 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-18 20:46:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/10b10c93d2f32f329570dc1cdc498ec987b87bc2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027i01l5okm32tnl', 2, e'        Reviewed by Maciej.

	- fixed 3098293 -- Shockwave plug-in doesn\'t work

	The problem is that the Shockwave plug-in depends on being able to do LMGetCurApRefNum
	and then do a PBGetFCBInfoSync on the result, and if it gets an error it will refuse
	to initialize.

        * Plugins.subproj/WebNetscapePluginPackage.m: (+[WebNetscapePluginPackage initialize]):
	Supply a bogus CurApRefNum. Do it only if CurApRefNum is -1, so we don\'t screw things
	up if we are used in a Carbon application.


git-svn-id: svn://svn.chromium.org/blink/trunk@3120 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-18 11:47:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2388b42d3ed1daade78e2f7fbf405f69a054f8f8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027j01l5autik9aj', 2, e'	3105755 - can\'t log in to amex

	The problem was on c/r khtml would not pick a submit button to add to the
	form state that is sent.  We now "activate" the first submit button that meets the
	criteria for being a "successful" form element, if no button was already
	activated by being clicked on.

        Reviewed by Darin.

        * khtml/html/html_formimpl.cpp:
        (HTMLFormElementImpl::submit):  Pick a submit button to use, if none was already
	chosen by virtue of being clicked.
        (HTMLButtonElementImpl::isSuccessfulSubmitButton):  New getter to support
	submit button selection.
        (HTMLButtonElementImpl::isActivatedSubmit):  New getter on existing prop.
        (HTMLButtonElementImpl::setActivatedSubmit):  New setter on existing prop.
        (HTMLInputElementImpl::isSuccessfulSubmitButton):  New getter to support
	submit button selection.
        (HTMLInputElementImpl::isActivatedSubmit):  New getter on existing prop.
        (HTMLInputElementImpl::setActivatedSubmit):  New setter on existing prop.
        * khtml/html/html_formimpl.h:  Add new methods to common superclass.


git-svn-id: svn://svn.chromium.org/blink/trunk@3119 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-18 08:15:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/41c677f1a0553aca5f097df8188ba0500bd002eb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027k01l5aha5e35h', 2, e'Reviewed by Joyce Chow.

* khtml/misc/arena.cpp:
* khtml/misc/arena.h:
* khtml/rendering/render_arena.cpp:
* khtml/rendering/render_arena.h:
* khtml/rendering/render_layer.cpp:
* khtml/rendering/render_layer.h:

Changed copyright and licensing.


git-svn-id: svn://svn.chromium.org/blink/trunk@3118 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2002-12-18 07:49:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d4d8335fa35f5ef0c075be0c84fef1855f65e9c3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027l01l50rhj3fu3', 2, e'	NOWRAP was completely broken.  This fixes the problem
	and makes porsche.com look ok again.

	Bug #3131287.

        Reviewed by gramps

        * khtml/rendering/bidi.cpp:
        (RenderFlow::findNextLineBreak):


git-svn-id: svn://svn.chromium.org/blink/trunk@3117 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-18 07:33:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c0677a3c1fead742dfd5009cf3bc0bea8dee68e5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027m01l52bkkximm', 2, e'JavaScriptCore:

        Reviewed by Trey.

        * JavaScriptCore.pbproj/project.pbxproj: Removed signature.

WebFoundation:

        Reviewed by Trey.

        * WebFoundation.pbproj/project.pbxproj: Remove signature.

WebCore:

        Reviewed by Trey.

        * WebCore.pbproj/project.pbxproj: Remove signature.
        * kwq/KWQColor.mm: Turn off inlining so we can build even on the
	compiler that warns about static data in inline functions.

WebKit:

        Reviewed by Trey.

        * WebKit.pbproj/project.pbxproj: Remove signature.
        * WebView.subproj/WebController.m: Turn off inlining so we can build even on the
	compiler that warns about static data in inline functions.

WebBrowser:

        Reviewed by Trey.

        * Scripting.subproj/Safari.scriptSuite: Change signature to sfri.
        * WebBrowser.pbproj/project.pbxproj: Change signature to sfri.


git-svn-id: svn://svn.chromium.org/blink/trunk@3115 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-18 06:26:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/248fe2412af1ad4a6dd40df1e3b398d083dbe60e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027n01l5yh44w4km', 2, e'WebKit:

	- fixed 2895826 -- ICON: Need a "no plug-in" icon

        * Resources/nullplugin.tiff:
	new plug-in icon. Blue 3-D lego with question marks.

WebBrowser:

	- fixed 312965 -- SJ: Need Home button art with thinner lines
	- also added an all-purpose document icon with a compass instead
	of a spider, and a tweaked version of the app icon

        * Resources/Images/Home.tif:
        * Resources/Images/HomeDisabled.tif:
        * Resources/Images/HomePressed.tif:
        * Resources/compass.icns:
	new versions

        * document.icns: Removed.
	this was the spider, he\'s gone now but his name remains.

        * Resources/document.icns: Added.
	put it in here with the app icon.

        * WebBrowser.pbproj/project.pbxproj: updated for new/removed files


git-svn-id: svn://svn.chromium.org/blink/trunk@3114 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-12-18 04:17:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fca26bdced6d7376642df50abcd054d63ff1eeee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027o01l5zez9z1hj', 2, e'        Added support for Aki\'s 20% boost to line height.  This is
        done with a horrible hack and should be removed when 3129490
        is fixed.

        Reviewed by hyatt.

        * WebCoreSupport.subproj/WebTextRenderer.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@3113 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-18 03:41:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/528759e0cf60b82a5e7891ba2decb36c3c66b594');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027p01l5fm3mynhd', 2, e'        Reviewed by John.

	- fixed 3120729 - HOMEPAGE: Can\'t set a DIV innerHTML property
	with html content starting with <html><head><head/><body>

        * khtml/html/html_elementimpl.cpp:
        (HTMLElementImpl::createContextualFragment): Pop <html> and
	<body>, and remove <head> to allow a full HTML document to be made
	and inserted as a contextual fragment.


git-svn-id: svn://svn.chromium.org/blink/trunk@3112 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-18 03:24:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5dc85a8917209def751b91749cbe52a7e12d0334');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027q01l586d6moqd', 2, e'Alexander-39, submitting to B&I


git-svn-id: svn://svn.chromium.org/blink/trunk@3110 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-18 03:20:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/359fb037a45ea4222e0f05a560a13c4d401dbc24');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027r01l517y37qtb', 2, e'	Make sure that anonymous block construction works properly
	when you try to insert a block in between two inlines that
	have already been wrapped in an anonymous block.

        Reviewed by mjs

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::addChildToFlow):
        (RenderFlow::makeChildrenNonInline):


git-svn-id: svn://svn.chromium.org/blink/trunk@3109 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-18 00:53:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b13b573696d4f457c7412084359a0b3d3137eaa7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027s01l558vrzcjt', 2, e'Alex-38


git-svn-id: svn://svn.chromium.org/blink/trunk@3107 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-18 00:34:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dd2cef66f4aeedf53f34637f70bfa20dc314a3a3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027t01l5p0fhj95f', 2, e'        Fixed 3127932.  Added WebFrameLoadTypeReloadAllowingStaleData to cases that do not
        get cached in the b/f cache.

        Reviewed by trey.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _setState:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3106 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-17 23:41:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cc98edbc5f5a0409a8cc3bcca5887b3092cd7cda');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027u01l59lsmrxfe', 2, e'        Fixed 3128794.  Use CG directy to get font metrics rather than the appkit.  The appkit
        has a bug that sometimes causes line height to be 20% too large.


git-svn-id: svn://svn.chromium.org/blink/trunk@3105 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-17 22:53:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8751ea8608aaf49fa5516135e3de0a7248c1e9db');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027v01l5giwobpor', 2, e'WebKit:

	Reworking the code to update the page icon led me to roll the WebIconDB API
	for URL to NSString.  In addition, the vestigial "Site" was removed.

	Everything below is renaming, except where noted.

        Reviewed by Darin

        * English.lproj/StringsNotToBeLocalized.txt:
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem _retainIconInDatabase:]):
        (-[WebHistoryItem icon]):
        * Misc.subproj/WebIconDatabase.h:
        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase init]):
        (-[WebIconDatabase iconForURL:withSize:cache:]):  Use _web_isFileURL.
        (-[WebIconDatabase iconForURL:withSize:]):
        (-[WebIconDatabase retainIconForURL:]):
        (-[WebIconDatabase releaseIconForURL:]):
        (-[WebIconDatabase _iconDictionariesAreGood]):
        (-[WebIconDatabase _loadIconDictionaries]):
        (-[WebIconDatabase _updateFileDatabase]):
        (-[WebIconDatabase _iconForFileURL:withSize:]):  Cons up a NSURL to get the path.
	Test explicitly for .htm and .html suffixes.
        (-[WebIconDatabase _setIcon:forIconURL:]):
        (-[WebIconDatabase _setIconURL:forURL:]):
        (-[WebIconDatabase _releaseIconForIconURLString:]):
        (-[WebIconDatabase _retainFutureIconForURL:]):
        (-[WebIconDatabase _releaseFutureIconForURL:]):
        (-[WebIconDatabase _sendNotificationForURL:]):
        * Misc.subproj/WebIconDatabasePrivate.h:
        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader handleDidFinishLoading:]):
        * WebKit.exp:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _updateIconDatabaseWithURL:]):
        (-[WebDataSource _loadIcon]):

WebBrowser:

	3127109 - REGRESSION: generic favicon shown while page from same domain is loading

	We now avoid jumping to the generic icon when we\'re loading and are moving
	to a URL within the same domain as the current one.

	In addition, some name changes for the URL->NSString changes in the WebIconDB API.

        Reviewed by John

        * BookmarkSource.m:
        (-[BookmarkSource imageForContentItem:]):  Adopt API change.
        * BrowserWindowController.h:  New ivar, _acceptsGenericIcon.
        * BrowserWindowController.m:
        (-[BrowserWindowController windowDidLoad]):  Init new ivar.
        (-[BrowserWindowController acceptsGenericIcon]):  New getter.
        (-[BrowserWindowController setAcceptsGenericIcon:]):  New setter.
        (-[BrowserWindowController updateLocationFieldIcon]):  Obey new ivar as to
	we will accept a generic icon when updating.
        * LocationChangeHandler.m:
        (-[LocationChangeHandler locationChangeStartedForDataSource:]):  If the new URL
	is in the same site as the old one, avoid accepting a generic icon.
        (-[LocationChangeHandler locationChangeDone:forDataSource:]):  Reset _acceptsGenericIcon
        * NewBookmarksController.m:
        (-[NewBookmarksController awakeFromNib]):  Adopt API change.
        * TitleBarButton.m:
        (-[TitleBarButton drawPathRepresentingPopUpMenuForEvent:URL:]):  Adopt API change.


git-svn-id: svn://svn.chromium.org/blink/trunk@3104 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-17 22:12:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/95a50316c41c092ab385b73d9de9172974f3be8f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027w01l5561t4qnz', 2, e'WebFoundation:

	Fixed: 3113073 - link on http://studio.adobe.com/explore/ redirects to not found page in Alex

        Reviewed by darin.

        * Misc.subproj/WebNSStringExtras.m:
        (-[NSString _web_looksLikeAbsoluteURL]): trim whitespace because _web_URLWithString allows whitespace
        * Misc.subproj/WebNSURLExtras.m:
        (+[NSURL _web_URLWithString:]): trim whitespace because we shouldn\'t replace spaces with escape characters
        (+[NSURL _web_URLWithString:relativeToURL:]): trim whitespace because we shouldn\'t replace spaces with escape characters

WebKit:

	Fixed: 3113073 - link on http://studio.adobe.com/explore/ redirects to not found page in Alex

        Reviewed by darin.

        * Misc.subproj/WebNSPasteboardExtras.m:
        (-[NSPasteboard _web_bestURL]): don\'t trim whitespace because _web_URLWithString does this for us
        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView pluginURLFromCString:]): tweak


git-svn-id: svn://svn.chromium.org/blink/trunk@3103 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-17 21:58:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4dc21ef87a02a82633a38c12c5cfb5cd9be29e0e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027x01l5eoas6u5v', 2, e'        Reviewed by Darin.

	- fixed build; WebFileDatabase was importing a file that is internal

        * Database.subproj/WebFileDatabase.h: Don\'t import WebLRUFileList.h.
        * Database.subproj/WebFileDatabase.m: Do import WebLRUFileList.h.


git-svn-id: svn://svn.chromium.org/blink/trunk@3102 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-17 19:15:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2f70d351c1a8edb0b8eeac477c5a914ce8310c83');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027y01l5eftbbhx4', 2, e'WebKit:

	- to help with performance of various bookmark operations,
	added a call that returns the internal array of children,
	to complement the safer call that returns a copy.

        Reviewed by Darin

        * Bookmarks.subproj/WebBookmark.h:
	commented -children and new -rawChildren
        * Bookmarks.subproj/WebBookmark.m:
        (-[WebBookmark rawChildren]):
	new method, returns nil at this level.
        (-[WebBookmark contentMatches:]):
	use -rawChildren instead of -children

        * Bookmarks.subproj/WebBookmarkList.m:
        (-[WebBookmarkList rawChildren]):
	new method, returns internal array without copying

WebBrowser:

	- fixed 3129823 -- displaying many bookmarks in outline view is very slow

	Deployed new rawChildren call everywhere appropriate in WebBrowser. This
	prevents a lot of array-creation. On my machine, the time it takes to
	display a folder containing 1000 items went from 0.96 sec to 0.0084 sec.

        Reviewed by Darin

        * BookmarksController.m:
        (-[BookmarksController addChildrenOfBookmark:toMenu:]):
        (-[BookmarksController goToNthFavoriteLeaf:]):
        (-[BookmarksController _addBookmarksToMenu]):
        (-[BookmarksController mergeBookmarksFrom:to:]):
        (-[BookmarksController mergeBuiltInBookmarksIfNecessary]):
        (-[BookmarksController importInternetExplorerFavorites]):
        (-[BookmarksController updateBookmarkSources]):
        (-[BookmarksController favoriteBookmarks]):
        (-[BookmarksController addFavoriteBookmark:atIndex:]):
        (-[BookmarksController recursivelyAddChildFoldersOf:toMenu:withIndentationLevel:]):
	use -rawChildren instead of -children

        * BookmarksViewController.m:
        (-[BookmarksViewController newContentItemWithTitle:URLString:type:positionIgnoresSelection:]):
	use -rawChildren instead of -children
        (-[BookmarksViewController bookmarkSources]):
	use -rawChildren instead of -children
        (-[BookmarksViewController refreshContents]):
	log timing
        (-[BookmarksViewController canRemoveBookmarkSource:]):
	use -rawChildren instead of -children
        (-[BookmarksViewController deleteSelectedContentItems]):
	log timing
        (-[BookmarksViewController child:ofContentItem:usingSource:]):
	use -rawChildren instead of -children
        (-[BookmarksViewController outlineView:validateDrop:proposedItem:proposedChildIndex:]):
	use -rawChildren instead of -children
        (-[BookmarksViewController paste:]):
	log timing; use -rawChildren instead of -children
        (-[BookmarksViewController initWithBookmark:bookmark:]):
	use -rawChildren instead of -children

        (+[CompletionController _addBookmarkTree:]):
	use -rawChildren instead of -children
        (+[CompletionController _removeBookmarkTree:]):
	use -rawChildren instead of -children

        * FavoriteButton.m:
        (-[FavoriteButton _contentsMenu]):
	use -rawChildren instead of -children

        * WebBrowser.pbproj/project.pbxproj: version wars


git-svn-id: svn://svn.chromium.org/blink/trunk@3101 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-12-17 19:05:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/26e60b0d24828a3a07a0282e1ca10c98fd9be0ab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e027z01l5yns5odh1', 2, e'        Reviewed by Darin

	Fix for this bug:

	Radar 3128631 (WebFileDatabase walks its whole directory tree to expire files)

	Complete reworking of the way in which the disk cache database keeps track
	of the files on disk. This should result in fewer I/O operations, and
	should fix the extremely bad behavior that involved walking the entire
	disk cache tree evey time a single file needed to be deleted.

        * Database.subproj/WebFileDatabase.h: Use new WebLRUFileList code.
        * Database.subproj/WebFileDatabase.m: Ditto.
        * Database.subproj/WebLRUFileList.h: Added.
        * Database.subproj/WebLRUFileList.m: Ditto.
        * Misc.subproj/WebFoundationLogging.h: Added WebFoundationLogWebFileDatabaseActivity channel
        * Misc.subproj/WebFoundationLogging.m: Ditto
        * WebFoundation.pbproj/project.pbxproj: Added WebLRUFileList.


git-svn-id: svn://svn.chromium.org/blink/trunk@3100 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-17 17:20:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/07c0a474cb87ac555c6356315dec9eab38433d6c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e028001l5vxn0wzuo', 2, e'top level:

        Reviewed by Maciej.

	- remove leftover bits of NO_LICENSE

        * acconfig.h: Remove NO_LICENSE.
        * configure.in: Remove all the NO_LICENSE-related bits.

WebBrowser:

        Reviewed by Maciej.

	- remove leftover bits of NO_LICENSE

        * WebBrowser.pbproj/project.pbxproj: Remove build styles setting HAVE_CONFIG_H and also
	INCLUDE_TEST_SUITE too, because that hasn\'t been used anywhere for like forever.


git-svn-id: svn://svn.chromium.org/blink/trunk@3099 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-17 08:54:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4b9e57e3d4a19d2638596cba56a3a4a0537408bf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e028101l5uy7jgb6e', 2, e'top level:

        Reviewed by Don and Maciej.

        * force-clean-timestamp: Trigger a full build since we are setting
	MACOSX_DEPLOYMENT_TARGET to 10.2, which requires remaking all PFEs.

Tools:

        * Scripts/check-copyright: Added.

JavaScriptCore:

        Reviewed by Don and Maciej.

	- fixed 3129115 -- need Apple copyright added to open source documents

	* tons of files: Added our copyright to files we modified, and updated all to standard format.

	- other changes

        * JavaScriptCore.pbproj/project.pbxproj: Set MACOSX_DEPLOYMENT_TARGET to 10.2.
	Also removed completion.cpp.
        * kjs/completion.cpp: Removed.
        * kjs/completion.h: Made the Completion constructor inline.

        * kjs/grammar.y: Removed an obsolete "pretend ifdef". No need to put these in APPLE_CHANGES now.

WebFoundation:

        Reviewed by Don and Maciej.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.
        * WebFoundation.pbproj/project.pbxproj: Set MACOSX_DEPLOYMENT_TARGET to 10.2.

WebCore:

        Reviewed by Don and Maciej.

	- fixed 3129115 -- need Apple copyright added to open source documents

	* tons of files: Added copyright message to files we modified and
	standardized format of copyrights too.

	- fixed 3129235 -- assert in LRUList visiting apple.com if "Display images" preference is off

        * khtml/misc/loader.cpp:
        (Cache::getLRUListFor): Use the first list for 0-sized objects.
        (Cache::removeFromLRUList): Allow 0-sized objects.

	- other changes

        * khtml/rendering/render_style.h: Remove bogus unused private constructor.

        * kwq/KWQFont.h: Added copy constructor and assignment operator.
        * kwq/KWQFont.mm:
        (QFont::QFont): Copy constructor now retains the NSFont. The old version didn\'t which could
	cause retain/release problems.
        (QFont::operator=): Retain the new NSFont and release the old one.

        * WebCore.pbproj/project.pbxproj: Set MACOSX_DEPLOYMENT_TARGET to 10.2.

WebKit:

        Reviewed by Don and Maciej.

        * WebView.subproj/WebUserAgentSpoofTable.gperf: Added a couple of new domains to the list we
	spoof as Mac IE, and added comments.
        * WebView.subproj/WebUserAgentSpoofTable.c: Regenerated.

        * WebKit.pbproj/project.pbxproj: Set MACOSX_DEPLOYMENT_TARGET to 10.2

WebBrowser:

        Reviewed by Don and Maciej.

	- fixed 3106686 -- Remove "world leak" debugging window before beta

        * Test/PageLoadTestController.m:
        (-[PageLoadTestController windowDidLoad]): (Not part of the bug fix.) Changed the combo
	box so it automatically sizes to the number of pltsuite files so we don\'t have to edit
	the nib all the time.
        (-[PageLoadTestController anyWindowWillClose:]): Don\'t do any world leak test when the
	window closes. The one in the page load test window is still there.

        * Debug/DebugUtilities.m: (-[NSApplication validate_toggleAlwaysCheckForWorldLeaks:]):
	Don\'t enable or check the debug menu item at all. Put an ifdef in so we can turn it on later.

	- fixed 3124310 -- remove "app refuses to launch" code before shipping

        * main.m: (main): Remove all the licensing code.

	- other changes

        * BrowserNSNetServiceExtras.m: Made all locally-defined-and used functions static
	so we would know if any were unused and for cleanliness.
        (-[NSNetService hostName:andPort:]): Remove some silly assertions.
        (decode_name): Change printf for errors to ERROR.
        (decode_srv): Ditto.
	(decode_txt): Removed because it\'s unused.
        (skip_question): Ditto.
        (MyDictionaryKeyHashCallBack): Removed silly assertion.
        (MyCreateCFDictionaryFromTXT): Ditto.

        * WebBrowser.pbproj/project.pbxproj: Set MACOSX_DEPLOYMENT_TARGET to 10.2


git-svn-id: svn://svn.chromium.org/blink/trunk@3098 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-17 08:09:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e6dac52b084ed4396086484a7bc00e158d288bc1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnpa3e028201l5an6lyz4k', 2, e'        Reviewed by Darin.

	- fixed 3125283 - HOMEPAGE: in onload of an IMG, the width and height are equal to zero

	There were two problems here. First, the calls to get image width
	and height didn\'t force a layout in all the cases where it was
	required. Second, layout wouldn\'t lay out images at all until
	parsing was done, due to a hack to block inline layout until that
	point. I\'m not sure if this will have other bad consquences, but
	nearly every page I tried, including Hebrew and Japanese pages as
	well as every page on the base PLT laid out properly.

        * khtml/html/html_imageimpl.cpp:
        (HTMLImageElementImpl::width): Force a layout if not laid out.
        (HTMLImageElementImpl::height): Likewise.
        * khtml/html/htmlparser.cpp:
	(KHTMLParser::insertNode): Remove setBlockBidi hack - this was
	preventing images from getting laid out until the document was
	totally done parsing.
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::RenderFlow): More setBLockBidi removal.
        (RenderFlow::layout): Likewise.
        (RenderFlow::close): Likewise.
        (RenderFlow::addChildToFlow): Likewise.
        (RenderFlow::printTree): Likewise.
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3097 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-17 07:00:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d8370007a5117ce246af32b4ede7ff2240a66156');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026f01l5zt0dekba', 2, e'forgot to check in new sourceversion earlier - 38


git-svn-id: svn://svn.chromium.org/blink/trunk@3096 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-17 02:30:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a98d4ee8dbbc449c046949eff36b4712c636ac3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026g01l5x8w1vvd4', 2, e'	When a clear occurs (thus causing a block to move underneath
	a float), make sure the block gets a fresh layout, so that it
	can readjust its contents now that they don\'t have to flow
	around the float.

        Reviewed by darin

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@3095 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-17 01:51:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2958605caea7fd5cf4c65a602e249c7f01cd68bf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026h01l57921h2o1', 2, e'	Fixed: 3129503 - Crash cancelling download after closing browser window that started download

        Reviewed by rjw.

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setLoading:]): Added comment about our tragic dependence on a non-retained reference to the controller.
        (-[WebDataSource _recursiveStopLoading]): Call webFrame before calling _stopLoading because we release the controller in _stopLoading and we depend on it in webFrame.


git-svn-id: svn://svn.chromium.org/blink/trunk@3094 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-17 01:38:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e978bf9d770392b4041d0a98916cc3e1b8c74ad0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026i01l541p7gf7k', 2, e'        Fixed 3128477.  Check KJS::Window before saving js objects.

        Reviewed by darin.

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::saveWindowProperties):
        (KWQKHTMLPart::saveLocationProperties):
        (KWQKHTMLPart::restoreWindowProperties):
        (KWQKHTMLPart::restoreLocationProperties):


git-svn-id: svn://svn.chromium.org/blink/trunk@3093 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-17 01:32:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0a18325f06d67f768ea0e59077df6b46311137d2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026j01l5m04xb7ri', 2, e'submitting to B&I. Alexander-37


git-svn-id: svn://svn.chromium.org/blink/trunk@3091 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-17 00:50:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9bcdef3917f3927e270468c136a9de10c5338bfb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026k01l5yh3aq5r1', 2, e'        Reviewed by Darin.

	- fixed 3125412 - HOMEPAGE: 2nd load of html in the same div fails.
	- fixed 3052113 - HOMEPAGE: "site menu" part of .mac home page editing doesn\'t work
	- fixed 3075392 - HOMEPAGE: "pages" section of mac.com homepage editing is missing

        * khtml/html/html_baseimpl.h:
        * khtml/html/html_baseimpl.cpp:
        (HTMLFrameElementImpl::updateForNewURL): Function that loads new URL,
	to be called if src attribute is set explicitly and the element is already
	attached.
        (HTMLFrameElementImpl::parseAttribute): Call updateForNewURL when src
	attrinute is set.
        (HTMLFrameElementImpl::contentDocument): Don\'t involve render widget
	in getting the content document.
        * khtml/html/html_elementimpl.cpp:
        (HTMLElementImpl::createContextualFragment): Allow contextual
	fragments to be created (and therefore innerHTML to be set on) TR
	and HTML elements.


git-svn-id: svn://svn.chromium.org/blink/trunk@3090 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-16 22:33:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1a61a88b16ea63afdbb85204cf31609a2ee6a57d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026l01l5mwlnkb4o', 2, e'	Use the layer\'s bounds as the damage rect not the object\'s.
	The layer knows about the overflow out of the object.  The
	object does not.  Duh.

	Fixes disney.com bustage.

        Reviewed by sullivan

        * khtml/rendering/render_layer.cpp:
        (RenderLayer::constructZTree):


git-svn-id: svn://svn.chromium.org/blink/trunk@3089 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-16 22:32:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/872a665c1ffdab8c10eb885f67afe9cac09c23ea');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026m01l5kjwc3pp2', 2, e'	Code needs to go in calcMinMaxWidth instead, so parents computing
	their own minmax widths will get the correct value during the ifrst
	pass.  With this change weather.com is actually fixed.

        Reviewed by mjs

        * khtml/rendering/render_box.cpp:
        (RenderBox::calcWidth):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::calcMinMaxWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@3088 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-16 22:01:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bb8da905f157bd8cf61fbc11af570d9b86d13f84');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026n01l56d1n5jln', 2, e'	Fix for 3128843, horked layout on weather.com.  Ensure that
	overflow: hidden elements bounds-check their minwidth and maxwidth
	values to ensure that you don\'t grow the clipped element.

        Reviewed by mjs

        * khtml/rendering/render_box.cpp:
        (RenderBox::calcWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@3087 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-16 21:42:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ac8c404e0e5da4d4894d2cc44ec1668e48953c0d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026o01l5qdbvxwfz', 2, e'	3129175 - we\'re doing needless GETs when using b/f cache

	Turns out that an empty UserStyle was causing WebCore to reload the base URL
	of the page, since it tried to load the style "".

        Reviewed by Darin

        * khtml/khtml_part.cpp:
        (KHTMLPart::reparseConfiguration):  Of the UserStyle is empty, set it to an
	empty string instead of an empty URL.


git-svn-id: svn://svn.chromium.org/blink/trunk@3086 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-16 19:46:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f5924401156f535e7eb2025a1f9b04c6355bca02');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026p01l5jl7uiyhd', 2, e'        Reviewed by Darin.

	- fixed 3129008 - REGRESSION: Successive hot/cached runs of cvs-base PLT are slightly slower

	This was due to me reintroducing a leak of the document. Now fixed.

        * khtml/ecma/kjs_dom.cpp:
        (DOMDocument::~DOMDocument): forget self from cached DOM object table.
        (KJS::getDOMDocumentNode): Instead of storing the document in the
	marked per-document table, store it in the unmarked table, and as
	a property on the Window object.
        (KJS::getDOMNode): use getDocumentNode when appropriate.
        * khtml/ecma/kjs_dom.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3085 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-16 19:07:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/27e89453a6f2d3fc94416432f9cd45374ab0d948');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026q01l5szij2wxq', 2, e'        Reviewed by Darin

	Fix for these bugs:

	Radar 3128622 (files that can\'t be mmap\'d are opened twice)
	Radar 3128624 (names of "not mappable" files kept in ever-growing set)

	It turns out that simply reading in the bytes using the NSData
	initWithContentsOfFile: method is faster than attempting to mmap
	disk cache files to read them.

	Since the mmap code is now removed, the issues raised by the bugs
	simply go away.

        * Database.subproj/WebFileDatabase.m:
        (-[WebFileDatabase objectForKey:])


git-svn-id: svn://svn.chromium.org/blink/trunk@3084 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-16 17:27:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d3e29562482222334ac304fc738c5c15c766100d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026r01l5hho1a7xg', 2, e'	Fix for 3128728.  Ensure that list markers get placed into an
	existing line box if possible.  This patch also fixes RTL bullets
	and line height calculations involving image bullets that are the
	biggest thing on the line.  List markers also correctly move
	to avoid floats.

        Reviewed by mjs

        * khtml/rendering/render_list.cpp:
        (RenderListItem::setStyle):
        (getLineBoxParent):
        (RenderListItem::layout):
        (RenderListMarker::calcMinMaxWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@3083 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-16 10:39:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0a6f7dfad26f5558d6024a6f85e745a992023cb2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026s01l59i0iv25a', 2, e'	Fix for 3128728.  Ensure that list markers get placed into an
	existing line box if possible.  This patch also fixes RTL bullets
	and line height calculations involving image bullets that are the
	biggest thing on the line.  List markers also correctly move
	to avoid floats.

        Reviewed by mjs

        * khtml/rendering/render_list.cpp:
        (RenderListItem::setStyle):
        (getLineBoxParent):
        (RenderListItem::layout):
        (RenderListMarker::calcMinMaxWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@3082 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-16 10:38:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/004b206fd7898e440a7fb3d16c97e0db1e611433');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026t01l5j3pbkvyr', 2, e'        Reviewed by no one but it\'s just a version bump.

        * WebKit.pbproj/project.pbxproj: Bump version to 37u3


git-svn-id: svn://svn.chromium.org/blink/trunk@3080 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-16 08:53:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0bad1a4a1653985f25e753b373d5bbc1edc616cd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026u01l5la5y6gic', 2, e'        Reviewed by Maciej.

	- fixed 3128858 -- Supply Finder bits for decoded BinHex files

        * Downloads.subproj/WebBinHexDecoder.h: Add a _finderFlags field.
        * Downloads.subproj/WebBinHexDecoder.m:
        (-[WebBinHexDecoder decodeHeader]): Decode Finder flags.
        (-[WebBinHexDecoder fileAttributes]): Put Finder flags in dictionary.

        * Downloads.subproj/WebMacBinaryDecoder.m: Tweaked things for no good reason.
	(It is good to always import your own header first as a check that it\'s self-sufficient).

        * WebKit.pbproj/project.pbxproj: Let Electron wipe the slate clean of pre-Electron iniquity.


git-svn-id: svn://svn.chromium.org/blink/trunk@3079 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-16 08:36:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c7b348718fcc19054f0d0f1c75691000bba24a04');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026v01l5iuhfix2q', 2, e'        Reviewed by Maciej.

	- fixed 3128766 -- macconnection.com tries to add properties to the navigator DOM object, which fails

        * khtml/ecma/kjs_window.cpp: (Window::get): Set up properties named navigator and clientInformation
	the first time either is queried. These will hold a persistent shared object rather than making one
	every time it\'s asked for.

        * WebCore.pbproj/project.pbxproj: Let Electron undo Maciej\'s evil.


git-svn-id: svn://svn.chromium.org/blink/trunk@3078 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-16 08:16:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6520895be2d03ae68be5024fb8d89ede6f48b2fe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026w01l52krywvc3', 2, e'WebFoundation:

	Fixed: 3094928 - Apply Finder bits to decoded downloads

        Reviewed by darin.

        * Misc.subproj/WebNSFileManagerExtras.h:
        * Misc.subproj/WebNSFileManagerExtras.m:
        (-[NSFileManager _web_createFileAtPath:contents:attributes:]): new, creates file and sets Finder bits.

WebKit:

	Fixed: 3094928 - Apply Finder bits to decoded downloads

        Reviewed by darin.

        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler createFileIfNecessary]): call _web_createFileAtPath:contents:attributes: so we set Finder bits
        * Downloads.subproj/WebMacBinaryDecoder.h:
        * Downloads.subproj/WebMacBinaryDecoder.m:
        (-[WebMacBinaryDecoder decodeData:dataForkData:resourceForkData:]): save Finder bits
        (-[WebMacBinaryDecoder fileAttributes]): return Finder bits

WebBrowser:

	Fixed: 3094928 - Apply Finder bits to decoded downloads

        Reviewed by darin.

        * DownloadRow.m:
        (-[DownloadRow _updateIconAndFilename]): no changes, moved up
        (-[DownloadRow _stopProgressAnimation]): call _updateIconAndFilename so we pick up icon changes. The Finder will update the icon after we close the file if it has the custom icon bit.


git-svn-id: svn://svn.chromium.org/blink/trunk@3077 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-16 08:11:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6e49c3c371410aec33fec5714c75e0c0f74969ad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026x01l54vpdeymb', 2, e'        Reviewed by Darin.

        * JavaScriptCore.pbproj/project.pbxproj: Bump version to 37u2.


git-svn-id: svn://svn.chromium.org/blink/trunk@3075 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-16 07:37:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8efa028eb05474977ac25a9d3324d2d9d73123d9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026y01l5q8f3x2od', 2, e'        Reviewed by Darin.

	- fixed likely B&I build problem.

        * WebKit.pbproj/project.pbxproj: Get at other frameworks in B&I
	build. Bump version to 37u2.


git-svn-id: svn://svn.chromium.org/blink/trunk@3074 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-16 07:37:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5e986b303b9d9ffe9f5bb679600e3839cdcf3905');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu026z01l5ro7vrqi9', 2, e'        Reviewed by Dave.

	- implemented user-agent spoofing as described in bug 3044569

        * WebView.subproj/WebController.m: (-[WebController userAgentForURL:]):
	Find the suffix of the host name that contains exactly one dot, lower-case it,
	and look it up in the user-agent spoof table. For now, anything in the table
	pretends to be MacIE. Don\'t fret that this table is simple. We will complicate it
	as needed. The technique is flexible, even though it may not look it now.

        * WebView.subproj/WebControllerPrivate.h: Add userAgentWhenPretendingToBeMacIE field.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate dealloc]): Release userAgentWhenPretendingToBeMacIE.
        (-[WebController _defaultsDidChange]): Release and nil userAgentWhenPretendingToBeMacIE.

        * Makefile.am: Added rules to build WebUserAgentSpoofTable.c using gperf.
        * WebView.subproj/WebUserAgentSpoofTable.c: Added. Generated file.
        * WebView.subproj/WebUserAgentSpoofTable.gperf: Added. Table

        * English.lproj/StringsNotToBeLocalized.txt: Update for above changes.

	- fixed a crash I saw in a simplistic way

        * WebView.subproj/WebHTMLViewPrivate.m: (-[WebHTMLView _elementAtPoint:]):
	Don\'t assert if the webFrame is nil, just return a partial dictionary.


git-svn-id: svn://svn.chromium.org/blink/trunk@3073 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-16 05:50:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2bcf79e50356e44a08e5196a23d5eb083d975a00');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu027001l5w4tbaqis', 2, e'Tools:

        Reviewed by Darin.

        * Scripts/set-module-version: Accept `u\' in source version.

WebCore:

        Reviewed by Darin.

        * WebCore.pbproj/project.pbxproj: Updated source version to 37u2.


git-svn-id: svn://svn.chromium.org/blink/trunk@3072 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-16 05:00:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/31edc601acfa4b21bb6cdc82534ead60d01fc044');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu027101l59q4v899t', 2, e'        Reviewed by Trey.

	- fixed regression where clicked-on buttons were getting keyboard focus

        * kwq/KWQKHTMLPart.mm:
	(KWQKHTMLPart::khtmlMousePressEvent): Check clickCount here the way NSWindow does.
	See below for rationale.
	(KWQKHTMLPart::passWidgetMouseDownEventToWidget): I didn\'t read the code in
	[NSWindow sendEvent:] that I was stealing carefully enough. The old needsPanelToBecomeKey
	flag is used to decide whether something should really get first responder, and I need to
	do check that too. And while I was in here, did the same clickCount check that NSWindow
	does for good measure.


git-svn-id: svn://svn.chromium.org/blink/trunk@3071 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-16 04:14:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ad7a0a51cd543df7afa011e13b050c53490f8a95');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu027201l50yeso5mx', 2, e'        Reviewed by Darin.

	- fixed 3128383 - DOM nodes should always use the same JS object

        * khtml/ecma/kjs_binding.h:
        * khtml/ecma/kjs_binding.cpp:
        (ScriptInterpreter::ScriptInterpreter): Set auto-delete to true on
	document dictionary.
        (ScriptInterpreter::getDOMObjectForDocument): New function - gets
	DOM object from per-document dictionary.
        (ScriptInterpreter::putDOMObjectForDocument): New function - put
	DOM object into per-document dictionary.
        (ScriptInterpreter::deleteDOMObjectsForDocument): Clear all
	objects from specific per-document dictionary.
        (ScriptInterpreter::mark): Mark per-document objects.
	(ScriptInterpreter::forgetDOMObjectsForDocument): Clear objects
	for this document from all interpreters.
        * khtml/ecma/kjs_dom.h:
        * khtml/ecma/kjs_dom.cpp:
        (KJS::getDOMNode): Use per-document rather than general DOM object
	dictionary.
        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::~DocumentImpl): Call forgetDOMObjectsForDocument.


git-svn-id: svn://svn.chromium.org/blink/trunk@3070 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-16 03:05:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f20aaedfcee24d7cbaf547f792bdde7f28fe6209');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu027301l57att2bp0', 2, e'	Fix for 3057974 and 3128713.  I needed to make frames check to
	see if their parentNode had a renderer to complete the FOUC
	fix.  Completing the FOUC fix finally solves 3057974.

        Reviewed by darin

        * khtml/html/html_baseimpl.cpp:
        (HTMLFrameElementImpl::attach):


git-svn-id: svn://svn.chromium.org/blink/trunk@3069 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-16 02:42:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b651915da95187aedd4530afc8e129a51559b52a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu027401l5llr9fj14', 2, e'	Fix for 310921, epinions page is mostly blank.  Add a hack
	to disallow > but only inside attribute values for which there
	is no corresponding attribute name.

	Also fix attribute values with no name so that the value is
	used as the name so that e.g., <option "selected"> works.

        Reviewed by darin

        * khtml/html/htmltokenizer.cpp:
        (HTMLTokenizer::HTMLTokenizer):
        * khtml/html/htmltokenizer.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3068 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-16 01:51:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c56caac2c6bb41e228423424d23203fff5727512');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu027501l5aa0ums6c', 2, e'        Reviewed by Trey.

	- fixed 3128260 -- REGRESSION: context menus in frames are always the generic page menu

        * WebView.subproj/WebHTMLViewPrivate.m: (-[WebHTMLView hitTest:]):
	Check the control key in the mouse down event. If it\'s down, then do no magic.


git-svn-id: svn://svn.chromium.org/blink/trunk@3067 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-16 01:03:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/195a25460629fccf0266f01db838eebdb34c7497');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu027601l5t65aslt8', 2, e'        Reviewed by Dave.

	- fixed 3127900 -- REGRESSION: text fields select all their text when clicked on with the mouse

        * kwq/KWQKHTMLPart.h: Add _firstResponderAtMouseDownTime.
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::khtmlMousePressEvent): Don\'t call makeFirstResponder: if it\'s already set.
        (KWQKHTMLPart::passWidgetMouseDownEventToWidget): Using _firstResponderAtMouseDownTime, catch the
	case where an NSTextField\'s editor was just created and became first responder. In those cases,
	pass the mouseDown: to the text field, not the newly created editor. Even though it shouldn\'t make
	a difference it does. Also don\'t makeFirstResponder: if it\'s already set.
        (KWQKHTMLPart::mouseDown): Set _firstResponderAtMouseDownTime.

        * kwq/KWQWidget.mm: (QWidget::setFocus): Don\'t call makeFirstResponder: if it\'s already set.


git-svn-id: svn://svn.chromium.org/blink/trunk@3066 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-16 00:42:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/22de3c2da17f2242044f01f20dbc801470fb4257');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu027701l5y19bfpqe', 2, e'        Reviewed by Dave.

	- fixed 3128651 -- REGRESSION: Mouse wheeling is busted on frames pages

        * WebView.subproj/WebHTMLViewPrivate.m: (-[WebHTMLView hitTest:]):
	Only do the hitTest magic for left mouse downs; the rest of the clicks end up going
	to the correct view anyway, without our help. This makes this stop making trouble for
	the scroll wheel events.


git-svn-id: svn://svn.chromium.org/blink/trunk@3065 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-16 00:42:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/de72914501561c24908dff0b2bd88f7d7444b53b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp8eu027801l5ilnfc3iq', 2, e'	Make sure framesets don\'t get built twice when FOUC delays
	their loading.

        Reviewed by gramps

        * khtml/css/cssstyleselector.cpp:
        * khtml/css/cssstyleselector.h:
        * khtml/html/html_baseimpl.cpp:
        (HTMLFrameSetElementImpl::attach):
        * khtml/rendering/render_style.cpp:
        (RenderStyle::operator==):
        (RenderStyle::isStyleAvailable):
        * khtml/rendering/render_style.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3064 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-15 23:42:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c0773be3723d680dff211a75b1d8030766bd9f49');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025l01l5ex9iuqxt', 2, e'        Reviewed by Dave.

	- fixed ==/= typo in QFontMetrics that caused a part of my recent speedup to not take effect
	- fixed 3128582 -- REGRESSION: Crash on planetquake.com

        * kwq/KWQFontMetrics.mm:
	(QFontMetricsPrivate::setFont): Fix a horrifying "== instead of =" mistake.
        (QFontMetrics::ascent): Give an ERROR message, don\'t crash, when this is called on a
	font metrics object that hasn\'t been updated to work for a particular font.
        (QFontMetrics::descent): Ditto.
        (QFontMetrics::lineSpacing): Ditto.
        (QFontMetrics::xHeight): Ditto.
        (QFontMetrics::width): Ditto.
        (QFontMetrics::floatWidth): Ditto.
        (QFontMetrics::floatCharacterWidths): Ditto.

        * khtml/html/html_inlineimpl.cpp: (HTMLBRElementImpl::attach):
	Eliminated what was causing us to hit the above. BR elements need to respect display() == NONE.

	- fixed the fix for operator==; needs to work even if the pseudo type was
	  extracted already for one of the two, and not the other

        * khtml/css/cssparser.cpp:
        (CSSSelector::extractPseudoType): Only do work when the selector is Pseudo.
        (CSSSelector::operator==): Call pseudoType() instead of going right at _pseudoType.


git-svn-id: svn://svn.chromium.org/blink/trunk@3063 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-15 23:02:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/20ad2f6e44a6f510cbded7366b10caca04aa10c8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025m01l5wiq6accu', 2, e'	Fix for 3128402, missing content on voodooextreme.  Don\'t allow
	object/embed inside the head.

        Reviewed by cblu

        * khtml/html/dtd.cpp:


git-svn-id: svn://svn.chromium.org/blink/trunk@3062 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-15 22:34:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3f580f0822428d65d6c6976ab0d324cf9e505802');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025n01l5yrg5u3id', 2, e'        Reviewed by Ken.

	- fixed 3127898 -- Crash going to altavista.com after visiting sony.com

        * khtml/ecma/kjs_window.cpp: (Window::get): Change lots of properties to return "undefined"
	rather than crashing when the view is NULL. I\'m not sure that undefined is the perfect thing
	to return in this case, but it\'s better than crashing the program. We can refine later as needed.

	- fixed 3127157 -- REGRESSION: applet does not become first responder when clicked-on
	- fixed 3127934 -- Crash in KWQKHTMLPart::widgetWillReleaseView scrolling around

        * kwq/KWQKHTMLPart.h: Get rid of widgetWillReleaseView(). Add mouseDownViewIfStillGood().
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::passWidgetMouseDownEventToWidget): Call makeFirstResponder: in the same way that
	the NSWindow does before delivering a mouseDown: message. This oversight caused the applet problem.
        (findViewInSubviews): Added.
        (KWQKHTMLPart::mouseDownViewIfStillGood): Added. Gets _mouseDownView, but then checks that it\'s
	still a subview before returning it. A little inefficient, but the only way to do it given that
	there\'s no general way to find out that an NSView is being removed from your view hierarchy or deallocated.
	This fixes the crash in widgetWillReleaseView.
        (KWQKHTMLPart::khtmlMouseMoveEvent): Use mouseDownViewIfStillGood() instead of _mouseDownView directly.
        (KWQKHTMLPart::khtmlMouseReleaseEvent): Ditto.
        (KWQKHTMLPart::passSubframeEventToSubframe): Ditto.
        * kwq/KWQWidget.mm:
        (QWidget::~QWidget): Remove call to widgetWillReleaseView().
        (QWidget::setView): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@3061 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-15 20:18:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/24c51e7351ef61ee97e820f031216cb76c1fd926');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025o01l5ikrgut0t', 2, e'	operator== on CSSSelectors needed to be updated to compare
	_pseudoTypes.  A nice subtle bug from the mega-patch.

        Reviewed by mjs

        * khtml/css/cssparser.cpp:
        (CSSSelector::operator == ):


git-svn-id: svn://svn.chromium.org/blink/trunk@3060 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-15 11:23:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ba70f6a057f10a29f67b38a6806408f4e6a4ca36');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025p01l5z35tntw9', 2, e'	Fix for 312842, sans-serif font got broken.  Just a typo
	from darin\'s mega-patch.

        Reviewed by mjs

        * khtml/css/cssstyleselector.cpp:


git-svn-id: svn://svn.chromium.org/blink/trunk@3059 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-15 10:46:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7b68e02276dab16a8fd4fcdbba16d94c89302419');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025q01l59v19fgmy', 2, e'JavaScriptCore:

        Reviewed by Maciej.

        * JavaScriptCore.pbproj/project.pbxproj: Make dtoa.h visible as an SPI so I can
	use it inside QString.

WebFoundation:

        Reviewed by Maciej.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.

WebCore:

        Reviewed by Maciej and Dave.

	- optimizations that improve speed; total is 13.8% on cached cvs-base on my machine

        * khtml/css/css_valueimpl.h: Add isKonqBody() and genericFamilyType() to find out if
	a font is a standard one. This is much faster than doing string comparisons all the time.
        * khtml/css/css_valueimpl.cpp: (FontFamilyValueImpl::FontFamilyValueImpl):
	Check the font names against the standard ones on time when the FontFamilyValueImpl
	object is constructed rather than every time the stuff is matched.
        * khtml/css/cssparser.h: Add pseudoType() and extractPseudoType() to CSSSelector so we
	don\'t have to do string compares all the time.
        * khtml/css/cssparser.cpp:
        (StyleBaseImpl::parseValue): Use QConstString in a way that\'s effective (with an
	object that has a long enough lifetime), or don\'t use it at all.
        (StyleBaseImpl::parseContent): Ditto.
        (StyleBaseImpl::preprocess): Preprocess into a buffer, usually on the stack, rather than
	using QString += QChar over and over again.
        (CSSSelector::extractPseudoType): Convert the value string into a type, and get rid of it.
	Saves memory because the string goes away. And doing it once is much faster than string
	comparing each time.
        * khtml/css/cssstyleselector.cpp:
	(cleanPath): Restructure to save one find() in the common case.
	(checkPseudoState): Restructure to avoid some DOMString creation/destruction in the case
	where the tag is not an <A>. Also use QConstString correctly.
	(CSSStyleSelector::checkOneSelector): Use the new pseudoType() instead of string compares.
	(CSSStyleSelector::applyRule): Use isKonqBody() and genericFamilyType() instead of string
	comparisons.

        * khtml/dom/dom_string.h: Make the destructor non-virtual. This was a big win, and a mistake
	the way it was before. Also make the DOMString constructor with no parameters inline.
        * khtml/dom/dom_string.cpp:
        (DOMString::string): Don\'t use QConstString here, since it does no good.
        (DOM::operator==): Rewrite to do things faster and avoid calling strlen.

        * khtml/html/html_objectimpl.h: Don\'t use QConstString in places where it does harm and no good.
        * khtml/html/html_objectimpl.cpp: (HTMLEmbedElementImpl::parseAttribute): Use QConstString properly.

        * khtml/html/htmltokenizer.cpp:
        (tagMatch): Added.
        (HTMLTokenizer::parseSpecial): Change tokenizing so it doesn\'t construct temporary strings (with
	QConstString) just to compare small substrings.

        * khtml/khtml_part.cpp: (KHTMLPart::write): Don\'t use a decoder object when source is all ASCII.

        * kwq/KWQColor.mm:
        (hex2int): Don\'t bother with uppercase hex since we always lowercase anyway.
        (QColor::setNamedColor): Use a new gperf-based table instead of an NSDictionary to look up colors.
        * kwq/KWQColorData.c: Added this autogenerated file.
        * kwq/KWQColorData.gperf: Added. Source file with list of colors and color values.
        * kwq/Makefile.am: Build KWQColorData.c from KWQColorData.gperf.
        * WebCore.pbproj/project.pbxproj: Added KWQColorData.gperf.

        * khtml/misc/helper.cpp: (khtml::setNamedColor): Don\'t call setNamedColor again with the lowercased
	color name, since our QColor::setNamedColor already has to lowercase the name (because it has to check
	all names before checking any hex values).

        * khtml/rendering/font.h: Don\'t initialize the QFontMetrics since in every case we end up changing
	the font later anyway. Also remove unused field.
        * khtml/rendering/font.cpp: (Font::update): Use the new QFontMetrics::setFont for speed.

        * khtml/rendering/render_object.cpp: (RenderObject::enclosingLayer): Change it so it doesn\'t get
	the layer twice. This function showed up on the sample so we know it\'s hot.

        * khtml/xml/dom_stringimpl.cpp: (DOMStringImpl::containsOnlyWhitespace): Did a faster implementation
	that doesn\'t call QChar::direction() except for non-ASCII characters.

        * kwq/KWQFontMetrics.h: Add empty constructor for use in font.cpp. Add accessor and setter for the
	font too. Made baselineOffset() inline since it\'s trivial.
        * kwq/KWQFontMetrics.mm:
	(QFontMetricsPrivate::QFontMetricsPrivate): Don\'t make the renderer until we use it.
	(QFontMetricsPrivate::getRenderer): Make it here.
	(QFontMetricsPrivate::font): Added.
	(QFontMetricsPrivate::setFont): Added. Dumps the renderer if the font is different.
        (QFontMetrics::QFontMetrics): Added empty constructor.
        (QFontMetrics::setFont): Added.

        * kwq/KWQKURL.mm: (KURL::parse): Avoid function call overhead calling strncasecmp and strncmp.
	Also made the check for localhost case insensitive.

        * kwq/KWQString.h: Remove _isUnicodeInternal and _isAsciiInternal, since they are trivially
	computed, and it saves time to not have that extra field to manipulate. Removed private
	data() function since it\'s the same as *dataHandle and not really more clear. Made ascii()
	and unicode() simpler and inline. Also made latin1() and getCFString() inline. Renamed
	QStringData to KWQStringData.
        * kwq/KWQString.mm:
        (QStringData::QStringData): Remove initializers for the xxxInternal.
        (QStringData::initialize): Removed some unnecessary if statements, and made a slight improvement
	in the case of a 0-length string that comes with a pointer for Unicode (can\'t do it in the
        char * case because it\'s a feature that\'s used).
        (QString::makeSharedNull): No need to set _isUnicodeInternal.
        (QStringData::~QStringData): Use the new functions instead of the old bits.
        (QStringData::increaseAsciiSize): Grow faster when we get to larger sizes where the "good size"
	call doesn\'t have as much of an effect. Simplified by removing unneeded code.
        (QStringData::increaseUnicodeSize): Ditto.
        (QStringData::makeAscii): Update for removal of _isAsciiInternal.
        (QStringData::makeUnicode): Update for removal of _isUnicodeInternal.
        (QString::detachIfInternal): Add this new inline to speed things up for the common case where
	there\'s no detaching needed.
        (QString::at): Simplify, there were excess if branches here.
        (QString::toDouble): Use kjs_strtod and don\'t copy the string using QCString for additional speed.
        (QString::lower): Don\'t detach if the string is already all lowercase. Added a FIXME about the
	code that assumes all "ASCII" bytes are truly ASCII. This code blurs the distinction between Latin-1
	and ASCII in a way that will not work right for Latin-1 characters in an 8-byte character QString.
        (QString::detachInternal): Update for removal of _isUnicodeInternal.
        (QString::detach): Removed a special case for shared_null that was dead code since shared_null has
	the _isUnicodeValid flag set.
        (operator==): Rewrote the comparison with char * to avoid the costly call to strlen.

        * Makefile.am: Updated the rules here so the force clean timestamp works right.
        * force-clean-timestamp: Touched this since the header dependencies don\'t seem right
	for the DOMString constructor change, at least.
	* WebCore-tests.exp: Exported a symbol now needed by tests since QString does more inlining.
	* WebCore-combined.exp: Re-generated.

WebBrowser:

        Reviewed by Maciej.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@3058 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-15 09:15:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d8945838a49b3c9b0e3600c3dae98d58e4d00bec');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025r01l5cu2daq9h', 2, e'        Reviewed by Darin.

	- slightly improved situation with 3124933 (abcnews.com leads to
	empty window with sheet complaining about javascript: URL); the
	popup window still comes up empty but it doesn\'t put up a sheet.

        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::openURLRequest): Handled "javascript:"
	URLs here.


git-svn-id: svn://svn.chromium.org/blink/trunk@3057 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-15 09:04:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd0c7b43970acfe7ecea1d8d8adbc327005ca124');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025s01l550doqm3u', 2, e'Reviewed by darin

* Debug/DebugUtilities.m:
(-[DebugUtilities userAgentSubmenuItem]):

Changed "PPC" in one user agent string to "PPC Mac OS X" used for
debugging.

Fixed 3127173 -- REGRESSION: fboweb.com renders incorrectly

Reviewed by darin

* English.lproj/StringsNotToBeLocalized.txt:
* WebView.subproj/WebController.m:
(-[WebController userAgentForURL:]):

Changed "PPC" in our user agent string to "PPC Mac OS X" in order to
match Mozilla and make the silly server-side user agent string checking
work at fboweb.com.  Actually, just "PPC " would work fine at
fboweb.com.  Go figure.


git-svn-id: svn://svn.chromium.org/blink/trunk@3056 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2002-12-15 08:24:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3be6f61607b2d1177be3ea6d96920ce7e2d24498');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025t01l5a5tepoxr', 2, e'	Fix insidemacgames.com.  Reinstate rules I removed
	and fix other rules to be !important so that the
	td[align=right] rules won\'t affect child tables
	with align=center.

        Reviewed by gramps

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@3055 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-15 07:39:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/197967683db4f01639db17cb8e849bd1b7fef62f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025u01l5qunqdfte', 2, e'	Fix for 3016385, menus on webreference.com don\'t show up.

	Fixes to make webreference.com menus show up.  This involved
	fixing layers to not clip positioned objects when overflow:hidden
	is set, fixing the stupid clip/sync layout hack for livepage
	so that it doesn\'t break webreference, and implementing
	navigator.productSub (right now the date is set to
	Christmas 2002).

        Reviewed by gramps/maciej.

        * khtml/ecma/kjs_navigator.cpp:
        (Navigator::getValueProperty):
        * khtml/ecma/kjs_navigator.h:
        * khtml/ecma/kjs_navigator.lut.h:
        * khtml/rendering/render_box.cpp:
        (RenderBox::getOverflowClipRect):
        * khtml/rendering/render_box.h:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layout):
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::paint):
        (RenderLayer::nodeAtPoint):
        (RenderLayer::constructZTree):
        * khtml/rendering/render_layer.h:
        * khtml/rendering/render_object.cpp:
        (RenderObject::setLayouted):
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3054 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-15 04:43:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fd2c345f5b01df80da3558c6bd6e2305d36ca67b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025v01l58k0s4lml', 2, e'        Reviewed by Ken.

	- further corrections to number printing.

        * kjs/ustring.cpp:
        (UString::from): Make number printing match the ECMA standard
	algorithm.


git-svn-id: svn://svn.chromium.org/blink/trunk@3053 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-15 03:33:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/64484bc056ae3f334b40f1bfe3514b9f47a04402');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025w01l5ec2qbgrx', 2, e'        Reviewed by Maciej

	Fix for this bug:

	Radar 3128159 (Netscape non-standard DOM event attribute "which" unsupported)

        * khtml/dom/dom2_events.cpp:
        (UIEvent::which): Added which() definition.
        * khtml/dom/dom2_events.h: Added declarations for which() functions in UIEvent.
        * khtml/ecma/kjs_events.cpp:
        (DOMUIEvent::getValueProperty): Added which property.
        * khtml/ecma/kjs_events.h: Ditto.
        * khtml/ecma/kjs_events.lut.h: File regenerated.


git-svn-id: svn://svn.chromium.org/blink/trunk@3052 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-15 01:48:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/97aefd832a4a6c2a5e8b3bd8c99ad3f05da4f68a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025x01l5mxpom9f6', 2, e'        Reviewed by Dave.

	- fix toString() conversion for numbers less than 1. Negative
	exponents are still wrong though (things like 1E-34).

        * kjs/ustring.cpp:
	(UString::from): Don\'t print empty string for numbers less than 1,
	and remember to add extra 0s after the decimal for negative
	decimal positions.


git-svn-id: svn://svn.chromium.org/blink/trunk@3051 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-15 00:37:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0a02cb33b18d935807e3ec02c8913f6f5f13ba92');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025y01l5ii7yd5d7', 2, e'        Fixed 3127310 and 3127920.

        Implemented findWordBoundary.  We now correctly detect word boundaries.
        This function makes use of carbon unicode utilities.

        With help from hyatt, made selection correctly account for render
        continuations.  This fixes many of the \'unable to select\' issues.

        Reviewed by trey and hyatt.

        * khtml/khtml_events.cpp:
        (khtml::MouseEvent::offset):
        * khtml/khtml_part.cpp:
        (findWordBoundary):
        (KHTMLPart::khtmlMousePressEvent):
        (KHTMLPart::khtmlMouseMoveEvent):
        * khtml/rendering/render_object.cpp:
        (RenderObject::checkSelectionPoint):
        * khtml/rendering/render_object.h:
        * khtml/rendering/render_text.cpp:
        (RenderText::checkSelectionPoint):
        * khtml/rendering/render_text.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3050 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-14 03:49:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/395130abbf2830b7c3d2eb0a8ecce594d481b716');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k025z01l5dzm5ci41', 2, e'        Reviewed by Don.

	- fixed build.

        * ForwardingHeaders/rendering/render_layer.h: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@3049 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-14 03:06:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e7586fa6ca99d01661736ea38ba4d3ca79370059');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026001l5e15rfwy8', 2, e'        Reviewed by Don.

        * khtml/dom/dom2_events.cpp:
        (UIEvent::layerX): Added to support nonstandard Mozilla
	event.layerX property.
	(UIEvent::layerY): Added to support nonstandard Mozilla
	event.layerY property.
        * khtml/dom/dom2_events.h:
        * khtml/ecma/kjs_events.cpp:
        (DOMUIEvent::getValueProperty): Implemented layerX and layerY
        * khtml/ecma/kjs_events.h:
        * khtml/ecma/kjs_events.lut.h:
        * khtml/xml/dom2_eventsimpl.cpp:
        (MouseEventImpl::MouseEventImpl): Added call to computeLayerPos.
        (MouseEventImpl::computeLayerPos): Compute layer position.
        (MouseEventImpl::layerX): Added.
        (MouseEventImpl::layerY): Added.
        (MouseEventImpl::initMouseEvent): Added call to computeLayerPos.
        * khtml/xml/dom2_eventsimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3048 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-14 02:42:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f9bf65dc12efa17d6fa09b589667a8a09c703fc2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026101l5usarn6wm', 2, e'	Fix for 314799, image at wired.com doesn\'t show up.  Block
	level replaced floating elements were being treated as though
	they didn\'t float.

        Reviewed by gramps

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@3047 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-14 02:14:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2894095a2c9ae900f25bc0a5ec641b4269e55ab9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026201l5opff8qhl', 2, e'        Reviewed by Don.

        * WebView.subproj/WebController.m: (-[WebController userAgentForURL:]):
	Add "(like Gecko)" string and change "WebKit" to "AppleWebKit".

        * English.lproj/StringsNotToBeLocalized.txt: Update for these changes.
        * Misc.subproj/WebUnicode.h: No need for & 0xFF since we cast to unsigned char.


git-svn-id: svn://svn.chromium.org/blink/trunk@3046 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-14 01:28:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/169a9e0a6d4d0dc9e8749794a524a6ee30f0a60e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026301l54kubysqg', 2, e'	Fix for 3098045.

	Do not treat XHTML-style tags e.g., <br/> or <table/> as
	self-closing.  This is absolutely wrong, and it does not
	match the behavior of other browsers.  According to the HTML4
	spec for parsing, / is an erroneous character and should simply
	be dropped, so <table/> should be treated like <table>.

	Fixes for crashes on glazman\'s blog and on tantek\'s blog.  Both
	still mis-render, but at least they don\'t crash.

        Reviewed by gramps (and darin too)

        * khtml/html/htmltokenizer.cpp:
	* khtml/rendering/render_container.cpp:
	* khtml/rendering/render_style.cpp:


git-svn-id: svn://svn.chromium.org/blink/trunk@3045 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-14 01:02:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ee2225ea491a1eadafa8fe44a662adbb15a0a6b2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026401l50kiaksh4', 2, e'WebKit:

	- WebKit part of fix for 3028061 -- visiting a bookmarked site
	that now has a site icon will not update bookmark\'s icon

	No longer store the icon in the WebHistoryItem, since there\'s no
	mechanism for keeping it fresh and telling interested clients
	when it changes. Instead, the latest icon is always returned from
	the icon database, and it\'s up to clients to get a fresh one when
	they notice that the icon for a URL has been updated.

        Reviewed by Darin

        * History.subproj/WebHistoryItem.h:
	remove _icon and _loadedIcon ivars

        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem dealloc]):
	don\'t release _icon
        (-[WebHistoryItem icon]):
	just return fresh icon from database, don\'t store
        (-[WebHistoryItem setURL:]):
	don\'t set _loadedIcon to NO

WebBrowser:

	- WebBrowser part of fix for 3028061 -- visiting a bookmarked site
	that now has a site icon will not update bookmark\'s icon

	This first cut, which fixes the bug completely, just tosses out
	the cached bookmark & history menus & tells the outline view to
	redisplay everything. We might improve this later, but in practice
	the only difference in behavior that this will cause is to make
	the Bookmarks menu rebuild itself from scratch when clicked on
	more often. (We can address that multiple ways, probably the best
	one being to make rebuilding much faster by using IconRefs instead
	of NSImages, see 3120678.)

        Reviewed by Darin

        * BookmarksController.m:
        (-[BookmarksController awakeFromNib]):
	register for icon-changed notifications
        (-[BookmarksController _receivedIconChangedNotification:]):
	mark menu dirty when any icon has changed

        * BookmarksViewController.m:
        (-[BookmarksViewController awakeFromNib]):
	register for icon-changed notifications
        (-[BookmarksViewController iconChanged:]):
	reload outlineview data when any icon has changed. Note that this
	has no effect when the outlineview is not showing.

        * GlobalHistory.m:
        (-[GlobalHistory _registerForHistoryNotifications]):
	register for icon-changed notifications
        (-[GlobalHistory receivedIconChangedNotification:]):
	mark menu dirty when any icon has changed
        (-[GlobalHistory receivedEntriesChangedNotification:]):
	removed wayward space character


git-svn-id: svn://svn.chromium.org/blink/trunk@3044 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-12-14 00:29:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/abb25c80fb3e3e526241adee12577afc226a697e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026501l5rtpbtotf', 2, e'changelog markers for B&I submission (I hope)


git-svn-id: svn://svn.chromium.org/blink/trunk@3042 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-13 22:59:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b08412d84f673ddbce4562bac669a9b6f15caed7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026601l5paiwaj2y', 2, e'WebKit:

        Reviewed by Maciej.

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.

WebBrowser:

        Reviewed by Maciej.

	- fix some relatively new messages to use curly apostrophes

        * AppController.m: (-[AppController confirmEmptyCache:]): One in here.
        * LocationChangeError.m: (-[LocationChangeHandler specializedMessageForError:]): Two in here.
        * English.lproj/Localizable.strings: Generated this.


git-svn-id: svn://svn.chromium.org/blink/trunk@3041 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-13 22:09:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/85f56cac777cfde7a8844111006530973d2036b8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026701l52insll0i', 2, e'	3108976 - assert _private provisionalItem in -[WebFrame(WebPrivate) _transitionToCommitted
	3108865 - frames not maintained going back at directory.apple.com

	Both bugs are fixed by the same small change.  We no longer try to inherit loadType
	across redirects.  Instead we just make sure the right thing happens in _transitionToCommitted:
	for redirects in the loadType=Standard case.

	3122721 - History stores both original and redirected sites

	Easy fix while in the neighborhood.  We just don\'t add to History when doing a redirect.

        Reviewed by rjw

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted:]):  On redirect, update the URL of the frame\'s current
	item, not the current item in the b/f list.  Also do not add to history on redirect.
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]):  Cut out funny business
	that tried to guess when to inherit loadtype across redirects.


git-svn-id: svn://svn.chromium.org/blink/trunk@3040 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-13 22:08:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a5b44cfafc04b7a6ccf98831e2c9f156029ba0eb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026801l5e4t3eahw', 2, e'	Two fixes.  Bugs are 3121024, which had to do with handling
	escaped characters in the CSS content property, and
	bug 3127375 (44854 in bugs.kde.org), which had to do with
	making sure table cells relayout properly when images load
	async.

        Reviewed by darin and john

        * khtml/css/cssparser.cpp:
        (StyleBaseImpl::parseContent):
        (StyleBaseImpl::isHexadecimal):
        * khtml/css/cssparser.h:
        * khtml/rendering/bidi.cpp:
        (RenderFlow::layoutInlineChildren):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layout):
        * khtml/rendering/render_flow.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3039 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-13 21:24:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8fa95572db9fb7f66db65bb666bbbbf755de863f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026901l5rhberx2j', 2, e'        Reviewed by Trey.

	- moved KWQFontFamily and KWQPageState to new homes

        * kwq/KWQFontFamily.h: Added.
        * kwq/KWQFontFamily.mm: Added.
        * kwq/KWQPageState.h: Added.
        * kwq/KWQPageState.mm: Added.
        * WebCore.pbproj/project.pbxproj: Added new source files.

        * kwq/KWQFont.h: Removed KWQFontFamily.
        * kwq/KWQFont.mm:  Removed KWQFontFamily.
        * kwq/WebCoreBridge.mm: Removed KWQPageState.


git-svn-id: svn://svn.chromium.org/blink/trunk@3038 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-13 21:13:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/137ff6a1cb4ca992bd48c200661322e32f79d8f3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026a01l5yv6fvlop', 2, e'        Reviewed by Ken.

	- fixed 3083814 - dhtml at www.bayarea.com doesn\'t hide on some mouse movements

        * khtml/ecma/kjs_events.h:
        * khtml/ecma/kjs_events.cpp:
        (DOMUIEvent::getValueProperty): Implemented pageX and pageY properties.
        * khtml/ecma/kjs_events.lut.h: Regenerated.
        * khtml/dom/dom2_events.h:
        * khtml/dom/dom2_events.cpp:
        (UIEvent::pageX): Get x coordinate if a mouse event.
        (UIEvent::pageY): Get y coordinate if a mouse event.


git-svn-id: svn://svn.chromium.org/blink/trunk@3037 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-13 19:24:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15066b1b1b4d4096d82917dea3403bb5be29c0c4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026b01l52ao3l1yv', 2, e'WebFoundation:
        Fixed 3127225.  Provide new SPI to get available system memory.
        (Also currently unused SPI to get number of processors.)

        Reviewed by gramps.

        * Misc.subproj/WebSystemBits.h:
        * Misc.subproj/WebSystemBits.m:
        (initCapabilities):
        (WebSystemMainMemory):
        (WebSystemProcessors):
        * WebFoundation.exp:
        * WebFoundation.pbproj/project.pbxproj:

WebCore:
        Fixed 3127225.  Set WebCore object cache size when first bridge is created.

        Reviewed by gramps.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge init]):

WebKit:
        Fixed 3127225.  Scale page cache based on available memory.
        Also added support for setting WebCore object cache size via
        a preference.
        Fixed 3126267.  Increase CG glyph cache size if font smoothing
        is turned on.

        Reviewed by gramps.

        * History.subproj/WebBackForwardList.m:
        (+[WebBackForwardList pageCacheSize]):
        * Misc.subproj/WebKitLogging.h:
        * Misc.subproj/WebKitLogging.m:
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge getObjectCacheSize]):
        * WebCoreSupport.subproj/WebTextRendererFactory.m:
        (getAppDefaultValue):
        (getUserDefaultValue):
        (getLCDScaleParameters):
        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]):
        (-[WebPreferences _pageCacheSize]):
        (-[WebPreferences _objectCacheSize]):
        * WebView.subproj/WebPreferencesPrivate.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3036 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-13 18:49:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/925c622e8505f02da717a5f7bb475375ebb5b49c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026c01l5fmgwh7xw', 2, e'	Fixed: 3105486 - c|net news.com site seems to have lost its favicon again

        Reviewed by darin.

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase _updateFileDatabase]): Only save icons with a size of 16 x 16 since that\'s the only size we use.


git-svn-id: svn://svn.chromium.org/blink/trunk@3035 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-13 18:27:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ee3ad0124eedeefdbb3696f44093f7d6b54ce9c8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73k026d01l5n9addn6s', 2, e'	Catch NULL status strings passed to NPN_Status.

        Reviewed by darin.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView status:]): check the incoming string before calling [NSString stringWithCString]


git-svn-id: svn://svn.chromium.org/blink/trunk@3034 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-13 18:04:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5439d19cfd743449dd56fe52f47078467e36876b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp73l026e01l5sn8epijh', 2, e'        Reviewed by John.

	Overall speedup on cvs-base is about 5%.

	- reduce QString use in the tokenizer and tighten up QString implementation for a speedup
	- fix up the QFontFamily implementation, using new QString features too, for a speedup

        * khtml/html/htmltokenizer.h: Take const QString & instead of QString to avoid an extra copy.
        * khtml/html/htmltokenizer.cpp:
        (HTMLTokenizer::begin): Use QString::null instead of "" for QString objects; faster.
        (HTMLTokenizer::scriptHandler): In APPLE_CHANGES, use new prepend that avoids the need to
	create a temporary QString. Use QString::null instead of QString() for a null string, and
	also made other small fixes to avoid temporary QStrings.
	(HTMLTokenizer::setSrc): Take const QString & instead of QString to avoid an extra copy.

        * kwq/KWQFont.h: Rename QFontFamily to KWQFontFamily. Make family() inline, add inline
	familyIsEmpty(). Change KWQFontFamily to store both the QString for the family and the
	NSString instead of only the NSString to avoid constant conversions back and forth.
	Remove type cases in CREATE_FAMILY_ARRAY that could result in copying the font object.
        * kwq/KWQFont.mm:
        (KWQFontFamily::KWQFontFamily): Fix bug where a copied family object would have a random
	ref count instead of a ref count of 0. Also update for NSString change.
        (KWQFontFamily::operator=): Use the ref before deref algorithm instead of the check for
	self-assignment.
        (KWQFontFamily::getNSFamily): Compute the NSString for the family name here. To avoid
	making an NSString every time, use a CFDictionary with QString as a key and NSString as
	a value instead of using an NSSet.
        (KWQFontFamily::setFamily): Invalidate the NSString family when the QString family is
	changed. Moved the code to make things unique to getNSFamily.
        (KWQFontFamily::operator==): Call getNSFamily rather than

        * kwq/KWQString.h: Added a prepend and insert overload that take a QChar pointer and length, for
	use in the tokenizer, and a hash function, for use in CFDictionary. Also added a global set of
	CFDictionaryKeyCallBacks.
        * kwq/KWQString.mm:
        (QString::prepend): New overload calls new insert overload.
        (QString::insert): Old insert slightly tightened by calling detach() only after the early exit
	and removing an extra detach from a function that already does forceUnicode. Added the new insert
	that takes a QChar * and a length.
        (operator==): Rewrite this so that it is efficient and doesn\'t involve creating a QString temporary
	or doing a function call.
        (QString::hash): Wrote this. Used the same hash algorithm I did in my recent KJS work.
        (retainQString): Added. For use in CFDictionaryKey callback.
        (releaseQString): Added. For use in CFDictionaryKey callback.
        (describeQString): Added. For use in CFDictionaryKey callback.
        (equalQString): Added. For use in CFDictionaryKey callback.
        (hashQString): Added. For use in CFDictionaryKey callback.

        * khtml/rendering/font.h: Change name to KWQFontFamily.
        * khtml/rendering/font.cpp: (Font::update): Call familyIsEmpty() instead of family().isEmpty()
	to avoid making and destroying a QString every time. Also put this batch of KWQFontFamily-specific
	changes inside #if APPLE_CHANGES. Much to my dismay, we have others elsewhere that aren\'t ifdef\'d.

        * khtml/css/cssstyleselector.cpp: (CSSStyleSelector::applyRule): Change name to KWQFontFamily.
	Clearly this code needs some #if APPLE_CHANGES, and changing the class name helps make that clear.

	- change KHTMLSettings so using it doesn\'t require copying QStrings for a speedup

        * kwq/KWQKHTMLSettings.h: Made all the functions static members to avoid the unnecessary
	overhead of passing a this pointer. Added lots of setXXX functions for use by the WebCoreSettings
	code that gets called by WebKit when settings are changed. Return objects by reference because we
	can and it avoids copying QString objects.
        * kwq/KWQKHTMLSettings.mm: Changed all the functions in here to return the same global object
	each time, and made the set functions update those globals.
        * kwq/WebCoreSettings.mm: All the setters now call through to KHTMLSettings set functions.

        - fixed 3126513 -- crash in KWQKHTMLPart::clearTimers() deallocating KWQPageState
	- did some cleanup in the bridge and the part; part of the process of moving real work out of the bridge

        * kwq/KWQKHTMLPart.h: Rearrange things to be a little more logical. Mark isFrameSet() const.
	added an attributedString function here so it\'s not inside WebCoreBridge. Added an overload
	of clearTimers that takes a view parameter.
        * kwq/KWQKHTMLPart.cpp: (KWQKHTMLPart::isFrameSet): Mark this const.
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::clearTimers): Add the overload that takes the view parameter.
        (KWQKHTMLPart::attributedString): Moved this code in here from the bridge.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge selectedAttributedString]): Call the attributedString function in its new home in
	KWQKHTMLPart.
        (-[WebCoreBridge attributedStringFrom:startOffset:to:endOffset:]): Ditto.
        (-[KWQPageState initWithDocument:URL:windowProperties:locationProperties:]):
	Take a const KURL & instead of a KURL to avoid unnecessary copying.
        (-[KWQPageState dealloc]): Call the new clearTimers that takes a view parameter. This should fix the
	crash in autorelease pool deallocation mentioned above.


git-svn-id: svn://svn.chromium.org/blink/trunk@3033 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-13 18:03:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6fa090dd3458cae296078e2c08fab13395c14223');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns024r01l5yaqwq4qs', 2, e'	Fix for 3121865, content missing at disney.com.  Make
	sure blocks track width overflow as well as height
	overflow and ensure that a layer\'s dimensions expand
	to encompass both width and height overflow.

	Also fixes a bug with line breaking that allowed unbreakable
	words to actually be broken up when they were the only word
	on a line.  This is wrong and differs from all other
	browsers, so the patch in bidi.cpp fixes us to match
	other browsers.  (This was required to fix the above bug.)

        Reviewed by mjs.

        * khtml/rendering/bidi.cpp:
        (RenderFlow::findNextLineBreak):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::RenderFlow):
        (RenderFlow::layout):
        (RenderFlow::layoutBlockChildren):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::updateLayerPosition):
        * khtml/rendering/render_object.cpp:
        (RenderObject::nodeAtPoint):
        * khtml/rendering/render_object.h:
        * khtml/rendering/render_table.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@3032 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-13 09:44:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff0359982f48a182d0946ab4a9bdd0520d74d7f1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns024s01l5b5khcrg8', 2, e'	3117101 - PLT slows down as history fills up

	I saw a 3% sloth effect from a huge (100k) history.  This change cut that cost in half.
	I think we still have a marginally measurable cost for our worst practical case.

        Reviewed by rjw

        * History.subproj/WebHistoryPrivate.m:
        (-[WebHistoryPrivate insertEntry:atDateIndex:]):  Comment.
        (-[WebHistoryPrivate removeEntryForURLString:]):  Use removeIdentical
	instead of remove, since we don\'t need to do all the equals comparisons.


git-svn-id: svn://svn.chromium.org/blink/trunk@3031 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-13 02:29:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/82f134a8465ac8d4fb8b16aee4220da21ba2320c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns024t01l53w4sgpwu', 2, e'WebKit:
        Reviewed by trey.  This change was actually made by trey.  It
        make the "Empty Cache" menu release the page cache.

        * AppController.m:
        (-[AppController confirmEmptyCache:]):

WebCore:
        Fixed 3116584.  Made letter-spacing, word-spacing, and text-decoration play
        well together.
        Reviewed by hyatt.

        Changes made with trey to enable to release of page cache from the
        "Empty Cache" menu item in Alex.
        Reviewed by trey.

        * khtml/rendering/font.cpp:
        (Font::drawLineForText):
        (Font::drawText):
        * khtml/rendering/font.h:
        * khtml/rendering/render_text.cpp:
        (TextSlave::paintDecoration):
        (RenderText::paintObject):
        * khtml/rendering/render_text.h:
        * kwq/KWQPainter.h:
        * kwq/KWQPainter.mm:
        (QPainter::drawLineForText):
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge dealloc]):
        (-[WebCoreBridge openURL:reload:headers:lastModified:pageCache:]):
        (-[KWQPageState invalidate]):
        (-[KWQPageState dealloc]):
        * kwq/WebCoreTextRenderer.h:

WebKit:
        Changes to fix 3116584.
        Reviewed by hyatt.

        Changes to support emptying the page cache from the
        "Empty Cache" menu.
        Reviewed by trey.

        * ChangeLog:
        * History.subproj/WebBackForwardList.h:
        * History.subproj/WebBackForwardList.m:
        (-[WebBackForwardList clearPageCache]):
        * History.subproj/WebHistoryItem.m:
        (+[WebHistoryItem _scheduleReleaseTimer]):
        (-[WebHistoryItem _scheduleRelease]):
        (+[WebHistoryItem _releasePageCache:]):
        (-[WebHistoryItem setHasPageCache:]):
        * WebCoreSupport.subproj/WebTextRenderer.m:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _opened]):

Tests:
        * html/letterspacing.html:


git-svn-id: svn://svn.chromium.org/blink/trunk@3030 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-13 02:19:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/37a1ee4d184110fdd79b1c9e6ee5fd2bef9d4694');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns024u01l59lsi007e', 2, e'Fixed up the reviewer line from my last commit.


git-svn-id: svn://svn.chromium.org/blink/trunk@3029 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-13 00:12:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0327ea4b30d87c9d165aec739651301de9e4e8e3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns024v01l5l6q5tfho', 2, e'        Reviewed by NOBODY (OOPS!).

	Final fix for this bug:

	Radar 3062858 (REGRESSION: failed login at www.usaa.com doesn\'t return error text)

	We were down to a case where submitting the login form with the return key
	failed since we did not implement either non-standard keyCode (IE-style) or
	which (Netscape-style) UI event extension for getting the value of a key
	press. The form submission code depended on sensing the value of the
	key press by checking one of these properties.

	Since the "which" property also can be used for mouse events, and fixing
	this bug could be done by implementing either keyCode or which, I chose
	to implement keyCode only.

        * khtml/dom/dom2_events.cpp: Added keyCode function definition.
        * khtml/dom/dom2_events.h: Added keyCode function declaration.
        * khtml/ecma/kjs_events.cpp:
        (DOMUIEvent::getValueProperty): Added new KeyCode attribute.
        * khtml/ecma/kjs_events.h: New generated file.
        * khtml/ecma/kjs_events.lut.h: Ditto.
        * khtml/xml/dom2_eventsimpl.cpp:
        (KeyEventImpl::KeyEventImpl): Fixed a bug in khtml that prevented the
        m_keyVal field on KeyEventImpl from ever being set correctly.
        I guess I am the first person ever to care about that value. :-)


git-svn-id: svn://svn.chromium.org/blink/trunk@3028 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-13 00:09:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e26eaf32dd66ffb17c00c0b27c2963705c7c2be2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns024w01l57xkcnsz6', 2, e'version 37u ... tree is open


git-svn-id: svn://svn.chromium.org/blink/trunk@3027 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-12 23:03:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/242e2feb1906e264c5c8faaca35d4953d9d9604d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns024x01l5u6mn34ob', 2, e'Alex-36 versions


git-svn-id: svn://svn.chromium.org/blink/trunk@3025 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-12 23:01:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6f021347e2e0f9b142cc9f3d7b444fdcedf94a98');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns024y01l5xm8tyl9m', 2, e'        Reviewed by Ken.

	- fixed 3126042 -- Failure to send onkeypress event on key down causes forms to submit incorrectly

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::keyEvent): Fixed the code to send the second event with repeat
	set equal to true. Before it was constructing the event but never sending it because result was true.
	Also fixed a problem where it was considering sending a second mouse up event. What we\'re doing here
	is a bit of a hack and probably should be fixed -- it seems that the behavior in dispatchKeyEvent where
	it sends only a down and not a press for the a non-autorepeat event is a KHTML bug that we should fix
	instead of work around eventually.

        - fix to something that made this harder to debug

        * khtml/xml/dom2_eventsimpl.cpp: (KeyEventImpl::KeyEventImpl): Logging the type was showing the wrong
	type, and I narrowed it down to this code here. Changing m_id after the fact doesn\'t change the type
	string, so you need to compute the correct ID and pass it to the constructor.


git-svn-id: svn://svn.chromium.org/blink/trunk@3024 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-12 20:48:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7a422ce30b56f23382514fe60f1809a4f9906d77');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns024z01l564ri0gsn', 2, e'i        Change relating to 3083287.  This doesn\'t fix the problem but
        flips the geometry calcs to get most incremental images to draw
        correctly.  .mac now slideshows draw with the incorrect sliding
        behavior while loading.

        3083287 has been moved to 0.9/1.

        Reviewed by darin.

        * WebCoreSupport.subproj/WebImageRenderer.m:
        (-[WebImageRenderer incrementalLoadWithBytes:length:complete:]):
        (-[WebImageRenderer drawClippedToValidInRect:fromRect:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3023 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-12 20:42:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d4fc1055fce85b1a43d480aeef075348298f5e5f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025001l53og4gukb', 2, e'        Reviewed by Ken.

	- fixed 3125886 -- Failure to set document onkeypress handler causes return key to submit forms incorrectly

	The handler was getting ignored because the property setting code never got to the DOMNode level.

        * khtml/ecma/kjs_dom.cpp: (DOMDocument::tryPut): Pass correct parent class, DOMNode, instead
	of DOMObject. By passing DOMObject, we skipped all the properties inherited from DOMNode,
	including onkeypress.


git-svn-id: svn://svn.chromium.org/blink/trunk@3022 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-12 19:46:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b99df0c0e4341e8d89f8acb44cbb1e9ab68cf515');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025101l5pr06jv4g', 2, e'        Reviewed by Trey and Ken.

	- fixed 3125613 -- REGRESSION: resizing frames after clicking on scroll bar doesn\'t work right

        The problem was that the mouse dragged events were going to the scroll bar because the new click
        on the frame resizer didn\'t fall into the code path that sets _mouseDownView.

        * kwq/KWQKHTMLPart.h: Add override of khtmlMouseMoveEvent.
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::passWidgetMouseDownEventToWidget): Don\'t set _mouseDownView. This is now handled
	at the higher level when the mouseDown comes in.
        (KWQKHTMLPart::khtmlMouseMoveEvent): Added. Pass along mouseDragged: events. I didn\'t have this
	before because I don\'t want or need to pass mouseMoved: events along, but the KHTML mouse move
	event corresponds to both AppKit mouseDragged and mouseMoved.
        (KWQKHTMLPart::khtmlMouseReleaseEvent): Don\'t clear _mouseDownView. This is now handled at the
	higher level when the mouseUp comes in.
        (KWQKHTMLPart::passSubframeEventToSubframe): Ditto.
        (KWQKHTMLPart::mouseDown): Set _mouseDownView to nil; it will be set by passWidgetMouseDownEventToWidget
	if we end up passing the event down. This is the change that actually fixes the bug mentioned above.
        (KWQKHTMLPart::mouseUp): Set _mouseDownView to nil after handling the mouseUp. It\'s OK if we don\'t
	clear this out in cases where we don\'t get a mouseUp event -- we\'ll get a mouseDown later -- but it\'s
	still probably a good idea to clear it when we know the mouse is no longer down.

	- used update-kwq-assert to update the code that\'s a shared copy of WebFoundation code

        * kwq/KWQAssertions.m: (vprintf_stderr_objc): Got the UTF-8 fix I did a while back.


git-svn-id: svn://svn.chromium.org/blink/trunk@3021 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-12 18:54:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4c7fecf9d07b5da623a2cf2eab4e78c2ef97ca46');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025201l55tcecuqa', 2, e'	Fixed 3094525 - Need to use SPI to fix flipped drag image problem

	We call the new SPI.  I also had to rework the dissolve steps to get it
	to non flip the image in Panther in millions (but leave the old code for
	the Jaguar case).

        Reviewed by cblu

        * Misc.subproj/WebNSImageExtras.m:
        (+[NSImage load]):  Call the SPI.
        (-[NSImage _web_dissolveToFraction:]):  Add new way of building the image for Panther.


git-svn-id: svn://svn.chromium.org/blink/trunk@3020 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-12 17:15:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bbdb06a0257b432009a8e41352650f59633429b6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025301l571zg5lpw', 2, e'WebFoundation:

        Reviewed by Maciej.

	- fixed most likely cause of 3125565 -- 2% regression running the PLT for uncached loads

        * Misc.subproj/WebNSUserDefaultsExtras.m:
        (+[NSUserDefaults _web_defaultsDidChange]): Added. Clears out cache when defaults change.
        (+[NSUserDefaults _web_addDefaultsChangeObserver]): Added. Sets up the above to run at the right time.
        (+[NSUserDefaults _web_acceptLanguageHeaderForPreferredLanguages]): Changed to cache the result in a
	global and regenerate it when the global is cleared.
        (+[NSUserDefaults _web_preferredLanguageCode]): Ditto.

WebKit:

        Reviewed by Maciej.

        - fixed most likely cause of 3125565 -- 2% regression running the PLT for uncached loads

        Don\'t recompute the user agent when it doesn\'t change. It almost never changes.

        * WebView.subproj/WebController.m:
        (-[WebController initWithView:controllerSetName:]): Add observer so we know when defaults change.
        (-[WebController dealloc]): Remove observer.
        (-[WebController setApplicationNameForUserAgent:]): Clear out computed user agent to force it
	to be recomputed later.
        (-[WebController applicationNameForUserAgent]): Just retain since we copied when we stored it
	so we know it\'s not mutable.
        (-[WebController customUserAgent]): Ditto.
        (-[WebController userAgentForURL:]): Use the cached user agent if it\'s good. Otherwise compute
	and cache the user agent string. This means that we will almost never recompute it.

        * WebView.subproj/WebControllerPrivate.h: Add userAgent field to cache in.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate dealloc]): Release userAgent.
        (-[WebController _defaultsDidChange]): Release and nil userAgent.


git-svn-id: svn://svn.chromium.org/blink/trunk@3019 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-12 10:56:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5712b2d952a086adca676bebcb214bf1b7c93d3b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025401l5vbmgddqq', 2, e'JavaScriptCore:

        Reviewed by Darin.

	- fixed 3056449 - can\'t select state at tucows.com

        * kjs/array_instance.h:
        * kjs/array_object.cpp:
	(ArrayInstanceImp::propList): Add numeric proprties that are in
	special storage.
        * kjs/array_object.h:
        * kjs/object.h: Make propList a virtual method.

WebCore:

        Reviewed by Darin.

        * force-js-clean-timestamp: Update for JavaScriptCore changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@3018 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-12 10:38:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d97553903d97e7340185122af9c4ff0ecb193b3a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025501l57n2drhy2', 2, e'WebCore:

        Reviewed by Maciej.

	- fixed 3125504 -- REGRESSION: Selection not working correctly for text area on http://glish.com/css/7.asp

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::khtmlMousePressEvent): Call makeFirstResponder here explicitly,
	since we are disabling the makeFirstResponder that normally happens during window event dispatching
	in WebKit.

        * kwq/KWQScrollView.h: Define getDocumentView().
        * kwq/KWQScrollView.mm: Use getDocumentView() everywhere.
        (QScrollView::getDocumentView): Define it here.

WebKit:

        Reviewed by Maciej.

	- fixed 3125504 -- REGRESSION: Selection not working correctly for text area on http://glish.com/css/7.asp

	The problem is that the text area lost its first responder status because WebHTMLView took the click,
	and NSWindow wanted WebHTMLView to become first responder too.

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView acceptsFirstResponder]):
	Don\'t allow the NSWindow to make this the first responder during the early part of mouseDown event
	handling. But do allow anyone else to make this the first responder, for example from keyboard events,
	or from calls back from WebCore once we begin mouse-down event handling.


git-svn-id: svn://svn.chromium.org/blink/trunk@3017 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-12 10:31:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/83a485c149ae8ad6343cc942f858dc4d8de1e53c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025601l5fth5rf1y', 2, e'WebCore:

        Reviewed by Maciej and Richard.

	- fixed 3125497 -- REGRESSION: Infinite recursion with mouseUp: events

	The problem was that events could end up back at the same part due to the responder chain.

        * kwq/KWQKHTMLPart.h: Added mouseDown, mouseDragged, mouseUp, mouseMoved, buttonForCurrentEvent,
	and stateForCurrentEvent. Remove setCurrentEvent and currentEvent. Renamed handleMouseDownEventForWidget
	to passWidgetMouseDownEventToWidget. John and I had agreed to this name change before the last commit,
	but I forgot.

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::KWQKHTMLPart): Initialize _sendingEventToSubview to false. No need to initialize
	_mouseDownWasInSubframe at all since it\'s only looked at when _mouseDownView is non-nil.
        (KWQKHTMLPart::keyEvent): Save and restore _currentEvent instead of setting to nil.
	Use stateForCurrentEvent instead of stateForEvent:.
        (KWQKHTMLPart::khtmlMousePressEvent): Name change.
        (KWQKHTMLPart::khtmlMouseDoubleClickEvent): Name change.
        (KWQKHTMLPart::passWidgetMouseDownEventToWidget): Name change. Set _sendingEventToSubview when
        sending event to subview.
        (KWQKHTMLPart::khtmlMouseReleaseEvent): Name change. Set _sendingEventToSubview when sending
	event to subview.
        (KWQKHTMLPart::passSubframeEventToSubframe): Name change. Set _sendingEventToSubview when
	sending event to subview.
        (KWQKHTMLPart::buttonForCurrentEvent): Added. Similar to code I moved here from WebCoreBridge.
        (KWQKHTMLPart::stateForCurrentEvent): Added. Similar to code I moved here from WebCoreBridge.
        (KWQKHTMLPart::mouseDown): Added. Similar to code I moved here from WebCoreBridge, except returns
	and does nothing if _sendingEventToSubview is set.
        (KWQKHTMLPart::mouseDragged): Ditto.
        (KWQKHTMLPart::mouseUp): Ditto.
        (KWQKHTMLPart::mouseMoved): Added. Similar to code I moved here from WebCoreBridge.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge mouseDown:]): Just call _part->mouseDown().
        (-[WebCoreBridge mouseDragged:]): Just call _part->mouseDragged().
        (-[WebCoreBridge mouseUp:]): Just call _part->mouseUp().
        (-[WebCoreBridge mouseMoved:]): Just call _part->mouseMoved().

        * kwq/WebCoreBridgePrivate.h: Removed.
        * WebCore.pbproj/project.pbxproj: Removed WebCoreBridgePrivate.h.

WebKit:

        Reviewed by Maciej and Richard.

        - fixed reentrancy crash I ran into while debugging infinite recursion bugs

        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _updateMouseoverWithFakeEvent]): Added. Does part of what _frameOrBoundsChanged did.
        (-[WebHTMLView _frameOrBoundsChanged]): Schedule the mouseover update to happen soon, rather than
        doing it right away. If we do it right away, we might reenter because sending a mouse moved event
        can result in another layout since mouse moved events are the same as mouse dragged events in KHTML.
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView viewWillMoveToWindow:]): Cancel the scheduled mouseover update.

        * WebKit.pbproj/project.pbxproj: Electron uber alles.


git-svn-id: svn://svn.chromium.org/blink/trunk@3016 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-12 09:45:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9233125064c7ff41537f4f5ccb0aaecc88bc6f97');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025701l5c6gdrkma', 2, e'Revert stuff I committed by mistake.


git-svn-id: svn://svn.chromium.org/blink/trunk@3015 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-12 09:20:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/34d2de72a501b6bc013578af1e3ec27fddcaac75');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025801l5kuqfzvk1', 2, e'
        Fixed 3125583.  Don\'t redraw view under resize bar
        on mouseup.

        Reviewed by gramps.

        * khtml/rendering/render_frames.cpp:
        (RenderFrameSet::userResize):


git-svn-id: svn://svn.chromium.org/blink/trunk@3014 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-12 09:16:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b611f5949c558167da1ba884b6b7b7f8677c5283');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025901l55ipngqb0', 2, e'Added missing reviewer.


git-svn-id: svn://svn.chromium.org/blink/trunk@3013 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-12 09:14:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/75fe6c21b0c047d6b1f196e76915fbe60e76293d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025a01l5qis7elto', 2, e'        Fixed 3125585.  One click crasher option clicking on
        any link.  Added additional check to curtail overly
        zealous ASSERT.

        Reviewed by mjs.

        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _mainReceivedError:fromDataSource:complete:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3012 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-12 08:48:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a19d07774f46e96f6fc01dbb0bf22ada210a79cd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025b01l5nzzh99ma', 2, e'	Fix hang on monkeyvoodoo.net and on skramkoob.com.  The bugs
	are 3105714 and 3045965.  Also fix margin collapsing churn
	on thestar by not laying out a second time when collapsing
	margins make you move unless you contain floats.

        Reviewed by: gramps

        * khtml/rendering/bidi.cpp:
        (RenderFlow::findNextLineBreak):
	* khtml/rendering/render_flow.cpp:
	(RenderFlow::layoutBlockChildren);


git-svn-id: svn://svn.chromium.org/blink/trunk@3011 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-12 06:20:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/58b1a35b6651238ff96709d1ed3ef9a15498beee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025c01l55q2tzcaw', 2, e'        Fixed 3125425.  Just call super if view isn\'t in view heirarchy,
        rather than asserting.  The assert was firing because NSText
        was trying to perform a background layout on an item view that
        was moved to the page cache.

        Reviewed by gramps.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView visibleRect]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3010 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-12 04:02:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/07264b6b670d38c2d9e9abce11125d611571b7cb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025d01l5t8l1tz7q', 2, e'        Reviewed by Don.

	- Add kjsprint global function in Development build for ease of	debugging.
	- Print uncaught JavaScript exceptions to the console in Development.
	- Improve wording of exception error messages.

        * kjs/function.cpp:
        (GlobalFuncImp::call):
        * kjs/function.h:
        * kjs/internal.cpp:
        (InterpreterImp::initGlobalObject):
        * kjs/interpreter.cpp:
        (Interpreter::evaluate):
        * kjs/nodes.cpp:
        (NewExprNode::evaluate):
        (FunctionCallNode::evaluate):
        (RelationalNode::evaluate):


git-svn-id: svn://svn.chromium.org/blink/trunk@3009 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-12 03:59:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/38235f7b511b2889d851ce0e2c69d01e203a77a5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025e01l5wlybfll1', 2, e'
WebKit:

        Fixed 3124121, 3124716 (and other dupes).  Regressions related to b/f crash.

        Reviewed by hyatt.

        * ChangeLog:
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem _scheduleRelease]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge saveDocumentToPageCache:]):
        * WebCoreSupport.subproj/WebImageRenderer.m:
        (-[WebImageRenderer incrementalLoadWithBytes:length:complete:]):
        (-[WebImageRenderer drawClippedToValidInRect:fromRect:]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _setState:]):


WebCore:

        Fixed 3124121, 3124716 (and other dupes).  Regressions related to b/f crash.

        Reviewed by hyatt.

        * kwq/KWQKHTMLPart.h:
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::openURLFromPageCache):
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge dealloc]):
        (-[WebCoreBridge openURL:reload:headers:lastModified:pageCache:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3008 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-12 03:06:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fac84f527ac163884aff0741dd94eccc0aed7124');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025f01l5rrgnj8vz', 2, e'        Fixed 3123375.  Provide SPI to release all pending page caches

        Reviewed by kocienda.

        * History.subproj/WebBackForwardList.m:
        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        * History.subproj/WebHistoryItemPrivate.h: Added.
        * WebCoreSupport.subproj/WebBridge.m:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebFramePrivate.m:

        Fixed 3123375.  Call SPI to release all pending page caches

        Reviewed by kocienda.

        * Test/PageLoadTestController.m:
        (-[PageLoadTestController anyWindowWillClose:]):
        * Test/PageLoadTestRunner.m:
        (-[PageLoadTestRunner closeBrowserWindowsAndFinishCheckingForWorldLeaks]):
        (-[PageLoadTestRunner checkForWorldLeaksSoon]):
        (-[PageLoadTestRunner checkForWorldLeaksNow]):
        (-[PageLoadTestRunner startTest]):


git-svn-id: svn://svn.chromium.org/blink/trunk@3007 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-12 01:15:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3d27f40f9977d7b162d037a2e5f4405e408ff49f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025g01l5vpx4j01i', 2, e'        Reviewed by: Gramps

	Change name of cache size file from ".size" to "size"

        * Database.subproj/WebFileDatabase.m:
        * English.lproj/StringsNotToBeLocalized.txt:


git-svn-id: svn://svn.chromium.org/blink/trunk@3005 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-11 22:37:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c86ab697b6b12ac8cf4b976b346fdb72c109ec41');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025h01l5v2ntmyk2', 2, e'WebFoundation:

        Reviewed by Richard.

	- fixed 3124837 -- Crash trying to handle weird javascript URL in page address field

        * Misc.subproj/WebNSURLExtras.h: Added _web_scriptIfJavaScriptURL for both NSURL and NSString,
	and _web_stringByReplacingValidPercentEscapes.
        * Misc.subproj/WebNSURLExtras.m:
        (-[NSURL _web_scriptIfJavaScriptURL]): Added. Call the NSString version on our absoluteString.
        (isHexDigit): Added.
        (hexDigitValue): Added.
        (-[NSString _web_stringByReplacingValidPercentEscapes]): Added. Converts the sequences into
	character, and then re-encodes as UTF-8. Added a FIXME about doing even better.
        (-[NSString _web_scriptIfJavaScriptURL]): Check for a javascript: prefix, then turn the suffix
	into a script by replacing percent escapes.

        * English.lproj/StringsNotToBeLocalized.txt: Updated.

WebCore:

        Reviewed by Richard.

	- fixed 3124263 -- REGRESSION: Crash running development build of PLT

        * kwq/KWQWidget.mm:
        (QWidget::~QWidget): Don\'t worry about the outer view here, since we can never hit one of those.
	Just pass the view to KWQKHTMLPart::widgetWillReleaseView.
        (QWidget::getOuterView): Re-add the assertion I had removed.

	- fixed 3124837 -- Crash trying to handle weird javascript URL in page address field

        * kwq/KWQKURL.mm: (KURL::decode_string): Made this function return the URL still encoded
	rather than a null string (actually, crashing) when CFURLCreateStringByReplacingPercentEscapes
	rejects the passed-in string. Also updated the FIXME.
        (appendEscapingBadChars): Fixed problem with high-bit-set characters.
        * kwq/KWQString.mm: (QString::setBufferFromCFString): Made this tolerant of NULL.

WebKit:

        Reviewed by Richard.

	- fixed 3124837 -- Crash trying to handle weird javascript URL in page address field

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]):
	Use the new _web_scriptIfJavaScriptURL to simplify the check for JavaScript URLs,
	and to use a more tolerant unescaper.

        * English.lproj/StringsNotToBeLocalized.txt: Updated.

WebBrowser:

        Reviewed by Richard.

	- fixed 3124837 -- Crash trying to handle weird javascript URL in page address field

        * BrowserWebBookmarkExtras.m: (-[WebBookmark _goToWithWindowPolicy:]):
        * BrowserWindowController.m: (-[BrowserWindowController goToToolbarLocation:]):
	Use the new _web_scriptIfJavaScriptURL to simplify the check for JavaScript URLs,
	and to use a more tolerant unescaper.

        * BrowserWebController.m: (-[BrowserWebController mouseoverTextForElement:modifierFlags:]):
	Use _web_stringByReplacingValidPercentEscapes, since it is more tolerant than
	CFURLCreateStringByReplacingPercentEscapes.

        * English.lproj/StringsNotToBeLocalized.txt: Updated.


git-svn-id: svn://svn.chromium.org/blink/trunk@3004 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-11 22:28:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fcabb610fb7df522680c30cd0814e99330d7aedd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025i01l5g5n8h32f', 2, e'WebCore:

        Reviewed by John.

	- fixed handling of mouse events so I could turn the mechanism on all the way
	- fixed anomalies in the red-painting-for-null-view-detection
	- fixed 3123105 -- REGRESSION: Crash in KHTMLView::unscheduleRelayout on exit
	- fixed 3124047 -- REGRESSION: crash in KWQKHTMLPart::handleMouseDownEventForWidget at nwa.com

        * kwq/KWQKHTMLPart.h: Add setCurrentEvent()/currentEvent()/_currentEvent back, because we can
	end up doing a lot of work and processing a lot of events before we get around to handling the
	current event, so [NSApp currentEvent] won\'t cut it. Also add clearTimers, passSubframeEventToSubframe,
	an overload for handleMouseDownEventForWidget, and _mouseDownWasInSubframe boolean.

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::submitForm): Use _currentEvent.
        (KWQKHTMLPart::urlSelected): Use _currentEvent.
        (KWQKHTMLPart::paint): Fixed red-drawing-for-debug code by using KWQPainter instead of going
	directly to the AppKit level.
        (KWQKHTMLPart::keyEvent): Moved the check for null node up a bit, and set _currentEvent.
        (KWQKHTMLPart::handleMouseDownEventForWidget): Break into two pieces, so we can share the
	code with the new passSubframeEventToSubframe. Set _mouseDownWasInSubframe to false
	when setting _mouseDownView. Use getView() instead of getOuterView() since we really don\'t
	care about the WebView after all. Use _currentEvent. Add a check for nodes that lack a renderer
	to fix the crash at nwa.com above.
        (KWQKHTMLPart::khtmlMouseReleaseEvent): Use _currentEvent.
        (KWQKHTMLPart::clearTimers): Added. Checks for null view, which fixes the crash on exit above.
        (KWQKHTMLPart::passSubframeEventToSubframe): Added. Checks for the categories of events that we
	can pass to subframes, which are mouse down, up, and dragged events, and passes them along.
	This is the main fix that makes subframes work properly.

        * khtml/khtmlview.cpp:
        (KHTMLView::viewportMousePressEvent): Add call to the new passSubframeEventToSubframe.
        (KHTMLView::viewportMouseDoubleClickEvent): Ditto.
        (KHTMLView::viewportMouseMoveEvent): Ditto.
        (KHTMLView::viewportMouseReleaseEvent): Ditto.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge saveDocumentToPageCache]): Call clearTimers on the part now, instead of the document.
        (-[WebCoreBridge mouseUp:]): Call setCurrentEvent.
        (-[WebCoreBridge mouseDown:]): Ditto.
        (-[WebCoreBridge mouseMoved:]): Ditto.
        (-[WebCoreBridge mouseDragged:]): Ditto.
        (-[KWQPageState initWithDocument:URL:windowProperties:locationProperties:]): Call clearTimers on the
	part now, instead of the document.

	- other changes

        * khtml/ecma/kjs_window.lut.h: Let this be regenerated. I think I accidentally checked
	in an obsolete version of this earlier.

        * khtml/html/html_documentimpl.h: Remove clearTimers(). We don\'t need it here in APPLE_CHANGES.
        * khtml/html/html_documentimpl.cpp: Ditto.

        * khtml/khtmlpart_p.h: Removed unneeded APPLE_CHANGES. We don\'t use m_frameNameId any more, nor
	do we need m_savingPageState or m_restoringPageState.
        * khtml/khtml_part.cpp: (KHTMLPart::clear): Removed unneeded APPLE_CHANGES, now that we don\'t
	use m_frameNameId any more.

        * kwq/KWQWidget.mm: (KWQWidget::getOuterView): Tolerate nil for view here, so we can use this from
        the QWidget destructor.

WebKit:

        Reviewed by John.

	- turned on the mechanism that passes events through WebCore, now that it\'s working better

        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView hitTest:]): Moved this function in here. Rewrote it. It has a new feature where
	you can set a global and do a normal hit test, needed for the mouse-moved handling below. Also,
	for efficiency, it does the actual hit testing of itself, rather than calling super, which recurses,
	and ignoring the result. The sum total is that it always returns self for mouse-moved events, so
	we pass them all over the bridge at the topmost frame.

        (-[WebHTMLView _updateMouseoverWithEvent:]):
        * WebView.subproj/WebHTMLView.m: Moved hitTest: out of here.


git-svn-id: svn://svn.chromium.org/blink/trunk@3003 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-11 20:26:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6feb95c607744432b107bf28ac31b990992ae0e7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025j01l5uk8yg3c5', 2, e'WebKit:

	- fixed 3124640 -- Crash importing IE Favorites if there
	are no IE favorites

        Reviewed by Darin

        * Bookmarks.subproj/WebBookmarkImporter.m:
        (-[WebBookmarkImporter initWithPath:]):
	use alloc/init instead of autoreleasing constructor for error since
	it\'s kept around until dealloc.

WebBrowser:

	- fixed 3123763 -- lose context when organizing bookmarks
	- handled empty or non-existent IE Favorites case better

        Reviewed by Darin

        * BookmarksController.m:
        (-[BookmarksController importInternetExplorerFavorites]):
	Don\'t add a folder for IE Favorites if there are none.

        * BookmarksViewController.m:
        (-[BookmarksViewController selectBookmarkSource:]):
	new method to select an item in Collections column
        (-[BookmarksViewController revealFavorite:expandChildren:]):
	call selectBookmarkSource
        (-[BookmarksViewController tableView:draggedImage:endedAt:operation:]):
	save and restore selected item in Collections column since row indices might change
        (-[BookmarksViewController tableView:acceptDrop:row:operation:]):
	save and restore selected item in Collections column since row indices might change


git-svn-id: svn://svn.chromium.org/blink/trunk@3002 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-12-11 17:43:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/670a82430c9fa94ea09eacac5655ca1772ce2af6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp5ns025k01l5mr7ltbw0', 2, e'        Reviewed by John.

	- fixed 3117611 -- REGRESSION: exception in mouseoverTextForElement with accented characters in status

        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[NSMutableDictionary _web_setObjectIfNotNil:forKey:]):
	Remove the object from the dictionary rather than just leaving the dictionary alone if it\'s nil.
	This is needed since we now are reusing an already-existing dictionary.

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@3001 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-11 17:11:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4fd4516134ad6e4692999d95ea3fb0efb4453422');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49f023x01l506silt2r', 2, e'	Fixed: 3118430 - crash / loop trying to copy url of link to clipboard
	Fixed: 3122585 - REGRESSION: dragging links to the desktop or a Finder window does not do anything

        Reviewed by john.

	We were reusing the drag types from the previous drag pasteboard. For example, we would declare image types when dragging URLs. This would confuse the Finder, so location files weren\'t being created. This would occasional cause us to crash because we weren\'t providing the declared data.

        * Misc.subproj/WebNSPasteboardExtras.h:
        * Misc.subproj/WebNSPasteboardExtras.m:
        (+[NSPasteboard _web_dragTypesForURL]): Added more types that we handle
        (-[NSPasteboard _web_writeURL:andTitle:withOwner:declareTypes:]): declares the provided types, writes URL and title
        (-[NSPasteboard _web_writeURL:andTitle:withOwner:]): call _web_writeURL:andTitle:withOwner:types: with _web_dragTypesForURL
        * Misc.subproj/WebNSViewExtras.h:
        * Misc.subproj/WebNSViewExtras.m:
        (-[NSView _web_dragPromisedImage:origin:URL:fileType:title:event:]): call _web_writeURL:andTitle:withOwner: types: plus images types


git-svn-id: svn://svn.chromium.org/blink/trunk@3000 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-11 16:42:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0e8468ae17770259739c84d04939c6791f3e3b99');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h023y01l5rci2ykfe', 2, e'        Rolled out changes I accidentally checked in last night.


git-svn-id: svn://svn.chromium.org/blink/trunk@2999 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-11 16:23:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c3439635d1c6640bd2c1916791344866e2ad0bf1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h023z01l5rkl1fc4g', 2, e'WebKit:

	3092966 - going back goes to different page (can\'t go back to a POST page)

	We will rePOST data upon back/forward/refresh if our caches fail us.  The policy delegate
	gets a crack at confirming this operation.  Latent bugs where the policy delegate was double
	queried are fixed.  A bug in the b/f cursor when a page failed to load is fixed.

        Reviewed by Maciej.

        * English.lproj/StringsNotToBeLocalized.txt:  Usual suspects.
        * History.subproj/WebHistoryItem.h:  Add state for reposting forms.
        * History.subproj/WebHistoryItem.m:  Boilerplate changes for new state.
        (-[WebHistoryItem dealloc]):
        (-[WebHistoryItem setFormData:]):
        (-[WebHistoryItem setFormContentType:]):
        (-[WebHistoryItem formData]):
        (-[WebHistoryItem formContentType]):
        (-[WebHistoryItem description]):
        * WebView.subproj/WebController.m:
        (-[WebController _goToItem:withLoadType:]):  Tighten up an assert as I clarified an
	assumption as I worked through this task.
        * WebView.subproj/WebControllerPolicyDelegate.h:  New WebNavigationType\'s for back/forward,
	refresh, and repost.
        * WebView.subproj/WebFrame.m:
        (-[WebFrame loadRequest:]):  Eliminate extra copy of a request.
        (-[WebFrame reload]):  Eliminate extra copy of a request.  Setup triggeringAction properly
	if we\'re about to rePOST.
        * WebView.subproj/WebFramePrivate.h:  Started moving some private methods into the .m file.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _createItem]):  Save form state with history items.
        (-[WebFrame _isLoadComplete]):  Fix up b/f cursor on page error before commit succeeds.
        (-[WebFrame _loadItem:fromItem:withLoadType:]):  Set up request to rePOST if that\'s what the
	HistoryItem demands.  Add call to _addExtraFieldsToRequest so we don\'t do a double
	query of the policy delegate.  Pre-flight the form post vs. WF cache to setup triggering
	action properly.
        (-[WebFrame _actionInformationForLoadType:isFormSubmission:event:originalURL:]):
	New utility method to help build action dict.
        (-[WebFrame _continueAfterNavigationPolicy:]):  Comment only.
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]):  Call new utility method
	instead (just code factoring).
        (-[WebFrame _postWithURL:data:contentType:triggeringEvent:]):  Call new utility method
	instead (just code factoring).  Add call to _addExtraFieldsToRequest so we don\'t do a double
	query of the policy delegate.
        (-[WebFrame _reloadAllowingStaleDataWithOverrideEncoding:]):  Whitespace only.
        (-[WebFrame _resetBackForwardListToCurrent]):  Utility routine to fix up b/f cursor on page error.
        (-[WebFrame _continueLoadRequestAfterNavigationPolicy:request:]):  Fix up b/f cursor on page
	error before commit succeeds.

WebBrowser:

	3092966 - going back goes to different page (can\'t go back to a POST page)

	The app now puts up a confirmation sheet when the user tries to return to a
	page resulting from a POST, if all of our caches failed.

        Reviewed by Maciej.

        * BrowserWebController.m:
        (-[BrowserWebController confirmSendSheetDidEnd:returnCode:contextInfo:]):  Changed name of
	existing routine to be more generic, as its used for two sheets.
        (-[BrowserWebController decideNavigationPolicyForAction:andRequest:inFrame:decisionListener:]):
	Put up the sheet if we\'re about to rePOST.
        * English.lproj/Localizable.strings:  The usual.
        * English.lproj/StringsNotToBeLocalized.txt:  The usual.


git-svn-id: svn://svn.chromium.org/blink/trunk@2998 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-11 08:52:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/063fd0891f0a2fd28b9f2158baca33009f8fcf82');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024001l5yb78755a', 2, e'        Reviewed by Maciej.

	- fixed 3124302 -- REGRESSION: Can\'t use directory.apple.com because
	frame resize bar intercepts mouse clicks

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView hitTest:]):
	Don\'t steal clicks for views that are inside nested WebViews.
        This isn\'t the real fix, but it\'s good enough for now. The real fix will be in WebCore.


git-svn-id: svn://svn.chromium.org/blink/trunk@2997 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-11 08:13:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/66bad999d471c90185031c6e8b2f6e5e0b144e75');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024101l5p17tchrr', 2, e'	- fixed fix for 3124081 -- REGRESSION: partial progress is left in address field after download

        Reviewed by Chris.

	Need to move it down one line so the data source is clear before callback.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient interruptForPolicyChangeAndKeepLoading:]):
	Do the _clearProvisionalDataSource before the locationChangeDone: callback.


git-svn-id: svn://svn.chromium.org/blink/trunk@2996 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-11 06:18:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dcf77d5d21daca64e0f11acf6f8d4876cfdefe73');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024201l5gql5o05f', 2, e'Tools:

	Fixed more "Alexander"s that were lurking in places
	I forgot to look before.

        * Scripts/embed-into-alex:
	EMBED_HOST="${SYMROOTS}/Safari.app"

        * Scripts/run-plt:
	many occurrences

        * Scripts/set-alex-version:
	occurred in comment only

        * Scripts/time-alex-startup:
	my $alex = $ENV{"SAFARI"} || "$symroots/Safari.app";
	if ($alex =~ /Safari\\.app$/) {
	    $alex .= "/Contents/MacOS/Safari";

JavaScriptCore:

	Fixed more "Alexander"s that were lurking in places I forgot
	to look before.

        Reviewed by Darin

        * Makefile.am:
	"rm -rf $(SYMROOTS)/Safari.app/Frameworks/JavaScriptCore.framework"

WebFoundation:

	Fixed more "Alexander"s that were lurking in places I forgot
	to look before.

        Reviewed by Darin

        * Makefile.am:
	"rm -rf $(SYMROOTS)/Safari.app/Frameworks/WebFoundation.framework"

WebCore:

	Fixed more "Alexander"s that were lurking in places I forgot
	to look before.

        Reviewed by Darin

        * Makefile.am:
	"rm -rf $(SYMROOTS)/Safari.app/Frameworks/WebCore.framework"

WebKit:

	Fixed more "Alexander"s that were lurking in places I forgot
	to look before.

        Reviewed by Darin

        * Makefile.am:
	"rm -rf $(SYMROOTS)/Safari.app/Frameworks/WebKit.framework"

WebBrowser:

	Fixed more "Alexander"s that were lurking in places
	I forgot to look before.

        Reviewed by Darin

        * Makefile.am:
	"rm -rf $(SYMROOTS)/Safari.app" in make clean

        * Preferences.subproj/English.lproj/GeneralPreferences.nib:
	"When Safari Quits"

        * Scripting.subproj/Safari.scriptSuite:
	value for Name key

        * copy-frameworks-to-dstroot.sh:
	app_name

        * embed-frameworks.sh:
	app_name


git-svn-id: svn://svn.chromium.org/blink/trunk@2995 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-12-11 06:06:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a6f9c6dc05d39e019d4680024abfe6864d29bf4f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024301l5bmevde2h', 2, e'	- fixed 3124081 -- REGRESSION: partial progress is left in address field after download

        Reviewed by Chris.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient interruptForPolicyChangeAndKeepLoading:]):
	Put in code to call the locationChangeDone: method on the location change delegate if
	keepLoading is YES. Since the data source is not finished loading WebFrame won\'t do it.


git-svn-id: svn://svn.chromium.org/blink/trunk@2994 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-11 05:26:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5eaecf514c5723d1df7cf31415d6fb1405f158af');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024401l522iiuyb6', 2, e'	Fixed: 3124079 - REGRESSION: Downloads never complete

        Reviewed by darin.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidFinishLoading:]): release and set to nil the download handler after calling [super handleDidFinishLoading:h]


git-svn-id: svn://svn.chromium.org/blink/trunk@2993 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-11 05:03:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/217e58cdb57ea5bf5fbcd695c9a64315579eb593');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024501l5difm7wvd', 2, e'        Reviewed by Don.

	- really fixed 3123727 - SJ: Viewmaster arm sometimes doesn\'t animate on
	http://www.pixar.com/howwedoit/

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::KWQKHTMLPart): Call Cache::init before
	KHTMLPart::init so we have a loader to connect the signals to.


git-svn-id: svn://svn.chromium.org/blink/trunk@2992 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-11 02:22:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c769d4ff1cab34f220bc94921d8baa79b6d72c2d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024601l5o69fir30', 2, e'        Fixed 3115427.  Page now draws instantly instead of 20 seconds.
        I added the substitution font we get from the appkit to the character to glyph
        cache.

        Fixed early return optimization from letter forming function.  It was too
        eager to return!

        Reviewed by mjs.

        * Misc.subproj/WebUnicode.m:
        (shapedString):
        * WebCoreSupport.subproj/WebTextRenderer.h:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (glyphForCharacter):
        (glyphForUnicodeCharacter):
        (widthForGlyph):
        (widthForCharacter):
        (_fontContainsString):
        (-[WebTextRenderer substituteFontForString:families:]):
        (-[WebTextRenderer _computeWidthForSpace]):
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:letterSpacing:wordSpacing:fontFamilies:]):
        (-[WebTextRenderer extendUnicodeCharacterToGlyphMapToInclude:]):
        (-[WebTextRenderer updateGlyphEntryForCharacter:glyphID:font:]):
        (-[WebTextRenderer extendCharacterToGlyphMapToInclude:]):
        (-[WebTextRenderer extendGlyphToWidthMapToInclude:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2991 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-11 00:51:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e256a5d28ef379f574bc3409c995ee56c7c1fd0d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024701l5pymfudzr', 2, e'        Reviewed by Trey.

	- fixed 3123727 - SJ: Viewmaster arm sometimes doesn\'t animate on
	http://www.pixar.com/howwedoit/

        * khtml/khtml_part.cpp:
        (KHTMLPart::KHTMLPart): Don\'t call KHTMLPart::init at all...
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::KWQKHTMLPart): Call it here instead so that signal
	connections happen properly.


git-svn-id: svn://svn.chromium.org/blink/trunk@2990 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-10 23:33:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff8ad3b69a12f097f4a9ac363514d6c54d941616');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024801l57k71d5xk', 2, e'WebKit:

	- tweaked the API of WebBookmarkImporter while implementing
	real "Import IE Favorites" UI

        Reviewed by Ken

        * Bookmarks.subproj/WebBookmarkImporter.h:
	fixed a typo in a constant
        * Bookmarks.subproj/WebBookmarkImporter.m:
        (-[WebBookmarkImporter initWithPath:]):
	Don\'t pass a group here. This method now creates the topBookmark
	(as it was doing before) but does not attempt to insert it
	anywhere. It\'s up to the client to fetch the topBookmark and do
	something with it. Also, don\'t name the new folder here; leave
	that to the caller also.

        * English.lproj/Localizable.strings:
	kept this file up to date

WebBrowser:

	- fixed 3123342 -- Import IE bookmarks at first startup
	- fixed 3122497 -- Descenders cut off in bookmarks view
	- removed "Google Search" from View menu since it\'s not
	working yet and we\'re hoping to get by without it using
	a direct manipulation approach instead

        Reviewed by Ken

        * BookmarksController.m:
        (-[BookmarksController importInternetExplorerFavorites]):
	new method, moved here from DebugUtilities and tweaked to match
	changes in WebBookmarkImporter\'s API
        (-[BookmarksController importInternetExplorerFavoritesIfNecessary]):
	new method, checks NSUserDefaults value to bail out if importing has already
	occurred, and sets NSUserDefaults value after importing.
        (-[BookmarksController awakeFromNib]):
	call importInternetExplorerFavoritesIfNecessary

        * Debug/DebugUtilities.m:
        (-[DebugUtilities createDebugMenu]):
	remove IE importing stuff from here

        * English.lproj/Localizable.strings:
	kept this file up to date

        * English.lproj/MainMenu.nib:
	removed "Google Search" menu item from View menu

        * PreferenceKeys.h:
	added preference key to remember whether we\'ve imported
	IE favorites

        * TextCell.m:
        (-[TextCell drawInteriorWithFrame:inView:]):
	Rather than insetting frame to make text appear vertically
	centered, just move down the top edge. This fixes 3122497.


git-svn-id: svn://svn.chromium.org/blink/trunk@2989 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-12-10 23:02:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c41c8a3415d0e91d12c39fae7603ee15e1f711e1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024901l5s0cyvfbv', 2, e'	Fix for 3116996.  My hack to make selects ignore fixed CSS
	widths that are smaller than their intrinsic width was not
	good.  Remove the hack.

        Reviewed by darin

        * khtml/rendering/render_box.cpp:
        (RenderBox::calcReplacedWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@2988 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-10 22:00:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e2892dc0f1edc950a18289453a191127d4a96ce1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024a01l5nquwzzy6', 2, e'WebCore:

        Reviewed by John.

	- fixed 3108912 -- onclick handlers not supported on form elements

	We now pass the events back to the NSView here in WebCore; they pass through all the
	machinery in the DOM before getting sent on.

        * kwq/KWQKHTMLPart.h: Add widgetWillReleaseView and handleMouseDownEventForWidget functions,
	overrides for khtmlMousePressEvent, khtmlMouseDoubleClickEvent, khtmlMouseReleaseEvent, and
	a new _mouseDownView field.

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::KWQKHTMLPart): Initialize _mouseDownView to nil.
        (KWQKHTMLPart::khtmlMousePressEvent): Call handleMouseDownEventForWidget, but if it returns
	false call through to the base class function.
        (KWQKHTMLPart::khtmlMouseDoubleClickEvent): Ditto.
        (KWQKHTMLPart::handleMouseDownEventForWidget): Do a hit test to find out which view to send
	the mouse down event to, and then send it.
        (KWQKHTMLPart::khtmlMouseReleaseEvent): Send the mouse up event to the view we sent a mouse
	down event to, or call through to the base class otherwise.
        (KWQKHTMLPart::widgetWillReleaseView): Clear out the _mouseDownView field if the view is
	being released by the QWidget that owns it.

        * kwq/KWQWidget.mm:
        (QWidget::~QWidget): Call KWQKHTMLPart::widgetWillReleaseView.
        (QWidget::setView): Call KWQKHTMLPart::widgetWillReleaseView on the old view.

WebKit:

        Reviewed by John.

	- fixed 3108912 -- onclick handlers not supported on form elements

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView hitTest:]):
	Take over hit testing so that all clicks on subviews are handled by the WebHTMLView.
	WebCore now handles getting the mouse events to the subviews after passing
	the events through the DOM.


git-svn-id: svn://svn.chromium.org/blink/trunk@2987 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-10 18:19:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/069a6ce4e80256d20a547cc7bdf3e7942a6aafef');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024b01l5cjzkrxp2', 2, e'        Reviewed by Trey.

	- fixed 3123057 - SJ: DHTML doesn\'t always work on http://www.pixar.com/howwedoit/

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]):
	Treat a click on a link to the same URL with an anchor as a scroll
	to anchor, not a same URL load.
        (-[WebFrame _continueFragmentScrollAfterNavigationPolicy:request:]): Avoid
	adding the same anchor URL to the back/forward list many times.


git-svn-id: svn://svn.chromium.org/blink/trunk@2986 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-10 05:45:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ade1215d055b0b6bc18be6415d567021ebaabab6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024c01l5w4ead9h6', 2, e'Tools:

        Reviewed by Maciej.

        * Scripts/set-alex-version: Make it bump the source version and marketing version
	of all our subprojects, because that\'s what we need up until Alex 1.0.

JavaScriptCore:

        Reviewed by Maciej.

        * JavaScriptCore.pbproj/project.pbxproj: Bump versions to 0.8 and 35u.
	* English.lproj/InfoPlist.strings: In here too.

WebFoundation:

        Reviewed by Maciej.

	- fixed problems I noticed in my review of Chris\'s change (which came in too late)

        * CacheLoader.subproj/WebResourceLoad.m: (_guessMIMEType): Fix && vs. || confusion that
	will make CR, LF, and tab not qualify as text characters. Also take end of loop check
	out of the loop.

	- added a method for use in user-agent computations

        * Misc.subproj/WebNSUserDefaultsExtras.h: Added _web_preferredLanguageCode.
        * Misc.subproj/WebNSUserDefaultsExtras.m:
        (+[NSUserDefaults _web_preferredLanguageCode]): Use _web_HTTPStyleLanguageCode on the
	first element of the AppleLanguages array.

        * WebFoundation.pbproj/project.pbxproj: Bump versions to 0.8 and 35u.
	Make WebNSUserDefaultsExtras.h SPI so we can use it in WebKit. Re-sort things a bit.
	* English.lproj/InfoPlist.strings: Bump versions in here too.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for these and other recent changes.

WebCore:

        Reviewed by Maciej.

        * WebCore.pbproj/project.pbxproj: Bump versions to 0.8 and 35u.

WebKit:

        Reviewed by Maciej.

	- fixed 3028664 -- change user agent string to include application name and version

        * WebView.subproj/WebController.m:
        (-[WebController setApplicationNameForUserAgent:]): Remove locking, unneeded since we changed
	how WebFoundation handles user agent.
        (-[WebController setCustomUserAgent:]): Ditto.
        (-[WebController resetUserAgent]): Ditto.
        (-[WebController userAgentForURL:]): Remove locking. Also add new algorithm for computing the
	user agent which takes the preferred language into account, and incorporates the WebKit version
	and the application name.

        * WebView.subproj/WebControllerPrivate.h: No need for a lock.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate init]): Don\'t create a lock.
        (-[WebControllerPrivate dealloc]): Don\'t release a lock.

        * WebKit.pbproj/project.pbxproj: Bump versions to 0.8 and 35u.
	* English.lproj/InfoPlist.strings: In here too.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for these and other recent changes.

WebBrowser:

        Reviewed by Maciej.

	- pass properly-formatted application name string to WebKit so it can make a good user-agent

        * BrowserWebController.m: (-[BrowserWebController initWithBrowserDocument:]):
	Instead of passing "Mr. Poopypants", pass Sherlock, augmented with version strings,
	to setApplicationNameForUserAgent:. Later we will pass Safari instead.

        * WebBrowser.pbproj/project.pbxproj: Bump version to 35u (we won\'t use " unofficial" any more).

        * English.lproj/StringsNotToBeLocalized.txt: Updated for these changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2985 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-10 05:00:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/26443d2047ebd6ccae8f1d7b152470bd8ab49e65');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024d01l5y95oj5xb', 2, e'        Reviewed by Dave.

	- fixed 3117734 - fail at document.releaseEvents in js at rollingstone.com

        * khtml/ecma/kjs_html.cpp:
	(KJS::HTMLDocFunction::tryCall): Added no-op implementations of
	captureEvents and releaseEvents.
        (KJS::HTMLDocument::tryGet):
        * khtml/ecma/kjs_html.h:
        * khtml/ecma/kjs_window.cpp:
        (Window::get, WindowFunc::tryCall): Added no-op implementation of
	releaseEvents.
	* khtml/ecma/kjs_window.h:
        * khtml/ecma/kjs_html.lut.h: Regenerated.
        * khtml/ecma/kjs_window.lut.h: Regenerated.


git-svn-id: svn://svn.chromium.org/blink/trunk@2984 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-10 04:16:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/04dd358ecc9cfee45052d4f3dbc75bba2500bf0d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024e01l5fmnesd2c', 2, e'	Fix for the CSS test suite link.  Need to make sure inlines
	that are obscured by blocks are properly considered to be
	above the block background.

        Reviewed by LUCKY WINNER

        * khtml/rendering/render_object.cpp:
        (RenderObject::nodeAtPoint):


git-svn-id: svn://svn.chromium.org/blink/trunk@2983 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-10 03:27:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bef0ae9276653104b9a4ffdf88dce8c8a9615b29');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024f01l5o2zl610x', 2, e'        Reviewed by Trey.

	- made KWQKHTMLPart a subclass of KHTMLPart so we can override virtual functions

        * khtml/khtml_part.h: Get rid of kwq pointer.
        * khtml/khtml_part.cpp:
        (KHTMLPart::init): No need to make a KWQKHTMLPart any more.
        (KHTMLPart::~KHTMLPart): No need to delete a KWQKHTMLPart any more.
        (KHTMLPart::closeURL): KWQKHTMLPart does saveDocumentState in an override now.
        (KHTMLPart::begin): KWQ() instead of ->kwq.
        (KHTMLPart::checkCompleted): KWQ() instead of ->kwq, and ifdef out some unneeded code.
        (KHTMLPart::urlSelected): KWQ() instead of ->kwq.
        (KHTMLPart::requestFrameName): KWQ() instead of ->kwq.
        (KHTMLPart::processObjectRequest): Just call openURL, since we are now KWQKHTMLPart.
        (KHTMLPart::submitForm): KWQ() instead of ->kwq.
        (KHTMLPart::popupMenu): Did a bit more ifdef\'int out here.

        * kwq/KWQKHTMLPart.h: Include "khtml_part.h" and remove includes we don\'t need any more.
	Inherit from KHTMLPart instead of QObject. Remove KHTMLPart parameter from constructor.
	Override openURL and closeURL. Remove part and d pointers. Add KWQ() inline to avoid casting.
        * kwq/KWQKHTMLPart.mm:
        (KHTMLPart::completed): KWQ() instead of ->kwq.
        (KHTMLPart::openURL): Never reached now, since we override.
        (KHTMLPart::setStatusBarText): KWQ() instead of ->kwq.
        (KHTMLPart::started): KWQ() instead of ->kwq.
        (KWQKHTMLPart::KWQKHTMLPart): No need to deal with separate part.
        (KWQKHTMLPart::bridgeForFrameName): KWQ() instead of ->kwq.
        (KWQKHTMLPart::openURL): Add bool return value so we can override the existing openURL.
        (KWQKHTMLPart::slotData): Remove unneeded part->.
        (KWQKHTMLPart::setView): Remove unneeded part->.
        (KWQKHTMLPart::document): Remove unneeded part->.
        (KWQKHTMLPart::renderer): Remove unneeded part->.
        (KWQKHTMLPart::userAgent): Remove unneeded part->.
        (KWQKHTMLPart::nextKeyViewInFrame): KWQ() instead of ->kwq.
        (KWQKHTMLPart::nextKeyViewInFrameHierarchy): KWQ() instead of ->kwq.
        (KWQKHTMLPart::canCachePage): Remove unneeded part->.
        (KWQKHTMLPart::saveWindowProperties): Use this instead of part.
        (KWQKHTMLPart::saveLocationProperties): Use this instead of part.
        (KWQKHTMLPart::restoreWindowProperties): Use this instead of part.
        (KWQKHTMLPart::restoreLocationProperties): Use this instead of part.
        (KWQKHTMLPart::openURLFromPageCache): Remove unneeded part->.
        (KWQKHTMLPart::partForNode): KWQ() instead of ->kwq.
        (KWQKHTMLPart::updatePolicyBaseURL): Remove unneeded part->.
        (KWQKHTMLPart::setPolicyBaseURL): Remove unneeded part->.
        (KWQKHTMLPart::createDummyDocument): Use this instead of part.
        (KWQKHTMLPart::scrollToAnchor): Remove unneeded part->.
        (KWQKHTMLPart::closeURL): Added. Calls saveDocumentState().

        * kwq/WebCoreBridge.h: Use KWQKHTMLPart instead of KHTMLPart.
        * kwq/WebCoreBridge.mm: (-[WebCoreBridge init]): Make a KWQKHTMLPart.
	Use _part instead of _part->kwq in the rest of the file.

        * kwq/KWQSignal.mm: (KWQSignal::disconnect): Add the names of a few signals that are
	disconnected after the KWQKHTMLPart part of the KHTMLPart is destroyed, to avoid noise.

        * khtml/ecma/kjs_navigator.cpp: (Navigator::getValueProperty): KWQ() instead of ->kwq.
        * khtml/ecma/kjs_proxy.cpp: (KJSProxyImpl::initScript): KWQ() instead of ->kwq.
        * khtml/ecma/kjs_window.cpp:
        (Window::scheduleClose): KWQ() instead of ->kwq.
        (WindowFunc::tryCall): KWQ() instead of ->kwq.
        * khtml/xml/dom_docimpl.cpp: (DocumentImpl::setTitle): KWQ() instead of ->kwq.
        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::openURLRequest): KWQ() instead of ->kwq.
        (KHTMLPartBrowserExtension::createNewWindow): KWQ() instead of ->kwq.
        (KHTMLPartBrowserExtension::setIconURL): KWQ() instead of ->kwq.
        (KHTMLPartBrowserExtension::setTypedIconURL): KWQ() instead of ->kwq.
        * kwq/KWQKJavaAppletWidget.mm: (KJavaAppletWidget::showApplet): KWQ() instead of ->kwq.
        * kwq/KWQLoader.mm:
        (KWQServeRequest): Cast to KWQKHTMLPart instead of casting to KHTMLPart and doing ->kwq.
        (KWQCheckIfReloading): Ditto.
        (KWQCheckCacheObjectStatus): Ditto.

        * WebCore.pbproj/project.pbxproj: Let Electron punish the wicked.


git-svn-id: svn://svn.chromium.org/blink/trunk@2982 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-10 01:24:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c957168e47cbf4c9dd5321315e5e0764ac5f22f2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024g01l5g71240o7', 2, e'        Many changes for b/f list.
        1.  Always attempt to cache snap back items.
        2.  Lazily release resources from page cache.  This garners gains on the PLT (and presumably iBench) tests, both for uncached.
        3.  Set the page cache size to 4 (+ snap back items).  After releasing resources we hover around 28MB footprint.  Closing windows releases all resources.
        4.  Turn on the back/forward cache by default.  The menu item still allows you to toggle b/f on and off.  Useful when conducting speed comparison in the PLT.
        5.  Addition of lazy update to PLT memory statistics to show footprint after lazy release of page cache resources.
        6.  Delayed to leak detector to account for lazy release of resources.
        7.  A change when saving a page to back/forward cache to clear and restore the documents root renderer.  Without this fix pages would appear to \'flicker\' more when content arrived.
        8.  A change to ensure a layout when restoring a page from the b/f cache.  Without this fix scrollbars wouldn\'t appear correctly.
        9.  A change to ensure that khtmlview layout and paint timers are unscheduled when a page is placed in the b/f cache.
        10.  A fix to decouple of khtmlview from it\'s part when placed in the b/f cache.  This fixed a crash caused by inappropriate deference of the part when a page cache item was released.
        11.  A comment in KHTMLPageCache.h explaining the that our page cache is not the same as the khtml page cache.  (Their cache just cached the html source.)
        12.  Reapply styles when loading page from cache.  This ensures that visited link get the appropriate style.

        Reviewed by kocienda.

        * History.subproj/WebBackForwardList.m:
        (+[WebBackForwardList pageCacheSize]):
        (+[WebBackForwardList setUsesPageCache:]):
        (+[WebBackForwardList usesPageCache]):
        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem setAlwaysAttemptToUsePageCache:]):
        (-[WebHistoryItem alwaysAttemptToUsePageCache]):
        (+[WebHistoryItem _invalidateReleaseTimer]):
        (-[WebHistoryItem _scheduleRelease]):
        (+[WebHistoryItem _releaseAllPendingPageCaches]):
        (-[WebHistoryItem _releasePageCache:]):
        (-[WebHistoryItem setHasPageCache:]):
        (-[WebWindowWatcher windowWillClose:]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading:]):
        (-[WebDataSource _commitIfReady:]):
        (-[WebDataSource _loadingFromPageCache]):
        * WebView.subproj/WebDynamicScrollBarsView.h:
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _purgePageCache]):
        (+[WebFrame _timeOfLastCompletedLoad]):
        (-[WebFrame _setState:]):
        (-[WebFrame _opened]):
        (-[WebFrame _continueLoadRequestAfterNavigationPolicy:request:]):
        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]):

WebCore
        Reviewed by kocienda.

        * khtml/html/html_documentimpl.cpp:
        (HTMLDocumentImpl::clearTimers):
        * khtml/html/html_documentimpl.h:
        * khtml/khtmlview.cpp:
        (KHTMLView::clearPart):
        (KHTMLView::timerEvent):
        * khtml/khtmlview.h:
        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::restoreRenderer):
        (DocumentImpl::detach):
        * khtml/xml/dom_docimpl.h:
        * kwq/KWQKHTMLPageCache.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge openURL:reload:headers:lastModified:pageCache:]):
        (-[WebCoreBridge saveDocumentToPageCache]):
        (-[KWQPageState initWithDocument:DOM::URL:windowProperties:KJS::locationProperties:KJS::]):
        (-[KWQPageState dealloc]):
        (-[KWQPageState KJS::]):
        (-[KWQPageState khtml::]):

WebBrowser
        Make the memory check fire again after a delay.
        This will show the high water mark first, and then
        the footprint after the lazy release of resource has completed.

        Reviewed by kocienda.

        * BrowserDocument.m:
        (-[BrowserDocument setSearchResultsForSnapBack:]):
        (-[BrowserDocument setPageForSnapBack:]):
        * Debug/DebugUtilities.m:
        (-[DebugUtilities createDebugMenu]):
        * Test/PageLoadTestController.m:
        (-[PageLoadTestController testFinishedNotification:]):
        * Test/PageLoadTestRunner.m:
        (-[PageLoadTestRunner checkForWorldLeaks]):
        (-[PageLoadTestRunner checkForWorldLeaksNow]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2981 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-09 23:24:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/530c0855423b8a4faad7dc6ce21afbd7050023c1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024h01l5z4pcn0nc', 2, e'Oops.


git-svn-id: svn://svn.chromium.org/blink/trunk@2980 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-09 23:16:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/826924d52a9d6f7cd9d99169b1f77177e21420dd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024i01l5dq8wmoro', 2, e'        Reviewed by Chris.

	- fixed 3122608 -- REGRESSION: Downloads can\'t be cancelled

	When I fixed the leak for other categories of policy interruption, I messed
	things up for downloads. Added new parameters to handle this right.

        * WebView.subproj/WebBaseResourceHandleDelegate.h: Remove isDownload flag.
        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate isDownload]): Return NO, override in subclass.
        (-[WebBaseResourceHandleDelegate handle:didReceiveResponse:]): Call isDownload
	method instead of looking at flag directly.

        * WebView.subproj/WebControllerPrivate.h: Add complete: parameter to _mainReceivedError:.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _mainReceivedError:fromDataSource:complete:]): If complete is NO, then
	don\'t mark the primary load as complete.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient isDownload]): Added. Returns YES if downloadHandler is non-nil.
        (-[WebMainResourceClient receivedError:complete:]): Added complete parameter. Call the
	_setPrimaryLoadComplete: method in the download case (fixes a possible leak), and pass
	the complete parameter through to the controller.
        (-[WebMainResourceClient cancel]): Pass complete:YES.
        (-[WebMainResourceClient interruptForPolicyChangeAndKeepLoading:]): Added the keepLoading
	flag, and pass complete:!keepLoading.
        (-[WebMainResourceClient stopLoadingForPolicyChange]): Pass keepLoading:NO.
        (-[WebMainResourceClient continueAfterContentPolicy:response:]): Pass keepLoading:YES,
	and remove the call to the now-obsolete setIsDownload:.
        (-[WebMainResourceClient handle:didFailLoadingWithError:]): Pass complete:YES.


git-svn-id: svn://svn.chromium.org/blink/trunk@2979 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-09 23:16:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d05a017a20a286b71e32dbc286991703bd3c201e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024j01l578bsecms', 2, e'        Reviewed by Chris.

	- fixed 3122608 -- Downloads can\'t be cancelled

	When I fixed the leak for other categories of policy interruption, I messed
	things up for downloads. Added new parameters to handle this right.

        * WebView.subproj/WebBaseResourceHandleDelegate.h: Remove isDownload flag.
        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate isDownload]): Return NO, override in subclass.
        (-[WebBaseResourceHandleDelegate handle:didReceiveResponse:]): Call isDownload
	method instead of looking at flag directly.

        * WebView.subproj/WebControllerPrivate.h: Add complete: parameter to _mainReceivedError:.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _mainReceivedError:fromDataSource:complete:]): If complete is NO, then
	don\'t mark the primary load as complete.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient isDownload]): Added. Returns YES if downloadHandler is non-nil.
        (-[WebMainResourceClient receivedError:complete:]): Added complete parameter. Call the
	_setPrimaryLoadComplete: method in the download case (fixes a possible leak), and pass
	the complete parameter through to the controller.
        (-[WebMainResourceClient cancel]): Pass complete:YES.
        (-[WebMainResourceClient interruptForPolicyChangeAndKeepLoading:]): Added the keepLoading
	flag, and pass complete:!keepLoading.
        (-[WebMainResourceClient stopLoadingForPolicyChange]): Pass keepLoading:NO.
        (-[WebMainResourceClient continueAfterContentPolicy:response:]): Pass keepLoading:YES,
	and remove the call to the now-obsolete setIsDownload:.
        (-[WebMainResourceClient handle:didFailLoadingWithError:]): Pass complete:YES.


git-svn-id: svn://svn.chromium.org/blink/trunk@2978 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-09 23:14:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e031c0d7f1798ff77d0ceffad767037d03220212');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024k01l5kr69s3jp', 2, e'	Fixed 3115903 - exchangehomes.com sometimes has form state poorly restored

	KHTML is much smarter about restoring form state now, taking into account element names and
	types instead of blindly blasting data by simple element ordering.  We encode the name
	and type at the front of the "state" strings that previously just held the value of the
	element.

	QString::endsWith() was just plain wrong.  Looks like it had some copied code, but was
	never really implemented.

        Reviewed by: Darin Adler

        * WebCore.pbproj/project.pbxproj:  PB is hellbent on adding "shouldUseHeadermap = 0;"
        * khtml/html/html_formimpl.cpp:
        (encodedElementName):  Utility func to encode an element name, escaping amp and lt
        (HTMLGenericFormElementImpl::state):  Build the prefix of an element\'s state string,
	e.g. ELEMENT_NAME&ELEMENT_TYPE&
        (HTMLGenericFormElementImpl::findMatchingState):  Find a matching piece of state out of
	the list of state strings that were previously saved.
        (HTMLFieldSetElementImpl::type):  Return our element type.
        (HTMLInputElementImpl::state):  Call super as part of building state string.
        (HTMLInputElementImpl::restoreState):  Use findMatchingState.
        (HTMLLegendElementImpl::type):  Return our element type.
        (HTMLSelectElementImpl::state):  Call super as part of building state string.
        (HTMLSelectElementImpl::restoreState):  Use findMatchingState.
        (HTMLKeygenElementImpl::type):  Return our element type.
        (HTMLOptGroupElementImpl::type):  Return our element type.
        (HTMLOptionElementImpl::type):  Return our element type.
        (HTMLTextAreaElementImpl::state):  Call super as part of building state string.
        (HTMLTextAreaElementImpl::restoreState):  Use findMatchingState.
        * khtml/html/html_formimpl.h:  type() is moved up to HTMLGenericFormElementImpl
        * khtml/html/htmlparser.cpp:
        (KHTMLParser::insertNode):  Pass list of states to restoreState.
        (KHTMLParser::popOneBlock):  Pass list of states to restoreState.
        * khtml/xml/dom_docimpl.h:  Add method to return the whole list of form states.
        * khtml/xml/dom_nodeimpl.cpp:
        (NodeImpl::restoreState):    Nodes receive the whole list of form states to restore from,
	not just a single state that has already been chosen.
        * khtml/xml/dom_nodeimpl.h:
        * kwq/KWQString.mm:
        (QString::endsWith):  Walk the search string correctly.


git-svn-id: svn://svn.chromium.org/blink/trunk@2977 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-09 19:00:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f59fcd8ee06343bed360645e8c8865b18ddc034b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024l01l5o2bgwjzp', 2, e'        Reviewed by Darin.

	- fixed 3103954 - preferences not displayed properly at excite.com

        * khtml/html/html_formimpl.cpp:
        (HTMLInputElementImpl::value): If a radio or checkbox input has a
	value, return that rather than something based on the checked
	state. Only fall back on the checked state if there is no value.


git-svn-id: svn://svn.chromium.org/blink/trunk@2976 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-09 16:49:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f290980900e709f68ba91ddf28e3969f38960c71');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024m01l5ou8j1prn', 2, e'        Reviewed by Darin.

	- fixed 3103036 - REGRESSION: scripts dropped from DOM tree;
	javascript text rendered to screen

	The problem here is that we don\'t allow SCRIPT inside MAP, so the
	script tag gets thrown away in the DOM and the text is added
	directly to the MAP. I can\'t see a good reason not to allow SCRIPT
	here, so I think the best thing to do is relax the DTD.

        * khtml/html/dtd.cpp:
        (DOM::checkChild): Relax the DTD to allow SCRIPT inside MAP.


git-svn-id: svn://svn.chromium.org/blink/trunk@2975 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-09 16:36:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b0051e48aadb42f58c2bbbfa85de992afd30126c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024n01l5ikvxhxfq', 2, e'        Reviewed by Ken.

	- fixed 3059637 - all articles missing at excite.com sports page
	- fixed 3065903 - most of content missing at excite.com news page

	These bugs both came up because a JavaScript function has a var
	declaration that collides with a function parameter name.

        * kjs/nodes.cpp:
        (VarDeclNode::processVarDecls): Don\'t set the property to
	undefined if a property with that name is already set on the
	global object. Otherwise we may clobber function parameters with
	undefined even before hitting a possible var initializer.


git-svn-id: svn://svn.chromium.org/blink/trunk@2974 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-09 16:21:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd03d6e8f145f56c623bd64d4888eeb0dd45ddb7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024o01l5sx91jtcu', 2, e'	Fix for 3007276, styles do not cascade properly through
	tables.  The font was being reset to the default font
	(konq_default) when it needed to be reset to the body\'s font.
	I added a new font family value called konq_body and the
	style system resolves that value to be the body\'s font family list.

        Reviewed by: gramps and mjs

        * khtml/css/cssstyleselector.cpp:
        * khtml/html/html_tableimpl.cpp:
        (HTMLTableElementImpl::attach):


git-svn-id: svn://svn.chromium.org/blink/trunk@2973 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-09 07:12:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73c27981668b8a1d69c57d63a183dcae5b347b34');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024p01l5muxd269y', 2, e'	Fix for 3121814.  Forms inside table elements (tbody and table
	etc.) can be inline.  Just remove the assert and replace it
	with a bailout.

	Fix for 3036479.  Tables with specified heights but cells
	with no height (or no cells at all) were not honoring
	the specified height.

        Reviewed by: gramps

        * khtml/rendering/render_table.cpp:
        (RenderTable::RenderTable):
        (RenderTable::startRow):
        (RenderTable::layoutRows):
        (RenderTable::paint):
        (RenderTable::recalcCells):


git-svn-id: svn://svn.chromium.org/blink/trunk@2972 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-09 05:48:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f81cdc8721c6fe38a28f6887a58afa3957344a2f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp49h024q01l5qgnqfiot', 2, e'        Reviewed by Dave.

	- fixed 2981252 - JavaScript inside <!-- --> comments inside <select> is not executed

	This problem is caused by the hack to turn all whitespace into
	spaces inside <select>, so that it\'s collapsed in the DOM. But
	this is especially bad for scripts inside select tags, so I
	changed the select special case to not apply inside scripts.

        * khtml/html/htmltokenizer.cpp:
        (HTMLTokenizer::addPending):
        (HTMLTokenizer::write):


git-svn-id: svn://svn.chromium.org/blink/trunk@2971 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-09 05:41:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b138cac374ca43ec90ed9e4be2ba43cc41eb4f57');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023301l5u837nlyw', 2, e'WebFoundation:

        Reviewed by Don and Dave.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.
        * WebFoundation.pbproj/project.pbxproj: Let Electron be Electron.

WebCore:

        Reviewed by Don and Dave.

	- fixed 3115845 -- bad-pointer crash destroying DOM tree reproducible at a particular site

	All hail libgmalloc, without which this would just be another bug I can\'t reproduce!

	This memory trasher bug was caused bug calling setChildrenLoaded after casting a node to
	HTMLObjectElementImpl, when the node wasn\'t always an object element. It turns out that this
        fix was made obsolete a while back when I changed close on renderers to be delivered even for
        cases where the renderer is not created yet at close time.

        * khtml/html/htmlparser.cpp: (KHTMLParser::processCloseTag): Remove the special case for
	</object>. Now that this is fixed another way we don\'t need this at all.

        * khtml/html/html_objectimpl.h: Remove setChildrenLoaded and m_childrenLoaded.
        * khtml/html/html_objectimpl.cpp: (HTMLObjectElementImpl::HTMLObjectElementImpl):
	Remove code that sets m_childrenLoaded to false.
        (HTMLObjectElementImpl::attach): Remove code that looks at m_childrenLoaded, since we don\'t
	need it any more (and in fact there\'s no way to set it any more).

	- fixed 3120578 -- REGRESSION: going to about:blank creates null view

	If no tokens are ever sent to the parser, then we end up without a render tree.

        * khtml/html/htmlparser.h: Add finished() function.
        * khtml/html/htmlparser.cpp: (KHTMLParser::finished): Make an HTML element if the document is still
	empty at this point. This is identical to what KHTMLParser::insertNode does when you insert any kind
	of element other than an HTML element.

        * khtml/html/htmltokenizer.cpp: (HTMLTokenizer::end): Call finished() to let the parser know.

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::paint): Turn on the "paint red" feature in development builds.
	Null view problems are particularly hard to debug without something like this, and we don\'t care
	if development builds are ever-so-slightly slower. No change in deployment.

	- fixed 3121527 -- crash in WebCoreBridge frameBorderStyle

        * kwq/WebCoreBridge.mm: (-[WebCoreBridge frameBorderStyle]): Handle case where this is called and
	we don\'t have a KHTMLView yet.

	- other changes

        * WebCore.pbproj/project.pbxproj: Electron is doing his thing.

WebKit:

        Reviewed by Don and Dave.

	- fixed 3120578 -- REGRESSION: going to about:blank creates null view

	This part of the fix makes sure that a renderer is created, even when there are no bytes
	of data passed through. This makes the empty document about:blank case work just like the
	"document with just whitespace in it case". There\'s another part of the fix in WebCore that
	takes care of the remaining problem.

        * WebView.subproj/WebHTMLRepresentation.m:
        (-[WebHTMLRepresentation finishedLoadingWithDataSource:]):
	Call receivedData:withDataSource: on the bridge with nil for the data. It would be even more
	elegant to add a new call for the case where we finish, but it\'s not necessary, since the
	existing receivedData: call does all the right things if passed nil.

        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _finishedLoading]):
	Call finishedLoadingWithDataSource: here, to make sure it\'s done after committing.
	This parallels what we already do for the didReceiveData call.
        * WebView.subproj/WebMainResourceClient.m: (-[WebMainResourceClient handleDidFinishLoading:]):
	Remove the call to finishedLoadingWithDataSource: because it\'s handled by _finishedLoading now.
	This parallels what we already do for the didReceiveData call.

	- fixed long standing problem where resizing could make you see a "null view"

        * WebView.subproj/WebView.m:
        (-[WebView drawRect:]): Add a "paint cyan" feature in development builds.
	Null view problems are particularly hard to debug without something like this,
	and we don\'t care if development builds are slightly slower. No change in deployment.
        (-[WebView setFrameSize:]): Tell the scroll view to draw the background if we are
	resized. We can\'t do our "let the old bits show through" thing any more if we have to
	redraw because of resizing.

	- other changes

        * WebKit.pbproj/project.pbxproj: Remove the old -DAPPLE_CHANGES and -DHAVE_CONFIG_H that we
        once needed when WebKit used to compile  C++ headers from the KHTML part of WebCore.
        We haven\'t needed those for ages. Also sort things a bit, using the new Electron feature for
	sorting lists of files alphabetically, and some by hand.

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.

WebBrowser:

	Reviewed by Don and Dave.

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2970 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-09 03:39:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/179d86899ff9fcf2389adef64de4b9edbe832718');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023401l5susqjqnk', 2, e'WebKit:

	Fixed: 3121627 - REGRESSION: partial progress is left in address field after download

        Reviewed by: darin

	In WebMainResourceClient, make sure to always call receivedError before _clearProvisionalDataSource so that
	receivedError works. This is done in multiple places, so I factored this out into one method interuptForPolicyChange.

        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _mainReceivedError:fromDataSource:]): added asserts for nil error, dataSource and frame
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient interruptForPolicyChange]): renamed from notifyDelegatesOfInterruptionByPolicyChange because it now also sets the provisionalDataSource on the frame to nil.
        (-[WebMainResourceClient stopLoadingForPolicyChange]): call interruptForPolicyChange, stop load
        (-[WebMainResourceClient continueAfterContentPolicy:response:]): call interruptForPolicyChange

WebBrowser:

	Fixed: 3121284 - REGRESSION: Downloaded item\'s URL is left in address field

        Reviewed by: darin

        * BrowserWindowController.m:
        (-[BrowserWindowController updateLocationFieldText]): If the provisional data source has ended in error, don\'t use its URL.


git-svn-id: svn://svn.chromium.org/blink/trunk@2969 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-09 02:42:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3f614073bb83a82e259a0238adbbe3ff0d30818d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023501l5v7ygnuw8', 2, e'	Fix for image bullets.  They were neglecting to offset
	themselves by their own width, and were just relying on
	sheer luck (the default margin) to accommodate their
	size.  The bug is 3007040 (borkware.com).

        Reviewed by: gramps

        * khtml/rendering/render_list.cpp:
        (RenderListMarker::paintObject):


git-svn-id: svn://svn.chromium.org/blink/trunk@2968 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-08 21:08:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6a7ae592e6a71feb4f2255b7ce90a7b3029291a5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023601l5htg0lc07', 2, e'	This change fixes three bugs in list items.

	(1) Stop implementing markers as floats.  This is simply
	wrong.  The bullet doesn\'t affect the height of the line
	box if it\'s a float, and it can also affect other
	list items that follow the bullet\'s enclosing list item
	(leading to odd staggered layout of lists).

	(2) Relax the DTD.  It was trying to obey strict HTML, which
	is hopeless in the case of lists.  Match the behavior of
	both Gecko and the IEs (mac and win32)  and allow non-list
	content to be inserted between list items without being
	wrapped in its own list item.  Lists were making empty
	items for whitespace in between items, and this stops that
	and makes our lists behave much more like Gecko and the IEs.

	(3) The bullet\'s min and max width weren\'t getting set, which
	could lead to confused line width calculations when image
	bullets were used.

        Reviewed by: gramps

	* ChangeLog:
	* khtml/html/dtd.cpp:
        (DOM::checkChild):
        * khtml/rendering/bidi.cpp:
        (RenderFlow::findNextLineBreak):
        * khtml/rendering/render_list.cpp:
        (RenderListItem::setStyle):
        (RenderListMarker::calcMinMaxWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@2967 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-08 02:06:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5cc8771af9cf8a79d8f2f69782554da668044325');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023701l5ml6cwbgk', 2, e'Tests:

        Reviewed by: Maciej

	Fix for this bug:

	Radar 3073988 (URLs with /../ are not resolved before being sent to the host)

        * TestURLs.h: Added some new test URLs. Added a new TestAbsoluteURLsWithRelativePortions array.
        * WebFoundation-Misc/ifnsurlextensions-test.chk: Updated for changed behavior.
        * kde/Makefile.am: Added new kurl-relative-test.
        * kde/kurl-relative-test.chk: Added.
        * kde/kurl-relative-test.cpp: Added.
        * kde/kurl-test.chk: Updated for changed behavior.

WebFoundation:

        Reviewed by: Maciej

        Fix for this bug:

        Radar 3073988 (URLs with /../ are not resolved before being sent to the host)

        * Misc.subproj/WebNSURLExtras.m:
        (pathRemovingDots): New code that was adapted from KURL relative URL resolution code.
        (-[NSURL _web_URLComponents]): Call new pathRemovingDots function where needed.

WebCore:

        Reviewed by: Maciej

        Fix for this bug:

        Radar 3073988 (URLs with /../ are not resolved before being sent to the host)

        * kwq/KWQKURL.mm:
        (KURL::KURL):
        (copyPathRemovingDots): New function containing code that was pulled out of
	the existing relative URL resolution code.
        (KURL::parse): Call new copyPathRemovingDots function instead of doing same work
	inline.


git-svn-id: svn://svn.chromium.org/blink/trunk@2966 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-12-08 01:03:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a43036ffd0bce2818eb55826df592e1a5d5d7f5d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023801l5fgpk4g3u', 2, e'	Sigh. I forgot to commit the first layer fix (that has already
	been reviewed), so now this is also including that.

	The first layer fix was to deal with the yale.edu crasher.
	It involved making sure that append/remove of render object
	trees drill down into those trees to remove/append corresponding
	layers (instead of just checking the root of the trees).

	The second fix involves making sure that cliprects are right
	for painting backgrounds and borders of clipped objects.
	Fixes benoit\'s bug.

        Reviewed by: mjs and darin (fix 1), mjs and gramps (fix 2)

        * khtml/rendering/render_container.cpp:
        (RenderContainer::removeChildNode):
        (RenderContainer::appendChildNode):
        (RenderContainer::insertChildNode):
        * khtml/rendering/render_container.h:
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::paint):
        (RenderLayer::constructZTree):
        * khtml/rendering/render_layer.h:
        * khtml/rendering/render_object.cpp:
        (RenderObject::appendLayers):
        (RenderObject::removeLayers):
        (RenderObject::enclosingLayer):
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2965 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-07 02:21:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3409816b3453d1b32bda733dc20b28f4740b3c80');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023901l5k9ysfei4', 2, e'WebKit:

	Clean up some printfs.  Use WebKitLogPageCache for page cache info.

        Reviewed by: rjw

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted:]):
        (-[WebFrame _purgePageCache]):
        (-[WebFrame _setState:]):
        (-[WebFrame _continueLoadRequestAfterNavigationPolicy:request:]):

WebBrowser:

	Clean up some printfs.  Use WebKitLogPageCache for page cache info.

        Reviewed by: rjw, co-conspirator

        * Debug/DebugUtilities.m:
        (-[BrowserDocument toggleBackForwardEnabled:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2964 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-07 01:50:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/190dbffc5e0d288435ed3b764acc6437701d4cb1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023a01l5t37jt3bm', 2, e'WebKit:

	3118584 - implement desired behavior for load - reload - b/f
	3119241 - page cache needs to be refreshed after reload
	3118096 - isTargetItem:NO saved to disk with every bookmark

	The most noticeable changes are the addition of the "Same" loadType, and that reload
	does not restore form state.  3119241 was noticed in passing, and is related.
	3118096 is a nit with a possible small perf benefit.

        Reviewed by: rjw

        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem dealloc]):  New originalURL field.
        (-[WebHistoryItem originalURL]):  New getter.
        (-[WebHistoryItem setOriginalURL:]):  New setter.
        (-[WebHistoryItem dictionaryRepresentation]):  Dont save isTarget.
        (-[WebHistoryItem initFromDictionaryRepresentation:]):  Dont save isTarget.
        * WebView.subproj/WebFrame.m:
        (-[WebFrame loadRequest:]):  Test for going to same URL, invoke loadTypeSame case.
        * WebView.subproj/WebFramePrivate.h:  Add loadTypeSame
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _addBackForwardItemClippedAtTarget:]):  Remove a line of dead code.
        (-[WebFrame _createItem]):  Set originalURL when item is created.
        (-[WebFrame _transitionToCommitted:]):  For loadTypeSame, clear page cache
        (-[WebFrame _purgePageCache]):  Added logging.
        (-[WebFrame _setState:]):  Don\'t add to page cache if doing a reload.
        (-[WebFrame _isLoadComplete]):  LoadTypeSame is a NOP.
        (-[WebFrame _loadItem:fromItem:withLoadType:]):  LoadTypeSame is an ASSERT.
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]):  In
	the LoadTypeSame case load from origin and never do anchor nav.  If asked to load
	the same URL, invoke LoadTypeSame case.
        (-[WebFrame _loadURL:intoChild:]):  Latent bug: WebFrameLoadTypeReloadAllowingStaleData
	should restore child frame content like reload does.
        (-[WebFrame _itemForRestoringDocState]):  Prevent form state restore on reload and loadSame.
        (-[WebFrame _shouldTreatURLAsSameAsCurrent:]):  New utility function.

WebBrowser:

	3118584 - implement desired behavior for load - reload - b/f
	3119029 - assert if you control click on back button when it\'s enabled only to leave bookmarks view

	The app no longer has a test in it to turn a standard nav into a reload. WK does it.

	The bug was a result of the special case of the back button as a way to get out
	of bookmarks view to the web view.  The back menu basically has to play the same game.

        Reviewed by: rjw, john sullivan (respectively)

        * BrowserDocument.m:
        (-[BrowserDocument goToRequest:]):  Remove test, let WK sort out when to reload.
        (-[BrowserDocument goToItem:]):   Special case if in bookmarks view.  Go back to
	web view mode.
        (-[BrowserDocument backListMenuForButton:]):  Special case if in bookmarks view.  Add
	current item to menu.
        * BrowserWindowController.h:  Export a couple existing methods.


git-svn-id: svn://svn.chromium.org/blink/trunk@2963 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-07 01:18:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4cc8920bf61bb89471d5f611b80fada7c7f78a8d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023b01l57gfzbj3e', 2, e'        Reviewed by: Darin

	- fixed 3077227 - netflix "top 100" page JavaScript runs so
	slowly, it seems like a hang

	I fixed this by adding hash tables of image and form elements by
	name and id. This allows scans of the whole document to be avoided
	in many cases.

	This also results in a small speedup (~1%) on cvs-js-ibench.

        * khtml/dom/html_document.cpp:
        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLDocument::hasProperty):
        (KJS::HTMLDocument::tryGet):
        * khtml/html/html_documentimpl.cpp:
        (HTMLDocumentImpl::addNamedImageOrForm):
        (HTMLDocumentImpl::removeNamedImageOrForm):
        (HTMLDocumentImpl::haveNamedImageOrForm):
        * khtml/html/html_documentimpl.h:
        * khtml/html/html_formimpl.cpp:
        (HTMLFormElementImpl::attach):
        (HTMLFormElementImpl::detach):
        (HTMLFormElementImpl::parseAttribute):
        * khtml/html/html_formimpl.h:
        * khtml/html/html_imageimpl.cpp:
        (HTMLImageElementImpl::parseAttribute):
        (HTMLImageElementImpl::attach):
        (HTMLImageElementImpl::detach):
        * khtml/html/html_imageimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2962 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-07 00:27:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d5265f0239377d26d30362e43d462ba6994fa936');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023c01l5dau7pdx2', 2, e'	Hack to make i-bench paint every fourth page.  We can tune
	this # as needed.

        Reviewed by: darin

        * khtml/html/html_documentimpl.cpp:
        (HTMLDocumentImpl::close):
        * khtml/rendering/render_flow.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2961 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-06 23:05:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c663d6fe0a3e32f04ab0f430eb2e6b2e23a39d24');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023d01l5ncxggxpt', 2, e'        Reviewed by Trey.

	Update to latest character-sets document.

        * kwq/character-sets.txt: Got the newest one and merged in our change.
        * kwq/KWQCharsetData.c: Regenerated this. Added just one character set name.


git-svn-id: svn://svn.chromium.org/blink/trunk@2960 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-06 20:07:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3f7d40e65f3d150e5c95c8270036e168b488f27d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023e01l5suwubamg', 2, e'        Reviewed by Maciej.

        * khtml/ecma/kjs_events.h: Add listenerObjImp() method so we don\'t have to
	ref/unref for speed-critical uses.

        * khtml/ecma/kjs_window.cpp: (Window::getJSEventListener): Change this
	to work with ObjectImp so we don\'t ref/unref each listener. This should give
	us some extra speed.


git-svn-id: svn://svn.chromium.org/blink/trunk@2959 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-06 18:05:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/19eedb8b54b256c858ee1ad14f5c53ce54db4ce3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023f01l5wn4ilsyc', 2, e'JavaScriptCore:

        Reviewed by: Darin Adler

	- made framework embedding work correctly with buildit

        * JavaScriptCore.pbproj/project.pbxproj: Give framework a relative
	install path, don\'t install it the normal way, and copy it
	manually to /AppleInternal/Library/Frameworks if installing.

WebFoundation:

        Reviewed by: Darin Adler

	- made framework embedding work correctly with buildit

        * WebFoundation.pbproj/project.pbxproj: Give framework a relative
	install path, don\'t install it the normal way, and copy it
	manually to /AppleInternal/Library/Frameworks if installing.

WebCore:

        Reviewed by: Darin Adler

	- made framework embedding work correctly with buildit

        * WebCore.pbproj/project.pbxproj: Give framework a relative
	install path, don\'t install it the normal way, and copy it
	manually to /AppleInternal/Library/Frameworks if installing. Also
	look for other frameworks in
	${DSTROOT}/AppleInternal/Library/Frameworks.

WebKit:

        Reviewed by: Darin Adler

	- made framework embedding work correctly with buildit

        * WebKit.pbproj/project.pbxproj: Give framework a relative
	install path, don\'t install it the normal way, and copy it
	manually to /AppleInternal/Library/Frameworks if installing. Also
	look for other frameworks in
	${DSTROOT}/AppleInternal/Library/Frameworks.

WebBrowser:

        Reviewed by: Darin Adler

	- made framework embedding work correctly with buildit

        * copy-frameworks-to-dstroot.sh: Copy frameworks from
	/AppleInternal/Library/Frameworks
        * embed-frameworks.sh: Fixed typo.


git-svn-id: svn://svn.chromium.org/blink/trunk@2958 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-06 16:35:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ca83a52a2bf7aef9dc7915c965c61a1110c6314d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023g01l5qy239fiv', 2, e'WebCore:

        Reviewed by Trey.

	- fixed 3111903 -- crash in DOM::HTMLDocumentImpl::close

        * khtml/html/html_documentimpl.cpp: (HTMLDocumentImpl::close):
	Check for the case where view() is 0 so we don\'t do a null-dereference.
	Also, remove some of the unneeded redundant isNull/isEmpty checking here.

WebKit:

        Reviewed by Trey.

	- fixed 3103691 -- assertion in WebHTMLView addMouseMovedObserver at versiontracker

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView addMouseMovedObserver]): Instead of asserting, do the checks here to
	determine if the observer should be installed.
        (-[WebHTMLView viewDidMoveToWindow]): Remove checks, since addMouseMovedObserver now checks.
        (-[WebHTMLView windowDidBecomeMain:]): Remove checks, since addMouseMovedObserver now checks.


git-svn-id: svn://svn.chromium.org/blink/trunk@2957 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-06 08:20:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/058b67091f9529bc3c6bdca6e58f23935999edc0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023h01l5fh1gnsdh', 2, e'        Reviewed by Don.

	- fixed 3116149 -- REGRESSION: assert on invalid encoding trying to show accuweather.com source

	The regression was caused when we updated the View Source window to try to get the encoding right.

        * kwq/WebCoreBridge.mm: (+[WebCoreBridge stringWithData:textEncoding:]):
	Make this function decode the string as Windows Latin-1 if the passed-in encoding is
	invalid or ISO Latin-1, since that\'s what we always want.

        * kwq/mac-encodings.txt: Add "8859_1" since we have now seen it "in the wild".
        * kwq/KWQCharsetData.c: Check in new version of generated file.


git-svn-id: svn://svn.chromium.org/blink/trunk@2956 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-06 07:03:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2e1b1b938182ab88da95ed41db5af3754b867e7c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023i01l5gwvwgr3s', 2, e'        Don\'t ceil spaces if not a fixed pitch font.  This make sites
        that have hard coded block widths have less wrapping beyond what the
        designer expected.  Fixes 3117225.

        Reviewed by: mjs

        * WebCoreSupport.subproj/WebTextRenderer.h:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (widthForGlyph):
        (-[WebTextRenderer _computeWidthForSpace]):
        (-[WebTextRenderer initWithFont:]):
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:letterSpacing:wordSpacing:fontFamilies:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2955 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-06 04:00:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0a700e3774d906f27bb244148b7eeb1fa6a620e2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023j01l55uud8don', 2, e'	Fix for javadoc page.  It specified an invalid unit, and our
	unit match was on a substring, so it allowed "pts" when it
	shouldn\'t.  This patch adds some code to help handle this
	error case.

	Bug # is 3119830.

        Reviewed by: rjw

        * khtml/css/cssparser.cpp:
        (StyleBaseImpl::parseUnit):


git-svn-id: svn://svn.chromium.org/blink/trunk@2954 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-06 02:51:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7367c4aa6fdce5045ea7a92edc24f2e0c4464482');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023k01l5mwy8b2i9', 2, e'WebCore:

        Reviewed by: rjw

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge selectedString]): renamed to reflect WebDocument API change
        (-[WebCoreBridge deselectAll]): added
        (-[WebCoreBridge elementAtPoint:]): call selectedString

WebKit:

	Added WebDocumentText protocol. Made WebHTMLView and WebTextView implement it.

        Reviewed by: rjw

        * WebView.subproj/WebController.m:
        (-[WebController supportsTextEncoding]): check if protocol is WebDocumentText
        * WebView.subproj/WebDocument.h:
        * WebView.subproj/WebHTMLView.h:
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView hasSelection]): call selectedString
        (-[WebHTMLView takeFindStringFromSelection:]): call selectedString
        (-[WebHTMLView selectAll:]): call selectAll
        (-[WebHTMLView string]): part of WebDocumentText protocol
        (-[WebHTMLView attributedString]): part of WebDocumentText protocol
        (-[WebHTMLView selectedString]): part of WebDocumentText protocol
        (-[WebHTMLView selectedAttributedString]): part of WebDocumentText protocol
        (-[WebHTMLView selectAll]): part of WebDocumentText protocol
        (-[WebHTMLView deselectAll]): part of WebDocumentText protocol
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _writeSelectionToPasteboard:]): call selectedAttributedString
        * WebView.subproj/WebTextView.h:
        * WebView.subproj/WebTextView.m:
        (-[WebTextView string]): part of WebDocumentText protocol
        (-[WebTextView attributedString]): part of WebDocumentText protocol
        (-[WebTextView selectedString]): part of WebDocumentText protocol
        (-[WebTextView selectedAttributedString]): part of WebDocumentText protocol
        (-[WebTextView selectAll]): part of WebDocumentText protocol
        (-[WebTextView deselectAll]): part of WebDocumentText protocol

WebBrowser:

	Fixed: 3119117 - AppleScript text attribute not implemented

        Reviewed by: rjw

        * BrowserDocument.m:
        (-[BrowserDocument text]): Create and return a text storage of the document
        * Scripting.subproj/English.lproj/Alexander.scriptTerminology: fixed typo


git-svn-id: svn://svn.chromium.org/blink/trunk@2953 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-06 02:35:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/433b8c2ede8845715ab7edff98e31d1384a008d0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023l01l56v74odk2', 2, e'        Reviewed by Richard.

	- fixed 3107240 -- world leak: reproducible, trying to open TIFF file

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient notifyDelegatesOfInterruptionByPolicyChange]):
	Send error to the delegate using receivedError: rather than directly.
	This results in the frame properly stopping the load and fixes the leak.


git-svn-id: svn://svn.chromium.org/blink/trunk@2952 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-06 01:44:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fffce59f6a858a327929d840596ac6b88b28406c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023m01l5ynx5lzym', 2, e'	Fix relative positioned elements to add in the right offset
	when repainting themselves.

        Reviewed by: darin

        * khtml/rendering/render_box.cpp:
        (RenderBox::repaintRectangle):


git-svn-id: svn://svn.chromium.org/blink/trunk@2951 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-06 00:37:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8dab540276ffb9038214eaa56b4d838426d698ea');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023n01l559gfy440', 2, e'WebFoundation:

        Reviewed by Chris.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.

WebKit:

        Reviewed by Chris.

        * Downloads.subproj/WebDownloadHandler.m: (-[WebDownloadHandler initWithDataSource:]):
	Add WebGZipDecoder to the list.

        * Downloads.subproj/WebGZipDecoder.h: Finished this.
        * Downloads.subproj/WebGZipDecoder.m: Finished this.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.

WebBrowser:

        Reviewed by Chris.

        * BugReportController.m: Removed obsolete FIXME.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.
        * English.lproj/Localizable.strings: Regenerated this, some string somewhere changed.


git-svn-id: svn://svn.chromium.org/blink/trunk@2950 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-06 00:31:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/772a9017d3d2289e8309bf8e7e8018ced48a39f8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023o01l5gy955kfk', 2, e'        Fixed two issues relating to font sizes.  Fixes any page
        that specifies font size in device independent units, i.e.
        www.abcnews.com.

        1.  Change dpi to 72.  Mac OS X does appear to assume 72, not 96!
        2.  Don\'t appply DPI adjustments to font selections, instead
        normalize values to points.  OS X takes care of device scaling.

        Reviewed by: gramps

        * khtml/css/css_valueimpl.cpp:
        (CSSPrimitiveValueImpl::computeLengthFloat):
        (CSSPrimitiveValueImpl::computePointFloat):
        * khtml/css/css_valueimpl.h:
        * khtml/css/cssstyleselector.cpp:
        * kwq/KWQPaintDeviceMetrics.mm:
        (QPaintDeviceMetrics::logicalDpiY):


git-svn-id: svn://svn.chromium.org/blink/trunk@2949 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-06 00:18:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d29ef62bb620304b3f3ddbdd79c06bc48b2fd2a9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023p01l5bk4es06c', 2, e'        Reviewed by: Darin

        * English.lproj/InfoPlist.strings: removed letters from
	CFBundleShortVersionString to make buildit happy.


git-svn-id: svn://svn.chromium.org/blink/trunk@2948 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-05 23:28:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b352bc56ad262780efffbf876892071a8cc43e1d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023q01l5036yl8d9', 2, e'	Make sure that blocks with block children compute their
	minwidth and maxwidth correctly.  This fixes 4-5 bugs on my
	list, including the becblog.blogspot.com misrender and
	the wrapping list item on webstandards.org.

	The fix ensures that the margins of a child have been
	computed before they are asked for by the parent in
	calcBlockMinMaxWidth.

	Also fix a bug in collapsing margins that caused the height
	of positioned elements that contained only zero-height children
	to not compute their heights correctly.  We now pass tests 2
	and 3 on the collapsing margin tests with this fix.

        Reviewed by: trey

	* khtml/rendering/render_flow.cpp:
	(RenderFlow::layoutBlockChildren):
	(RenderFlow::calcBlockMinMaxWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@2947 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-05 21:23:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/080fb9be45ce8dbaac909ca2b590963ea4c5c3a2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023r01l5xsw8h8er', 2, e'Alex-35 stamp


git-svn-id: svn://svn.chromium.org/blink/trunk@2945 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-12-05 20:41:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dd36056ea017dc32b4bcc50134ca24c625bbf7f3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023s01l5gdtbbj0s', 2, e'        Reviewed by Ken.

	- fixed 3118647 -- REGRESSION: click policy no longer works

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _actionInformationForNavigationType:event:originalURL:]):
	Allow mouse up events too. Those are usually the ones that trigger navigation.


git-svn-id: svn://svn.chromium.org/blink/trunk@2944 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-05 17:17:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e155eb4be25418e3816b7fa7f8a29a756e396ef6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023t01l5kx2l99ut', 2, e'	Fix for wsj.com orange underline regression.  In quirks mode
	only, don\'t let anchors without hrefs go into :hover.  This
	matches MacIE\'s behavior.

	The bug is 3118643.

        Reviewed by: mjs

        * khtml/rendering/render_object.cpp:
        (RenderObject::setHoverAndActive):
        (RenderObject::nodeAtPoint):
        * khtml/rendering/render_object.h:
        * khtml/rendering/render_text.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2943 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-05 08:31:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/be37f422406a5dd1181feba6b6c46eec4eb3aae9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023u01l5o4hcrl1g', 2, e'        Reviewed by: David Hyatt

	- fixed 3118083 - WebCore includes config.h from Labyrinth top level

	* Makefile.am: Regenerate config.h from top-level version, but
	make sure not to alter date if it has not changed.
        * config.h: Added (autogenerated but checked in for benefit of B&I).
        * ForwardingHeaders/config.h: Include WebCore copy rather than
	Labyrinth copy.


git-svn-id: svn://svn.chromium.org/blink/trunk@2942 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-05 08:23:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c6921eb0540a0ad6138a9989bdb1fdf6f3a7bd87');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023v01l5r99grbvv', 2, e'        Reviewed by Maciej.

	- fixed assert when you choose an item from a menu, for example, and that navigates

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _actionInformationForNavigationType:event:originalURL:]):
	If the event is over some other element, just don\'t include the element info.


git-svn-id: svn://svn.chromium.org/blink/trunk@2941 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-05 06:29:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/38b92bb9030a7a78018a0d6acf1d02b85353fc5e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp25g023w01l5ro4z9r4i', 2, e'        Reviewed by: David Hyatt

	- fixed 3049601 - support the equivalent of
	createcontextualfragment(NS6) or insertAdjacentHTML (IE)

	- fixed 3108065 - DHTML at expedia.com doesn\'t work-- lack of
	support for createContextualFragment

	- fixed 3114627 - DHTML menus used in Yahoo mail don\'t work-- lack
	of support for createContextualFragment

	- improvement towards 3052113 - "site menu" part of .mac home page
	editing doesn\'t work

        * khtml/ecma/kjs_range.h:
        * khtml/ecma/kjs_range.cpp:
        (DOMRangeProtoFunc::tryCall): Added suppor for
	createContextualFragment method.
        * khtml/ecma/kjs_range.lut.h: Regenerated.
        * khtml/dom/dom2_range.h:
        * khtml/dom/dom2_range.cpp:
        (Range::createContextualFragment): Implemented (calls impl).
        * khtml/html/html_elementimpl.h:
        * khtml/html/html_elementimpl.cpp:
        (HTMLElementImpl::createContextualFragment): Factored out of setInnerHTML.
	(HTMLElementImpl::setInnerHTML): Call createContextualFragment to
	make the fragment.
        * khtml/xml/dom2_rangeimpl.h:
        * khtml/xml/dom2_rangeimpl.cpp:
        (RangeImpl::createContextualFragment): Implemented (calls start
	container element).


git-svn-id: svn://svn.chromium.org/blink/trunk@2940 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-05 03:29:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/862d7c3637080416bf5de4058e28935df1b272c4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022901l50rxgwury', 2, e'	Fix assert on compuserve page.  <form> under <table> should not
	get a layout() call.

        Reviewed by: gramps

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layout):
        * khtml/rendering/render_table.cpp:
        (RenderTable::layout):


git-svn-id: svn://svn.chromium.org/blink/trunk@2939 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-05 02:30:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ca6183fb27a8468146326ce5013af870b838e6c7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022a01l5boqieyp3', 2, e'WebKit:

	Fixed: 3116294 - Need "Reload" feature in Downloads window

        Reviewed by: rjw

        * WebKit.pbproj/project.pbxproj: made WebFramePrivate.h private so that WebBrowser can call _downloadRequest:toPath:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _loadDataSource:withLoadType:]): commented out assert that complains about lack of WebView. Long-term solution is to catch this earlier and have a lone datasource download mechanism 3118355.

WebBrowser:

	Fixed: 3116294 - Need "Reload" feature in Downloads window

	Added new download button art.

        Reviewed by: sullivan & darin

        * DownloadMonitor.h:
        * DownloadMonitor.m:
        (-[DownloadMonitor init]): create new dictionary _reloadingDataSourceToEntry that store pointers of dataSources to entries so the download monitor knows which entry started the reload.
        (-[DownloadMonitor resource:didReceiveResponse:fromDataSource:]): check if this is a reload by checking _reloadingDataSourceToEntry
        (-[DownloadMonitor setEntry:forReloadingDataSource:]): new, called by the entry to set itself as a reloading downlaod
        * DownloadProgressEntry.h:
        * DownloadProgressEntry.m:
        (-[DownloadProgressEntry _setController:]): new, for when a controller is created for reload
        (-[DownloadProgressEntry _setDataSource:]): tweak
        (-[DownloadProgressEntry _setRequest:]): new, need to retain the request so it can be used for reload
        (-[DownloadProgressEntry _setStartDate:]): new, allows to set the date more then just once
        (-[DownloadProgressEntry dealloc]): release the request and controller
        (-[DownloadProgressEntry reload]): make a controller, set it up, start download, reset the entry
        (-[DownloadProgressEntry setDone:]): release the controller because it won\'t be needed
        * DownloadRow.h:
        * DownloadRow.m:
        (-[DownloadRow _repositionSubviews]): new, moves widgets around
        (-[DownloadRow _setButtonAttributes]): new, sets attributes of the button
        (-[DownloadRow _startProgressAnimation]): simplified, just deal with progress bar
        (-[DownloadRow _startDiskCopyAnimation]): simplified, just deal with progress bar
        (-[DownloadRow _stopProgressAnimation]): simplified, just deal with progress bar
        (-[DownloadRow _updateStage]): call _repositionSubviews and _setButtonAttributes
        (-[DownloadRow awakeFromNib]): save the origins of the widgets
        (-[DownloadRow reload:]): call [entry reload]
        * English.lproj/Localizable.strings:
        * ResourceProgressEntry.m:
        (-[ResourceProgressEntry setBytesLoaded:]): remove error, added comment
        * Resources/Images/Download_Reload.tif: Added.
        * Resources/Images/Download_ReloadPressed.tif: Added.
        * Resources/Images/Download_Reveal.tif:
        * Resources/Images/Download_RevealPressed.tif:
        * Resources/Images/Download_Stop.tif:
        * Resources/Images/Download_StopPressed.tif:
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2938 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-05 01:49:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6594f9d6217507380a26298495e6d2e2032ba1fb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022b01l5m48ue1bg', 2, e'	Fix shroudedisles.com table misalignment by removing more\\
	bogus rules from html4.css.

	Fix forums on macosx.com by implementing support for the align
	attribute on the <P> tag.

	Implement min-width and max-width for block level floating
	and normal flow elements.

	Fix event handling so that :hover notifications get through to
	objects inside floats.

        Reviewed by: rjw

        * khtml/css/html4.css:
        * khtml/html/html_blockimpl.cpp:
        (HTMLParagraphElementImpl::parseAttribute):
        * khtml/html/html_blockimpl.h:
        * khtml/rendering/render_box.cpp:
        (RenderBox::calcWidth):
        (RenderBox::calcWidthUsing):
        (RenderBox::calcHeight):
        * khtml/rendering/render_box.h:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):
        (RenderFlow::nodeAtPoint):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_frames.cpp:
        (RenderFrameSet::nodeAtPoint):
        * khtml/rendering/render_frames.h:
        * khtml/rendering/render_image.cpp:
        (RenderImage::nodeAtPoint):
        * khtml/rendering/render_image.h:
        * khtml/rendering/render_object.cpp:
        (RenderObject::nodeAtPoint):
        * khtml/rendering/render_object.h:
        * khtml/rendering/render_root.cpp:
        (RenderRoot::calcHeight):
        * khtml/rendering/render_style.cpp:
        (StyleBoxData::StyleBoxData):
        * khtml/rendering/render_text.cpp:
        (RenderText::nodeAtPoint):
        * khtml/rendering/render_text.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2937 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-05 01:20:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fc62e3653ef290bdcc778d99671ec07838053274');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022c01l55qyry5dh', 2, e'	3097585 - Crash in -[WebFrame(WebPrivate) _isLoadComplete] at result of google image search

	The root of this problem was that we would detach child frames by calling detach
	on them all, then clearing the whole array.  This would fail because detaching a
	frame might have to stop a load, which calls checkLoadComplete, which visits the
	entire frame tree.  But if a previously detached child is still sitting in that
	tree, we end up with an assertion failure.  The solution is to remove the kids as
	they are detached.

        Reviewed by: Darin Adler

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _createItem]):   Method rename (a nit I missed from an earlier change)
        (-[WebFrame _createItemTreeWithTargetFrame:clippedAtTarget:]):  Method rename
        (-[WebFrame _detachChildren]):   new method to do detaching right
        (-[WebFrame _detachFromParent]):  call new method
        (-[WebFrame _setDataSource:]):  call new method
        (-[WebFrame _transitionToCommitted:]):    Method rename


git-svn-id: svn://svn.chromium.org/blink/trunk@2936 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-05 00:19:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/25ec3471dd6ef229b23c056a965b5cdb65a81935');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022d01l524wlpwdp', 2, e'        Reviewed by: Richard Williamson

	Added explicit lock/unlock methods so Sherlock can grab the
	interpreter lock as needed.

	- partially addressed 3084320 - JavaScriptCore crash

        * kjs/internal.cpp:
        (InterpreterImp::InterpreterImp):
        (InterpreterImp::lock):
        (InterpreterImp::unlock):
        * kjs/internal.h:
        * kjs/interpreter.cpp:
        (Interpreter::lock):
        (Interpreter::unlock):
        * kjs/interpreter.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2935 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-05 00:12:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e23eab64b5c3cc8cd460b4733f2195fef2cb3f4a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022e01l5ifalfkal', 2, e'Added missing reviewer.


git-svn-id: svn://svn.chromium.org/blink/trunk@2934 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-04 22:04:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/697c8db66cde7fcdb13d1f5ab31cebe4315e7944');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022f01l5o5cvwd2k', 2, e'        Reviewed by: NOBODY (OOPS!)

	Set things up so JavaScriptCore builds in PCRE and uses it for
	regular expressions. This fixes many form validation bugs:

	- fixed 3103197 - javascript at fidelity.com rejects valid input
	- fixed 2942552 - form validation at weather.com fails
	- fixed 3079752 - js always reports textarea is empty
	- fixed 3079719 - covad.com "check availalbility" fails

        * Makefile.am: Add pcre subdir.
        * kjs/config.h: define HAVE_PCREPOSIX to true.
	* kjs/regexp.h: Don\'t include pcreposix.h since nothing from there
	is used.
	* pcre/.cvsignore: Added.
        * pcre/ChangeLog: Removed.
        * pcre/INSTALL: Removed.
        * pcre/Makefile.am: Added.
        * pcre/Makefile.in: Removed.
        * pcre/NEWS: Removed.
        * pcre/NON-UNIX-USE: Removed.
        * pcre/README: Removed.
        * pcre/chartables.c: Added.
        * pcre/config.guess: Removed.
        * pcre/config.in: Removed.
        * pcre/config.sub: Removed.
        * pcre/configure: Removed.
        * pcre/configure.in: Removed.
        * pcre/dll.mk: Removed.
        * pcre/doc/Tech.Notes: Removed.
        * pcre/doc/pcre.3: Removed.
        * pcre/doc/pcre.html: Removed.
        * pcre/doc/pcre.txt: Removed.
        * pcre/doc/pcregrep.1: Removed.
        * pcre/doc/pcregrep.html: Removed.
        * pcre/doc/pcregrep.txt: Removed.
        * pcre/doc/pcreposix.3: Removed.
        * pcre/doc/pcreposix.html: Removed.
        * pcre/doc/pcreposix.txt: Removed.
        * pcre/doc/pcretest.1: Removed.
        * pcre/doc/pcretest.html: Removed.
        * pcre/doc/pcretest.txt: Removed.
        * pcre/doc/perltest.txt: Removed.
        * pcre/install-sh: Removed.
        * pcre/ltmain.sh: Removed.
        * pcre/pcre-config.h: Added.
        * pcre/pcre-config.in: Removed.
        * pcre/internal.h: Include pcre-config.h instead of config.h
        * pcre/pcre.c:
        (ord2utf8): Fix warnings.
        (pcre_compile): Fix warnings.
        * pcre/pcre.def: Removed.
        * pcre/pcre.h: Added.
        * pcre/pcre.in: Removed.
        * JavaScriptCore.pbproj/project.pbxproj: Added pcre files to build.
        * JavaScriptCorePrefix.h: Guard c++ headers with #ifdef __cplusplus.


git-svn-id: svn://svn.chromium.org/blink/trunk@2933 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-04 21:57:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6b408691d634586c6ba3b1b7bf1ebd9ff7ee6953');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022g01l529yuy9nm', 2, e'WebCore:

        Reviewed by Trey and Maciej.

	- fixed 3117558 -- Assertion failure in KWQKHTMLPart::slotData after typing "amazon.com" twice
	- got rid of the per-part NSEvent in preparation for NSView mouse event handling going through WebCore

        * khtml/khtml_part.h: Added declaration for didOpenURL.
        * khtml/khtml_part.cpp: (KHTMLPart::openURL): Changed name to didOpenURL in the APPLE_CHANGES
	version because calls to openURL from within KHTML need to make the round trip to WebKit.
	Also disabled the "scroll to anchor" part.

        * kwq/KWQKHTMLPart.cpp: (KWQKHTMLPart::isFrameSet): Fix to return false when document is 0.

        * kwq/KWQKHTMLPart.h: Add scrollToAnchor, remove setCurrentEvent and _currentEvent
        * kwq/KWQKHTMLPart.mm:
        (KHTMLPart::openURL): Pass the openURL call to the KWQKHTMLPart.
        (KWQKHTMLPart::KWQKHTMLPart): Don\'t initialize _currentEvent.
        (KWQKHTMLPart::~KWQKHTMLPart): Don\'t release _currentEvent.
        (KWQKHTMLPart::submitForm): Pass [NSApp currentEvent] instead of _currentEvent.
        (KWQKHTMLPart::urlSelected): Pass [NSApp currentEvent] instead of _currentEvent.
        (KWQKHTMLPart::scrollToAnchor): Added. Contains the code from the anchor case inside
	KHTMLPart::openURL.

        * kwq/WebCoreBridge.h: Added scrollToAnchorWithURL:.
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge openURL:reload:headers:lastModified:pageCache:]): Change around so that we
	don\'t do a bunch of irrelevant stuff in the page cache case. I think we might just want to
	make a separate method for the page cache case.
        (-[WebCoreBridge scrollToAnchorWithURL:]): Added.
        (-[WebCoreBridge mouseUp:]): Simplify check for nil view. Remove calls to setCurrentEvent.
        (-[WebCoreBridge mouseDown:]): Simplify check for nil view. Fix event type constants for
	right mouse button and other mouse button.
        (-[WebCoreBridge mouseMoved:]): Simplify check for nil view.
        (-[WebCoreBridge mouseDragged:]): Simplify check for nil view.

WebKit:

        Reviewed by Trey and Maciej.

	- fixed 3117558 -- Assertion failure in KWQKHTMLPart::slotData after typing "amazon.com" twice
	- update NSEvent handling in preparation for NSView mouse event handling going through WebCore

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _loadItem:fromItem:withLoadType:]): Added FIXME comments about matching the _loadURL
	case more closely.
        (-[WebFrame _actionInformationForNavigationType:event:originalURL:]): Only use the event if it\'s
	a mouse down event. This prevents trouble when we have other kinds of events coming through.
        (-[WebFrame _continueFragmentScrollAfterNavigationPolicy:request:]): Call the new scrollToAnchorWithURL:
	instead of openURL:. This fixes the assertion failure in the bug above.
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]): Update checks here to more closely
	match the ones in KHTMLPart::openURL that we are replacing. Add more comments.

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView hitTest:]): Function to intercept all clicks at the
	WebHTMLView level, disabled for now because we are not yet ready.

	- started a gzip download decoder, not yet hooked up

        * Downloads.subproj/WebGZipDecoder.h: Added.
        * Downloads.subproj/WebGZipDecoder.m: Added.
        * WebKit.pbproj/project.pbxproj: Add WebGZipDecoder and zlib.

	- other changes

        * Panels.subproj/WebAuthenticationPanel.m: Fixed screwed-up indentation.


git-svn-id: svn://svn.chromium.org/blink/trunk@2932 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-04 21:47:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c93a1ef2b063957ef22dc04ba625ad41b694178c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022h01l5nff0fzqy', 2, e'WebCore
        Cache the NSFont in QFont after doing family based lookup.
        Use that cached font to find a text renderer.

        Reviewed by: Darin

        * kwq/KWQFont.h:
        * kwq/KWQFont.mm:
        (QFont::QFont):
        (QFont::~QFont):
        (QFont::setFamily):
        (QFont::setFirstFamily):
        (QFont::setPixelSize):
        (QFont::setWeight):
        (QFont::setItalic):
        (QFont::getNSFont):
        * kwq/KWQFontMetrics.mm:
        * kwq/KWQPainter.mm:
        (QPainter::_updateRenderer):
        * kwq/WebCoreTextRendererFactory.h:
        * kwq/WebCoreTextRendererFactory.m:
        (-[WebCoreTextRendererFactory rendererWithFont:]):

WebKit
        Cache the fallback font in the same way we cache other
        fonts.

        Reviewed by: Darin

        * WebCoreSupport.subproj/WebTextRendererFactory.h:
        * WebCoreSupport.subproj/WebTextRendererFactory.m:
        (-[WebTextRendererFactory fallbackFontWithTraits:size:]):
        (-[WebTextRendererFactory fontWithFamilies:traits:size:]):
        (-[WebTextRendererFactory cachedFontFromFamily:traits:size:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2931 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-04 19:01:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0967f0ab2766ca0ced200e5ee6a876144cc0acc4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022i01l5808nskek', 2, e'WebCore
        Cache the last used text renderer to avoid expensive lookup
        when font hasn\'t changed.

        Reviewed by: maciej

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layout):
        * kwq/KWQPainter.h:
        * kwq/KWQPainter.mm:
        (QPainter::_updateRenderer):
        (QPainter::drawText):
        (QPainter::drawUnderlineForText):

WebKit
        Fixed massive performance regression.
        We were leaking WebFontCacheKey.
        Added a cache of missing fonts to avoid
        expensive appkit lookup.

        Reviewed by: Maciej

        * WebCoreSupport.subproj/WebTextRendererFactory.m:
        (-[WebTextRendererFactory cachedFontFromFamily:traits:size:]):
        (-[WebTextRendererFactory cachedFontFromFamilies:traits:size:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2930 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-04 10:34:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bfbc2f9151f4fb94eff066c8f380029800aa9c62');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022j01l51bsxabwt', 2, e'top level:

        Reviewed by: Richard Williamson

        * pcre/doc/*: Added.
        * pcre/testdata/*: Added.

pcre:

   (i)   Added long-form option names like gnu grep.
   (ii)  Added --help to list all options with an explanatory phrase.
   (iii) Added -r, --recursive to recurse into sub-directories.
   (iv)  Added -f, --file to read patterns from a file.


git-svn-id: svn://svn.chromium.org/blink/trunk@2927 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-04 09:22:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fc543ca29ee836cf525658c67809320f2778cd2d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022k01l5ip2ns9q3', 2, e'        Reviewed by: Darin Adler

	- imported PCRE 3.9 into the tree; this isn\'t actually compiled or
	used yet.

        * pcre/*: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2926 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-04 07:19:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fca5f6161abefe62a9ba986ce44d584ff3036aee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022l01l5ma4uge89', 2, e'	- fixed 3117193 -- REGRESSION: Hang on Hixie\'s weblog

        Reviewed by Maciej.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer substituteFontForString:families:]):
	Do the operation on the whole string at once instead of a character at a time.
        I decided to do this rather than correct the bug in the character-at-a-time version.


git-svn-id: svn://svn.chromium.org/blink/trunk@2925 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-04 07:07:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/06e82bb39011f925463cb9acf36c03150a6f54e0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022m01l5kp5wu443', 2, e'Rolled over all the ChangeLogs to ChangeLog-2002-12-03\'s in the hopes
of speeding up checkouts and checkins.


git-svn-id: svn://svn.chromium.org/blink/trunk@2924 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-04 05:50:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ab5f247fdc3d9be722fb9875eacc47cccff446c4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022n01l57ud9w2ov', 2, e'	Re-fix of 3113393 - Clients side redirects shouldn\'t always add item to back/forward list
	Fix 3116980 - REGRESSION: Back button goes back twice
	Fix 3099631 - assertion failure at http://www.calendarlive.com/ when pop-up blocking is off

	The earlier fix for the first bug was to consider any redirect happening within one
	second as a continuation of the previous load.  To fix the regressions I re-cast that
	fix using a similar, pre-existing mechanism.

        Reviewed by: Richwill

        * WebView.subproj/WebFramePrivate.h:  Nuke shortRedirectComing, rename
	instantRedirectComing to quickRedirectComing.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _createOrUpdateItem]):  Remove code related to shortRedirectComing,
	the fix that brought the regressions.
        (-[WebFrame _setState:]):  Don\'t cache the page we\'re leaving if we\'re doing
	a redirect (since we don\'t want the redirecting page in the cache).
        (-[WebFrame _continueFragmentScrollAfterNavigationPolicy:request:]):  Above rename.
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]):  Above rename.
        (-[WebFrame _loadURL:intoChild:]):  Comment fix.
        (-[WebFrame _clientRedirectedTo:delay:fireDate:]):  Use 1 second instead of 0
	seconds as the metric of a client redirect.  Do not consider whether the frame
	state is completed as part of the decision.
        (-[WebFrame _clientRedirectCancelled]):  Above rename.


git-svn-id: svn://svn.chromium.org/blink/trunk@2923 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-04 05:18:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6d8bf254880e3db34b62f86efbb098f7de002cf3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022o01l5y2pa8hn3', 2, e'WebKit:

        Reviewed by: Darin

	- REALLY changed the default state for block pop-ups to be off.

        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]):
	change default for letting JavaScript open windows automatically
	to YES

WebBrowser:

        Reviewed by: Darin

	- Deleted old unused preference keys, one of which was tricking me
	into thinking that block pop-ups was correctly set when it wasn\'t
	(the real setting is in WebKit)

        * Defaults.plist:
        * PreferenceKeys.h:
	deleted things that aren\'t used anywhere


git-svn-id: svn://svn.chromium.org/blink/trunk@2922 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-12-04 04:52:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/81852d56aed052901b8efc8c8e846e0325c2e167');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022p01l5rlvvxb6f', 2, e'	- fixed 3117135 -- world leak: drag any image, get a leak of 1 WebFrame

        Reviewed by John.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]): Retain the URL of the dragged image, not the entire
	element dictionary. The element dictionary creates a reference cycle since it includes
	a reference to the WebFrame.
        (-[WebHTMLView namesOfPromisedFilesDroppedAtDestination:]): Use the URL rather than
	extracting it from the dictionary with a WebElementImageURLKey.

        * WebView.subproj/WebHTMLViewPrivate.h: URL, not element dictionary.
        * WebView.subproj/WebHTMLViewPrivate.m: (-[WebHTMLViewPrivate dealloc]): Release the
	URL, not the element dictionary.


git-svn-id: svn://svn.chromium.org/blink/trunk@2921 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-04 04:39:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3c3b8475e2dc967c489bb5f663729825bd5bdf2b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022q01l59mmzoh2m', 2, e'	Fix for 3078227, hanging in table code.  Make sure <form>s
	don\'t get wrapped in anonymous rows and cells.

        Reviewed by: rjw

        * khtml/rendering/render_table.cpp:
        (RenderTable::addChild):
        (RenderTableSection::addChild):
        (RenderTableRow::addChild):


git-svn-id: svn://svn.chromium.org/blink/trunk@2920 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-04 03:25:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a616d91419b9a5f5dd8f7361b5804661d35f6e4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022r01l5om5ot5cn', 2, e'        Added a preference to change the page cache size, i.e.:
        Alexander.app/Contents/MacOS/Alexander -WebKitPageCacheSizePreferenceKey 4

        Reviewed by: hyatt

        * History.subproj/WebBackForwardList.m:
        (+[WebBackForwardList setPageCacheSize:]):
        (+[WebBackForwardList pageCacheSize]):
        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]):
        (-[WebPreferences _initialTimedLayoutSize]):
        (-[WebPreferences _pageCacheSize]):
        * WebView.subproj/WebPreferencesPrivate.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2919 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-04 03:10:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/03b116770d80cf935a1b68fc8aa8657675cc1a0e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022s01l5dw44bka4', 2, e'	Backing out a file that I did not intend to check in.

        * khtml/misc/loader.cpp:


git-svn-id: svn://svn.chromium.org/blink/trunk@2918 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-04 02:43:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/26d6487420d49cec183a5f45dccbb0a3dfd43e81');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022t01l519qws1gc', 2, e'        D\'oh.  Fixed last minute change that broke the build.

        * kwq/KWQFont.mm:
        (QFont::getNSFont):


git-svn-id: svn://svn.chromium.org/blink/trunk@2917 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-04 02:14:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f53ced807a34151dfacb2c6f74d28ed772990e6d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022u01l5i2cr4esa', 2, e'	Remove the moveWidgetsAside function.  This fixes all the
	form controls on livepage.apple.com that were getting hosed
	by the scrolling marquee.

        Reviewed by: darin

        * khtml/html/html_tableimpl.cpp:
        (HTMLTableRowElementImpl::addChild):
        * khtml/misc/loader.cpp:
        * khtml/rendering/render_root.cpp:
        (RenderRoot::layout):
        * kwq/KWQKHTMLPart.h:
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::KWQKHTMLPart):
        (KWQKHTMLPart::paint):


git-svn-id: svn://svn.chromium.org/blink/trunk@2916 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-04 02:05:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1ff0179214998cc6937fd051fb5b4c602dbcd0f1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022v01l5r1qoifbe', 2, e'        Fixed 3019986.  Use an array of font families instead of a single
        font family to support CSS family lists.
        r=hyatt

        * Misc.subproj/WebKitNSStringExtras.m:
        (-[NSString _web_widthForString:font:]):
        * Misc.subproj/WebStringTruncator.m:
        (+[WebStringTruncator rightTruncateString:toWidth:withFont:]):
        (+[WebStringTruncator centerTruncateString:toWidth:withFont:]):
        * WebCoreSupport.subproj/WebTextRenderer.h:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer substituteFontForString:families:]):
        (-[WebTextRenderer substituteFontForCharacters:length:families:]):
        (-[WebTextRenderer widthForCharacters:length:]):
        (-[WebTextRenderer drawCharacters:stringLength:fromCharacterPosition:toCharacterPosition:atPoint:withPadding:withTextColor:backgroundColor:rightToLeft:letterSpacing:wordSpacing:fontFamilies:]):
        (-[WebTextRenderer floatWidthForCharacters:stringLength:characterPosition:]):
        (-[WebTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:]):
        (-[WebTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:letterSpacing:wordSpacing:fontFamilies:]):
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:letterSpacing:wordSpacing:fontFamilies:]):
        * WebCoreSupport.subproj/WebTextRendererFactory.h:
        * WebCoreSupport.subproj/WebTextRendererFactory.m:
        (-[WebTextRendererFactory fontWithFamilies:traits:size:]):
        (-[WebTextRendererFactory fontWithFamily:traits:size:]):
        (+[WebTextRendererFactory fallbackFontWithTraits:size:]):
        (-[WebTextRendererFactory cachedFontFromFamily:traits:size:]):
        (-[WebTextRendererFactory cachedFontFromFamilies:traits:size:]):
        (-[WebTextRendererFactory rendererWithFamilies:traits:size:]):

        Fixed 3019986.  Use an array of font families instead of a single
        font family to support CSS family lists.
        r=hyatt

        * kwq/KWQFont.h:
        * kwq/KWQFont.mm:
        (QFont::getNSFont):
        * kwq/KWQFontMetrics.mm:
        (QFontMetrics::width):
        (QFontMetrics::floatWidth):
        (QFontMetrics::floatCharacterWidths):
        * kwq/KWQPainter.mm:
        (QPainter::drawText):
        (QPainter::drawUnderlineForText):
        * kwq/WebCoreTextRenderer.h:
        * kwq/WebCoreTextRendererFactory.h:
        * kwq/WebCoreTextRendererFactory.m:
        (-[WebCoreTextRendererFactory rendererWithFamilies:traits:size:]):
        (-[WebCoreTextRendererFactory fontWithFamilies:traits:size:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2915 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-12-04 01:56:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f24099e48958a8a0122d82ee4f3218f6d2e8b472');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022w01l5jzdxqpf3', 2, e'	Fixed: 3115073 - REGRESSION: plants.com is crashing in WebIconDB with bad retain count

	The plants.com favicon was marked to be removed from disk and thus it had no retain count. The problem was that it was still on disk and _hasIconForIconURL would return YES. If hasIconForIconURL returns YES, its is ok to call  _setIconURL:forSiteURL:. Since there was no retain count, the assert in _setIconURL:forSiteURL: would be hit.

	We now consider icons without retain counts to not exist even if they\'re on disk.

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase _updateFileDatabase]):
        (-[WebIconDatabase _setIconURL:forSiteURL:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2914 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-04 00:21:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/018c6e09d32aad6591fd30d1231eb8346c4e02a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022x01l5hcuf6jq1', 2, e'        Reviewed by: Darin Adler

	- fixed Deployment build.

        * kjs/dtoa.cpp: Work around warnings.


git-svn-id: svn://svn.chromium.org/blink/trunk@2913 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-03 23:20:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d2e2072f9cfd0252692a06435710642cbcf76301');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022y01l53pb8tbft', 2, e'	- fixed 3114790 - Gamespot reviews pages badly mis-rendering
	because floating point numbers format wide

	Reviewed by: David Hyatt

	* kjs/dtoa.cpp: Imported float <--> string conversion routines
	from David M. Gay. I changed this to fix warnings and avoid
	colliding with names of standard library functions.
        * kjs/dtoa.h: Added a header I made up for dtoa.cpp
        * kjs/ustring.cpp:
        (UString::from): Use new double to string routine (kjs_strtod).
        (UString::toDouble): Use new string to double routine (kjs_dtoa).
        * JavaScriptCore.pbproj/project.pbxproj: Added new files


git-svn-id: svn://svn.chromium.org/blink/trunk@2912 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-03 22:51:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d96c0dc2833bcec47437db78ae519c26ac977947');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv022z01l5czar5osu', 2, e'	Fix for 3112599, aol.com shopping page doesn\'t work.  Apply
	the same form demotion trick to <tr> that I did already for
	<tbody> and <table>.

	r=gramps

        * khtml/html/dtd.cpp:
        (DOM::checkChild):
        * khtml/html/html_tableimpl.cpp:
        (HTMLTableRowElementImpl::addChild):
        * khtml/html/html_tableimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2911 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-03 22:46:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/067d590ae212b8c262af47aef363f831f18303cb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv023001l5q3073inc', 2, e'	Fixed:
	3112477 - REGRESSION: dropping image within window loads image in current window
	Fix: Unregister the parent webview for dragging when the drag starts, reregister after the drag ends.

	3116423 - Dragged images sometimes have the wrong promised-file file type
	Fix: Make the - [NSView_web_dragPromisedImage...] method take a file type rather than deriving the file type from the URL

	3115768 - REGRESSION: contextual menu item "copy url to clipboard" doesn\'t work
	Fix: In [NSPastboard _web_writeURL:andTitle:withOwner:] adding pboard types  doesn\'t work for the general pasteboard, have to redeclare.

	3116594 - Image on the drag pasteboard shouldn\'t have applied transparency and scaling
	Fix: In - [NSView_web_dragPromisedImage...] put the original image on the pboard

	Reviewed by John.

        * Misc.subproj/WebNSPasteboardExtras.m:
        (-[NSPasteboard _web_writeURL:andTitle:withOwner:]): don\'t use addTypes as it doesn\'t work as I expected
        * Misc.subproj/WebNSViewExtras.h:
        * Misc.subproj/WebNSViewExtras.m:
        (-[NSView _web_dragPromisedImage:origin:URL:fileType:title:event:]): put the original image on the pboard, not the drag image
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView dragImage:at:offset:event:pasteboard:source:slideBack:]):
        (-[WebHTMLView mouseDragged:]): call _web_dragPromisedImage
        (-[WebHTMLView draggedImage:endedAt:operation:]): call -[WebView _reregisterDraggedTypes]
        * WebView.subproj/WebImageView.m:
        (-[WebImageView mouseDragged:]): call _web_dragPromisedImage
        (-[WebImageView draggedImage:endedAt:operation:]): call -[WebView _reregisterDraggedTypes]
        * WebView.subproj/WebView.m:
        (-[WebView initWithFrame:]): call _reregisterDraggedTypes
        (-[WebView draggingEntered:]): simplified, don\'t need to check drag source
        * WebView.subproj/WebViewPrivate.h:
        * WebView.subproj/WebViewPrivate.m:
        (-[WebView _reregisterDraggedTypes]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2910 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-12-03 21:57:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d005f84bb7094e3feaea0750b68e665c45270c96');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv023101l58992c7q8', 2, e'	Fix link feedback regression on aintitcool.com.  Observe
	the wacky feedback we give now (yes, it matches MacIE and
	Gecko).  Gotta love this malformed page.

	<a><h4>...</h4></a>

	r=mjs

        * khtml/rendering/render_object.cpp:
        (RenderObject::nodeAtPoint):


git-svn-id: svn://svn.chromium.org/blink/trunk@2909 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-03 21:50:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/184c8ee50ed84f58214087eeebd3a3777ec9789f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnp0gv023201l5n907jnj1', 2, e'	- fixed 3114796 -- WORLD LEAKS: 1 WebFrame leaked on trivial source file with <html> tag only
	(probably fixed a ton of other bugs too, since this always leaks)

	Reviewed by Chris.

        * WebView.subproj/WebHTMLViewPrivate.m: (-[WebHTMLView _elementAtPoint:]):
	Added a missing autorelease.


git-svn-id: svn://svn.chromium.org/blink/trunk@2908 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-03 21:36:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/05687e90f920a3240d4f68f6d07e9165b73a7729');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021f01l5hei2j4nj', 2, e'WebFoundation:

	Reviewed by Maciej.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.

WebKit:

	Reviewed by Maciej.

        * WebView.subproj/WebView.m: Fixed a pair of strings that conflict.
        * English.lproj/Localizable.strings: Regenerated.
        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2907 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-12-03 21:18:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d8d0284c1e75575b7a43db5e7deeed3823293f8f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021g01l5o8a8dc3t', 2, e'	Eliminate the KONQBLOCK hack.  Fixes ipodhacks.com (a mislayout
	caused by malformed html... <table><br>...)

	r=mjs

        * khtml/css/html4.css:
        * khtml/html/dtd.cpp:
        (DOM::checkChild):
        * khtml/html/html_elementimpl.cpp:
        (HTMLElementImpl::isInline):
        * khtml/html/htmlparser.cpp:
        (KHTMLParser::reset):
        (KHTMLParser::insertNode):
        * khtml/html/htmlparser.h:
        * khtml/misc/htmltags.c:
        (hash_tag):
        (findTag):
        * khtml/misc/htmltags.h:
        * khtml/misc/htmltags.in:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2906 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-03 21:11:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/47b3ad5f7da93c2c2f7ef738c0baf32f7f0d6f2a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021h01l5kbiwc9jt', 2, e'	Fix for 3032557, wsj.com DHTML elements in the wrong position.
	This patch adds support for img.x and img.y (a Mozilla extension
	from NS4 days), which is used by the site to position the menus.

	r=kocienda on the patch.

        * khtml/dom/html_image.cpp:
        (HTMLImageElement::x):
        (HTMLImageElement::y):
        * khtml/dom/html_image.h:
        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLElement::getValueProperty):
        * khtml/ecma/kjs_html.h:
        * khtml/ecma/kjs_html.lut.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2905 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-02 23:17:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8b35ab6c6017b349e366e45abfe7236ca1b1d191');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021i01l5mvuc3gt3', 2, e'	Undo my changes to margin collapsing for blocks inside inlines.
	Although they may be correct in a strict mode, they don\'t
	work with the real-world Web.  For now, I\'m just backing out
	the code.  The CSS WG hasn\'t decided how this should work yet
	anyway, so I\'ll just let the quirk behavior be our behavior
	in both modes.

	This fixes aintitcool.com.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2904 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-02 22:00:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4632b6668ce7fc1bd43e14f7a5b9ad8c6e8cba61');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021j01l5730k288d', 2, e'WebKit:

	Refined bookmark notifications to be more detailed.  We now have added, removed,
	willChange and didChange.

        * Bookmarks.subproj/WebBookmarkGroup.h:   New API.
        * Bookmarks.subproj/WebBookmarkGroup.m:
        (-[WebBookmarkGroup _sendNotification:forBookmark:children:]):
        (-[WebBookmarkGroup _setTopBookmark:]):
        (-[WebBookmarkGroup _bookmarkWillChange:]):
        (-[WebBookmarkGroup _bookmarkDidChange:]):
        (-[WebBookmarkGroup _bookmarkChildren:wereAddedToParent:]):
        (-[WebBookmarkGroup _bookmarkChildren:wereRemovedToParent:]):
	All just small pieces of flow control for posting the notes.
        * Bookmarks.subproj/WebBookmarkGroupPrivate.h:  Internal methods for posting the notes.
        * Bookmarks.subproj/WebBookmarkLeaf.m:
        (-[WebBookmarkLeaf setTitle:]):  Post da note
        (-[WebBookmarkLeaf setURLString:]):  Post da note
        (-[WebBookmarkLeaf description]):  Added for debugging.
        * Bookmarks.subproj/WebBookmarkList.m:
        (-[WebBookmarkList setTitle:]):  Post da note
        (-[WebBookmarkList removeChild:]):  Post da note
        (-[WebBookmarkList insertChild:atIndex:]):  Post da note
        * Bookmarks.subproj/WebBookmarkProxy.m:
        (-[WebBookmarkProxy setTitle:]):  Post da note
        * English.lproj/StringsNotToBeLocalized.txt:  New strings.
        * WebKit.exp:   New strings.

WebBrowser:

	The auto-complete DB properly tracks HistoryItems and Bookmarks coming and going.
	We have only one DB entry for a given URL, with a ref count.  HistoryItems replace
	Bookmarks in the DB, so we have a well-defined place to keep stats like visitCount
	or recent times accessed.

        * BookmarksController.m:
        (-[BookmarksController awakeFromNib]):  Adopt new API for bookmark notifications.
        * BookmarksViewController.m:    Adopt new API for bookmark notifications.
        * CompletionController.m:
        (+[CompletionController _tree_create]):  Set refCount of root node.
        (_keyStringFromItem):  Nuke redundant code.
        (_keyStringFromNode):  Deleted nodes must retain their key string to function
	properly in the DB.
        (_findPotentialNode):  Test for deleted nodes using new bit.
        (+[CompletionController _tree_addItem:]):  New rules for handing a collision on
	add.  Bump ref count, replace Bookmarks with HistoryItems.
        (+[CompletionController _tree_deleteItem:]):  Obey refcounting.
        (+[CompletionController _tree_nextItemUsingCursor:]):  Test for deleted nodes using new bit.
        (DumpAutoCompleteTree):  Debugging nit.
        (+[CompletionController _removeBookmarkTree:]):  New utility routine.
        (+[CompletionController _loadDB]):  Debugging nits.
        (-[CompletionController _executeQuery]):  Bandaid fix for user typing "www.".
        (+[CompletionController _registerForNotifications]):  Register for bookmark notes.
        (+[CompletionController _bookmarksAdded:]):  Receive bookmark note.
        (+[CompletionController _bookmarksRemoved:]):  Receive bookmark note.
        (+[CompletionController _bookmarkWillChange:]):  Receive bookmark note.
        (+[CompletionController _bookmarkDidChange:]):  Receive bookmark note.
        (-[CompletionController _positionWindow]):  Small code rearranging.


git-svn-id: svn://svn.chromium.org/blink/trunk@2903 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-12-02 17:59:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6d53b258a17d984d5be3bb0b7447616b3a44ca31');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021k01l5wzytefu4', 2, e'WebKit:

	- added original URL field to action dictionary so that policy delegates
	can avoid prompting over and over on redirects.

        * WebKit.exp:
        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebControllerPolicyDelegate.m:
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource initWithRequest:]):
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading:]):
        * WebView.subproj/WebFrame.m:
        (-[WebFrame loadRequest:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _actionInformationForNavigationType:event:originalURL:]):
        (-[WebFrame _checkNavigationPolicyForRequest:dataSource:andCall:withSelector:]):
        (-[WebFrame _addExtraFieldsToRequest:]):
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]):
        (-[WebFrame _postWithURL:data:contentType:triggeringEvent:]):

WebBrowser:

	- fixed 3109894 - Insecure form warning prompts twice

        * BrowserWebController.m:
        (-[BrowserWebController decideNavigationPolicyForAction:andRequest:inFrame:decisionListener:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2902 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-12-02 13:40:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/89998052e9ed3307f65e8384631260eb173de7d4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021l01l5ljp2hrmk', 2, e'	Convert the WebCore cache from LRU to size-adjusted and
	popularity-aware LRU (LRU-SP).  With the improved cache,
	the size restriction on images can be relaxed back to 40K
	(from 16K) while retaining the same score on cvs-base.
	This should result in better real-world performance.

        * khtml/misc/loader.cpp:
        (CachedObject::ref):
        (CachedObject::setSize):
        (m_tail):
        (LRUList::~LRUList):
        (Cache::flush):
        (FastLog2):
        (Cache::getLRUListFor):
        (Cache::removeFromLRUList):
        (Cache::insertInLRUList):
        (Cache::adjustSize):
        * khtml/misc/loader.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2901 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-12-02 01:32:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/44fb4aa09ff7319c2796886ac1444064280f3886');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021m01l5ds55y4is', 2, e'* khtml/css/html4.css:

Finally tweak headline font sizes and margins to match Gecko and CSS
standard:
    - increase H1 font-size from 1.7em to 2em
    - increase H2 font-size from 1.4em to 1.5em
    - make H2 top and bottom margin match (bottom was strangely .87em)
    - increase H4 margin from 1.0em to 1.33em


git-svn-id: svn://svn.chromium.org/blink/trunk@2900 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2002-11-30 04:20:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/53be6bb43aa7f040de68370620e181baa08e1af9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021n01l5axmq3h68', 2, e'        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler createFileIfNecessary]): Add a FIXME.
        (-[WebDownloadHandler writeDataForkData:resourceForkData:]): Notify that the file system has
	changed so the Finder can respond to the size change.
        (-[WebDownloadHandler finishedLoading]): Notify that the file system has changed now that the
	download has completed and the files are closed (may be redundant now that we have the above,
	but will do no harm).

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]):
	Use _web_isCaseInsensitiveEqualToString instead of lowercaseString.

        * Misc.subproj/WebNSViewExtras.m: Tweak formatting.


git-svn-id: svn://svn.chromium.org/blink/trunk@2899 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-29 02:35:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5e09e5730f22daee428a2788ed502baa218df8f9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021o01l5h4akdyfq', 2, e'	Fix DHTML on phoenix.com.  Add support for window.addEventListener
	and window.removeEventListener.

        * khtml/ecma/kjs_window.cpp:
        (Window::get):
        (WindowFunc::tryCall):
        * khtml/ecma/kjs_window.h:
        * khtml/ecma/kjs_window.lut.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2898 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-28 00:00:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/971788b9e4a8a377c7b7ba2acd2ccf77d2b926ed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021p01l5nb0vj2e4', 2, e'        Fixed 3113393.  Client side redirects that happen <= 1 second
        update the current back/forward item, rather than creating
        a new one.

        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _addBackForwardItemClippedAtTarget:]):
        (-[WebFrame _createOrUpdateItem]):
        (-[WebFrame _createItemTreeWithTargetFrame:clippedAtTarget:]):
        (-[WebFrame _transitionToCommitted:]):
        (-[WebFrame _clientRedirectedTo:delay:fireDate:]):
        (-[WebFrame _clientRedirectCancelled]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2897 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-27 23:56:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f5d075d26af0352bd6a896606f63b04c448b705e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021q01l5x1ixbla1', 2, e'	- avoid doing any work when setting the document\'s link colors if
	there is no change. This avoids superfluous style updates and
	results in a 20% improvment on the JavaScript iBench.

        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLDocument::putValue):


git-svn-id: svn://svn.chromium.org/blink/trunk@2896 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-27 22:12:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fdd5fa5cf5d95ac76aaca39405ab70bf7c224e58');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021r01l5mlt5k1dh', 2, e'        Fixed measurement error for Ahem font (and any font that
        has a tiny fractional value). 3112745, 3112742

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer initWithFont:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2895 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-27 20:56:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/02cb455f688a7ef877448dc25ef6e683f69e798f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021s01l5al8vwa1w', 2, e'        * kjs/collector.cpp:
	removed puts("COLLECT") leftover debugging spam that was
	buggin\' gramps


git-svn-id: svn://svn.chromium.org/blink/trunk@2894 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-11-27 18:03:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f22d60b75fbaa9d86d50a0e03e7e901f81b2950a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021t01l559zsa63w', 2, e'	Fix <br clear=""> and <br clear> to just behave like <br>
	rather than <br clear="all">.  Matches behavior in other
	browsers.

        * khtml/html/html_inlineimpl.cpp:
        (HTMLBRElementImpl::parseAttribute):


git-svn-id: svn://svn.chromium.org/blink/trunk@2893 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-27 10:11:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bafda0b0a3ab0a99f6a1ce0cc6836da22322c04c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021u01l5elwapub9', 2, e'        Numerous overflow: hidden improvements to fix espn.com.

	First stop absolute positioned overflow hidden elements
	from growing to accommodate their overflow.  (Actually
	absolute positioned elements should never grow to do this,
	but fixing it for non-overflow hidden elements is hard,
	so later.)

	Second fix the render layer code to not allow background/borders
	of the object with overflow: hidden from being clipped.  This
	involves an extra paint step where the object paints its
	background and borders prior to establishing the clip rect
	for the children.  (This will also be necessary for overflow:auto
	and overflow:scroll).

        * ChangeLog:
        * khtml/rendering/render_box.cpp:
        (RenderBox::getClipRect):
        (RenderBox::calcAbsoluteVertical):
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::paint):
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2892 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-27 09:54:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0fa9635d742c83bc9baff1e1cade5239bec8423a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021v01l5n1pq33h8', 2, e'	Fix for 3105502.  drop-downs wrapping to next line.

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@2891 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-27 08:06:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/365bb43ffbc63d8aa4ccfece42a158ae2f56d620');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021w01l5d6a2y5sh', 2, e'	Smarter block inside inline handling.  Eliminate whitespace
	that is in between blocks inside inilnes.

        * khtml/xml/dom_textimpl.cpp:
        (TextImpl::attach):


git-svn-id: svn://svn.chromium.org/blink/trunk@2890 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-27 05:05:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5051aa2baf54fa825f0439187fe46ffc11c68aff');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021x01l5fa9juukd', 2, e'	Don\'t let blocks inside inlines collapse with their surroundings
	ever.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2889 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-27 03:04:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/489fc419b2e05de4553017f6ff563d123fc441e5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021y01l5jle6v1fr', 2, e'	Fix a collapsing margin regression on aintitcool caused by
	my support of blocks inside inlines.  A block could be wrapped
	by an inline, e.g., <font><p>foo</p></font>, and in this case,
	you do not apply the collapsing margin quirk.  The margin stays.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2888 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-27 02:06:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5b5dc8d5fd81a2f9bb1009dbdb9b74c0a7f8843a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h021z01l5q4epsdbk', 2, e'WebKit:

	Fixed: 3090834 - Launch WMP (Window Media Player) when encountering WMP content

	Added contentURL to WebPluginError.

        * Plugins.subproj/WebNetscapePluginDocumentView.m:
        (-[WebNetscapePluginDocumentView setDataSource:]):
        * Plugins.subproj/WebNetscapePluginPackage.m:
        (-[WebNetscapePluginPackage initWithPath:]):
        * Plugins.subproj/WebNullPluginView.m:
        (-[WebNullPluginView viewDidMoveToWindow]):
        * Plugins.subproj/WebPluginError.h:
        * Plugins.subproj/WebPluginError.m:
        (-[WebPluginErrorPrivate dealloc]):
        (-[WebPluginError dealloc]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge viewForPluginWithURL:attributes:baseURL:MIMEType:]):
        (-[WebBridge viewForJavaAppletWithFrame:attributes:baseURL:]):

WebBrowser:

	Fixed: 3090834 - Launch WMP (Window Media Player) when encountering WMP content

        * BrowserNSWorkspaceExtras.h:
        * BrowserNSWorkspaceExtras.m:
        (-[NSWorkspace pathForApplicationOfFileAtPath:]): fixed leak
        (-[NSWorkspace pathForApplicationForMIMEType:]): added
        * English.lproj/Localizable.strings:
        * LoadProgressMonitor.m:
        (-[LoadProgressMonitor launchApplicationSheetEnded:returnCode:contextInfo:]): launch WMP
        (-[LoadProgressMonitor pluginErrorSheetEnded:returnCode:contextInfo:]): renamed
        (-[LoadProgressMonitor pluginFailedWithError:dataSource:]): check for WMP content


git-svn-id: svn://svn.chromium.org/blink/trunk@2887 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-27 01:18:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9f19d9a92e5a3ea9d2e6e3885f33d70c150641d3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h022001l58c2ljvvy', 2, e'	Fix the font family stuff to be refcounted, so copying
	fonts stays cheap.  Re-enabling it.

	Patch the render_arena code with some debugging info
	to help detect when memory gets trashed.

	Fix the background painting code to deal with negative
	x and y bakcground positions.  Fixes the brain on
	brainjar.com.

        * khtml/css/cssstyleselector.cpp:
        * khtml/rendering/render_arena.cpp:
        (RenderArena::free):
        * khtml/rendering/render_box.cpp:
        (RenderBox::paintBackground):
        * kwq/KWQFont.h:
        * kwq/KWQFont.mm:
        (QFontFamily::QFontFamily):
        (QFontFamily::operator=):


git-svn-id: svn://svn.chromium.org/blink/trunk@2886 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-27 01:07:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f6ae40cc997029b36ed67db3158509080d048dca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h022101l5wx8yyzf4', 2, e'Alex-34 stamp


git-svn-id: svn://svn.chromium.org/blink/trunk@2884 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-11-27 00:50:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d46bcf9f607ea831b4097059f6eed51d82c3adae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h022201l56opz1h87', 2, e'	Change ActivationImp to be allocated via the garbage collector
	again instead of on the stack. This fixes the following four
	regressions but sadly it causes a 6% performance hit. It\'s
	probably possibly to reduce the hit a bit by being smarter about
	inlining and the way the marking list variant is implemented, but
	I\'ll look into that later.

	- fixed 3111500 - REGRESSION: crash in "KJS::ScopeChain::mark()" on www.posci.com
	- fixed 3111145 - REGRESSION: reproducible crash in KJS hashtable lookup at time.com
	- fixed 3110897 - REGRESSION: javascript crasher on http://bmwgallery.tripod.com/
	- fixed 3109987 - REGRESSION: Reproducible crash in KJS ObjectImp at live365.com

	Also:

	- improved DEBUG_COLLECTOR mode a bit by never giving memory back
	to the system.

        * kjs/collector.cpp:
        * kjs/context.h:
        * kjs/function.cpp:
        (ActivationImp::ActivationImp):
        (ActivationImp::mark):
        (ActivationImp::createArgumentsObject):
        * kjs/function.h:
        * kjs/internal.cpp:
        (ContextImp::ContextImp):
        (ContextImp::mark):
        * kjs/list.cpp:
        * kjs/list.h:
        * kjs/value.cpp:
        (Value::Value):


git-svn-id: svn://svn.chromium.org/blink/trunk@2883 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-26 23:52:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9e3ef18a8ebfc9a936c9d6a4b641b83bde3e2c7b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h022301l5uz6j7j61', 2, e'        * kjs/property_map.cpp:
	(PropertyMap::save): Look at the attributes the same way in the single hash entry
	case as in the actual hash table case. Change the rule for which attributes to save
	to "attributes that don\'t have the ReadOnly, DontEnum, or Function bit set".
        Also fix bug where saving an empty property map would leave the count set to the old value.


git-svn-id: svn://svn.chromium.org/blink/trunk@2882 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-26 23:34:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b3d2d29fab08c7475ca26dd2da6e2de8d4ad5a85');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h022401l56w2n7nts', 2, e'JavaScriptCore
        Remove debugging code.  Could be cause of performance regresssion.
        * kjs/nodes.cpp:
        (FunctionCallNode::evaluate):

        Restire attributes correctly.
        * kjs/property_map.cpp:

WebKit        Only cache page if the load has completed.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _setState:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2881 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-26 21:31:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/699c8f522a85a676535e7bce09dc53a13ea8051f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h022501l5vv2a8s5b', 2, e'	Backing out support for multiple font families for now.
	The support is still there in QFont.  I\'ve just stopped
	the style selector from walking the entire value list (it
	will only put the first family into the font).

	The original change  caused a 5% perf regression.
	I\'m going to see what kinds of tricks I can pull to get
	some of this back before re-enabling the feature.

        * khtml/css/cssstyleselector.cpp:


git-svn-id: svn://svn.chromium.org/blink/trunk@2880 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-26 20:30:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9f375cc20a2365ee049dbf96a4a20852e96cdd72');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h022601l5zojp4xcj', 2, e'	Removed some logging.

        * WebView.subproj/WebControllerPrivate.m:
        (+[WebController _supportedImageMIMETypes]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2879 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-26 20:07:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/51ccd9a5e127c2121a7922f412cd5d744f90011f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h022701l5rx5vxvoz', 2, e'WebFoundation:

	Added MIME types for images that NSImage can handle.

        * types.plist:

WebKit:

	Fixed: 3112003 - Show standalone tiffs using AppKit not QT plug-in

	We now dynamically check NSImage for supported image types when registering WebImageView\'s and WebImageRepresentation\'s supported MIME types.

        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (+[WebController _supportedImageMIMETypes]): convert NSImage types to mime types
        * WebView.subproj/WebDataSourcePrivate.m:
        (+[WebDataSource _repTypes]): use _supportedImageMIMETypes to register mime types of WebImageRepresentation
        * WebView.subproj/WebViewPrivate.m:
        (+[WebView _viewTypes]): use _supportedImageMIMETypes to register mime types of WebImageView


git-svn-id: svn://svn.chromium.org/blink/trunk@2878 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-26 20:02:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1881812520acea40794e6927c9409c6ddeb6ade5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoz2h022801l5f43jo267', 2, e'	Fix render object removal to remerge adjacent anonymous inline boxes
	when an intervening block box gets removed.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::removeChild):
        * khtml/rendering/render_flow.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2877 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-26 19:13:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/62966ed10b596ec20937bfb30148e840685286b5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020l01l5is4bp6bs', 2, e'	Fixed: 3061174 - javascript: URLs sent by plugins don\'t work

	For "Javascript:" URLs.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]): lowercase the scheme


git-svn-id: svn://svn.chromium.org/blink/trunk@2876 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-26 18:48:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/10c9989baa3ca9c358ae83795c4569deb802e8f9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020m01l5f2tejqia', 2, e'
WebBrowser
        Added some logging to indicate when page cache is turned on.

        * Debug/DebugUtilities.m:
        (-[BrowserDocument toggleBackForwardEnabled:]):

WebKit
        More work on back/forward cache.  It\'s ready for
        more general testing.  Although, to be safe I\'ve
        left it disabled by default for tomorrow\'s release.
        It will log when a page is save and restored from
        the page cache.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge saveDocumentToPageCache:]):
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading:]):
        (-[WebDataSource _commitIfReady:]):
        (-[WebDataSource _loadIcon]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted:]):
        (-[WebFrame _setState:]):
        (-[WebFrame _loadItem:fromItem:withLoadType:]):
        (-[WebFrame _continueLoadRequestAfterNavigationPolicy:request:]):
        (-[WebFrame _setProvisionalDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2875 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-26 09:25:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/17594ff558069c8322c5b8e0b4aa670c069b2582');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020n01l5bvbngl6l', 2, e'JavaScriptCore
        Use delete[] (not delete) operator to delete array.

        * kjs/property_map.cpp:

WebBrowser
        Use cleaned up API to enable/disable page cache.

        * Debug/DebugUtilities.m:
        (-[BrowserDocument toggleBackForwardEnabled:]):

WebCore
        Cleanup up leaking objects in page cache.

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::openURLFromPageCache):
        * kwq/WebCoreBridge.mm:
        (-[KWQPageState initWithDocument:DOM::URL:windowProperties:KJS::locationProperties:KJS::]):
        (-[KWQPageState dealloc]):

WebKit
        Cleanup leaking objects in page cache.
        Cleaned up API a bit.

        * History.subproj/WebBackForwardList.h:
        * History.subproj/WebBackForwardList.m:
        (-[WebBackForwardList dealloc]):
        (+[WebBackForwardList setUsesPageCache:]):
        (+[WebBackForwardList usesPageCache]):
        (+[WebBackForwardList setPageCacheSize:]):
        (+[WebBackForwardList pageCacheSize]):
        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem setHasPageCache:]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge saveDocumentToPageCache:]):
        * WebKit.exp:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _canCachePage]):
        (-[WebFrame _purgePageCache]):
        (-[WebFrame _setState:]):
        (-[WebFrame _continueLoadRequestAfterNavigationPolicy:request:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2874 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-26 07:51:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6b133aeaf098603b6da06ade040ef07bd32b9e50');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020o01l5lcrty9js', 2, e'        Changed ordering of cachability check.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _setState:]):

        Added check for non-nil doc.

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::setView):


git-svn-id: svn://svn.chromium.org/blink/trunk@2873 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-26 06:20:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d43d84ed47e35ea26da469c22246e18281c6f977');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020p01l5wyozesk6', 2, e'	Fix for the DHTML on hrweb.  With these changes it works
	except for some odd vertical spacing issues.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::addChildToFlow):
        (RenderFlow::makeChildrenNonInline):


git-svn-id: svn://svn.chromium.org/blink/trunk@2872 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-26 02:50:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/53ede6db29af873b3348c6d654026639a1bfdbd4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020q01l5ow23ecjg', 2, e'i        Added a debug menu to turn back/forward cache on and off.
        Off by default.  Use with discretion.  Still leaks like
        a sieve.  Useful to provide a sense of potential speed up.

        * Debug/DebugUtilities.m:
        (-[DebugUtilities createDebugMenu]):
        (-[BrowserDocument validate_showDOMTree:]):
        (-[BrowserDocument toggleBackForwardEnabled:]):

        Changes fro back/forward cache.

        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        (+[WebHistoryItem setUsePageCache:]):
        (+[WebHistoryItem usePageCache]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge saveDocumentToPageCache:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _detachFromParent]):
        (-[WebFrame _canCachePage]):
        (-[WebFrame _setState:]):

        Tweaked some debugging info.

        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::~DocumentImpl):
        (DocumentImpl::detach):

        Added debugging info.  Fixed property map save function.

        * kjs/nodes.cpp:
        (FunctionCallNode::evaluate):
        * kjs/property_map.cpp:


git-svn-id: svn://svn.chromium.org/blink/trunk@2871 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-26 02:49:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/420b67093190b4015fba3788a7c79fb2d968f87a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020r01l5956or7jk', 2, e'	Use ^= to refer to OBJECTs with TYPEs that start with "image/". This is better than hard-coding image mime types.

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@2870 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-26 02:04:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3e2587ad7b79751deea3325da2c4430b1fb30888');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020s01l5vv02tic8', 2, e'WebCore:

	Fixed: 2987001 - spurious mime-type errors from <object> images

	KHTML didn\'t seem to have any clean support for OBJECT tags that are images. Added support for that.

        * khtml/css/html4.css: OBJECTs that are images should be rendered inline
        * khtml/html/html_objectimpl.cpp:
        (HTMLObjectElementImpl::attach): if the type is an image, create a render image
        * khtml/rendering/render_image.cpp:
        (RenderImage::updateFromElement): if the element is an object, use DATA for the URL
        * kwq/KWQDOMNode.cpp:
        (isImage): if it is an OBJECT element, check the type
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge elementAtPoint:]): if the element is an object, use DATA for the URL

WebKit:

	Fixed 2 drag-related crashes. Oops.

        * Misc.subproj/WebNSViewExtras.m:
        (-[NSView _web_dragPromisedImage:fromOrigin:withURL:title:event:]): put nil at the end of the array list.
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]): retain self before drag


git-svn-id: svn://svn.chromium.org/blink/trunk@2869 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-26 01:44:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/926e5ae40ff82e8b61cd199a6fd469fc7efa6ff1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020t01l5vh9m0m07', 2, e'	Fix this even further.  JUst drop support for arbitrary
	property lookup by name on the document.  Mac IE and
	Gecko only do this for img and form, and this makes things
	a lot faster.

        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLDocument::hasProperty):
        (KJS::HTMLDocument::tryGet):


git-svn-id: svn://svn.chromium.org/blink/trunk@2868 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-26 01:27:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b5ac1498b305bda926e6963f474af2a8b11cad17');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020u01l5rfoylxav', 2, e'	Rewrite the img/form document property lookup strategy.  This
	should be faster and actually work (gasp!).  Fixes the dhtml
	on hrweb to at least show up.

        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLDocument::tryGet):
        * khtml/html/html_miscimpl.cpp:
        (HTMLCollectionImpl::nextItem):


git-svn-id: svn://svn.chromium.org/blink/trunk@2867 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-26 01:08:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bb24f95f01cca4f3d475eed4321d637365a1e7e6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020v01l5cwk0i4ha', 2, e'	Add support to QFont for multiple families.  NOw all that\'s left
	is getting the multiple families out of the font and down into
	WebKit.

        * khtml/css/cssstyleselector.cpp:
        * khtml/rendering/font.cpp:
        (Font::update):
        * khtml/rendering/font.h:
        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::recalcStyle):
        * kwq/KWQFont.h:
        * kwq/KWQFont.mm:
        (QFontFamily::QFontFamily):
        (QFontFamily::operator=):
        (QFontFamily::family):
        (QFontFamily::setFamily):
        (QFontFamily::operator==):
        (QFont::QFont):
        (QFont::family):
        (QFont::setFamily):
        (QFont::getNSFontWithFamily):


git-svn-id: svn://svn.chromium.org/blink/trunk@2866 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-25 22:38:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d303ea0eca43827bb221e2927f72c8fa2849ef72');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020w01l52w6gy2nc', 2, e'	- Allow missing icons to be restored when going to the page of the missing icon.

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase _setIconURL:forSiteURL:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2865 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-25 22:12:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/58546354eb67152b9925ffd7dd226a621e332cd5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020x01l54hmuy9oj', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@2864 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-25 22:03:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ea2b3f5b406bc3ea27282178fe7a32c0d48c8bfc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020y01l5uon5n2it', 2, e'        Changes for back/forward.  Currently disabled.

        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem dealloc]):
        (-[WebHistoryItem setPageCacheEnabled:]):
        (-[WebHistoryItem pageCache]):
        * Misc.subproj/WebKitLogging.h:
        * Misc.subproj/WebKitLogging.m:
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge saveDocumentToPageCache:]):
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource startLoading]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading:]):
        (-[WebDataSource _startLoading]):
        (-[WebDataSource _commitIfReady:]):
        (-[WebDataSource _commitIfReady]):
        (-[WebDataSource _setStoredInPageCache:]):
        (-[WebDataSource _storedInPageCache]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted:]):
        (-[WebFrame _canCachePage]):
        (-[WebFrame _purgePageCache]):
        (-[WebFrame _setState:]):
        (-[WebFrame _continueFragmentScrollAfterNavigationPolicy:request:]):
        (-[WebFrame _continueLoadRequestAfterNavigationPolicy:request:]):

        Changes for back/forward.  Currently disabled.

        * ForwardingHeaders/kjs/property_map.h: Added.
        * khtml/ecma/kjs_window.cpp:
        (Window::hasTimeouts):
        (WindowQObject::hasTimeouts):
        * khtml/ecma/kjs_window.h:
        * khtml/khtmlpart_p.h:
        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::DocumentImpl):
        (DocumentImpl::detach):
        (DocumentImpl::inPageCache):
        (DocumentImpl::setInPageCache):
        * khtml/xml/dom_docimpl.h:
        * kwq/KWQKHTMLPart.h:
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::setView):
        (KWQKHTMLPart::userAgent):
        (KWQKHTMLPart::nextKeyViewForWidget):
        (KWQKHTMLPart::canCachePage):
        (KWQKHTMLPart::saveWindowProperties):
        (KWQKHTMLPart::saveLocationProperties):
        (KWQKHTMLPart::restoreWindowProperties):
        (KWQKHTMLPart::restoreLocationProperties):
        (KWQKHTMLPart::openURLFromPageCache):
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge openURL:reload:headers:lastModified:pageCache:]):
        (-[WebCoreBridge saveDocumentToPageCache]):
        (-[WebCoreBridge canCachePage]):
        (attributedString):
        (-[KWQPageState initWithDocument:DOM::URL:windowProperties:KJS::locationProperties:KJS::]):
        (-[KWQPageState dealloc]):
        (-[KWQPageState DOM::]):
        (-[KWQPageState URL]):
        (-[KWQPageState KJS::]):

        Changes for back/forward.  Currently disabled.

        * kjs/property_map.cpp:
        * kjs/property_map.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2863 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-25 22:02:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aca25b4baca2119983c61b1e30e76fb924c1be01');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml020z01l56qiualwm', 2, e'        Fixed exception thrown often when creating mouseover status text (3110186).

        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _elementAtPoint:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2862 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-25 21:54:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ca5ca114ae1cf03da37f561efbc66719ce8158bc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021001l50403gxjr', 2, e'JavaScriptCore:

        * kjs/property_map.cpp: Rearrange code a little bit and tweak indentation.
	This might provide a tiny speedup because we don\'t look at the single entry
	any more in cases where the _table pointer is non-0.

WebKit:

	- fixed a problem I discovered in testing where multiple identical bookmarks confuse us

        * Bookmarks.subproj/WebBookmarkList.m:
        (-[WebBookmarkList removeChild:]): Use indexOfObjectIdenticalTo: and removeObjectIdenticalTo:
	instead of containsObject: and removeObject:.
        (-[WebBookmarkList insertChild:atIndex:]): Use indexOfObjectIdenticalTo: instead of
	containsObject: in the assertion.

WebBrowser:

        - fixed 3042781 -- slidey animation sometimes draws partial item behind overflow indicator
        - fixed 3090845 -- would be nice to be able to drop bookmarks into folders using the bookmark toolbar
        - fixed 3107422 -- bookmark in toolbar gets stuck highlighted if window is moved by the stacking code
        - fixed problem where you would get an overflow indicator even if there was room for the last bookmark
        - fixed problem where the cursor could change to an I-beam during a constrained drag

        * FavoriteButton.h: Add canAcceptDroppedBookmark, setHighlighted, and
	acceptDroppedBookmark methods for use when doing a constrained drag that
	drop items into folders. Also add a category on NSView to be used to pause
	animation when over a button that will accept a drop.
        * FavoriteButton.m:
        (-[FavoriteButton registerForDraggedTypes]): Accept DraggedFavoriteButtonPboardType.
        (-[FavoriteButton initTrackingRect]): Add an observer so we update the tracking rect
	when the window moves too. This fixes bug 3107422.
        (-[FavoriteButton bookmarksFromPasteboard:]): Added. Helper method that accepts drag
	from DraggedFavoriteButtonPboardType as well as the other bookmark pasteboard types,
	but only within the same superview.
        (-[FavoriteButton determineDragOperation:]): Call [self bookmarksFromPasteboard:]
	instead of [WebBookmark bookmarksFromPasteboard].
        (-[FavoriteButton draggingEntered:]): Pause animation when we enter a button that can
	accept a dropped bookmark. This makes sure that the button doesn\'t slide out from under
	the mouse.
        (-[FavoriteButton draggingUpdated:]): Don\'t do any highlighting here because it\'s not
	necessary.
        (-[FavoriteButton draggingExited:]): Resume the animation in case we paused it.
        (-[FavoriteButton performDragOperation:]): Call [self bookmarksFromPasteboard:]
	instead of [WebBookmark bookmarksFromPasteboard]. Also resume the animation in case we
	paused it.
        (-[FavoriteButton canAcceptDroppedBookmark]): Added. Returns YES if the bookmark\'s type
	is WebBookmarkTypeList.
        (-[FavoriteButton setHighlighted:]): Added. Calls setHighlighted: on the button\'s cell.
        (-[FavoriteButton acceptDroppedBookmark:]): Added. Does the same work that performDragOperation
	does for the case of moving a button within the same bar.
        (-[FavoriteButton _hitTest:dragTypes:]): Don\'t accept drags at the edges of the button.
	This makes space between buttons so there\'s room to put new buttons between two old ones, even
	if the old ones are both for folders.
        (-[NSView pauseAnimation]): Added. Passes the call up the superview chain.
        (-[NSView resumeAnimation]): Added. Passes the call up the superview chain.

        * FavoritesBar.m:
        (-[FavoritesBar maxButtonXWithoutClipIndicator]): Added. Leaves a margin,
	currently 3 pixels.
        (-[FavoritesBar maxButtonXWithClipIndicator]): Added. Leaves a margin,
	currently 3 pixels.
        (-[FavoritesBar maxButtonX]): Modified to call either maxButtonXWithoutClipIndicator
	or maxButtonXWithClipIndicator depending on whether the clip indicator is showing.
        (-[FavoritesBar slideButtonsIntoPlace]): Slide buttons off the right side of the bar
	if they are going to be clipped out. Allow the last button to go all the way to the
	right, using the space that would otherwise be used by the clip indicator. Make the
	clip indicator disappear if buttons are going to slide past it to the left or the right.
        (-[FavoritesBar _layOutButtons]): Include the smarts about leaving space for the
	item to be dropped and about leaving out the currently dragged item that was formerly
	only in slideButtonsIntoPlace. Also include the smarts about positioning mentioned
	above, and do positioning here, rather than in _refreshButtons. To allow calling this
	during constrained dragging, add the dragged item after adding all the other items.
        (-[FavoritesBar finishedSlidingAnimation:]): Added. Calls _layOutButtons. This is used
	to make the clip indicator reappear in case slideButtonsIntoPlace made it disappear.
        (-[FavoritesBar addButtonForBookmark:]): Removed left edge parameter. This no method longer
        tries to position bookmarks at all.
        (-[FavoritesBar _refreshButtons]): Get rid of code that attempts to position the buttons.
	We now do that in _layOutButtons.
        (-[FavoritesBar initWithView:]): Initialize _dragSourceIndexIfMoving to NSNotFound.
	Make us the animation\'s delegate so we get a finishedSlidingAnimation:.
        (-[FavoritesBar performDragOperation:]): Check for drags within the favorites bar by
	checking _dragSourceIndexIfMoving rather than looking for DraggedFavoriteButtonPboardType.
	Also reset _dropIndex since _layOutButtons now looks at it.
        (-[FavoritesBar draggingEnded:]): Reset _dragSourceIndexIfMoving since _layOutButtons
	now looks at it.
        (-[FavoritesBar reorderFavoriteButton:fromMouseDownEvent:]): Disable cursor rectangles and
	set the cursor to the arrow cursor during the reorder process. Add hit testing so that the
	constrained dragging can drop items in FavoriteButtons that are folders. Pause animation
	when over such a FavoriteButton, and resume it when not over it.
        (-[FavoritesBar pauseAnimation]): Added.
        (-[FavoritesBar resumeAnimation]): Added.

        * FavoritesBarView.h: Add pauseAnimation and resumeAnimation methods to the delegate.
        * FavoritesBarView.m:
        (-[FavoritesBarView pauseAnimation]): Pass call on to the delegate.
        (-[FavoritesBarView resumeAnimation]): Ditto.

        * SlidingAnimation.h: Add delegate, setDelegate method, pause and resume methods, and
	finishedSlidingAnimation: method for the delegate.
        * SlidingAnimation.m:
        (-[SlidingAnimation updateTimer]): Take the paused state into account, and also call the
	finishedSlidingAnimation: method when the animation completes.
        (-[SlidingAnimation showNextFrame]): Simplify by using a call to updateTimer to do most
	of the work.
        (-[SlidingAnimation setDelegate:]): Added. Just sets the delegate field.
        (-[SlidingAnimation pause]): Added. Just sets the paused state and calls updateTimer.
        (-[SlidingAnimation resume]): Added. Just sets the paused state and calls updateTimer.

	- fixed a problem I discovered in testing where multiple identical bookmarks confuse us

        * BookmarksViewController.m:
        ([BookmarksViewController anyAncestorOfBookmark:inArray:]): Use indexOfObjectIdenticalTo:
	instead of containsObject:, because we want to use identity on bookmarks, not equality
	comparison.
	([BookmarksViewController bookmarkOrAnyAncestor:inArray:]): Ditto.
	([BookmarksViewController newContentItemWithTitle:URLString:type:positionIgnoresSelection:]): Ditto.
	([BookmarksViewController sourceRowForBookmark:]): Ditto.
	([BookmarksViewController outlineView:validateDrop:proposedItem:proposedChildIndex:]): Ditto.
	([BookmarksViewController paste:]): Ditto.
	([UndoRemoveInfo initWithBookmark:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2861 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-25 21:34:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/30361c07e425d81dfe0acf2f7779de87918896df');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021101l5u89fdf0s', 2, e'	Fix for 3025963.  Ensure that KJS looks for the form on the
	element itself when pushing it onto the scope chain, since
	the <form> may not be an ancestor of the element.

        * khtml/ecma/kjs_html.cpp:
        (getForm):
        (KJS::HTMLElement::pushEventHandlerScope):
        * khtml/html/html_elementimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2860 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-25 19:14:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7d3b5365bfbc72be9e2ef2747f6a3ee754a1e473');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021201l549t8hm6m', 2, e'	Fixed: 3084350 - No URL flavors provided for images

        * Misc.subproj/WebNSViewExtras.h:
        * Misc.subproj/WebNSViewExtras.m:
        (-[NSView _web_dragPromisedImage:fromOrigin:withURL:title:event:]): renamed, simplifies dragging an image
        (-[WebFilePromiseDragSource initWithSource:]): subclass of NSFilePromiseDragSource, to be used later
        (-[WebFilePromiseDragSource draggingSource]):
        (-[WebFilePromiseDragSource dealloc]):
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]): call _web_dragPromisedImage:fromOrigin:withURL:title:event:, retain self
        (-[WebHTMLView draggedImage:endedAt:operation:]): added, release self
        * WebView.subproj/WebImageView.m:
        (-[WebImageView mouseDragged:]): call _web_dragPromisedImage:fromOrigin:withURL:title:event:, retain self
        (-[WebImageView draggedImage:endedAt:operation:]): added, release self
        * WebView.subproj/WebView.m:
        (-[WebView isDocumentHTML]): call isKindOfClass instead of className
        (-[WebView draggingEntered:]): check for WebFilePromiseDragSource


git-svn-id: svn://svn.chromium.org/blink/trunk@2859 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-25 16:50:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/58c0186011b8bc21c0024e42d319e1750fc9dd7a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021301l52hcoaybd', 2, e'	Fix for 3020493, another fun little margin collapsing quirk
	that I missed. (<td><div><p>).  The <div> has to pick up the quirk
	from the <p> so that the margins of the <p> still get collapsed
	away.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2858 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-25 09:19:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e032abeb585403600da6c0fcc82781d24240a90b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021401l5y7ir0uov', 2, e'	Don\'t add in the halfleading for align=texttop. That\'s incorrect.

        * khtml/rendering/render_object.cpp:
        (RenderObject::getVerticalPosition):


git-svn-id: svn://svn.chromium.org/blink/trunk@2857 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-25 08:59:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/79b157d97fe84d4016d9cee99ca21dd02500ab60');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021501l5iht685mk', 2, e'Tests:

	Added a test for new URL parsing functions in WebNSStringExtras.

        * WebFoundation-Misc/Makefile.am:  Add new test.
        * WebFoundation-Misc/ifurlparsing-test.chk: Added.
        * WebFoundation-Misc/ifurlparsing-test.m: Added.
        (FormatStringForDisplay):
        (FormatStrForDisplay):
        (PrintRangeResult):
        (TestURL):
        (main):
        * test.list:

WebFoundation:

	Adding routines to parse URLs, operating on ranges instead of substrings for perf.

        * Misc.subproj/WebNSStringExtras.h:
        * Misc.subproj/WebNSStringExtras.m:
        (-[NSString _web_hasCaseInsensitivePrefix:]):  Nit cleanup.
        (pieceBeforeColon):   Utility function.
        (pieceAfterColon):   Utility function.
        (-[NSString _web_rangeOfURLScheme]):  New SPI.  Cache NSCharacterSet with legal
	scheme chars, since creating it is a huge pig.
        (-[NSString _web_rangeOfURLResourceSpecifier]):  New SPI.
        (-[NSString _web_rangeOfURLUserPasswordHostPort]):  New SPI.
        (rangeOfUserAndPassword):   Utility function.
        (rangeOfHostAndPort):   Utility function.
        (-[NSString _web_rangeOfURLUser]):  New SPI.
        (-[NSString _web_rangeOfURLPassword]):  New SPI.
        (-[NSString _web_rangeOfURLHost]):  New SPI.
        (-[NSString _web_rangeOfURLPort]):  New SPI.
        (-[NSString _web_looksLikeAbsoluteURL]):  Now just calls _web_rangeOfURLScheme for
	equivalent functionality as before.

WebKit:

	Added URLString method to WebHistoryItem to avoid silly conversions between
	NSURL and NSString.  When the dust settles with our plans for NSURL we can
	rationalize this API with the rest of WebKit.

        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem URLString]):

WebBrowser:

	Auto-complete handles absolute URLs typed by the user.  Lots of fixes with
	better handling of various URLs (with user:password, with port,...).

	Various auto-complete database operations speed ups, ranging from 32% to 64%.
	The most important case is the initial db load, which was running 115 msec on
	a 2x1.2Ghz, and is now 42msec.  I think this will eliminate a noticeable first-use
	delay on slow machines.  We also eliminate some heap thrashing.

	Speedups were achieved by getting rid of URL-String conversions, using new
	range-based URL parsing methods instead of NSURL and caching the index of the
	"cooked" string within the raw URL string (with no space cost because we had
	bits in a bitfield available).

        * CompletionController.h:
        * CompletionController.m:
        (+[CompletionController _tree_create]):  Set cookedStringLoc for root node.
        (recursiveDestroyTree):  Name change.
        (+[CompletionController _tree_destroy]):  Name change.
        (_keyStringFromItem):  Get rid of conversions, return index for caching.
        (_keyStringFromNode):  Use cached cooked string index if available.
        (_findPotentialNode):  Fixed edge case of cursor setting when an exact match was hit.
        (+[CompletionController _tree_addItem:]):  Cache the index of the cooked string
	in new nodes.
        (+[CompletionController _tree_deleteItem:]):  Adopt some internal name changes.
        (+[CompletionController _tree_setCursorAtStart:]):  Newly factored code.
        (+[CompletionController _tree_findItem:cursor:]):  On search for "", set the cursor
	ahead of all nodes in the tree.
        (DumpAutoCompleteTree):  Nit.
        (_rawStringFromItem):    Newly factored code.
        (_indexOfCookedURLString):  Return the index of the cooked string instead of the
	substring at that position, allowing clients to cache this number.
        (-[CompletionController _executeQuery]):  Handle cases of the user typing an
	absolute URL, or a partial string starting with "www."
        (-[CompletionController _reflectSelectedRow]):  Updating the text field works
	differently when the user typed an absolute URL.
        (-[CompletionController completeString:]):  Nuke FIXME.
        (-[CompletionController control:textView:doCommandBySelector:]):  Nuke FIXME.


git-svn-id: svn://svn.chromium.org/blink/trunk@2856 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-11-25 07:39:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f879b0bbb773b86c17bcf837200a1af66aa99989');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021601l5iucscr0e', 2, e'	Fixed support for onLoad handlers on images - this is in
	APPLE_CHANGES because khtml used a different mechanism. Also
	implemented onError on images. As a result:

	- fixed 3084916 - blank page at aol
	- fixed 3093162 - golfswitch doesn\'t work

        * khtml/html/html_imageimpl.cpp:
        (HTMLImageElementImpl::parseAttribute): Remove "implement this"
	comment from onError attribute.
        * khtml/misc/loader.h:
        * khtml/misc/loader.cpp:
        (CachedImage::CachedImage): Initialize m_loading to true.
	(CachedImage::ref): Send notifyFinished to the new client if the
	image is not loading.
        (CachedImage::data): If at eof, set m_loading to false and notify.
        (CachedImage::error): Set m_loading to false and notify.
	(CachedImage::checkNotify): New method to notify all clients of
	changes.
        * khtml/rendering/render_image.cpp:
        (RenderImage::notifyFinished): Deliver the appropriate choice of
	LOAD_EVENT or ERROR_EVENT.


git-svn-id: svn://svn.chromium.org/blink/trunk@2855 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-25 07:08:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a9dcdc8f70a2fb16ddc37dc4777a2702a3ec0ac2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021701l5hgpa5ko4', 2, e'	This landing adds support for blocks inside inlines.  It
	gets rid of the old broken way KHTML used to handle this
	and implements a brand new mechanism.

	With this change, I have decreased the tag priority of <font>
	and <a> to match other inlines (<i>, <span>, etc.), and I
	now allow all the inlines to contain blocks for relaxed parsing.

	Now if you open an <i> or a <b> and just leave it open across
	blocks, this will work.

	I also fixed a bad DHTML bug caused by the WebCoreBridge
	forceLayout method.  The basic pattern is that someone does
	a tiny repaint of just a sliver of the window, then someone
	schedules a layout (which means they want a full repaint), but
	then drawRect comes along and calls forceLayout which unschedules
	the layout, thus preventing the full repaint from occurring.

	Any basic DHTML that used append/remove child was broken because
	of this pattern.  For now I have just removed the unscheduleLayout
	call at the end of forceLayout.

        * khtml/html/dtd.cpp:
        (DOM::checkChild):
        * khtml/html/htmlparser.cpp:
        (KHTMLParser::popInlineBlocks):
        * khtml/rendering/render_container.cpp:
        (RenderContainer::removeChild):
        (RenderContainer::removeLeftoverAnonymousBoxes):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::setStyle):
        (RenderFlow::layoutBlockChildren):
        (RenderFlow::continuationBefore):
        (cloneInline):
        (RenderFlow::splitInlines):
        (RenderFlow::splitFlow):
        (RenderFlow::addChildWithContinuation):
        (RenderFlow::addChild):
        (RenderFlow::addChildToFlow):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_object.cpp:
        (RenderObject::mouseInside):
        * khtml/rendering/render_object.h:
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::forceLayout):
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge copyRenderNode:copier:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2854 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-25 06:17:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15f92fba12159f1da73d6d89d5cc4bfa78f98c1b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021801l52otiit16', 2, e'WebCore:

	Added element keys for the image ALT and link TITLE attributes. This will eventually be used to fix other bugs. Also made WebKit and WebCore use the same element keys to simplify the conversion of the element dictionary.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge elementAtPoint:]):

WebKit:

	Added element keys for the image ALT and link TITLE attributes. This will eventually be used to fix other bugs. Also made WebKit and WebCore use the same element keys to simplify the conversion of the element dictionary.

        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _elementAtPoint:]):

WebBrowser:

	Fixed: 3053342 - Dragging URL to address field with favicon should clear favicon

        * BrowserWindowController.m:
        (-[BrowserWindowController locationFieldReceivedDroppedURL:]):
        * English.lproj/StringsNotToBeLocalized.txt:


git-svn-id: svn://svn.chromium.org/blink/trunk@2853 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-25 03:12:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/eaf8ba56df5aecb38fa338f95b844c7107da6bfa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021901l59qodj10t', 2, e'	Fixed: 3109945 - Assertion failure in -[WebIconDatabase_largestIconFromDictionary:]
	Added error strings for download decoding errors.

        * English.lproj/Localizable.strings: Added error strings for download decoding errors
        * English.lproj/StringsNotToBeLocalized.txt:
        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase _loadIconDictionaries]): tweak
        (-[WebIconDatabase _updateFileDatabase]): more error checking to prevent assert
        (-[WebIconDatabase _setIconURL:forSiteURL:]): added asserts to prevent a site URL <-> icon URL mapping without a icon URL -> icon mapping
        (-[WebIconDatabase _largestIconFromDictionary:]): tweak
        * Misc.subproj/WebNSPasteboardExtras.m:
        (-[NSPasteboard _web_writeURL:andTitle:withOwner:]): declare pboard types if none have been declared, else append types
        * WebView.subproj/WebView.m:
        (+[WebView initialize]): Added error strings for download decoding errors


git-svn-id: svn://svn.chromium.org/blink/trunk@2852 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-25 00:26:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b3a937cbd8a64ce0a87cfd0a98f9c3190a5a68ca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021a01l5pxz2a9e3', 2, e'JavaScriptCore:

	- changed ScopeChain to not ref each item in the chain, and use
        marking instead; gains 1% on JavaScript iBench

        * kjs/context.h: Return chain by reference.
        * kjs/internal.cpp: (ContextImp::mark): Mark the scope chain.
        * kjs/interpreter.cpp: (Context::scopeChain): Return chain by reference.
        * kjs/interpreter.h: Make some Context methods inline.
        * kjs/nodes.cpp:
        (ThisNode::evaluate): Get at ContextImp directly.
        (ResolveNode::evaluateReference): Ditto.
        (VarDeclNode::evaluate): Ditto.
        (VarDeclNode::processVarDecls): Ditto.
        (FuncDeclNode::processFuncDecl): Pass ScopeChain directly to avoid copying.
        (FuncExprNode::evaluate): Ditto.
        * kjs/object.cpp: Make scope and setScope inline.
        * kjs/object.h: Make scope return a chain by reference. Make scope and
	setScope both be inline. Use a normal ScopeChain instead of NoRefScopeChain
	since they are now one and the same.
        * kjs/scope_chain.cpp: Remove all the code to ref and deref objects.
	Merge NoRefScopeChain in with ScopeChain since they both work this way now.
        * kjs/scope_chain.h: Remove NoRefScopeChain and simplify the ref counts.
	Make more functions inline.

WebCore:

        * force-js-clean-timestamp: Touch for ScopeChain change.


git-svn-id: svn://svn.chromium.org/blink/trunk@2851 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-24 22:37:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7fedd2dce179db23e923a0c82e18acd35029de33');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021b01l5zrfjojp9', 2, e'WebCore:

	- fixed 3067939 - no support for window.document.lastModified

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge openURL:reload:headers:lastModified:]): Set
	"modified" metadata based on passed in last mdified date.

WebKit:

	- fixed 3067939 - no support for window.document.lastModified

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _commitIfReady]): Pass last modified date to WebCore.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _continueFragmentScrollAfterNavigationPolicy:request:]): Pass
	nil last modified date.


git-svn-id: svn://svn.chromium.org/blink/trunk@2850 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-24 15:56:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/637c9309787e6149eeb6b83c694554e261014aa0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021c01l5kvt6h0tj', 2, e'	- fixed 3098356 - Hard hang on movie search at www.movietickets.com

        * kjs/string_object.cpp:
        (StringProtoFuncImp::call): When doing a regexp replacement that
	results in an empty match, always move on to the next character
	after doing the replacement. The previous code would hit an
	infinite loop if an initial empty match was replaced with the
	empty string.


git-svn-id: svn://svn.chromium.org/blink/trunk@2849 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-24 15:02:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/176c8dbcc0b18b5252b27411f2a21539a8b00c13');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021d01l5b14gyhg7', 2, e'	- fixed 3081946 - bookmarklet reports the wrong "windowfull" size

	This isn\'t really beta 1 material but the fix was so tirivial I
	couldn\'t resist.

        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLDocument::tryGet): Use contentWidth and contentHeight
	for document.width and document.height instead of visibleWidth for
	both.


git-svn-id: svn://svn.chromium.org/blink/trunk@2848 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-24 13:03:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4efcfc9a9aff231a58351e5a41e55b9feacbcb06');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoxml021e01l5ajwbc417', 2, e'	- fixed 3095446 - Crash on AppleScript page due to very long argument list

        * kjs/grammar.y: Don\'t try to construct the argument list in the
	right order, since that blows out the parser stack.
	* kjs/nodes.cpp:
        (ArgumentsNode::ArgumentsNode): Instead reverse the argument list
	here.
        * kjs/nodes.h: Make ArgumentsNode a friend of ArgumentListNode.
        * kjs/grammar.cpp: Updated from grammar.y.


git-svn-id: svn://svn.chromium.org/blink/trunk@2847 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-24 10:12:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/56f99623488bee77286c0216cfac27fc8dc9a3df');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg401zr01l5t4wjkgw1', 2, e'	- completed Darin\'s mostly-fix for 3037795 - Resource use
	increases when accessing very high index value in array

	The two missing pieces were handling sparse properties when
	shrinking the array, and when sorting. Thse are now both taken
	care of.

        * kjs/array_instance.h:
        * kjs/array_object.cpp:
        (ArrayInstanceImp::put):
        (ArrayInstanceImp::deleteProperty):
        (ArrayInstanceImp::resizeStorage):
        (ArrayInstanceImp::setLength):
        (ArrayInstanceImp::sort):
        (ArrayInstanceImp::pushUndefinedObjectsToEnd):
        * kjs/identifier.h:
        * kjs/object.h:
        * kjs/property_map.cpp:
        * kjs/property_map.h:
        * kjs/reference_list.cpp:
        (ReferenceList::append):
        (ReferenceList::length):
        * kjs/reference_list.h:
        * kjs/ustring.cpp:
        (UString::toUInt32):
        * kjs/ustring.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2846 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-24 07:49:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0ecba894acb7d0a73614757af5769035a7ae4ea2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg401zs01l5ee4wzy1j', 2, e'	Numerous collector changes for a net gain of 3% on JS ibench:

	- Replaced per-block bitmap with free list.
	- Increased number of empty blocks kept around to 2.
	- Doubled block size.
	- When scanning heap in collector, skip scanning the rest of a
	block as soon as we see as many live cells as the the number of
	used cells it had originally.

	Also the following collector changes unrelated to performance:

	- Made constants `const int\' instead of `static const int\'.
	- Miscellaneous code cleanup.

        * kjs/collector.cpp:

	- Added debugging mode enabled by defining DEBUG_GC which asserts
	when a destroyed ValueImp

        * kjs/internal.cpp:
        (ContextImp::mark):
        * kjs/value.cpp:
        (Value::Value):
        * kjs/value.h:
	* kjs/config.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2845 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-24 00:04:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cfecb046866990931667415497962bfee2d748fb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg401zt01l52n2coca0', 2, e'	Fixed: 3109835 - Download errors aren\'t communicated to client

	Cleaned-up WebMainResourceClient and WebBaseResourceHandleDelegate a little.

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase defaultIconWithSize:]): tweak
        (-[WebIconDatabase releaseIconForSiteURL:]): don\'t retain site URL here
        (-[WebIconDatabase _setIcon:forIconURL:]): tweak
        (-[WebIconDatabase _setIconURL:forSiteURL:]): tweak
        (-[WebIconDatabase _releaseIconForIconURLString:]): retain site URL here
        (-[WebIconDatabase _releaseFutureIconForSiteURL:]): tweak
        (-[WebIconDatabase _sendNotificationForSiteURL:]): tweak
        * WebView.subproj/WebBaseResourceHandleDelegate.h:
        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate cancelWithError:]): made public
        (-[WebBaseResourceHandleDelegate cancel]): cancel downloads too, call cancelWithError
        (-[WebBaseResourceHandleDelegate cancelQuietly]): call cancelWithError
        (-[WebBaseResourceHandleDelegate cancelledError]): tweak
        (-[WebBaseResourceHandleDelegate notifyDelegatesOfInterruptionByPolicyChange]): tweak
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient receivedError:]): stop downloadHandler if downloading, else notify controller
        (-[WebMainResourceClient cancel]): call receivedError
        (-[WebMainResourceClient checkContentPolicyForResponse:andCallSelector:]): tweak
        (-[WebMainResourceClient handle:didReceiveData:]): stop load for download errors, report error
        (-[WebMainResourceClient handleDidFinishLoading:]): call didFailLoadingWithError is download error
        (-[WebMainResourceClient handle:didFailLoadingWithError:]): call receivedError


git-svn-id: svn://svn.chromium.org/blink/trunk@2844 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-23 21:17:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4cfb3f700caeec883107094a4b7b0cb858f4fa81');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg401zu01l51kn7xxaz', 2, e'JavaScriptCore:

	- replaced List class with a vector rather than a linked list, changed it
	to use a pool of instances instead of all the nodes allocated off of the
	heap; gives 10% gain on iBench

        * kjs/list.h: Complete rewrite.
        * kjs/list.cpp: Ditto.

        * kjs/array_object.cpp: (compareWithCompareFunctionForQSort): Go back to
	doing a clear and two appends here. Fast with the new list implementation.

        * kjs/collector.h: Remove _COLLECTOR hack and just make rootObjectClasses
	return a const void *.
        * kjs/collector.cpp: Remove _COLLECTOR hack, and various other minor tweaks.

WebCore:

        * khtml/ecma/kjs_window.cpp: Remove _COLLECTOR hack.

        * kwq/WebCoreJavaScript.h:
        * kwq/WebCoreJavaScript.mm:
        (+[WebCoreJavaScript rootObjectClasses]):
	Update for name change -- root object classes, not all live object classes.

        * force-js-clean-timestamp: Make sure we don\'t have more build problems.

WebKit:

        * Misc.subproj/WebCoreStatistics.h:
        * Misc.subproj/WebCoreStatistics.m:
        (+[WebCoreStatistics javaScriptRootObjectClasses]):
	Update for name change -- root object classes, not all live object classes.

WebBrowser:

        * Debug/CacheController.m: (-[CacheController refreshJavaScriptStatisticsMatrix]):
	Update for name change -- root object classes, not all live object classes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2843 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-23 07:49:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4f7fd4fad5e69799cbee63b97a99583d80a2de00');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg401zv01l52zn64gsz', 2, e'WebFoundation:

	Fixed: 3026574 - .text is probably text too

        * types.plist: "text" is another extension for text/plain

WebKit:

	Fixed assertion while loading local files.

        * Misc.subproj/WebIconDatabase.m: we don\'t have icon URLs for files
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _loadIcon]): Only try loading favicon as the root of server if scheme is http or https. This isn\'t really a feature of other protocols.


git-svn-id: svn://svn.chromium.org/blink/trunk@2842 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-23 05:24:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/13aa2f0a2b072fae90449c260eb18abac7e6f934');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg401zw01l5e7cdj3cx', 2, e'	Fix for 3107658, text doubling problem caused by layers being
	constructed for <td>s.  Just disallow positioning of <td>.

        * khtml/rendering/render_box.cpp:
        (RenderBox::setStyle):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::setStyle):


git-svn-id: svn://svn.chromium.org/blink/trunk@2841 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-23 04:33:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ea752dae5d19ada8ecb6dd13969932ef6b0109ae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg401zx01l5ejn5gts9', 2, e'	Oops. I meant to do that for <input type=button> and not
	<button>.  Just do it for <select>s for now.

        * khtml/rendering/render_box.cpp:
        (RenderBox::calcReplacedWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@2840 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-23 03:53:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/145061e6162b2619d8c992fd83307c662e1298d4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg401zy01l5y4vvo3x8', 2, e'	Make <select>s and <button>s ignore a CSS-specified width if that
	width is smaller than their intrinsic width.

	Fixes the <select> at the top of livepage.apple.com.

        * khtml/rendering/render_box.cpp:
        (RenderBox::calcReplacedWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@2839 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-23 03:43:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d9e9f262633a3d43a0da2e89a6f0945452690965');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg401zz01l5u2rhoyej', 2, e'WebKit:

	2002-11-22  Chris Blumenberg  <cblu@apple.com>

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient continueAfterContentPolicy:response:]): Added a FIXME around saveFilenameForResponse:andRequest: because the API expects a path but is asking for a filename.

WebBrowser:

	Fixed: 3049735 - no default location for downloads

	InternetConfig was giving an empty string for the download path. Now, when this happens, we set the download directory in InternetConfig to the Desktop.

        * BrowserWebController.m:
        (-[BrowserWebController saveFilenameForResponse:andRequest:]): Added a FIXME because the API expects a path but is asking for a filename.
        * Preferences.subproj/WBPreferences.m:
        (+[WBPreferences downloadPath]): Handle nil and "" case. Set download directory to Desktop.


git-svn-id: svn://svn.chromium.org/blink/trunk@2838 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-23 03:43:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2956dc045489f25602b199f2d8c848d1c6b6a243');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020001l5fnliz2h8', 2, e'	Fixed: 3104693 - QT movie doesn\'t show video while still downloading

	The initial size of plug-in should be 0,0 instead of 1,1 or else we don\'t get the layout

        * Plugins.subproj/WebNetscapePluginDocumentView.m:
        (-[WebNetscapePluginDocumentView initWithFrame:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2837 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-23 02:50:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f08e14f72f1a45286e18cbb928964602cad69cdc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020101l5klnhrexh', 2, e'fixed tiny deployment build breakage; removed unused variables duration and start


git-svn-id: svn://svn.chromium.org/blink/trunk@2836 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'vicki', '2002-11-23 02:18:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/935faccfa18c4054f686731c3c05ae3252c0be2b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020201l5k04jdmh8', 2, e'	Fixed: 3078737 - Crash in -[WebHistoryItem dealloc] after closing last window

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase releaseIconForSiteURL:]): retain the site URL string because it may get released from beneath
        (-[WebIconDatabase _updateFileDatabase]): tweak
        (-[WebIconDatabase _iconsForIconURLString:]): disable timings for deployment build
        (-[WebIconDatabase _setIconURL:forSiteURL:]): tweak
        (-[WebIconDatabase _releaseIconForIconURLString:]): tweak
        (-[WebIconDatabase _scaleIcon:toSize:]): disable timings for deployment build
        * Misc.subproj/WebIconDatabasePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _updateIconDatabaseWithURL:]): new, does the db binding
        (-[WebDataSource _loadIcon]): call _updateIconDatabaseWithURL


git-svn-id: svn://svn.chromium.org/blink/trunk@2835 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-23 01:27:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c911428042cdc601c39af8931bf32ef1ced685a3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020301l50dlzlpq0', 2, e'	- prepare to reimplement KJS::List; move to its own file, add statistics

        * kjs/function_object.cpp: (FunctionProtoFuncImp::call): Use new copyTail()
	function rather than copy() and removeFirst().

        * kjs/identifier.cpp: Add statistics, off by default.
        * kjs/property_map.cpp: Add statistics, off by default.

        * kjs/list.cpp: Added. Moved code here. To be rewritten.
        * kjs/list.h: Added. Moved interface here. To be rewritten.

        * kjs/types.cpp: Removed.
        * kjs/types.h: Now just an empty header that includes other headers.

        * JavaScriptCore.pbproj/project.pbxproj: Add new files, rearrange.


git-svn-id: svn://svn.chromium.org/blink/trunk@2834 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-22 23:20:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/72f2aeb4f7d0723d16143ab8b8dbf5003e5cf3f6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020401l57j8knxfl', 2, e'WebKit:

	Attempt to fix: 3078737 - Crash in -[WebHistoryItem dealloc] after closing last window
	I haven\'t found anything that would cause the crash. I did some clean-up, added asserts and error messages in hopes that this help me track this down.

        * Misc.subproj/WebIconDatabase.h:
        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase init]):
        (-[WebIconDatabase iconForSiteURL:withSize:cache:]):
        (-[WebIconDatabase iconForSiteURL:withSize:]):
        (-[WebIconDatabase retainIconForSiteURL:]):
        (-[WebIconDatabase releaseIconForSiteURL:]):
        (-[WebIconDatabase delayDatabaseCleanup]):
        (-[WebIconDatabase allowDatabaseCleanup]):
        (-[WebIconDatabase _iconDictionariesAreGood]):
        (-[WebIconDatabase _loadIconDictionaries]):
        (-[WebIconDatabase _updateFileDatabase]):
        (-[WebIconDatabase _hasIconForSiteURL:]):
        (-[WebIconDatabase _iconsForIconURLString:]):
        (-[WebIconDatabase _iconForFileURL:withSize:]):
        (-[WebIconDatabase _setIcon:forIconURL:]):
        (-[WebIconDatabase _setIconURL:forSiteURL:]):
        (-[WebIconDatabase _retainIconForIconURLString:]):
        (-[WebIconDatabase _releaseIconForIconURLString:]):
        (-[WebIconDatabase _retainFutureIconForSiteURL:]):
        (-[WebIconDatabase _releaseFutureIconForSiteURL:]):
        (-[WebIconDatabase _releaseOriginalIconsOnDisk]):
        (-[WebIconDatabase _sendNotificationForSiteURL:]):
        (-[WebIconDatabase _addObject:toSetForKey:inDictionary:]):
        (-[WebIconDatabase _largestIconFromDictionary:]):
        (-[WebIconDatabase _iconsBySplittingRepresentationsOfIcon:]):
        (-[WebIconDatabase _iconFromDictionary:forSize:cache:]):
        (-[WebIconDatabase _scaleIcon:toSize:]):
        * Misc.subproj/WebIconDatabasePrivate.h:
        * WebKit.exp:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _loadIcon]):

WebBrowser:

	- Removed old scripting code.
	- Removed code that installed built-in icons.

        * AppController.m:
        (-[AppController awakeFromNib]):
        * Scripting.subproj/Scripting.h: Removed.
        * Scripting.subproj/Scripting.m: Removed.
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2833 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-22 23:05:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f443ab7fac7924643aab707b0934e8b107921c98');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020501l5e7a460qs', 2, e'        Fixed rendering issues associated with 3100120.
        We now correctly map surrogate pairs in UTF-16.  khtml still has
        issues dealing with characters outside BMP.  These are tracked
        with 3109251 and 3109258.

        Surrogate pairs are treated as exceptions and have their own character
        to glyph map.

        * Misc.subproj/WebUnicode.h:
        * Misc.subproj/WebUnicode.m:
        (shapedString):
        * WebCoreSupport.subproj/WebTextRenderer.h:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (glyphForUnicodeCharacter):
        (findLengthOfCharacterCluster):
        (-[WebTextRenderer substituteFontForString:]):
        (-[WebTextRenderer convertUnicodeCharacters:length:toGlyphs:]):
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:letterSpacing:wordSpacing:]):
        (-[WebTextRenderer extendUnicodeCharacterToGlyphMapToInclude:]):
        (-[WebTextRenderer extendCharacterToGlyphMapToInclude:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2832 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-22 22:19:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5c29e7a9ca7f1077b396461106db4367354ad1fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020601l5832roatk', 2, e'	- started checking in all our generated source files for the benefit of B&I

        * .cvsignore:
        * WebCore-combined.exp: Added.
        * khtml/css/.cvsignore:
        * khtml/css/cssproperties.c: Added.
        * khtml/css/cssproperties.h: Added.
        * khtml/css/cssvalues.c: Added.
        * khtml/css/cssvalues.h: Added.
        * khtml/ecma/.cvsignore:
        * khtml/ecma/kjs_css.lut.h: Added.
        * khtml/ecma/kjs_dom.lut.h: Added.
        * khtml/ecma/kjs_events.lut.h: Added.
        * khtml/ecma/kjs_html.lut.h: Added.
        * khtml/ecma/kjs_navigator.lut.h: Added.
        * khtml/ecma/kjs_range.lut.h: Added.
        * khtml/ecma/kjs_traversal.lut.h: Added.
        * khtml/ecma/kjs_views.lut.h: Added.
        * khtml/ecma/kjs_window.lut.h: Added.
        * khtml/html/.cvsignore:
        * khtml/html/kentities.c: Added.
        * khtml/misc/.cvsignore:
        * khtml/misc/htmlattrs.c: Added.
        * khtml/misc/htmlattrs.h: Added.
        * khtml/misc/htmltags.c: Added.
        * khtml/misc/htmltags.h: Added.
        * kwq/.cvsignore:
        * kwq/KWQCharsetData.c: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2831 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-22 21:28:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd84fef591640ee8bc57e45337f14cd82b62d05f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020701l56w3fczb5', 2, e'WebKit:

        * Resources/url_icon.tiff:
	new generic URL icon -- little blue globe, pretty nice

        * WebKit.exp:
	removed symbol for WebTextRendererFactory which was in here
	to support an obsolete SPI hack

WebBrowser:

	- fixed 3104765 -- Use plain metal for bookmarks toolbar
	- fixed 3104766 -- Implement new highlighting for bookmarks toolbar
	- fixed 3108323 -- Dragging a toolbar bookmark can cause others to
	flash their mouseover highlight
	- new preference icons

        * BrowserNSStringExtras.h:
        * BrowserNSStringExtras.m:
        (-[NSString drawDoubledInRect:withTopColor:bottomColor:font:centered:flipped:]):
	new method that encapsulates the double-text-draw used by the status bar.
	Now it\'s needed for FavoriteButtons too.

        * EtchedStringView.m:
        (-[EtchedStringView drawRect:]):
	Now uses -[NSString drawDoubledInRect:etc]

        * FavoriteButton.h:
        * FavoriteButton.m:
        (-[FavoriteButton setBookmark:]):
        (-[FavoriteButton drawRolloverBackgroundImage]):
        (-[FavoriteButton drawPressedBackgroundImage]):
        (-[FavoriteButton drawDragBackgroundImage]):
        (-[FavoriteButton drawRect:]):
        (-[FavoriteButton drawForDraggingImageInRect:]):
        (-[FavoriteButton mouseDown:]):
        (-[FavoriteButton setIsMouseOver:]):
	reworked all the drawing code to draw background with _NSDrawThreePartImage
	instead of filled circles and rectangles, to match the new design from HI.
	Also, don\'t do rollover drawing if mouse is down (fixes 3108323)

        * FavoriteButtonCell.h:
        * FavoriteButtonCell.m:
        (+[FavoriteButtonCell bottomColorForDarkText]):
        (+[FavoriteButtonCell topColorForDarkText]):
        (+[FavoriteButtonCell bottomColorForLightText]):
        (+[FavoriteButtonCell topColorForLightText]):
        (-[FavoriteButtonCell drawInteriorWithFrame:inView:]):
        (-[FavoriteButtonCell setDrawsLightText:]):
        (-[FavoriteButtonCell drawsLightText]):
	reworked all the drawing code to use -[NSString drawDoubledInRect:etc],
	to match the new design from HI

        * FavoritesBarView.h:
        * FavoritesBarView.m:
        (-[FavoritesBarView awakeFromNib]):
	removed code to use a special background pattern

        * Preferences.subproj/AppearancePreferences.tiff:
        * Preferences.subproj/BookmarkPreferences.tiff:
        * Preferences.subproj/SecurityPreferences.tiff:
	new icons (GeneralPreferences.tiff is unchanged)

        * Preferences.subproj/English.lproj/GeneralPreferences.nib:
	final (ha!) set of tweaks from HI

        * Preferences.subproj/GeneralPreferences.m:
        (-[GeneralPreferences moduleWasInstalled]):
	tweaked; removed obsolete comment

        * Resources/Images/FavoriteDrag_Caps.tif: Added.
        * Resources/Images/FavoriteDrag_Middle.tif: Added.
        * Resources/Images/FavoritePressed_Caps.tif: Added.
        * Resources/Images/FavoritePressed_Middle.tif: Added.
        * Resources/Images/FavoriteRollover_Caps.tif: Added.
        * Resources/Images/FavoriteRollover_Middle.tif: Added.
        * Resources/Images/FavoritesBarClipIndicator.tiff:
        * Resources/Images/FavoritesFolderArrow.tif:
        * Resources/Images/FavoritesFolderArrowWhite.tif: Added.

        * WebBrowser.pbproj/project.pbxproj: updated for new files


git-svn-id: svn://svn.chromium.org/blink/trunk@2830 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-11-22 21:13:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5f9790bbbf112b4185a30571e1b8f3077f38c376');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020801l5l1nene4j', 2, e'WebKit:

	Added more detailed notifications on history changes.
	All changes below are just posting the new notes at the right time.

        * English.lproj/StringsNotToBeLocalized.txt:
        * History.subproj/WebHistory.h:
        * History.subproj/WebHistory.m:
        (-[WebHistory _sendNotification:entries:]):
        (-[WebHistory addEntry:]):
        (-[WebHistory removeEntry:]):
        (-[WebHistory removeEntries:]):
        (-[WebHistory removeAllEntries]):
        (-[WebHistory addEntries:]):
        (-[WebHistory loadHistory]):
        * WebKit.exp:

WebBrowser:

	Autocomplete is working with a decent DB behind it.  We use a Patricia tree with the added
	capability of enumerating forward from a cursor.

	Things that work at this point:
	- Anything in your history or bookmarks (except from AB or Rendezvous) is findable
	- autocomplete DB tracks changes to history
	- results are ordered lexographically (not fancy, but at least the shortest things are first)

	Here\'s what\'s getting fixed next:

	- Matching doesn\'t work if you type http:// or www. as part of your partial string (we only match ignoring the boilerplate).
	- Changes to bookmarks are not reflected in the autocomplete DB
	- Results will be ranked so the one you want is always the first one selected, like it\'s reading your mind.
	- Reduce conversions from NString to NSURL to NSString to NSURL to...

        * BrowserWindowController.m:
        (-[BrowserWindowController windowDidLoad]):  Re-enable feature.
        * CompletionController.m:
        (leftPointsUpward):  Patricia utility function.
        (rightPointsUpward):  Patricia utility function.
        (leftmostChild):  Patricia utility function.
        (+[CompletionController _tree_create]):  Initialize the root node.
        (destroyTree):  recursively free up the tree
        (+[CompletionController _tree_destroy]):  Free the tree.
        (_bitOfString):  Patricia utility function.
        (_leftmostBitOfUnichar):  Patricia utility function.
        (_leftmostDiffBit):  Patricia utility function.
        (_stringFromKey):  Extract the string we index from an item we put in the db (calls _cookedURLString)
        (_findInsertionPoint):  Search the tree for place we would insert a node.
        (_findPotentialNode):  Search for a match in the tree.
        (+[CompletionController _tree_addItem:]):   Add an item.
        (+[CompletionController _tree_deleteItem:]):   Delete an item.
        (+[CompletionController _tree_findItem:cursor:]):   Find and item, setting cursor.
        (+[CompletionController _tree_nextItemUsingCursor:]):  Get next item.
        (+[CompletionController _tree_setCursorAtStart:]):  Set cursor (only for debug now)
        (DumpAutoCompleteTree):  Debugding dump.
        (_cookedURLString):  Strips off boilerplate like "http://www." from a URL
        (+[CompletionController _addBookmarkTree:]):  Recursively adds bookmarks to the tree.
        (+[CompletionController _loadDB]):  Adds bookmarks and history to the tree.
        (-[CompletionController _executeQuery]):  Looks up a result set given a user\'s partial string.
        (+[CompletionController _registerForNotifications]):  Listen for history changes.
        (+[CompletionController _historyAdded:]):  Update db on history change.
        (+[CompletionController _historyRemoved:]):  Update db on history change.
        (+[CompletionController _reloadDB:]):  Update db on history change.
        (-[CompletionController _buildUI]):  Make popdown window slightly transparent.
        (-[CompletionController _reflectSelectedRow]):  Properly add completion text to user\'s partial
	text.  ("http://www." no longer hardwired)
        (-[CompletionController tableView:objectValueForTableColumn:row:]):  Handle bookmarks as
	well as WebHistoyItems.
        * GlobalHistory.m:
        (-[GlobalHistory _registerForHistoryNotifications]):  Register for new WebHistory notifications.


git-svn-id: svn://svn.chromium.org/blink/trunk@2829 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-11-22 19:35:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/87ba688ce7ffcb019a559b1b51ed881210fa79d4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020901l5ly16x9fb', 2, e'	Fix for the table/form regressions.  Also landing beginnings
	of the block/inline work.

        * khtml/html/html_tableimpl.cpp:
        (HTMLTableSectionElementImpl::addChild):
        * khtml/html/html_tableimpl.h:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::RenderFlow):
        * khtml/rendering/render_flow.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2828 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-22 19:03:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0e21ddd91f5ee3cf3e83a8215164630d9292bd7c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020a01l5dhqkleor', 2, e'        Changed NSString category methods to include _web_ prefix.

        * Misc.subproj/WebKitNSStringExtras.h:
        * Misc.subproj/WebKitNSStringExtras.m:
        (-[NSString _web_widthForString:font:]):

        Changed NSString category methods to include _web_ prefix.

        * EtchedStringView.m:
        (-[EtchedStringView drawRect:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2827 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-22 19:00:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/269f5bbbdfdba709d1d4a7a0f9f71a065e0b279f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020b01l5uva8p193', 2, e'        Changed to use simplified SPI.  Drawing and measuring using
        WebKit\'s text renderer are provided as category methods
        on NSString.

        * EtchedStringView.m:
        (-[EtchedStringView drawRect:]):

        Simplified drawing and measuring SPI for use by Alex.

        * Misc.subproj/WebKitNSStringExtras.h: Added.
        * Misc.subproj/WebKitNSStringExtras.m: Added.
        (-[NSString widthForString:font:]):
        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2826 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-22 18:48:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/629b7e8ed599527d19c437a487ad6e00f3bee4e6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020c01l5c0lh0grp', 2, e'	- reduce cell size to 56 bytes from 64, now that nearly all
	objects fit in that size. .5% speed gain and probably some
	footprint gain.

        * kjs/collector.cpp: Change CELL_SIZE from 64 to 56.


git-svn-id: svn://svn.chromium.org/blink/trunk@2825 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-22 09:47:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cf72175e5e7a6f502f0edd8b5406172a7e4a442a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020d01l5lrgzu4uu', 2, e'JavaScriptCore:

	- change ScopeChain to be a singly linked list shares tails, gives 11% gain on iBench

        * kjs/context.h:
        (ContextImp::pushScope): Make inline, use push instead of prepend, and pass imp pointer.
        (ContextImp::popScope): Make inline, use pop instead of removeFirst.
        * kjs/function.cpp: (DeclaredFunctionImp::DeclaredFunctionImp): No need to copy.
        * kjs/function_object.cpp: (FunctionObjectImp::construct): Use push instead of
	prepend, and pass imp pointer.
        * kjs/internal.cpp: (ContextImp::ContextImp): Use clear, push instead of prepend,
	and pass imp pointers.
        * kjs/nodes.cpp: (ResolveNode::evaluateReference): Use isEmpty, pop, and top instead
	of ScopeChainIterator.
        * kjs/object.h: Change _scope to be a NoRefScopeChain.
        * kjs/object.cpp: No need to initialize _scope any more, since it\'s not a NoRefScopeChain.

        * kjs/scope_chain.h: Rewrite, different implementation and interface.
        * kjs/scope_chain.cpp: More of the same.

WebCore:

        * khtml/ecma/kjs_dom.cpp: (DOMNode::pushEventHandlerScope): Change to push handlers
	on an existing scope chain rather than returning one. Name change too.
        * khtml/ecma/kjs_dom.h: More of the same.
        * khtml/ecma/kjs_html.cpp: (KJS::HTMLElement::pushEventHandlerScope): And here.
        * khtml/ecma/kjs_html.h: And here.

        * khtml/ecma/kjs_events.cpp: (JSEventListener::handleEvent): Use the pushEventHandlerScope
	function, and also don\'t worry about optimizing the "no change" case, because that already
	works pretty efficiently.


git-svn-id: svn://svn.chromium.org/blink/trunk@2824 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-22 09:04:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d050beea378d3ed6e5ba10c7b85eacd3417f13b6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020e01l5lewpktxn', 2, e'	Fix for the weather.com, slate and espn malformations that
	could occur.  Also reverting an earlier change for handling
	font tags like other inlines.  Both FONT and A need to be
	given special treatment until I can implement a strategy that
	will allow them to be handled just like the other inlines.

        * khtml/html/dtd.cpp:
        (DOM::checkChild):
        * khtml/html/html_elementimpl.cpp:
        (HTMLElementImpl::isInline):
        * khtml/html/html_elementimpl.h:
        * khtml/xml/dom_nodeimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2823 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-22 08:48:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/29d9bc83c256f7185a6ee3d986e1e326933a040f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020f01l5mpdpcwn5', 2, e'	- a simple change for .4% gain on ibench - instead of unmarking
	all objects at the start of collection, instead unmark as part of
	the sweep phase

        * kjs/collector.cpp:
        (Collector::collect): Remove separate unmarking pass and instead
	unmark the objects that don\'t get collected during the sweep
	phase.


git-svn-id: svn://svn.chromium.org/blink/trunk@2822 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-22 08:13:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/df26d532ae63c9e2b2bcf848c7bd824f8a9752c6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020g01l5gi4cilte', 2, e'top level:

        * Site/Internal/Design/CFURL.rtf: Added.

Tools:

        * Scripts/last-update: Added. Script for Trey that tells you when
	you last did a cvs update, based on most-recently updated ChangeLog.

JavaScriptCore:

	- stop garbage collecting the ActivationImp objects, gets 3% on iBench
	- pave the way to separate the argument lists from scope chains

        * kjs/context.h: Added. Moved ContextImp here so it can use things defined
	in function.h

        * kjs/scope_chain.h: Added. Starting as a copy of List, to be improved.
        * kjs/scope_chain.cpp: Added. Starting as a copy of List, to be improved.

        * JavaScriptCore.pbproj/project.pbxproj: Rearranged things, added context.h.

        * kjs/function.cpp:
        (FunctionImp::call): Pass InterpreterImp, not ExecState, to ContextImp.
        (DeclaredFunctionImp::DeclaredFunctionImp): List -> ScopeChain.
        (ActivationImp::createArgumentsObject): ArgumentList -> List.
        (GlobalFuncImp::call): Pass InterpreterImp, not an ExecState, to ContextImp.
        * kjs/function.h: List -> ScopeChain.
        * kjs/function_object.cpp: (FunctionObjectImp::construct): List -> ScopeChain.
        * kjs/internal.cpp:
        (ContextImp::ContextImp): Set the context in the interpreter.
        (ContextImp::~ContextImp): Set the context in the interpreter to the caller.
        (ContextImp::mark): Mark all the activation objects.
        (InterpreterImp::InterpreterImp): Initialize context to 0.
        (InterpreterImp::mark): Mark the top context.
        (InterpreterImp::evaluate): Pass InterpreterImp to ContextImp.
        * kjs/internal.h: Move ContextImp to its own header. Add setContext to InterpreterImp.
        * kjs/interpreter.cpp: (Context::scopeChain): List -> ScopeChain.
        * kjs/interpreter.h: List -> ScopeChain.
        * kjs/nodes.cpp:
        (ResolveNode::evaluateReference): List -> ScopeChain.
        (FuncDeclNode::processFuncDecl): List -> ScopeChain.
        (FuncExprNode::evaluate): List -> ScopeChain.
        * kjs/object.cpp: List -> ScopeChain.
        * kjs/object.h: List -> ScopeChain.

        * kjs/types.h: Remove needsMarking features from List.
        * kjs/types.cpp: Ditto.

WebCore:

        * khtml/ecma/kjs_dom.cpp: (DOMNode::eventHandlerScope): List -> ScopeChain.
        * khtml/ecma/kjs_dom.h: List -> ScopeChain.
        * khtml/ecma/kjs_events.cpp: (JSEventListener::handleEvent): List -> ScopeChain.
        * khtml/ecma/kjs_html.cpp: (KJS::HTMLElement::eventHandlerScope): List -> ScopeChain.
        * khtml/ecma/kjs_html.h: List -> ScopeChain.

        * force-js-clean-timestamp: Not sure this is required, but better safe than sorry.


git-svn-id: svn://svn.chromium.org/blink/trunk@2821 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-22 06:59:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8b9f2d17a20ebe373e27dcca6016e48a93f70d3e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020h01l5xy70hmne', 2, e'	Removed workaround for: 3093170 - Handle clients receive data with length 0

	as it\'s now fixed.

        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler receivedData:]): remove workaround
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveData:]): added asserts


git-svn-id: svn://svn.chromium.org/blink/trunk@2820 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-22 04:40:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/409c3bcba5028d1ccf01977c07d62e36cbb16179');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020i01l5ttv8uyqq', 2, e'        A different fix to 3078065 that doesn\'t depend on the appkit\'s idea of
        fixed pitch font.

        The fix is to adjust the width of all characters that have the same width
        as the space character to match the adjustment of the space character.
        This has the slight downside that non-monospace fonts that contain glyphs
        with the same width as the space character will have an extra adjustment.
        In practice this is not noticeable as the adjustment is always sub-pixel.
        Nor of course does this cause any mislayout, as it\'s done at the lowest
        level for both measurement and drawing.

        Until we move kthml internals to floats this will be just fine.

        * WebCoreSupport.subproj/WebTextRenderer.h:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (widthForGlyph):
        (-[WebTextRenderer initWithFont:]):
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:letterSpacing:wordSpacing:]):
tAfterNavigationPolicy:request:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2819 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-22 02:58:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4c19c95b562c56adb4ba0d2226b123e867a0c6df');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020j01l5kjxsdbnh', 2, e'        * force-js-clean-timestamp: Touch so other people\'s builds work.


git-svn-id: svn://svn.chromium.org/blink/trunk@2818 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-22 02:43:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d3f33088b9b055f585bdb2f2c4d1ca8081c3948c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnowg4020k01l5yn9a9zze', 2, e'	- reduced the size of PropertyMap by storing sizes and such in the
	dynamically allocated part of the object to reduce the size of
	ObjectImp - .5% speed improvement on JS iBench.

        * kjs/property_map.cpp:
        * kjs/property_map.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2817 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-22 02:08:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a675399435c43ed77dc8a14c7f78a5e6e01ea57e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5p01yx01l529c2tehp', 2, e'	Nested <a>s are never allowed.  Make sure to always pop the
	<a> blocks.

        * khtml/html/htmlparser.cpp:
        (KHTMLParser::getElement):


git-svn-id: svn://svn.chromium.org/blink/trunk@2816 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-22 01:57:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/003e493d459e6655e89c38dbf4f7d8b0ebc020f9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5p01yy01l5prw3vodk', 2, e'	Stop table cells from repainting the whole table when they
	get a repaint.  Gives another big boost to link rollover
	performance when links\' containing blocks are table cells.

        * khtml/rendering/render_table.cpp:
        (RenderTableCell::repaint):


git-svn-id: svn://svn.chromium.org/blink/trunk@2815 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-22 01:32:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f281316762b752c6b39e38979e084c66046cf519');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5p01yz01l5iy1b9kb1', 2, e'	Fix <font> so that behaves just like <i>, <b>, etc. Stop
	the (incorrect) allowance of blocks inside <font> tags.
	This fixes the mispositioning on avoyagetoarcturus.blogspot.com
	and fixes the vertical gaps on www.ve3d.com.

        * khtml/html/dtd.cpp:
        (DOM::checkChild):


git-svn-id: svn://svn.chromium.org/blink/trunk@2814 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-22 01:26:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/05844aebd774a06660a8634b5e0143e4e9e08379');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5p01z001l5369jye77', 2, e'Tools:

        * CommitLogEditor/Makefile.am: Pass symroots for this tree to pbxbuild.
        * HotSpotFinder/Makefile.am: Pass symroots for this tree to pbxbuild.

JavaScriptCore:

        * Makefile.am: Pass symroots for this tree to pbxbuild.

Tests:

        * ObjcUnit/Makefile.am: Pass symroots for this tree to pbxbuild.
        * TestPlugin/Makefile.am: Pass symroots for this tree to pbxbuild.
        * WebFoundation-CacheLoader/Makefile.am: Pass symroots for this tree to pbxbuild.

WebFoundation:

        * Makefile.am: Pass symroots for this tree to pbxbuild.

WebCore:

        * Makefile.am: Pass symroots for this tree to pbxbuild.

WebKit:

        * Makefile.am: Pass symroots for this tree to pbxbuild.

WebBrowser:

        * Makefile.am: Pass symroots for this tree to pbxbuild.


git-svn-id: svn://svn.chromium.org/blink/trunk@2813 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-22 01:20:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/07dc3c3e827eee108d4995b293ac2c9b05032941');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5p01z101l5rhsihr4k', 2, e'	Fixed for tables.  Make the percentage height calculation
	more robust.  Also add a hack for replaced elements to
	subtract out their margins when computing percentage widths.
	This keeps them from spilling out of table cells.

        * khtml/rendering/render_box.cpp:
        (RenderBox::calcReplacedWidth):
        (RenderBox::calcReplacedHeight):
        * khtml/rendering/render_table.cpp:
        (RenderTable::layoutRows):
        * khtml/xml/dom_nodeimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2812 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-22 01:17:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6064f4b2d1f0bc089355283f98d248a9cdd4ce0c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5p01z201l5d3lgwkfq', 2, e'Moved Alexander-33 marker.


git-svn-id: svn://svn.chromium.org/blink/trunk@2810 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-22 00:25:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5d1e64c05b4486d9494d032e5699bc3b5403cb85');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5p01z301l52qgnpmg8', 2, e'        Fixed from SK\'s copy/paste whitespace issue.
        This fixes 3076236 and a regression due to additional whitespace
        in the DOM.

        * kwq/WebCoreBridge.mm:
        (attributedString):


git-svn-id: svn://svn.chromium.org/blink/trunk@2809 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-22 00:22:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1f519662452606e7b9cb0670d2fad27ba43cb7cb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5p01z401l56hdvt8vd', 2, e'	Fixed: 3009881 - plugins get mouse-overs even when mouse is in menus
	Fixed: 3108240 - Loading datasource sometimes doesn\'t have cancelled error when cancelled

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView sendNullEvent]): check if menus are showing
        (-[WebBaseNetscapePluginView restartNullEvents]): tweak
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _stopLoading]): set cancelled error if main handle is gone


git-svn-id: svn://svn.chromium.org/blink/trunk@2808 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-22 00:13:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4abdd38572879d086a59924e9a101d78ad0c711e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5p01z501l5xpc5p8gr', 2, e'Alex-33 stamp


git-svn-id: svn://svn.chromium.org/blink/trunk@2807 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-11-22 00:03:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/98446f5db17aa59508f394fb49aa0b814c6a3772');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5p01z601l5iirht1pr', 2, e'	Fix mac.com regression (and weather.com regression).

        * khtml/rendering/bidi.cpp:
        (RenderFlow::findNextLineBreak):


git-svn-id: svn://svn.chromium.org/blink/trunk@2806 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-21 22:06:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d830ec5546a47f3eb777fd5d2f7791923a77f3b4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01z701l59e5aqx27', 2, e'        Fixed performance regression!  Argh.

        * khtml/rendering/font.cpp:
        (Font::width):


git-svn-id: svn://svn.chromium.org/blink/trunk@2805 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-21 21:19:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1eb4da7b8047ac6eb7bc5689ab773e0b6d340b88');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01z801l5owaqs42x', 2, e'JavaScriptCore:

        * kjs/property_map.cpp: More assertions.

WebCore:

        * force-js-clean-timestamp: Trigger a rebuild because of the
	size change in ValueImp.


git-svn-id: svn://svn.chromium.org/blink/trunk@2804 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-21 17:36:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f28fbd953b931309694c2c13bd9b2bd7f1677aef');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01z901l57dckpvyo', 2, e'	- fixed 3107286 -- REGRESSION: unrepro assertion failure in KWQKHTMLPart.mm keyEvent

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::keyEvent):
	Handle case of nil document as well as case of nil focus node.

        * kwq/WebCoreBridge.mm: Tweak whitespace.


git-svn-id: svn://svn.chromium.org/blink/trunk@2803 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-21 17:06:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a32faea53d61a294af9c70663a1d1312ad37f181');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01za01l5ihoemdae', 2, e'        * kjs/property_map.cpp: Turn that consistency check back off.


git-svn-id: svn://svn.chromium.org/blink/trunk@2802 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-21 16:23:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7029e38bc754a4c7719ec5e4c0e00c87551e0074');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zb01l5vc8bmoi9', 2, e'	- someone somewhere must be defining a macro named check, causing a compile failure in WebCore

	Rename check() to checkConsistency().

        * kjs/property_map.h: Rename.
        * kjs/property_map.cpp: Yes, rename.


git-svn-id: svn://svn.chromium.org/blink/trunk@2801 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-21 16:22:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b979130abd1853d5ff2bc31e4ee509519f3ca620');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zc01l5077upwrb', 2, e'	- add self-check to property map in hopes of finding the cnet.com bug

        * kjs/property_map.h: Add check() function.
        * kjs/property_map.cpp: Add the checking, controlled by DO_CONSISTENCY_CHECK.

	 - fixed UChar interface so it\'s not so slow in debug builds

        * kjs/ustring.h: Nothing in UChar needs to be private.

        * kjs/function.cpp: (GlobalFuncImp::call):
        * kjs/function_object.cpp: (FunctionObjectImp::construct):
        * kjs/identifier.cpp:
        * kjs/lexer.cpp: (Lexer::setCode), (Lexer::shift):
        * kjs/lookup.cpp: (keysMatch):
        * kjs/ustring.cpp: (UString::Rep::computeHash), (KJS::compare):
	Use the "uc" field instead of the "unicode()" inline function.


git-svn-id: svn://svn.chromium.org/blink/trunk@2800 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-21 15:39:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fd0b2470f65090994cd7155699e8d10d5e5ed5e0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zd01l5l2c4hva7', 2, e'	- fixed a null-dereference I ran into while trying to reproduce bug 3107351

        * kjs/function.h: Change ActivationImp constructor to take context parameter.
        * kjs/function.cpp: (ActivationImp::ActivationImp): Take context parameter,
	not execution state parameter.

        * kjs/internal.cpp: (ContextImp::ContextImp): Initialize activation object
	from context, not execution state, because the new context is not yet in the
	execution state.


git-svn-id: svn://svn.chromium.org/blink/trunk@2799 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-21 15:11:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/04665db4850a67e90966300891f4a62031fa81f7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01ze01l5e8x5h50f', 2, e'WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt: Update.

WebCore:

	- fixed 3107383 -- clicking link on cnet.com leads to assertion failure

	When we removed a frame, we were leaving behind an empty WebView. Yuck.

        * kwq/KWQScrollView.mm:
        (QScrollView::addChild): Use the new getOuterView.
        (QScrollView::removeChild): Ditto. This was the bug fix.
        * kwq/KWQWidget.h: Add getOuterView.
        * kwq/KWQWidget.mm:
        (QWidget::frameGeometry): Use the new getOuterView.
        (QWidget::setFrameGeometry): Ditto.
        (QWidget::getOuterView): Added. Does the WebCoreFrameView magic to find
	the WebView instead of the WebHTMLView. Yuck.
        (QWidget::paint): Use the new getOuterView.

WebKit:

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]):
	Unescape the string before executing it, so we don\'t suffer from bug 3083043
	here in the javascript: URLs that come from plug-ins.

        * English.lproj/StringsNotToBeLocalized.txt: Update.

WebBrowser:

        * Debug/DebugUtilities.m: (-[DebugUtilities createDebugMenu]):
	Fix typo. "Import" the favorites, don\'t "Imported" them.

        * English.lproj/StringsNotToBeLocalized.txt: Let the update
	script sort this file.


git-svn-id: svn://svn.chromium.org/blink/trunk@2798 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-21 07:42:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d41e92f7ca64dc966d52558929ac6220e4c63bf4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zf01l5v7tssir8', 2, e'	Fixed: 3079134 - Throttle plug-ins while in background

        * Plugins.subproj/WebBaseNetscapePluginView.h:
        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView sendNullEvent]): new
        (-[WebBaseNetscapePluginView stopNullEvents]): stops timer
        (-[WebBaseNetscapePluginView restartNullEvents]): stops timer if there is one, and starts a new one based on window activation state
        (-[WebBaseNetscapePluginView start]): call restartNullEvents
        (-[WebBaseNetscapePluginView stop]): call stopNullEvents
        (-[WebBaseNetscapePluginView windowBecameKey:]): call restartNullEvents
        (-[WebBaseNetscapePluginView windowResignedKey:]): call restartNullEvents
        (-[WebBaseNetscapePluginView windowDidMiniaturize:]): call stopNullEvents
        (-[WebBaseNetscapePluginView windowDidDeminiaturize:]): call restartNullEvents
        * Plugins.subproj/WebNetscapePluginNullEventSender.h: Removed. No need for another class, use a timer.
        * Plugins.subproj/WebNetscapePluginNullEventSender.m: Removed. No need for another class, use a timer.
        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2797 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-21 06:05:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/564dedad714835b2be28e04eb64d4e090d59a89e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zg01l5039vrrzc', 2, e'        Fixed 3107007.  Letter-spacing is causing width to be miscalculated.
        This also fixed some selection problems.

        * khtml/rendering/font.cpp:
        (Font::width):


        Fixed 3107007.  Letter-spacing is causing width to be miscalculated.
        This also fixed some selection problems.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:letterSpacing:wordSpacing:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2796 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-21 02:20:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dffea1cb8b9ccd9fb69ced1002b1b2762f5d482f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zh01l5mp51jpzm', 2, e'Oops, forgot to checkin header change.


git-svn-id: svn://svn.chromium.org/blink/trunk@2795 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-21 01:35:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e317aeaebfc3413b894325c7d5cadb39aeb32784');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zi01l5dcps6ixy', 2, e'	- added a feature for Richard to use in his back/forward cache

        * kjs/object.h: Added save/restoreProperties.
        * kjs/property_map.h: Here too.
        * kjs/property_map.cpp: Here too.


git-svn-id: svn://svn.chromium.org/blink/trunk@2794 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-21 01:28:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dd2cdb3da3c27f69f56908e702b5b18a4acda441');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zj01l5nbnofwp5', 2, e'        Fixed mono spaced fonts to always render with mono spacing! (3078065)

        * WebCoreSupport.subproj/WebTextRenderer.h:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (widthForGlyph):
        (-[WebTextRenderer initWithFont:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2793 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-21 01:21:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/39154c8faa7939216266d3f574538ac190afc75b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zk01l5yeul1jn8', 2, e'	- created argument list objects only on demand for a 7.5% speedup

        * kjs/function.h: Change ActivationImp around.
        * kjs/function.cpp:
        (FunctionImp::call): Pass a pointer to the arguments list to avoid ref/unref.
        (FunctionImp::get): Get the function pointer from the context directly,
	not the activation object.
        (ArgumentsImp::ArgumentsImp): Add an overload that takes no arguments.
        (ActivationImp::ActivationImp): Store a context pointer and an arguments object pointer.
        (ActivationImp::get): Special case for arguments, create it and return it.
        (ActivationImp::put): Special case for arguments, can\'t be set.
        (ActivationImp::hasProperty): Special case for arguments, return true.
        (ActivationImp::deleteProperty): Special case for arguments, refuse to delete.
        (ActivationImp::mark): Mark the arguments object.
        (ActivationImp::createArgumentsObject): Do the work of actually creating it.
        (GlobalFuncImp::call): Use stack-based objects for the ContextImp and ExecState.

        * kjs/internal.h: Keep function and arguments pointer in the context.
        * kjs/internal.cpp:
        (ContextImp::ContextImp): Don\'t pass in the func and args when making an ActivationImp.
        (InterpreterImp::evaluate): Use stack-based objects here.

        * kjs/types.h: Add ArgumentList as a synonym for List, soon to be separate.


git-svn-id: svn://svn.chromium.org/blink/trunk@2792 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-21 00:55:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f124eccabd8a5d44f4b7b5e477fda577871214df');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zl01l59gn6hs9z', 2, e'	Reduced the size of ValueImp by 8 bytes for a .5% speedup.

        * kjs/value.h: Removed destructed flag. Made refcount and flag 16
	bits each.
        * kjs/value.cpp:
        (ValueImp::~ValueImp): Don\'t set destructed flag.


git-svn-id: svn://svn.chromium.org/blink/trunk@2791 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-21 00:21:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/babf921925a703e867f2457448967efe836b1069');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zm01l58bszf7up', 2, e'	Fixed: 3074926 - crash in BitsToPix() trying to print cnet page

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView drawRect:]): disable experimental plug-in printing code.


git-svn-id: svn://svn.chromium.org/blink/trunk@2790 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-20 23:55:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/35350d5baa49e5666831ee9eb2c01fb3c4dc4fe8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zn01l5b89njxj0', 2, e'        * kjs/types.cpp: Keep ref count for the whole lists of nodes.
	Doesn\'t speed things up much, less than 1%.


git-svn-id: svn://svn.chromium.org/blink/trunk@2789 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-20 22:59:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/13146f399ed6506f84da4feb028ce90574db71f7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zo01l5vndcbui4', 2, e'        * kjs/collector.cpp:
        (Collector::allocate): Clear the flags on newly allocated objects.


git-svn-id: svn://svn.chromium.org/blink/trunk@2788 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-20 22:26:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0264e9883679e11842cfd93330b6ca27e9092587');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zp01l5un0m52hg', 2, e'	Minor clean-up, logging and more error checking in plug-in code.

        * Plugins.subproj/WebBaseNetscapePluginStream.m:
        (-[WebBaseNetscapePluginStream setResponse:]):
        (-[WebBaseNetscapePluginStream receivedData:]):
        (-[WebBaseNetscapePluginStream finishedLoadingWithData:]):
        * Plugins.subproj/npapi.m:
        (NPN_UserAgent):
        (NPN_MemFree):
        (NPN_MemFlush):
        (NPN_ReloadPlugins):


git-svn-id: svn://svn.chromium.org/blink/trunk@2787 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-20 22:11:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4b34bd12934b6e208cf1ba15956af6f23e676ff4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnov5q01zq01l5qe6c8d76', 2, e'	- oops, checked in big regression instead of 5% speedup

        * kjs/function.cpp: (ActivationImp::ActivationImp): Make a marking
	list, not a refing list.

	- a cut at the sparse array implementation

        * kjs/array_instance.h: Keep storageLength separate from length.
        * kjs/array_object.cpp:
        (ArrayInstanceImp::ArrayInstanceImp): Start with storageLength == length.
        (ArrayInstanceImp::get): Check against storage length.
        (ArrayInstanceImp::put): Ditto.
        (ArrayInstanceImp::hasProperty): Ditto.
        (ArrayInstanceImp::deleteProperty): Ditto.
        (ArrayInstanceImp::setLength): Only enlarge storage length up to a cutoff.
        (ArrayInstanceImp::mark): Use storageLength.
        (ArrayInstanceImp::pushUndefinedObjectsToEnd): Added FIXME.


git-svn-id: svn://svn.chromium.org/blink/trunk@2786 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-20 21:49:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/157f0d2602925fff6dc66a718d6494d046305ecc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01y301l56skkxj2b', 2, e'        * force-js-clean-timestamp: Again.


git-svn-id: svn://svn.chromium.org/blink/trunk@2785 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-20 21:34:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ce0af196ed623a08840eeda5d79d8d2c63b2c495');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01y401l5mlltpcq6', 2, e'	Fix the mac.com line-breaking bug.  This was not a regression
	but was present in Konq.

        * khtml/rendering/bidi.cpp:
        (RenderFlow::findNextLineBreak):


git-svn-id: svn://svn.chromium.org/blink/trunk@2784 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-20 21:25:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/08822afc55a215cc28c59a026cd0351db6bbb1bc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01y501l5c9mxvdb2', 2, e'	- decrease ref/deref -- 5% speedup in iBench

        * JavaScriptCore.pbproj/project.pbxproj: Added array_instance.h
        * kjs/array_instance.h: Added so it can be shared by function.h.

        * kjs/array_object.cpp:
        * kjs/array_object.h:
        * kjs/bool_object.cpp:
        * kjs/bool_object.h:
        * kjs/collector.cpp:
        * kjs/date_object.cpp:
        * kjs/date_object.h:
        * kjs/error_object.cpp:
        * kjs/function.cpp:
        * kjs/function.h:
        * kjs/function_object.cpp:
        * kjs/internal.cpp:
        * kjs/internal.h:
        * kjs/math_object.cpp:
        * kjs/nodes.cpp:
        * kjs/number_object.cpp:
        * kjs/object.cpp:
        * kjs/object.h:
        * kjs/object_object.cpp:
        * kjs/property_map.cpp:
        * kjs/reference.cpp:
        * kjs/reference.h:
        * kjs/regexp_object.cpp:
        * kjs/string_object.cpp:
        * kjs/string_object.h:
        * kjs/value.cpp:
        * kjs/value.h:
	Switched lots of interfaces so they don\'t require ref/deref.


git-svn-id: svn://svn.chromium.org/blink/trunk@2783 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-20 21:12:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2a0f06aab4ccb726e7fec27e0bef62cc3340cc14');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01y601l5j1dscjfj', 2, e'	Fixed: 3061174 - javascript: URLs sent by plugins don\'t work

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2782 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-20 19:20:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cd0f28c2b65c09672084846a903f8b1eaef6106b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01y701l5lnca1y9d', 2, e'	Fixed the two most obvious problems with the new GC for another 6%
	improvement.

        * kjs/collector.cpp:
        (Collector::allocate): Don\'t bother doing the bit tests on a bitmap word if
	all it\'s bits are on.
        (Collector::collect): Track memoryFull boolean.
        * kjs/collector.h: Inlined outOfMemory since it was showing up on profiles.


git-svn-id: svn://svn.chromium.org/blink/trunk@2781 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-20 16:54:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/78b175281a3da6a04347e4e8f6b556b069cbe498');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01y801l5ehuyrz01', 2, e'WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.

WebKit:

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.

WebBrowser:

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.

        * Test/PageLoadTestController.m: (-[PageLoadTestController browserWindowClosed]):
	Explain the world leak check a bit more.


git-svn-id: svn://svn.chromium.org/blink/trunk@2780 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-20 10:07:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8bbbddcadc662edd86d0dc82da6f7c113631f5b4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01y901l5xy1lsvsq', 2, e'JavaScriptCore:

	Rewrote garbage collector to make blocks of actual memory instead
	of blocks of pointers. 7% improvement on JavaScript
	iBench. There\'s still lots of room to tune the new GC, this is
	just my first cut.

        * kjs/collector.cpp:
        (Collector::allocate):
        (Collector::collect):
        (Collector::size):
        (Collector::outOfMemory):
        (Collector::finalCheck):
        (Collector::numGCNotAllowedObjects):
        (Collector::numReferencedObjects):
        (Collector::liveObjectClasses):
        * kjs/collector.h:
        * kjs/function.cpp:
        (ActivationImp::ActivationImp):
        * kjs/function.h:

WebCore:

        * force-js-clean-timestamp: Work around PB lameness yet again.


git-svn-id: svn://svn.chromium.org/blink/trunk@2779 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-20 09:34:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3f8a960a91eeb7fbb2cd9c94d628c796309f8c63');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01ya01l5lmmhmfsi', 2, e'	- on the road to killing ActivationImp

        * kjs/function.h: Add get/put to FunctionImp. Remove argumentsObject() from
	ActivationImp. Add function() to ActivationImp.
        * kjs/function.cpp:
        (FunctionImp::FunctionImp): No arguments property.
        (FunctionImp::call): No need to set up the arguments property.
        (FunctionImp::parameterString): Remove ** strangeness.
        (FunctionImp::processParameters): Ditto.
        (FunctionImp::get): Added, handles arguments and length properties.
        (FunctionImp::put): Ditto.
        (FunctionImp::hasProperty): Ditto.
        (FunctionImp::deleteProperty): Ditto.
        (ActivationImp::ActivationImp): Store a function pointer so we can find it
	in the context.

        * kjs/function_object.cpp: (FunctionObjectImp::construct): No need to set up
	arguments property.
        * kjs/nodes.cpp: (FuncExprNode::evaluate): No need to set up length property.

        * kjs/internal.h: Return ObjectImp * for activation object.

        * kjs/interpreter.h: Remove stray declaration of ExecStateImp.


git-svn-id: svn://svn.chromium.org/blink/trunk@2778 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-20 09:11:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cb3586e603059342e58828f44464324986ef6dd1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yb01l5j8m2o687', 2, e'	- add a couple of list operations to avoid clearing lists so much during sorting; gives 1.5% iBench

        * kjs/types.h: Added replaceFirst/replaceLast.
        * kjs/types.cpp: (List::replaceFirst), (List::replaceLast): Added.

        * kjs/array_object.cpp: (compareWithCompareFunctionForQSort): Use replaceFirst/replaceLast.

        * kjs/property_map.cpp: Put in an ifdef so I can re-add/remove the single entry to see if
	it has outlived its usefulness. (It hasn\'t yet.)


git-svn-id: svn://svn.chromium.org/blink/trunk@2777 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-20 08:53:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/354f112754e5a3d05f9228ed6b0bcd31e525caca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yc01l5x8mp3t7n', 2, e'	- atomic identifiers; gives another 6.5% in the iBench suite

        * kjs/identifier.h: Did the real thing.
        * kjs/identifier.cpp: Ditto.

        * kjs/property_map.h: _tableSizeHashMask -> _tableSizeMask
        * kjs/property_map.cpp: The above, plus take advantage of comparing
	by pointer instead of by comparing bytes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2776 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-20 08:15:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7ed2c811cb05aecfe4003e05607d65cab490b3b5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yd01l5p04nzm1j', 2, e'        * force-js-clean-timestamp: Make other people\'s builds work.


git-svn-id: svn://svn.chromium.org/blink/trunk@2775 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-20 07:11:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a260d687bb6c98b99b8b4627a4eb2abbadc10153');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01ye01l5cmppt3fa', 2, e'	I screwed up the line breaking for inline replaced elements.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::calcInlineMinMaxWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@2774 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-20 03:07:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cc94ca2af624fd86f5cb68abc33a573425b36607');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yf01l5j7i4j7xy', 2, e'	Fixed: 3106061 - REGRESSION: Copy in text view copies all text not just selection

        * Misc.subproj/WebSearchableTextView.m:
        (-[WebSearchableTextView copy:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2773 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-20 02:52:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/011a4617e67180cf161a9fcd3c1c8b2e8df68c04');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yg01l58pz3eyt2', 2, e'	- a few more globals for often-used property names
	- conversion to Identifier from UString must now be explicit

        * kjs/error_object.cpp:
        * kjs/function.cpp:
        * kjs/function_object.cpp:
        * kjs/identifier.cpp:
        * kjs/identifier.h:
        * kjs/lexer.cpp:
        * kjs/nodes.cpp:
        * kjs/number_object.cpp:
        * kjs/object.cpp:
        * kjs/object.h:
        * kjs/string_object.cpp:
        * kjs/testkjs.cpp:
        * kjs/ustring.cpp:
        * kjs/ustring.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2772 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-20 02:35:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b064a5bdca87bdc64337da878405a445f019064d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yh01l5o1iwl51s', 2, e'	- another atomic identifier scrub pass; make the conversion to Identifier explicit

        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLCollection::tryCall): Add explicit Identifier() conversion.
        (KJS::HTMLCollectionProtoFunc::tryCall): Ditto.
        * khtml/ecma/kjs_window.cpp: (WindowFunc::tryCall): And again.


git-svn-id: svn://svn.chromium.org/blink/trunk@2771 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-20 02:32:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/405e71a0e2564486a8ebe221e58ec3edd2c5f31e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yi01l53rnf2div', 2, e'	Fix for 3049663.  Table cells don\'t grow to accommodate block
	overflow.

        * khtml/rendering/bidi.cpp:
        (RenderFlow::layoutInlineChildren):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::RenderFlow):
        (RenderFlow::layout):
        (RenderFlow::layoutBlockChildren):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2770 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-20 01:53:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cf94d90340749aea0477cb2af9c7268613ead7e8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yj01l5za7wqd78', 2, e'	- another step towards atomic identifiers; storing hash in the string rep. gives about
	a 1.5% speedup in the JavaScript iBench

        * kjs/ustring.h: Add a hash field to UString::Rep.
        * kjs/ustring.cpp:
        (UString::Rep::create): Set hash to uninitialized value.
        (UString::Rep::destroy): Do the deleting in her, and call Identifier if needed.
        (UString::Rep::computeHash): Added.
        (UString::append): Set hash to 0 when modifying the string in place.
        (UString::operator=): Ditto.

        * kjs/property_map.cpp: Use the hash from UString.

        * kjs/identifier.h: Added aboutToDestroyUStringRep.
        * kjs/identifier.cpp: (Identifier::aboutToDestroyUStringRep): Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2769 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-20 01:23:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73aa5e20c4477d464bc5bfe11bcacf51556c0653');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yk01l555bwjuca', 2, e'	Fixed: 3092588 - redraw errors in QT controller if window is in background

	We need to send update events after we activate/deactivate after all.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView windowBecameKey:]):
        (-[WebBaseNetscapePluginView windowResignedKey:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2768 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-20 00:24:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/605d31a5bec633a4dd2cf733ef78834357910cee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yl01l5fasrpb0l', 2, e'	Fixed: 3020720 - dropping a folder in the page address makes the folder open in Finder, empties the field

        * Misc.subproj/WebNSPasteboardExtras.m:
        (-[NSPasteboard _web_bestURL]): Don\'t accept directories.


git-svn-id: svn://svn.chromium.org/blink/trunk@2767 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-20 00:09:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/66e54ed6a932727b92014673c3812e26d40f963b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01ym01l5nzb15kw7', 2, e'JavaScriptCore:

	- next step towards atomic identifiers; Identifier is no longer derived from UString

        * kjs/identifier.h: Remove base class and add _ustring member.
        * kjs/identifier.cpp: Add null and an == that works with const char *.
        * kjs/property_map.cpp: Get rep through _ustring.

        * kjs/function.cpp: (FunctionImp::parameterString): Call ustring().
        * kjs/function_object.cpp: (FunctionProtoFuncImp::call): Ditto.
        * kjs/nodes.cpp:
        (PropertyNode::evaluate): Ditto.
        (VarDeclNode::evaluate): Ditto.
        (ForInNode::execute): Ditto.
        * kjs/nodes2string.cpp: (SourceStream::operator<<): Add overload for Identifier.
        * kjs/reference.cpp: (Reference::getValue): Call ustring().
        * kjs/regexp_object.cpp: (RegExpObjectImp::get): Call ustring().

WebCore:

	- next step towards atomic identifiers; Identifier is no longer derived from UString

        * khtml/ecma/kjs_binding.cpp:
        (Identifier::string): Added.
        (Identifier::qstring): Added.

        * khtml/ecma/kjs_binding.h:
        * khtml/ecma/kjs_css.cpp:
        (jsNameToProp):
        (DOMCSSStyleDeclaration::tryPut):
        (DOMStyleSheet::tryPut):
        (DOMStyleSheetList::tryGet):
        (DOMMediaList::tryGet):
        (DOMCSSRuleList::tryGet):
        (DOMCSSValueList::tryGet):
        * khtml/ecma/kjs_dom.cpp:
        (DOMNodeList::hasProperty):
        (DOMNodeList::tryGet):
        (DOMNodeListFunc::DOMNodeListFunc):
        (DOMElement::tryGet):
        (DOMNamedNodeMap::hasProperty):
        (DOMNamedNodeMap::tryGet):
        (DOMNamedNodesCollection::tryGet):
        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLDocument::tryGet):
        (HTMLElementFunction::HTMLElementFunction):
        (KJS::HTMLElement::putValue):
        (KJS::HTMLCollection::hasProperty):
        (KJS::HTMLCollection::tryGet):
        (KJS::HTMLSelectCollection::tryPut):
        (OptionConstructorImp::OptionConstructorImp):
        * khtml/ecma/kjs_navigator.cpp:
        (Plugins::get):
        (MimeTypes::get):
        (Plugin::get):
        * khtml/ecma/kjs_window.cpp:
        (WindowFunc::tryCall):
        (FrameArray::get):
	Use lengthPropertyName instead of "length" for better speed.


git-svn-id: svn://svn.chromium.org/blink/trunk@2766 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-19 23:45:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/71df9c48eab18396849c822d70ab783d674f0d12');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yn01l5f3eyy8hq', 2, e'	Fixed: 3068112 - extra line breaks when copying from source window

        * Misc.subproj/WebSearchableTextView.m:
        (-[WebSearchableTextView copy:]): Convert CRLF to LF


git-svn-id: svn://svn.chromium.org/blink/trunk@2765 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-19 23:00:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2c33c9a7c52cbf5a83ecaa44df297ea5a8f5bd16');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yo01l5uv91u3ne', 2, e'	Make sure that if the scrollers are shown/hidden that we
	force an immediate layout, since if we don\'t, an intervening
	display can cause us to show scrollbars when they really
	shouldn\'t be there.

        * WebView.subproj/WebDynamicScrollBarsView.m:
        (-[WebDynamicScrollBarsView updateScrollers]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2764 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-19 22:49:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a5158d5d0da72a1ee621b395670282ce090f43a7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yp01l5m96g4x3c', 2, e'	Fix backgrounds not painting in deployment builds.
        * khtml/rendering/render_box.cpp:
        (RenderBox::paintBackground):


git-svn-id: svn://svn.chromium.org/blink/trunk@2763 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-19 22:48:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b9fc04cfe7c485002290e1d8d5400ebe85f2cc7b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yq01l5zf8vw9f1', 2, e'	- fixed memory trasher

        * kjs/ustring.cpp: (UString::from): Fix "end of buffer" computation.


git-svn-id: svn://svn.chromium.org/blink/trunk@2762 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-19 22:25:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3516e843ac874b11fcb2862663044a89f713e558');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yr01l5zqwe6rme', 2, e'JavaScriptCore:

	- a first step towards atomic identifiers in JavaScript

	Most places that work with identifiers now use Identifier
	instead of UString.

        * kjs/identifier.cpp: Added.
        * kjs/identifier.h: Added.
        * JavaScriptCore.pbproj/project.pbxproj: Added files.

        * kjs/array_object.cpp:
        * kjs/array_object.h:
        * kjs/completion.cpp:
        * kjs/completion.h:
        * kjs/date_object.cpp:
        * kjs/date_object.h:
        * kjs/function.cpp:
        * kjs/function.h:
        * kjs/function_object.cpp:
        * kjs/grammar.cpp:
        * kjs/grammar.cpp.h:
        * kjs/grammar.h:
        * kjs/grammar.y:
        * kjs/internal.cpp:
        * kjs/internal.h:
        * kjs/lexer.cpp:
        * kjs/lookup.cpp:
        * kjs/lookup.h:
        * kjs/math_object.cpp:
        * kjs/math_object.h:
        * kjs/nodes.cpp:
        * kjs/nodes.h:
        * kjs/number_object.cpp:
        * kjs/number_object.h:
        * kjs/object.cpp:
        * kjs/object.h:
        * kjs/property_map.cpp:
        * kjs/property_map.h:
        * kjs/reference.cpp:
        * kjs/reference.h:
        * kjs/regexp_object.cpp:
        * kjs/regexp_object.h:
        * kjs/string_object.cpp:
        * kjs/string_object.h:

WebCore:

	- a first step towards atomic identifiers in JavaScript

	Most places that work with identifiers now use Identifier
	instead of UString.

        * khtml/ecma/kjs_binding.cpp:
        * khtml/ecma/kjs_binding.h:
        * khtml/ecma/kjs_css.cpp:
        * khtml/ecma/kjs_css.h:
        * khtml/ecma/kjs_dom.cpp:
        * khtml/ecma/kjs_dom.h:
        * khtml/ecma/kjs_events.cpp:
        * khtml/ecma/kjs_events.h:
        * khtml/ecma/kjs_html.cpp:
        * khtml/ecma/kjs_html.h:
        * khtml/ecma/kjs_navigator.cpp:
        * khtml/ecma/kjs_navigator.h:
        * khtml/ecma/kjs_range.cpp:
        * khtml/ecma/kjs_range.h:
        * khtml/ecma/kjs_traversal.cpp:
        * khtml/ecma/kjs_traversal.h:
        * khtml/ecma/kjs_views.cpp:
        * khtml/ecma/kjs_views.h:
        * khtml/ecma/kjs_window.cpp:
        * khtml/ecma/kjs_window.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2760 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-19 22:02:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/128e8c1acb9ceb33590c01259431c3132081d033');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01ys01l5j2lwwsp2', 2, e'	Fixed: 3100597 - repro NSArray exception using contextual menu

        * Misc.subproj/WebNSPasteboardExtras.m:
        (-[NSPasteboard _web_writeURL:andTitle:withOwner:]): more error checking


git-svn-id: svn://svn.chromium.org/blink/trunk@2759 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-19 19:49:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/81a989dda402cb6afd5e17ced749f03901e81af5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yt01l556g6pvdq', 2, e'	- fix hash function and key comparison for the other kind of hash table; yields 3%

        * kjs/lookup.cpp:
        (keysMatch): Added.
        (Lookup::findEntry): Don\'t allocate and convert to ASCII just to search.


git-svn-id: svn://svn.chromium.org/blink/trunk@2758 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-19 18:59:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/656f14839fa1a640c66d378d11fda74ad7bdd2b7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yu01l5w7k9z5xq', 2, e'	- another hash table fix; yields a 2% improvement on iBench JavaScript

        * kjs/property_map.cpp: A few more places where we use & instead of %.

	- some List changes that don\'t affect speed yet

        * kjs/types.cpp:
        (List::prependList): Tighten up a tiny bit.
        (List::copy): Use prependList.
        * kjs/types.h: Remove appendList and globalClear.

        * kjs/interpreter.cpp: (Interpreter::finalCheck): Remove List::globalClear().


git-svn-id: svn://svn.chromium.org/blink/trunk@2757 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-19 18:44:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/316f07f5691c67d0889ce31a06bdcd0da41137e0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yv01l5856kiwpr', 2, e'	- fixed 3105026 -- REGRESSION: DHTML menus are broken all over the place

        * kjs/types.cpp: (List::prepend): Fix backwards links in new node.


git-svn-id: svn://svn.chromium.org/blink/trunk@2756 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-19 18:07:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4b28398720becd9efa531eb2cb985821aac5cc1a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnottf01yw01l5vht7x8t2', 2, e'WebKit:

	Just a tweak to the description printout.

        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem description]):

WebBrowser:

	Implementation of the UI for auto-complete.  The back end is simplistic at this
	stage, as it just searches for http://www.WhatYouTyped.

        * ABHomePagesController.m:
        (-[ABHomePagesController refreshContents]):  Added notes for a future fix.
        * BrowserWindowController.h:  Added BrowserWindowWillResize notification.
        * BrowserWindowController.m:
        (-[BrowserWindowController windowDidLoad]):  Create CompletionController.
        (-[BrowserWindowController windowWillResize:toSize:]):  Post resize notification.
        (-[BrowserWindowController dealloc]):  Free CompletionController.
        (-[BrowserWindowController controlTextDidChange:]):  Forward to CompletionController.
        (-[BrowserWindowController controlTextDidEndEditing:]):  Forward to CompletionController.
        (-[BrowserWindowController control:textView:doCommandBySelector:]):  Forward to CompletionController.
        * CompletionController.h: Added.
        * CompletionController.m: Added.
        (-[CompletionController initWithSourceField:]):   Hook up to a field to operate on.
        (-[CompletionController dealloc]):
        (-[CompletionController _executeQuery]):  Get a result set.
        (-[CompletionController _matchingPrefixOfString:]):  Determine piece of a result
	that matched.
        (-[CompletionController _buildUI]):  Build completion window and table view.
        (placementViewForControl):  Utility function.
        (-[CompletionController _positionWindow]):  Position the window wrt location field.
        (-[CompletionController _showMatchesWindow]):  Show it,
        (-[CompletionController _hideMatchesWindow]):  hide it.
        (-[CompletionController _sourceWindowWillMoveOrResize:]):
        (-[CompletionController _sourceWindowWillMiniaturize:]):
        (-[CompletionController _sourceWindowWillClose:]):
		Hide UI on various source window changes.
        (-[CompletionController _abortCompletion:]):  wrapper for performAfterDelay.
        (-[CompletionController abortCompletion]):  Bail out of completion operation.
        (-[CompletionController completeString:]):  Do a query, bring up the UI.
        (-[CompletionController _reflectSelectedRow]):  Update location field when a
	completion is selected in the TableView
        (-[CompletionController controlTextDidChange:]):  Drive completion on new text.
        (-[CompletionController control:textView:doCommandBySelector:]):
	Drive completion on arrows, backspace, escape, return.
        (-[CompletionController goToItemAtRow:]):  Double click sends performClick to location field.
        (-[CompletionController tableViewSelectionDidChange:]):  Drive UI when row selected.
        (-[CompletionController numberOfRowsInTableView:]):  Supply tableView data.
        (-[CompletionController tableView:objectValueForTableColumn:row:]):  Supply tableView data.
        * TitleBarButton.m:
        (-[TitleBarButton hitTest:]):  Bug fix to allow superview to process mouse events
	that we don\'t handle.  Allows proper sending of WindowWillMove.
        * WebBrowser.pbproj/project.pbxproj:  New class added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2755 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-11-19 17:44:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/55948d537af9254fb9110d6758f1ce87359c7bd2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01x901l5hmqrkycv', 2, e'	- a fix that gives another 1.5% on the iBench JavaScript test

        * kjs/ustring.cpp: (UString::from): Stop using sprintf to format integers.


git-svn-id: svn://svn.chromium.org/blink/trunk@2754 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-19 08:10:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d0aa6666ff04a4240a41b0a4263a40be95b062fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xa01l5skm9f0gw', 2, e'JavaScriptCore:

	- reduced the creation of Value objects and hoisted the property map
        into Object for another gain of about 6%

        * JavaScriptCore.pbproj/project.pbxproj: Made property_map.h public.
        * kjs/array_object.cpp:
        (compareWithCompareFunctionForQSort): Don\'t wrap the ValueImp * in a Value
	just to add it to a list.
        (ArrayProtoFuncImp::call): Pass the globalObject directly so we don\'t have
	to ref/deref.
        * kjs/function.cpp:
        (FunctionImp::call): Use a reference for the global object to avoid ref/deref.
        (GlobalFuncImp::call): Ditto.
        * kjs/internal.cpp:
        (BooleanImp::toObject): Put the object directly into the list, don\'t create a Value.
        (StringImp::toObject): Ditto.
        (NumberImp::toObject): Ditto.
        (InterpreterImp::evaluate): Use a reference for the global object.
        * kjs/internal.h: Return a reference for the global object.
        * kjs/interpreter.cpp: (Interpreter::globalObject): Ditto.
        * kjs/interpreter.h: Ditto.
        * kjs/object.cpp: Use _prop directly in the object, not a separate pointer.
        * kjs/object.h: Ditto.
        * kjs/types.cpp: Added List methods that work directly with ValueImp.
        (List::append): Added a ValueImp version.
        (List::prepend): Ditto.
        (List::appendList): Work directly with the ValueImp\'s.
        (List::prependList): Ditto.
        (List::copy): Use appendList.
        (List::empty): Use a shared global List.
        * kjs/types.h: Update for above changes.

WebCore:

        * force-js-clean-timestamp: Another Object change.


git-svn-id: svn://svn.chromium.org/blink/trunk@2753 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-19 07:57:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fcc991f2026321fa46e2a8743a1a36d4214867c7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xb01l5vv8shsmm', 2, e'	Implement phased painting to correct the paint order of blocks,
	floats, and inlines.

        * khtml/rendering/render_body.cpp:
        (RenderBody::paintBoxDecorations):
        * khtml/rendering/render_body.h:
        * khtml/rendering/render_box.cpp:
        (RenderBox::paint):
        (RenderBox::paintBoxDecorations):
        (RenderBox::paintBackground):
        * khtml/rendering/render_box.h:
        * khtml/rendering/render_br.h:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::paint):
        (RenderFlow::paintObject):
        (RenderFlow::paintFloats):
        (RenderFlow::addChild):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_html.cpp:
        (RenderHtml::setStyle):
        (RenderHtml::paint):
        (RenderHtml::paintBoxDecorations):
        * khtml/rendering/render_html.h:
        * khtml/rendering/render_image.cpp:
        (RenderImage::setStyle):
        (RenderImage::paintObject):
        * khtml/rendering/render_image.h:
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::paint):
        (RenderLayer::nodeAtPoint):
        * khtml/rendering/render_list.cpp:
        (RenderListItem::paint):
        (RenderListItem::paintObject):
        (RenderListMarker::paint):
        (RenderListMarker::paintObject):
        * khtml/rendering/render_list.h:
        * khtml/rendering/render_object.cpp:
        (RenderObject::RenderObject):
        (RenderObject::paintBorder):
        (RenderObject::paintOutline):
        (RenderObject::paint):
        (RenderObject::dump):
        (RenderObject::setStyle):
        * khtml/rendering/render_object.h:
        * khtml/rendering/render_replaced.cpp:
        (RenderReplaced::paint):
        (RenderWidget::setStyle):
        (RenderWidget::paintObject):
        * khtml/rendering/render_replaced.h:
        * khtml/rendering/render_root.cpp:
        (RenderRoot::paint):
        (RenderRoot::paintObject):
        * khtml/rendering/render_root.h:
        * khtml/rendering/render_table.cpp:
        (RenderTable::paint):
        (RenderTableCell::RenderTableCell):
        (RenderTableCell::setStyle):
        (RenderTableCell::paint):
        (RenderTableCell::paintBoxDecorations):
        * khtml/rendering/render_table.h:
        * khtml/rendering/render_text.cpp:
        (TextSlave::paintSelection):
        (TextSlave::paintDecoration):
        (TextSlave::paintBoxDecorations):
        (RenderText::paintObject):
        (RenderText::paint):
        (RenderText::paintTextOutline):
        * khtml/rendering/render_text.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2752 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-19 07:44:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/13cf0e30ce86190f2c31469a85dc5f9fc961b9c6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xc01l54mucwo1n', 2, e'        * kjs/property_map.cpp: Oops, copyright goes to Apple, not me.
        * kjs/property_map.h: Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2751 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-19 07:04:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e7e149e1565ace66e5f9e451fb918672089f5585');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xd01l52b0taawz', 2, e'        * force-js-clean-timestamp: I changed the size of ObjectImp.


git-svn-id: svn://svn.chromium.org/blink/trunk@2750 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-19 06:59:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8481c90008e6d16ec91af6d314b09b14a06269b1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xe01l5srosbw85', 2, e'	- property and string improvements giving a 7% or so improvement in JavaScript iBench

        * kjs/property_map.h: Rewrite to use a hash table.
        * kjs/property_map.cpp: Ditto.

        * kjs/string_object.h:
        * kjs/string_object.cpp:
        (StringInstanceImp::StringInstanceImp): Construct a string with the right value
	instead of putting the string in later.
        (StringInstanceImp::get): Get the length from the string, not a separate property.
        (StringInstanceImp::put): Ignore attempts to set length, since we don\'t put it in
	the property map.
        (StringInstanceImp::hasProperty): Return true for length.
        (StringInstanceImp::deleteProperty): Return false for length.
        (StringObjectImp::construct): Call new StringInstanceImp constructor. Don\'t try
	to set a length property.

        * kjs/ustring.h: Make the rep deref know how to deallocate the rep.
        * kjs/ustring.cpp:
        (UString::release): Move the real work to the rep\'s deref, since the hash table
	now uses the rep directly.

        * kjs/object.h: Remove unused field.


git-svn-id: svn://svn.chromium.org/blink/trunk@2749 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-19 06:53:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4759ee6fe3f3c83f2db3f04be304d5de1a39d2a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xf01l56r3er3s4', 2, e'	Change List to completely avoid going through the GC
	allocator. 3.6% performance improvement on JavaScript iBench.

        * kjs/internal.cpp:
        (InterpreterImp::mark): Don\'t mark the empty list.

	For all the methods below I basically lifted the ListImp version
	up to the List method with minor tweaks.

        * kjs/types.cpp:
        (ListIterator::ListIterator):
        (List::List):
        (List::operator=):
        (List::~List):
        (List::mark):
        (List::append):
        (List::prepend):
        (List::appendList):
        (List::prependList):
        (List::removeFirst):
        (List::removeLast):
        (List::remove):
        (List::clear):
        (List::clearInternal):
        (List::copy):
        (List::begin):
        (List::end):
        (List::isEmpty):
        (List::size):
        (List::at):
        (List::operator[]):
        (List::empty):
        (List::erase):
        (List::refAll):
        (List::derefAll):
        (List::swap):
        (List::globalClear):
        * kjs/types.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2748 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-19 06:20:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3020a4c5e5d8f523c7353e7f31748f82bd547032');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xg01l5tnfmqtw8', 2, e'	Fixed a horrible leak introduced with my last change that
	somehow did not show up on my machine.

        * kjs/types.cpp:
        (List::List): Mark ListImp as GC allowed.


git-svn-id: svn://svn.chromium.org/blink/trunk@2747 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-19 05:07:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/add4c231e1c16705e444a5c975ddb717c7b8f027');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xh01l5olouzavf', 2, e'	Fix crazyapplerumors.com.  I had the logic backwards. CSS
	padding beats cellpadding.

        * khtml/rendering/render_table.cpp:
        (RenderTableCell::paddingTop):
        (RenderTableCell::paddingBottom):
        (RenderTableCell::paddingLeft):
        (RenderTableCell::paddingRight):


git-svn-id: svn://svn.chromium.org/blink/trunk@2746 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-19 03:05:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c3a598365713dae99ffc36f42166a1c0070cd082');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xi01l5afcg9q2n', 2, e'	Fix crash on espn.com.

        * khtml/rendering/render_object.cpp:
        (RenderObject::setLayouted):


git-svn-id: svn://svn.chromium.org/blink/trunk@2745 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-19 02:33:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/76f962e71fa2b62d37896d2b4420ba0db02759c8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xj01l5xht1t395', 2, e'	Another step towards the List conversion: stop inheriting from Value.

        * kjs/types.cpp:
        (ListIterator::ListIterator):
        (List::List):
        (List::operator=):
        (List::~List):
        (List::mark):
        (List::append):
        (List::prepend):
        (List::appendList):
        (List::prependList):
        (List::removeFirst):
        (List::removeLast):
        (List::remove):
        (List::clear):
        (List::copy):
        (List::begin):
        (List::end):
        (List::isEmpty):
        (List::size):
        (List::at):
        (List::operator[]):
        * kjs/types.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2744 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-19 02:15:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1d4aade1a83d5e5c5d4ed23a247efe82ab5654ca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xk01l5kky5g5gs', 2, e'	Fix my <konqblock> regression on ign.com.

        * khtml/html/htmlparser.cpp:
        (KHTMLParser::insertNode):


git-svn-id: svn://svn.chromium.org/blink/trunk@2743 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-19 02:03:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d247076231ba93281dad80541c3c17ea7a3732f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xl01l5ktu86q4j', 2, e'	Real fix for: 3104183 - Assert loading www.louisvuitton.com

	Since we don\'t consider plug-in content as a subresource, attaching plug-in streams to the datasource has no affect on the loading state of the datasource. Both stopLoading on WebFrame and _stopLoading datasource, would not stop plug-ins streams after the data source was done loading. Because of this, I\'ve decided to not keep a list of plug-in streams attached to the data source and pulled my previous change. To fix this bug, WebBaseResourceHandleDelegate now retains the controller.

        * Plugins.subproj/WebNetscapePluginStream.m:
        (-[WebNetscapePluginStream start]):
        (-[WebNetscapePluginStream cancel]):
        (-[WebNetscapePluginStream handleDidFinishLoading:]):
        (-[WebNetscapePluginStream handle:didFailLoadingWithError:]):
        * WebView.subproj/WebBaseResourceHandleDelegate.h:
        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate _releaseResources]):
        (-[WebBaseResourceHandleDelegate setDataSource:]):
        (-[WebBaseResourceHandleDelegate handle:willSendRequest:]):
        (-[WebBaseResourceHandleDelegate handleDidFinishLoading:]):
        (-[WebBaseResourceHandleDelegate handle:didFailLoadingWithError:]):
        (-[WebBaseResourceHandleDelegate _cancelWithError:]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]):
        (-[WebDataSource _stopLoading]):
        (-[WebDataSource _makeHandleDelegates:deferCallbacks:]):
        (-[WebDataSource _defersCallbacksChanged]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2742 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-19 01:30:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/98f42c4a42a6847d60b6962f4b7bea41316486c5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xm01l5mez6runh', 2, e'JavaScriptCore:

	Partway to removing Value from List. Created a marking List
	variant, used it in place of ListImp.

        * kjs/internal.h: Removed List stuff.
        * kjs/internal.cpp:
        (InterpreterImp::mark): Call appropriate List method to do marking of
	empty ListImp.
        * kjs/object.h:
        * kjs/object.cpp: Use marking List instead of ListImp *.
        * kjs/types.h:
        * kjs/types.cpp:
        (List::List): New boolean needsMarking parameter.
        (List::operator=): Perform trickery related to needsMarking.
        (List::~List): Likewise.
        (List::mark): Mark the ListImp.
        (List::markEmptyList):
	(ListImp::*): Moved here fron internal.cpp, they will be
	integrated into the relevant List methods soon.

WebCore:

        * force-js-clean-timestamp: Rebuild for JSC changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2741 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-19 01:01:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c1ab83f75d26ccf3e83d3274d8eec266b647b71f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xn01l5x1r29n4s', 2, e'	- another string constant discovered that can be optimized

        * kjs/object.h: Add a property name constant for "__proto__".
        * kjs/object.cpp: Define it.
	(ObjectImp::get): Use it.
	(ObjectImp::hasProperty): Use it.

	- prepare to turn PropertyMap into a hash table

        * kjs/object.cpp:
	(ObjectImp::mark): Use the new PropertyMap::mark().
	(ObjectImp::put): Use the new overload of PropertyMap::get().
	(ObjectImp::deleteProperty): Use the new overload of PropertyMap::get().
	(ObjectImp::propList): Use PropertyMap::addEnumerablesToReferenceList().

        * kjs/property_map.h: Remove PropertyMapNode and make all node-related methods private.
	Add mark(), a new overload of get() that returns attributes, a clear() that takes no attributes,
	and addEnumerablesToReferenceList().
        * kjs/property_map.cpp:
	(PropertyMap::get): Added new overload.
	(PropertyMap::clear): Added new overload.
	(PropertyMap::mark): Added.
	(PropertyMap::addEnumerablesToReferenceList): Added.

        * kjs/ustring.h: Added a hash function.
        * kjs/ustring.cpp: (KJS::hash): Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2740 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-18 23:43:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/caad18a4eb624cb808584e819fb712cebec81116');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xo01l5wph66k6e', 2, e'        * force-js-clean-timestamp: Touch files to make the build work.


git-svn-id: svn://svn.chromium.org/blink/trunk@2739 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-18 23:23:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/947dd2a281238ecec3a083f7f7868e17f70661d7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xp01l5z2hwtobu', 2, e'	- simplified the ExecState class, which was showing up in profiles

        Sped up JavaScript iBench by 6%.

        * kjs/interpreter.h: Removed the level of indirection, and made it all inline.
        * kjs/interpreter.cpp: Removed ExecState implementation from here altogether.

	- fixed an oversight in my sort speedup

        * kjs/array_object.h: Add pushUndefinedObjectsToEnd.
        * kjs/array_object.cpp:
        (ArrayInstanceImp::sort): Call pushUndefinedObjectsToEnd.
        (ArrayInstanceImp::pushUndefinedObjectsToEnd): Added.
	Pushes all undefined to the end of the array.


git-svn-id: svn://svn.chromium.org/blink/trunk@2738 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-18 22:49:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fa5a9a509eb6545b7e0e9043b8e650fe8c020ade');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xq01l5rjwujf4r', 2, e'	Fixed: 3104183 - Assert loading www.louisvuitton.com

	We need to treat plug-in streams like subresources except they don\'t change the loading state of the data source.

        * Plugins.subproj/WebNetscapePluginStream.m:
        (-[WebNetscapePluginStream start]): call _addPluginStream
        (-[WebNetscapePluginStream cancel]): call _removePluginStream
        (-[WebNetscapePluginStream handleDidFinishLoading:]): call _removePluginStream
        (-[WebNetscapePluginStream handle:didFailLoadingWithError:]): call _removePluginStream
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): release pluginStreams
        (-[WebDataSource _addPluginStream:]): just like addSubresourceClient except don\'t change the loading state.
        (-[WebDataSource _removePluginStream:]): just like removeSubresourceClient except don\'t change the loading state.
        (-[WebDataSource _stopLoading]): stop plug-ins streams
        (-[WebDataSource _makeHandleDelegates:deferCallbacks:]):
        (-[WebDataSource _defersCallbacksChanged]): call _makeHandleDelegates:deferCallbacks: for subresources and plug-in streams.


git-svn-id: svn://svn.chromium.org/blink/trunk@2737 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-18 22:22:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/40ec627e93ec57f78a544cd331a8731fd878b345');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xr01l5s3sd6zcq', 2, e'	- fix worst speed problems on the sort page of the iBench JavaScript test

	Sped up JavaScript iBench by 70%, the sort page by 88%.

        * kjs/array_object.h: Add array-specific sort functions.
        * kjs/array_object.cpp:
        (compareByStringForQSort): Added.
        (ArrayInstanceImp::sort): Added.
        (compareWithCompareFunctionForQSort): Added.
        (ArrayProtoFuncImp::call): Use ArrayInstanceImp::sort if the object being
	sorted is actually an array.

        * kjs/object.h: Add argumentsPropertyName.
        * kjs/object.cpp: Add argumentsPropertyName.
        * kjs/function.cpp:
        (FunctionImp::FunctionImp): Use argumentsPropertyName to avoid making a UString.
        (FunctionImp::call): Ditto.
        (ActivationImp::ActivationImp): Ditto.
        * kjs/function_object.cpp: (FunctionObjectImp::construct): Ditto.

        * kjs/ustring.h: Added compare function for -1/0/+1 comparison.
        * kjs/ustring.cpp: (KJS::compare): Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2736 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-18 21:55:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9e1b62b05ba81980c9d47fbb04c27ef09e766a4f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xs01l5hgn71sq3', 2, e'	Change ArgumentListNode operations to be iterative instead of
	recursive. This probably fixes 3095446 (Crash in
	KJS::ArgumentListNode::ref()) but I can\'t reproduce it myself so
	I\'m not 100% sure. I think the original bug was a stack overflow
	and this change would remove that possibility.

        * kjs/nodes.cpp:
        (ArgumentListNode::ref): Make iterative.
        (ArgumentListNode::deref): Make iterative.
        (ArgumentListNode::evaluateList): Make iterative.


git-svn-id: svn://svn.chromium.org/blink/trunk@2735 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-18 21:45:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/834d1ca467b82f26f051f51b5d79858f424dd370');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xt01l5c0j1t7ns', 2, e'        Fixed 3103004.  REGRESSION: word-spacing/letter-spacing applied when they shouldn\'t be
        This was actually NOT a regression.  khtml wasn\'t recognizing the \'normal\' value for the
        word and letter spacing properties.  So it incorrectly substituted a -1 spacing.

        * khtml/css/cssstyleselector.cpp:


git-svn-id: svn://svn.chromium.org/blink/trunk@2734 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-18 20:30:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73391ff047614251289defe010d9f8e866a3403d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xu01l54hni2wf1', 2, e'	Fix render_body\'s repaint method.

        * khtml/rendering/render_body.cpp:
        (RenderBody::repaint):
        * khtml/rendering/render_body.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2733 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-18 20:14:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/107da9000ca0dea408d1d2829ba7f11f453e3ab5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xv01l57mfmtr93', 2, e'        Check for usesBackForwardList was excluding all load types.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2732 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-18 19:52:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c1b56691dcf3c2ae69ae13aae4a036a66da24f85');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xw01l53r5ipbjm', 2, e'	Fixed: 3098767 - REGRESSION: standalone quicktime content just shows blank window

	Check the instance not the class for the class type.

        * Plugins.subproj/WebNetscapePluginRepresentation.m:
        (-[WebNetscapePluginRepresentation receivedData:withDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2731 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-18 19:31:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c6c531ad0be174d5aa3ecd06665cc0d980a3efaa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xx01l5ijutuzka', 2, e'WebKit:

	Added feature to import bookmarks/favorites from MSIE. This
	fixes Radar 2961230 (import Mac IE bookmarks).

        * Bookmarks.subproj/WebBookmarkImporter.h: Added.
        * Bookmarks.subproj/WebBookmarkImporter.m: Added.
        (_breakStringIntoLines):
        (_HREFRangeFromSpec):
        (_HREFTextFromSpec):
        (_linkTextRangeFromSpec):
        (_linkTextFromSpec):
        (-[WebBookmarkImporter initWithPath:group:]):
        (-[WebBookmarkImporter topBookmark]):
        (-[WebBookmarkImporter error]):
        (-[WebBookmarkImporter dealloc]):
        * Bookmarks.subproj/WebBookmarkList.m:
        (-[WebBookmarkList init]): Create the bookmark list object. This
	was not created with the -init initializer, causing bookmark lists
	to fail.
        * English.lproj/Localizable.strings:
        * English.lproj/StringsNotToBeLocalized.txt:
        * WebKit.exp:
        * WebKit.pbproj/project.pbxproj:

WebBrowser:

	Added calls in Debug menu to import IE Favorites.
	No doubt that this code will move somewhere else once
	we figure out the interaction design for importing
	bookmarks.

        * Debug/DebugUtilities.m:
        (-[DebugUtilities createDebugMenu]):
        (-[BrowserDocument importInteretExplorerBookmarks:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2730 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-11-18 15:52:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8dfcfbe9f2b257d3c42696f365263741a06b7ac5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xy01l5be1iw9zo', 2, e'	- fixed 3103711 - Alexander does not complete JavaScript iBench

        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLDocument::putValue): Resolve URL for location property
	relative to the base URL of the frame where the JavaScript is
	executing, not the target frame.


git-svn-id: svn://svn.chromium.org/blink/trunk@2729 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-18 13:41:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b45c72c0930323a37421a7de493381e89e91ac2f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01xz01l54tdlppvu', 2, e'	Yay! Found the main cause of :hover feedback being so
	slow on links.  The diff function for styles was
	considering a color change as a containing block layout
	instead of just a repaint.  With this fix, we will no
	longer lay out when you hover over a link whose color
	is different (remember that laying out causes the whole
	page to repaint).

	There\'s still some work to do to optimize this further,
	since we do repaint the containing block still, but this
	should be good enough for beta.

        * khtml/rendering/render_style.cpp:
        (RenderStyle::diff):


git-svn-id: svn://svn.chromium.org/blink/trunk@2728 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-18 09:11:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/68d4227bf57d6374135258c8dd6b2da53306bf13');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01y001l56py01676', 2, e'	Don\'t use the immediate painting code for now.  Revert
	to non-immediate code.  Using the non-immediate path I
	have managed to fix all the regressions except for
	mrskin losing updates in its marquee (this works only with
	immediate painting) and the general scrollbar regression
	(which I just don\'t understand).

        * khtml/html/html_documentimpl.cpp:
        (HTMLDocumentImpl::close):
        * khtml/rendering/render_object.cpp:
        (RenderObject::setLayouted):
        * khtml/rendering/render_root.cpp:
        (RenderRoot::repaintRectangle):
        (RenderRoot::repaint):


git-svn-id: svn://svn.chromium.org/blink/trunk@2727 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-18 07:55:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0a7ada40b37e302bd5497cd2dbf07f3ab591aa6e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01y101l5xsntisei', 2, e'	Code cleanup to make some internal methods return autoreleased objects.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _addBackForwardItemClippedAtTarget:]):
        (-[WebFrame _createItem]):
        (-[WebFrame _createItemTreeWithTargetFrame:clippedAtTarget:]):
        (-[WebFrame _transitionToCommitted]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2726 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-11-18 06:47:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bb87592327db96348e386f06b3dd7d228da0687f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnosiu01y201l59hrqqric', 2, e'	Fixed 3102076 - REGRESSION: infinite recursion involving bridge end
	Fixed 3100929 - REGRESSION: serverRedirectedForDataSource: not sent on server redirects
	Fixed 3103381 - REGRESSION: Going back from anchor doesn\'t restore scroll position

        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate handle:willSendRequest:]):  Return the copy of the
	request that we make instead of the original.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]):  Call super after we make our mods
	to the request, so the copy that super makes for us includes those mods.

        * WebView.subproj/WebFramePrivate.h:  Added new state, WebFrameStateCompleting.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToLayoutAcceptable]):  Completing state is a NOP.
        (-[WebFrame _transitionToCommitted]):  Completing state is a NOP.
        (-[WebFrame _isLoadComplete]):  Go to Completing state before calling [bridge end].
	Go to Completed state afterwards, only if no new loads started in the meantime.
        (-[WebFrame _loadItem:fromItem:withLoadType:]):  When doing anchor nav to get to the
	item, save and restore scroll state, and set the current item.
        (-[WebFrame _continueFragmentScrollAfterNavigationPolicy:request:]):
	Reorder the steps so the right scroll state gets saved to the right place.  Also, don\'t
	add a backForward item if we\'re doing a client redirect to an anchor.


git-svn-id: svn://svn.chromium.org/blink/trunk@2725 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-11-18 05:59:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/abf6493e122ba9884a869e9a9674b347d2ab92e1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wf01l5vqe53kjj', 2, e'	More refinements to immediate painting code.  Still doesn\'t
	fix the scrollbar problem though. :(

        * khtml/html/html_documentimpl.cpp:
        (HTMLDocumentImpl::close):
        * khtml/khtmlview.cpp:
        (KHTMLView::init):
        (KHTMLView::timerEvent):


git-svn-id: svn://svn.chromium.org/blink/trunk@2724 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-18 04:59:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cf0b3b8e4eedd61a23fcb53f36046b40f4943b64');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wg01l5qy50wz8z', 2, e'	Make immediate repainting of the root element more robust.

        * khtml/html/html_documentimpl.cpp:
        (HTMLDocumentImpl::close):
        * khtml/khtmlview.cpp:
        (KHTMLView::unscheduleRepaint):
        * khtml/khtmlview.h:
        * khtml/rendering/render_root.cpp:
        (RenderRoot::repaint):


git-svn-id: svn://svn.chromium.org/blink/trunk@2723 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-18 04:01:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ee54ce08a360b45c54da92de6d41f758b0c30d43');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wh01l59mfydcxb', 2, e'	Back out my previous fix.  I have a better one that is
	confined to WebCore.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _isLoadComplete]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2722 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-18 03:37:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/74e390bac2fbae74129b0ae48c3da2af27b4a952');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wi01l54nuppgm9', 2, e'	The needsdisplay is necessary even for HTML documents.
	I over-optimized here.  Fixes the directory.apple.com
	regression and the santa clara library regression.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _isLoadComplete]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2721 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-18 02:02:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e64012ba3dd0f70a0dac59924965e81f234a13ee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wj01l5zrwdtdr3', 2, e'WebCore:

	- moved all NSURL and CFURL use out of WebCore

        * kwq/KWQKURL.h: Remove getNSURL() and getNSURLFromString().
        * kwq/KWQKURL.mm: Ditto.

        * kwq/KWQKCookieJar.mm:
        (KWQKCookieJar::cookie): Pass an NSString instead of an NSURL.
        (KWQKCookieJar::setCookie): Ditto.
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::openURL): Ditto.
        (KWQKHTMLPart::openURLRequest): Ditto.
        (KWQKHTMLPart::submitForm): Ditto.
        (KWQKHTMLPart::urlSelected): Ditto.
        (KWQKHTMLPart::createPart): Ditto.
        (KWQKHTMLPart::redirectionTimerStartedOrStopped): Ditto.
        (KWQKHTMLPart::userAgent): Ditto.
        (KWQKHTMLPart::requestedURLString): Receive an NSString instead of an NSURL.
        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::createNewWindow): Pass an NSString instead of an NSURL.
        (KHTMLPartBrowserExtension::setIconURL): Ditto.
        (KHTMLPartBrowserExtension::setTypedIconURL): Ditto.
        * kwq/KWQKJavaAppletWidget.h: Remove use of NSURL, just use QString instead.
        * kwq/KWQKJavaAppletWidget.mm:
        (KJavaAppletWidget::KJavaAppletWidget): No need to set the QString to nil.
        (KJavaAppletWidget::~KJavaAppletWidget): No need to release the QString.
        (KJavaAppletWidget::showApplet): Pass an NSString instead of an NSURL.
        * kwq/KWQLoader.mm:
        (KWQServeRequest): Pass an NSString instead of an NSURL.
        (KWQCheckCacheObjectStatus): Ditto.
        * kwq/WebCoreBridge.h: Change all methods to use NSString instead of NSURL.
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge openURL:reload:headers:]): Receive an NSString instead of an NSURL.
        (-[WebCoreBridge completeURLForDOMString:]): Return an NSString instead of an NSURL.
        (-[WebCoreBridge elementAtPoint:]): WebCoreElementLinkURL and WebCoreElementImageURL
	are now strings.
        (-[WebCoreBridge URL]): Return an NSString instead of an NSURL.
        * kwq/WebCoreCookieAdapter.h: Change all methods to use NSString instead of NSURL.
        * kwq/WebCoreCookieAdapter.m:
        (-[WebCoreCookieAdapter cookiesForURL:]): Ditto.
        (-[WebCoreCookieAdapter setCookies:forURL:policyBaseURL:]): Ditto.

        * khtml/rendering/render_applet.cpp: (RenderApplet::processArguments):
	Tweaked this file a tiny bit, mainly because header dependencies weren\'t working
	and we need this file to be recompiled due to inline function changes.

WebKit:

	- update for change to WebCore API so it never uses NSURL

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge createWindowWithURL:frameName:]): Take NSString instead of NSURL.
        (-[WebBridge startLoadingResource:withURL:]): Ditto.
        (-[WebBridge objectLoadedFromCacheWithURL:response:size:]): Ditto.
        (-[WebBridge reportClientRedirectToURL:delay:fireDate:]): Ditto.
        (-[WebBridge setIconURL:]): Ditto.
        (-[WebBridge setIconURL:withType:]): Ditto.
        (-[WebBridge loadURL:reload:triggeringEvent:isFormSubmission:]): Ditto.
        (-[WebBridge postWithURL:data:contentType:triggeringEvent:]): Ditto.
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]): Ditto.
        (-[WebBridge userAgentForURL:]): Ditto.
        (-[WebBridge requestedURL]): Return NSString instead of NSURL.
        (-[WebBridge viewForPluginWithURL:attributes:baseURL:MIMEType:]): Take NSString instead of NSURL.
        (-[WebBridge viewForJavaAppletWithFrame:attributes:baseURL:]): Take NSString instead of NSURL.

        * WebCoreSupport.subproj/WebCookieAdapter.m:
        (-[WebCookieAdapter cookiesForURL:]): Take NSString instead of NSURL.
        (-[WebCookieAdapter setCookies:forURL:policyBaseURL:]): Ditto.

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _commitIfReady]): Pass NSString instead of NSURL.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _continueFragmentScrollAfterNavigationPolicy:request:]): Pass NSString instead of NSURL
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]): Turn bridge URL into NSURL so we
	can call _web_URLByRemovingFragment on it.
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _elementAtPoint:]): Convert NSString to NSURL when making the WebKit element dictionary.


git-svn-id: svn://svn.chromium.org/blink/trunk@2720 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-17 21:25:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8c559bfa6642d82b29236d67a28a9f8021c71146');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wk01l5312xi4rj', 2, e'	Add support for specifying whether repaint should be immediate or
	not.  Default to async for now to maintain current behavior.

	For clipped object repainting (e.g., livepage.apple.com and mrskin)
	switch to immediate repainting, since this makes the marquees
	faster, stops dropping updates, and keeps the hover effects and
	painting on the rest of the page fast (since the marquee rect doesn\'t
	get unioned with links or images that you roll over).

        * khtml/rendering/render_box.cpp:
        (RenderBox::repaint):
        (RenderBox::repaintRectangle):
        * khtml/rendering/render_box.h:
        * khtml/rendering/render_html.cpp:
        (RenderHtml::repaint):
        * khtml/rendering/render_html.h:
        * khtml/rendering/render_object.cpp:
        (RenderObject::setLayouted):
        (RenderObject::repaintRectangle):
        * khtml/rendering/render_object.h:
        * khtml/rendering/render_root.cpp:
        (RenderRoot::repaintRectangle):
        (RenderRoot::repaint):
        * khtml/rendering/render_root.h:
        * khtml/rendering/render_table.cpp:
        (RenderTableRow::repaint):
        (RenderTableCell::repaintRectangle):
        (RenderTableCell::repaint):
        * khtml/rendering/render_table.h:
        * khtml/rendering/render_text.cpp:
        (RenderText::repaint):
        * khtml/rendering/render_text.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2719 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-17 20:39:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d8c070a9c1a09d6d0707b23064495ab35712af5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wl01l5e5qtqyyk', 2, e'WebCore:

	- fixed 2949193 - implement onKeyDown, onKeyPress, and onKeyUp event handlers

        * khtml/html/html_formimpl.cpp:
        (HTMLGenericFormElementImpl::defaultEventHandler):
        * kwq/KWQEvent.h:
        * kwq/KWQEvent.mm:
        (QKeyEvent::QKeyEvent): Implemented.
        (QKeyEvent::key): Likewise.
        (QKeyEvent::state): Likewise.
        (QKeyEvent::accept): Likewise.
        (QKeyEvent::ignore): Likewise.
        (QKeyEvent::isAutoRepeat): Likewise.
        (QKeyEvent::text): Likewise.
        (QKeyEvent::ascii): Likewise.
        (QKeyEvent::count): Likewise.
        (QKeyEvent::isAccepted): Likewise.
        * kwq/KWQKHTMLPart.h:
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::keyEvent): Translate the event to a QEvent and send
	it through the DOM event mechanism.
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge interceptKeyEvent:toView:]): Pass event to the
	KWQ part.
	* kwq/WebCoreBridgePrivate.h: Added.
        * WebCore.pbproj/project.pbxproj: Added new file.

WebKit:

	- fixed 2949193 - implement onKeyDown, onKeyPress, and onKeyUp event handlers

        * WebView.subproj/WebHTMLViewPrivate.h:
        * WebView.subproj/WebHTMLViewPrivate.m:
        (+[WebHTMLView load]): Pose as NSWindow too now.
        (-[WebHTMLView _interceptKeyEvent:toView:]): Pass event to WebCore and
	see if WebCore wants to block it.
        (-[WebNSWindow sendEvent:]): For all key events that would go to a
	subview of a WebHTMLView, let the WebHTMLView take a first crack
	at it.


git-svn-id: svn://svn.chromium.org/blink/trunk@2718 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-17 13:52:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/060e2eb791198244fce65c33b4f61287fb9dbf63');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wm01l5a4g2msbk', 2, e'	Don\'t discard linefeeds after elements with no close tag
	(e.g., <img> or <input>).

        * khtml/html/htmltokenizer.cpp:
        (HTMLTokenizer::parseTag):


git-svn-id: svn://svn.chromium.org/blink/trunk@2717 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-17 10:38:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/64e4697f0379089f31dbbe6cd4a951a25abfff29');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wn01l56xqsgtkx', 2, e'	Fix for slashdot table mispositioning in the upper right.
	Now that we fixed <td> to set to -konq-center when align="center"
	is specified, the style rules are no longer necessary in
	html4.css (and are in fact harmful).

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@2716 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-17 09:58:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a4832561e75701837de30a654703957fd108fa68');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wo01l55uadqswr', 2, e'	Fix for 3038168.  Duh.  Remember to be case-insensitive when
	checking the type of the <style> attribute.

        * khtml/html/html_headimpl.cpp:
        (HTMLStyleElementImpl::parseAttribute):


git-svn-id: svn://svn.chromium.org/blink/trunk@2715 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-17 09:24:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e10cbd4e390155a3423cb20f67b78de884eb2a7a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wp01l5cix3an8d', 2, e'	This is a fix for bug 3058470.  The bug was that replaced elements
	were computing their min and max widths wrong.  Specifically they
	were not adding in borders and padding!  This means that any image
	with a border around it would potentially break to another line
	too early.

	Once I fixed this for replaced elements I then went in and
	fixed form controls.  I added two APPLE_CHANGES features for
	our form controls.  First I overrode the border/padding functions
	to always return 0 for all form controls, since no Aqua control
	honors border/padding (nor should it).  This fixes the menulist
	at the top of wired.com.

	Second I made sure that certain controls will ignore CSS-specified
	heights and always use their intrinsic heights.  These include
	<select size=1> (combobox), single line text fields, and buttons.
	I allow listboxes and textareas to honor height.

        * khtml/rendering/render_box.cpp:
        (RenderBox::contentWidth):
        (RenderBox::contentHeight):
        (RenderBox::calcWidth):
        (RenderBox::calcHeight):
        * khtml/rendering/render_form.h:
        * khtml/rendering/render_image.h:
        * khtml/rendering/render_object.h:
        * khtml/rendering/render_replaced.cpp:
        (RenderReplaced::calcMinMaxWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@2714 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-17 09:04:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/03f84aae0034b88a82af9b4f7ff05011f41a13b2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wq01l5ggtmhc0x', 2, e'	Fix for 3078240, <pre> should not establish its own text-align,
	but should instead inherit from its parent.

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@2713 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-17 05:15:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2e7d6254d9f214197554ba232851ea651c07e418');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wr01l50w5702f5', 2, e'	Rewrite the calculation of min and max width for <pre>s.  This
	is the second stage of the whitespace rewrite (third stage
	will be to stop morphing newlines).

	This should fix a bunch of bugs, e.g., especially if you ever
	did the following:
	<td><pre><span>foo</span>
	   more text after the newline</pre></td>

	The new code now properly handles building up the correct min/max
	width for the <pre>.

	If anyone recalls seeing any bugs like this, let me know and
	I can close them.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::calcInlineMinMaxWidth):
        * khtml/rendering/render_text.cpp:
        (RenderText::trimmedMinMaxWidth):
        (RenderText::calcMinMaxWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@2712 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-17 03:30:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1a8fca2fd13c713c919c7d7a8337933f15f67f09');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701ws01l5a647lr2g', 2, e'	Fix more edge cases with whitespace handling that caused some
	lines to be too long (and unselectable).

        * khtml/rendering/bidi.cpp:
        (appendRunsForObject):


git-svn-id: svn://svn.chromium.org/blink/trunk@2711 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-17 01:57:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bdd1b9539e4d27f4b2c57071a387338af5b3486f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wt01l5vo9cc7le', 2, e'	Make <caption> error-handling more robust.

	Specifically, handle <tr> and <td> misplaced inside
	<caption>s and still make them be part of the table.

        * khtml/html/htmlparser.cpp:
        (KHTMLParser::insertNode):


git-svn-id: svn://svn.chromium.org/blink/trunk@2710 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-17 01:33:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3cda4dcb25c455838e2225bf0f312606906ef3d5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wu01l5gfrne98d', 2, e'	Implement the collapsing top margin quirk for <body> (the same
	quirk used for table cells) and make sure it works even when the
	<body> has margins of its own.

	Fixes www.eflightpacks.com (the top frame was shoved down because
	the <p> margin didn\'t collapse away).

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2709 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-16 19:57:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0de1475abac193590646861ce162a90eaa05daf7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wv01l5bqyvkj6d', 2, e'	Sigh. Amazingly enough, all other browsers seem to treat
	stray </p>s as <p></p> (Mac IE treats it as <br>, but
	I\'m going with the WinIE/Gecko behavior of <p></p>).

	This fixes bug 3063699.

        * khtml/html/htmlparser.cpp:
        (KHTMLParser::processCloseTag):
        (KHTMLParser::popBlock):


git-svn-id: svn://svn.chromium.org/blink/trunk@2708 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-16 09:20:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd66afce6b8eebdb5cab98c19ce9f359782beaca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701ww01l526lq3hug', 2, e'	Fix for livepage.apple.com slowness.  Ensure that
	clipped regions only paint their own rectangles
	when they or any children inside of them need to
	be reflowed.

	This fix is intended as an interim band-aid for a much
	larger problem (that all of layout doesn\'t just auto-invalidate
	the regions it needs to, and that DHTML doesn\'t have
	specialized behavior to avoid async repainting or even
	relayout when only a repaint is required).

        * khtml/khtmlview.cpp:
        (KHTMLView::timerEvent):
        * khtml/rendering/render_container.cpp:
        (RenderContainer::removeChildNode):
        (RenderContainer::appendChildNode):
        (RenderContainer::insertChildNode):
        (RenderContainer::layout):
        * khtml/rendering/render_object.cpp:
        (RenderObject::setLayouted):
        (RenderObject::scheduleRelayout):
        * khtml/rendering/render_root.cpp:
        (RenderRoot::repaintRectangle):


git-svn-id: svn://svn.chromium.org/blink/trunk@2707 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-16 07:29:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/88cfb9a01229289b44c20e0fb41891b15f63ed5f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wx01l52cc2esqx', 2, e'	Fix the problem where the last lines of paragrpahs were getting
	justified incorrectly.

        * khtml/rendering/bidi.cpp:
        (RenderFlow::findNextLineBreak):


git-svn-id: svn://svn.chromium.org/blink/trunk@2706 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-16 02:23:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9aeeaa340fb21d921f0bb79cdc774cf183d295b5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wy01l58fioyvba', 2, e'	Fix bustage with <nobr> tags.  Inline nowrap elements were
	breaking on images when they shouldn\'t have.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::calcInlineMinMaxWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@2705 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-16 00:09:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a226d952a59d1fc171a4f410826cb77cdf49a7db');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701wz01l5lufgtmxu', 2, e'	Fix for this bug:

	Radar 3102708 (REGRESSION: assertion failure backing up to page)

	KWQCheckCacheObjectStatus did not create an NSURL in a way that
	dealt with the fact that we handle non-NSURL-compliant URL strings.
	I have fixed it so it does, and in the process, factored out
	the code to do it into a new KURL static function (KURL::getNSURLFromString).

        * kwq/KWQKURL.h:
        * kwq/KWQKURL.mm:
        (KURL::getNSURL): Now calls through to KURL::getNSURLFromString
        (KURL::encode_string)
        (KURL::getNSURLFromString): New function to handle NSURL creation
        * kwq/KWQLoader.mm:
        (KWQCheckCacheObjectStatus)


git-svn-id: svn://svn.chromium.org/blink/trunk@2704 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-11-16 00:06:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c846c89cca6cfc30882aa74917520ca922b95e6f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701x001l5sc8sc9qf', 2, e'	Fix asserts in tables.

        * khtml/rendering/render_table.cpp:
        (RenderTableRow::layout):


git-svn-id: svn://svn.chromium.org/blink/trunk@2703 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-15 23:56:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/84b5ca943f5e07b2c8bdc4cff6a990fb20b0f417');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701x101l51vqy157m', 2, e'	- fixed 3079214 -- text/plain page shows up slowly, a few pages at a time

        * WebView.subproj/WebTextView.m:
        (-[WebTextView initWithFrame:]): Remove unneeded setWidthTracksTextView:, because
	that\'s the default.
        (-[WebTextView dataSourceUpdated:]): Replace the thing each time in the RTF case.
        (-[WebTextView viewDidMoveToSuperview]): Here\'s where we resize, but only the width.
	Resizing the height was causing the bug.
        (-[WebTextView layout]): Do nothing.
        (-[WebTextView setAcceptsDrags:]): Update to new name. Since we weren\'t
	importing WebDocument.h, we never noticed that this file got out of sync.
        (-[WebTextView acceptsDrags]): Ditto.
        (-[WebTextView setAcceptsDrops:]): Ditto.
        (-[WebTextView acceptsDrops]): Ditto.

        * WebView.subproj/WebDocument.h: Fix typo. It said setAcceptsDrags: twice.


git-svn-id: svn://svn.chromium.org/blink/trunk@2702 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-15 22:42:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1625ff6b3eff65e9511e0937416778b5f247d0e1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701x201l5znj7h48n', 2, e'	Fix for whitespace regressions that caused text overlapping
	and text spilling.

        * khtml/rendering/bidi.cpp:
        (appendRunsForObject):


git-svn-id: svn://svn.chromium.org/blink/trunk@2701 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-15 22:35:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2347a70c4efc8d6be6e481d7c165ef8e5d864e7a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701x301l5k1ji2zyh', 2, e'	Fix newlines getting stripped out of textareas by not making
	rendertext objects for children of textareas.

        * khtml/rendering/render_form.h:
        * khtml/rendering/render_object.h:
        * khtml/xml/dom_textimpl.cpp:
        (TextImpl::attach):


git-svn-id: svn://svn.chromium.org/blink/trunk@2700 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-15 21:32:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/994a1ab787026a597c04cc7c266034175fbe4149');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701x401l5thj02pu4', 2, e'	Make <form> inside <table> stay inside the <table> but demote
	itself to a leaf.  Then the children of the <form> are treated
	as though they occurred underneath the <table> itself.  Everything
	KHTML does with this is completely wrong but this band-aid should
	hopefully suffice until 1.0.

	Also allowing <input type="hidden"> to be constructed and attached
	under <table>s.  Since they have no render objects this is safe.
	Again, total hack, since CSS2 anonymous table construction should be
	implemented and that would have fixed all this.

	This collection of hacks makes travelocity render correctly on the
	PLT.

        * khtml/css/html4.css:
        * khtml/html/dtd.cpp:
        (DOM::checkChild):
        * khtml/html/html_tableimpl.cpp:
        (HTMLTableElementImpl::addChild):
        * khtml/html/htmlparser.cpp:
        (KHTMLParser::parseToken):
        (KHTMLParser::insertNode):


git-svn-id: svn://svn.chromium.org/blink/trunk@2699 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-15 21:02:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/54a4d3c1632e7bb46186f03055f1fd04cddcd596');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701x501l5iqn52o76', 2, e'	Fix Hixie\'s blog.  Background images can be transparent, so
	if the root\'s color isn\'t valid always do a fixup even if you
	have a valid background image.

        * khtml/rendering/render_html.cpp:
        (RenderHtml::printBoxDecorations):


git-svn-id: svn://svn.chromium.org/blink/trunk@2698 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-15 20:04:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2d5705c653c98a7735bffbef0dd4ecfa048f2ed6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701x601l59hxlmcma', 2, e'        * kwq/KWQWindowWidget.mm: (KWQWindowWidget::setFrameGeometry):
	Oops. Make that display:YES.


git-svn-id: svn://svn.chromium.org/blink/trunk@2697 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-15 19:42:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/797f28a47c5f04ae429658c21617ff45779d7f09');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701x701l5vqgjsy4f', 2, e'	- fixed 3090219 -- Window jumps up and down when loading nikon page

        * kwq/KWQWindowWidget.mm: (KWQWindowWidget::setFrameGeometry):
	Don\'t pass display:NO when resizing the window.


git-svn-id: svn://svn.chromium.org/blink/trunk@2696 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-15 19:14:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9d1240a19014a6056cdddc60dbd608496f6f65c5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnor5701x801l571snzi9r', 2, e'        * WebView.subproj/WebFramePrivate.m: Removed a bunch of tabs and fixed indenting.


git-svn-id: svn://svn.chromium.org/blink/trunk@2695 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-15 18:34:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c091934f7cded9e6c65c732324549c79d9e1c6f4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vl01l5m3hwlo2t', 2, e'	- fixed 3102016 - REGRESSION: Command-clicking on a link can open _two_ windows.

        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setJustOpenedForTargetedLink:]):
        (-[WebDataSource _justOpenedForTargetedLink]):
        * WebView.subproj/WebFrame.m:
        (-[WebFrame findOrCreateFramedNamed:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _continueAfterNavigationPolicy:]):
        (-[WebFrame _loadDataSource:withLoadType:]):
        (-[WebFrame _downloadRequest:toPath:]):
        (-[WebFrame _setJustOpenedForTargetedLink:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2694 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-15 18:30:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/13a146d557a80e0adeb8539ce5829e661d46ecda');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vm01l5qjqljh5t', 2, e'	Remove characters RFC 2396 describes as "unwise" from the
	BadChar character class. This causes them to remain unescaped
	in KURL objects. As a result, some extra escaping needed to
	be added into the getNSURL() function to enable NSURL
	objects to be created using a KURL.

	This enables me to fix this bug:
	Radar 3050437 (Clicking link leads to page with garbled content)

	Note, however, that my fix for 3050437 relies on this bug remaining unfixed:

	Radar 3102332 (Square bracket characters "sneak through" CFURL illegal character checks)

        * kwq/KWQKURL.mm:
        (KURL::getNSURL)


git-svn-id: svn://svn.chromium.org/blink/trunk@2693 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-11-15 18:22:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8577c192213862c57651078d970080e29281b027');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vn01l5aieva8pn', 2, e'        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _checkNavigationPolicyForRequest:dataSource:andCall:withSelector:]):
	Give the listener a slightly longer lifetime, to make this API a bit more foolproof.


git-svn-id: svn://svn.chromium.org/blink/trunk@2692 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-15 17:59:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/391f2d1fff2f27da50e9c66fbabf9abd746c5cc0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vo01l52jrsx28y', 2, e'Tools:

        * Scripts/update-alex-localizable-strings: Fix it so that the line
	numbers in error messages will be accurate.

WebCore:

	- fixed 3027460 -- text areas don\'t have focus rectangles
	- fixed 2937204 -- text areas have solid black borders

        * kwq/KWQSignal.mm: (KWQSignal::disconnect):
	Add a special case so we don\'t hear about finishedParsing all the time.

        * kwq/KWQTextArea.mm:
        (-[KWQTextArea initWithFrame:]): Use a bezel border, not a line border.
        (-[KWQTextArea getCursorPositionAsIndex:inParagraph:]): Fix bug where it would
	return a bogus value for an empty text area.
        (-[KWQTextArea setCursorPositionToIndex:inParagraph:]): Use setSelectedRange:
	ratherr than setMarkedText:selectedRange:.
        (-[KWQTextArea drawRect:]): Draw a focus ring if our text view is first responder.
        (-[KWQTextArea _KWQ_setKeyboardFocusRingNeedsDisplay]): Added.
        (-[KWQTextAreaTextView becomeFirstResponder]): Call _KWQ_setKeyboardFocusRingNeedsDisplay.
        (-[KWQTextAreaTextView resignFirstResponder]): Call _KWQ_setKeyboardFocusRingNeedsDisplay.
        (-[NSView _KWQ_setKeyboardFocusRingNeedsDisplay]): Calls the same thing on parent.

        * WebCore.pbproj/project.pbxproj: PB is a cruel master.

WebBrowser:

	- fixed problem I introduced where text would get too close to the right button

        * LocationTextField.m: (-[LocationTextField didShowOrHideRightButton]):
	Add back logic to adjust the right border. I removed this because it was incompatible
	with my changes, but now I made a new compatible version by adding a new method.

        * TextFieldWithControls.h: Rename showRightButton: to setIsShowingRightButton:,
	and added isShowingRightButton, and didShowOrHideRightButton methods.
        * TextFieldWithControls.m:
        (-[TextFieldWithControls isShowingRightButton]): Added.
        (-[TextFieldWithControls didShowOrHideRightButton]): Added.
        (-[TextFieldWithControls setIsShowingRightButton:]): Call didShowOrHideRightButton at
	the right moment so we can properly respond to any changes it makes to the cell.

        * BrowserWindowController.m: (-[BrowserWindowController updateSnapBackButtons]):
	Update for method name change.

        * WebBrowser.pbproj/project.pbxproj: PB is a cruel master.


git-svn-id: svn://svn.chromium.org/blink/trunk@2691 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-15 16:46:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a2a01ad254354e9a412492aea72275cca6974d14');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vp01l52yp8x2nh', 2, e'	Fix world leak I introduced, and also add an early return when needed.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _invalidatePendingPolicyDecisionCallingDefaultAction:]):
        (-[WebFrame _checkNavigationPolicyForRequest:dataSource:andCall:withSelector:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2690 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-15 16:40:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ffd3a0514fca77440e5d363a049eb6c771fbd795');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vq01l566dxe2e4', 2, e'        * khtml/html/html_formimpl.cpp:
        (HTMLInputElementImpl::attach): Removed a stray printf.


git-svn-id: svn://svn.chromium.org/blink/trunk@2689 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-15 15:11:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/020cdfd4c31512d5ba64c4a244ebe0f9a7fb23f3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vr01l5hd5u54os', 2, e'WebKit:

	Make navigation policy asynchronous for real.

        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebControllerPolicyDelegate.m:
        (-[WebPolicyDecisionListenerPrivate initWithTarget:action:]):
        (-[WebPolicyDecisionListenerPrivate dealloc]):
        (-[WebPolicyDecisionListener usePolicy:]):
        (-[WebPolicyDecisionListener _initWithTarget:action:]):
        (-[WebPolicyDecisionListener dealloc]):
        (-[WebPolicyDecisionListener _invalidate]):
        * WebView.subproj/WebControllerPolicyDelegatePrivate.h: Added.
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (-[WebDefaultPolicyDelegate decideNavigationPolicyForAction:andRequest:inFrame:decisionListener:]):
        * WebView.subproj/WebFrame.m:
        (-[WebFrame stopLoading]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate dealloc]):
        (-[WebFrame _invalidatePendingPolicyDecisionCallingDefaultAction:]):
        (-[WebFrame _checkNavigationPolicyForRequest:dataSource:andCall:withSelector:]):
        (-[WebFrame _continueAfterNavigationPolicy:]):
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]):
        (-[WebFrame _loadDataSource:withLoadType:]):

WebBrowser:

	Make navigation policy asynchronous.

        * BrowserWebController.m:
        (-[BrowserWebController decideNavigationPolicyForAction:andRequest:inFrame:decisionListener:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2688 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-15 13:40:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4bfb1550d14ff49a628e43107f04ade32ac009cf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vs01l57om1unjv', 2, e'	Wrap content policy invocation to look asynchronous.

        * WebView.subproj/WebBaseResourceHandleDelegate.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient continueAfterContentPolicy:response:]):
        (-[WebMainResourceClient checkContentPolicyForResponse:andCallSelector:]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2687 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-15 11:33:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d2c111230a19ccb15980b838e46132526b088b5d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vt01l5gosr9ejk', 2, e'	Refactor so that all invocations of navigation policy are set up
	to be asynchronous. However, the actually delegate method is not
	async yet.

        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _checkNavigationPolicyForRequest:dataSource:andCall:withSelector:]):
        (-[WebFrame _continueFragmentScrollAfterNavigationPolicy:request:]):
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]):
        (-[WebFrame _continueLoadRequestAfterNavigationPolicy:request:]):
        (-[WebFrame _loadDataSource:withLoadType:]):
        * WebView.subproj/WebMainResourceClient.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient stopLoadingForPolicyChange]):
        (-[WebMainResourceClient continueAfterNavigationPolicy:request:]):
        (-[WebMainResourceClient handle:willSendRequest:]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2686 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-15 10:48:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1bbfe360901dfefee0a823c5267623758d05a9a7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vu01l5hi4eq571', 2, e'WebCore:

	- fixed most of the problems with OPTGROUP

        * khtml/html/htmlparser.cpp: (KHTMLParser::insertNode):
	Make OPTGROUPs pop out of other unclosed OPTGROUPs, not just out of options.

        * kwq/KWQListBox.h: Add private member function.
        * kwq/KWQListBox.mm:
        (QListBox::insertItem): Use shared insertItem function.
        (QListBox::insertGroupLabel): Create an attributed string for the group label,
	with bold font.
        (-[KWQListBoxTableViewDelegate tableView:shouldSelectRow:]): Return YES only
	for the plain strings, that way you can\'t select the group labels.

        * WebCore.pbproj/project.pbxproj: Let PB do its thing.

WebBrowser:

        * BrowserDocument.h: Remove unused BrowserDocumentPageTitleChangedNotification.
        * BrowserDocument.m:
        (-[BrowserDocument _pageTitleHasChanged]): Remove unused notification.
        (-[BrowserDocument goToBugReportingPage:]): Escape URL so it works in the form parameters.

        * PoofAnimator.m: (-[PoofAnimator init]): Remove use of private _setHasShadow:
	which is just the same thing as the public setHasShadow:.

        * BrowserWindowController.m: Tweak formatting.
        * Preferences.subproj/GeneralPreferences.m: Tweak.

        * WebBrowser.pbproj/project.pbxproj: Let PB do its thing.


git-svn-id: svn://svn.chromium.org/blink/trunk@2685 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-15 06:08:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e7470f0d29bcc8ed895cba9f852a4d0c00787ab6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vv01l5662x1m8e', 2, e'	Refactor things a bit so all loads bottleneck through a single
	method (_loadDataSource:withLoadType:).

        * WebView.subproj/WebFrame.m:
        (-[WebFrame loadRequest:]):
        (-[WebFrame reload]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _loadItem:fromItem:withLoadType:]):
        (-[WebFrame _loadRequest:triggeringAction:loadType:]):
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]):
        (-[WebFrame _postWithURL:data:contentType:triggeringEvent:]):
        (-[WebFrame _reloadAllowingStaleDataWithOverrideEncoding:]):
        (-[WebFrame _loadDataSource:withLoadType:]):
        (-[WebFrame _downloadRequest:toPath:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2684 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-15 05:48:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/02d48bed801c6ddda1d0e0271d1cd736f172851d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vw01l5requ2tqd', 2, e'WebKit:

	Change things so the public interface to loading is loadRequest:
	and everything else is private.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]):
        * Plugins.subproj/WebPluginController.m:
        (-[WebPluginController showURL:inFrame:]):
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController init]):
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _createFrameNamed:inParent:allowsScrolling:]):
        (-[WebController _downloadURL:toPath:]):
        * WebView.subproj/WebFrame.h:
        * WebView.subproj/WebFrame.m:
        (-[WebFrame init]):
        (-[WebFrame initWithName:webView:controller:]):
        (-[WebFrame loadRequest:]):
        (-[WebFrame reload]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _timedLayout:]):
        (-[WebFrame _clearProvisionalDataSource]):
        (-[WebFrame _loadItem:fromItem:withLoadType:]):
        (-[WebFrame _loadRequest:triggeringAction:]):
        (-[WebFrame _reloadAllowingStaleDataWithOverrideEncoding:]):
        (-[WebFrame _itemForRestoringDocState]):
        (-[WebFrame _setProvisionalDataSource:]):
        (-[WebFrame _startLoading]):
        (-[WebFrame _downloadRequest:toPath:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]):
        (-[WebMainResourceClient stopLoadingAfterContentPolicy]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):
        * WebView.subproj/WebView.m:
        (-[WebView concludeDragOperation:]):

WebBrowser:

	Change things so the public interface to loading is loadRequest:
	and everything else is private.

        * BrowserDocument.m:
        (-[BrowserDocument goToRequest:]):
        * BrowserWebController.m:
        (-[BrowserWebController initWithBrowserDocument:]):
        * Debug/SnippetController.h:
        * Debug/SnippetController.m:
        (-[SnippetController dealloc]):
        (-[SnippetController windowWillClose:]):
        (-[SnippetController load]):
        (-[SnippetController loadComplete]):
        (-[SnippetController mainDataSource]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2683 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-15 04:23:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c79cfa530688f60883605c509f3776ece558943a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vx01l5em7wo969', 2, e'	Fix spinner.com mislayout on the PLT.  Make sure
	<input type=image> honors the width attribute and
	make sure that its render object calls updateFromElement.

        * khtml/html/html_formimpl.cpp:
        (HTMLInputElementImpl::parseAttribute):
        (HTMLInputElementImpl::attach):


git-svn-id: svn://svn.chromium.org/blink/trunk@2682 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-15 02:23:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/89918cec77c1e23fe708b375c1e25b6aa6b1a64a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vy01l50dt0ahb6', 2, e'	Move text measurement and layout beyond onload.  This
	shoudl speed up i-bench substantially and morrison\'s
	PLT test slightly.  Note that the adjustFrames layout
	stuff has been removed from isLoadComplete.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _timedLayout:]):
        (-[WebFrame _isLoadComplete]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2681 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-15 00:04:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4c724ee6b459fbc9bac8f95dd3cde76c72d1f993');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01vz01l5da8y4cha', 2, e'	Move text measurement and layout beyond onload.  This
	shoudl speed up i-bench substantially and morrison\'s
	PLT test slightly.

	Also allow <table>s as children of <p> and <h1>-<h6>.
	This fixes floats on slashdot.org (the left side) and
	the floating tables in articles on wired.com.

        * khtml/html/dtd.cpp:
        (DOM::checkChild):
        * khtml/html/html_documentimpl.cpp:
        (HTMLDocumentImpl::HTMLDocumentImpl):
        (HTMLDocumentImpl::close):
        * khtml/html/html_documentimpl.h:
        * khtml/html/htmlparser.cpp:
        (KHTMLParser::insertNode):


git-svn-id: svn://svn.chromium.org/blink/trunk@2680 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-14 23:57:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/85bc23ff881e52b3755dc6a3b2c36d5fe3f2d427');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01w001l5e6otjmu0', 2, e'        Fixed 3099505.  With the recent white space changes, multiple slaves may
        be created for contiguous text on the same line.  The fix changes the
        iteration order of over the slave array.  Now, when searching for the end
        point of a line we\'ll always find the last slave on a line first.

        * khtml/khtml_part.cpp:
        (lastSlaveAt):


git-svn-id: svn://svn.chromium.org/blink/trunk@2679 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-14 21:46:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c604836a5c6fb4df13c95d3d980d3046e9a04cc0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01w101l5inwdkw53', 2, e'	- fixed 3095854 -- small select boxes get no scrollbar

        * kwq/KWQListBox.mm: (QListBox::sizeForNumberOfLines):
	Always use a minimum of 4 lines.


git-svn-id: svn://svn.chromium.org/blink/trunk@2678 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-14 19:37:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/944d67d2b8b2f858ae24d4cebf8dcd2661eb2370');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01w201l5a2xxyxoq', 2, e'WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.

WebKit:

        * English.lproj/Localizable.strings: Updated to include the new
	error messages that Maciej just added. I wonder what effect this
	will have if we see those errors in Alex-32?


git-svn-id: svn://svn.chromium.org/blink/trunk@2677 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-14 19:19:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8cf1b123d0e01174f8b90aa4b105506b5d47ac14');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01w301l5htp4svsb', 2, e'Alex-32 stamp


git-svn-id: svn://svn.chromium.org/blink/trunk@2675 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-11-14 18:51:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0ea68dd055119a73d322091a0e59e30778f86f74');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01w401l557g3tjmp', 2, e'	- fixed 3101243 -- excite passes date that can\'t be parsed, results in bogus date at top right corner

        * kjs/date_object.cpp: (KJS::KRFCDate_parseDate): Handle errors from strtol
	by checking errno. Check the "string in a haystack" to be sure it\'s a multiple
	of 3. Add case that allows year to be after time.


git-svn-id: svn://svn.chromium.org/blink/trunk@2674 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-14 18:35:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d88c780af4abbb2d3655d560b9d66f0e0d7ef9b4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01w501l5w8jmekyr', 2, e'	- fixed 3101191 -- REGRESSION: Hang loading excite.com

        * kjs/date_object.cpp:
        (mktimeUsingCF): Pick an arbitrary cutoff of 3000, and return -1 if the
	year passed in is that big so we don\'t infinite loop. Also validate the
	rest of the date with CFGregorianDateIsValid.
        (DateProtoFuncImp::call): Handle a -1 result from mktime.
        (DateObjectImp::construct): Check for NaN before calling mktime, and also
	handle a -1 result from mktime.
        (DateObjectFuncImp::call): Check for NaN before calling mktime, and also
	handle a -1 result from mktime.


git-svn-id: svn://svn.chromium.org/blink/trunk@2673 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-14 18:11:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0312523d46a27005ece2c0ef38202482aecada0d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01w601l512q3o88c', 2, e'* WebView.subproj/WebControllerPolicyDelegate.h:

Added missing semi-colon in definition of WebPolicyDecisionListener to
fix build error.


git-svn-id: svn://svn.chromium.org/blink/trunk@2672 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2002-11-14 14:52:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/92a1dfd5f11793e241a55ccc38f304d5c6fdba62');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01w701l5ub28gokm', 2, e'WebKit:

	Combined file URL policy with content policy. We don\'t actually
	bother to ask earlier for file URLs yet, since that will make
	things more complicated.

        * Misc.subproj/WebKitErrors.h:
        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _handleUnimplementablePolicy:errorCode:forURL:]):
        (-[WebFrame _continueAfterNavigationPolicyForRequest:dataSource:]):
        * WebView.subproj/WebMainResourceClient.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient stopLoadingAfterContentPolicy]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):
        * WebView.subproj/WebView.m:
        (+[WebView initialize]):

WebBrowser:

	Combined file URL policy with content policy. Also adjusted error
	handling to continue to handle file errors well.

        * BrowserWebController.m:
        (-[BrowserWebController unableToImplementPolicy:error:forURL:inFrame:]):
        (-[BrowserWebController contentPolicyForMIMEType:andRequest:inFrame:]):
        * LocationChangeError.m:
        (-[LocationChangeHandler specializedTitleForError:]):
        (-[LocationChangeHandler specializedMessageForError:]):
        * LocationChangeHandler.m:
        (-[LocationChangeHandler locationChangeDone:forDataSource:]):
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2671 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-14 13:18:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6b1c12c2f426236fb4dcf7529c46709c1c8085ab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01w801l550vpasrr', 2, e'WebCore:

	- fixed 3099240 -- REGRESSION: repro assert d->m_doc->parsing

	Don\'t force all redirects to be reloads, because the ones from JavaScript must
	not be. Maybe a better solution post-Alex-32 will be to pass a flag that distinguishes
	redirects from other location changes.

        * khtml/khtml_part.cpp: (KHTMLPart::slotRedirect): Don\'t ignore the anchor when
	comparing URLs to see if they should be a reload. We\'ll still do a reload if the URLs
	are actually equal, but if they differ in anchor we will just go to the anchor.
	This is the bug fix.

        * kwq/WebCoreBridge.h: Add reload parameter.
        * kwq/WebCoreBridge.mm: (-[WebCoreBridge openURL:reload:headers:]): Stuff the reload
	parameter into the URLArgs.

WebKit:

	- fixed 3099240 -- REGRESSION: repro assert d->m_doc->parsing

	Make the reload flag pass across the bridge.

        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _commitIfReady]):
	Pass a reload flag, based on the load type, to the bridge.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]): Pass a
	reload flag of NO in the anchor case. Preserve reload load types even when
	doing client redirects (have to talk with Trey about this tomorrow).


git-svn-id: svn://svn.chromium.org/blink/trunk@2670 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-14 09:13:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/14d215915af9c69be3e1662ba8e91948e9aaf913');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01w901l5gx6e8t9k', 2, e'WebCore:

	- fixed 3100235 -- nil-deference in khtml::RenderTable at money.cnn.com

        * kwq/WebCoreBridge.h: Add needsLayout.
        * kwq/WebCoreBridge.mm: (-[WebCoreBridge needsLayout]): Return true if the render
	tree root says "layouted" is false. It would be more elegant to use more of this
	WebCore layout logic and have less of our own on the WebKit side.

        * WebCore.pbproj/project.pbxproj: Oh, that Project Builder.

WebKit:

	- fixed 3100235 -- nil-deference in khtml::RenderTable at money.cnn.com

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView drawRect:]):
	If the WebCore side needs layout, then do layout before trying to draw.


git-svn-id: svn://svn.chromium.org/blink/trunk@2669 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-14 08:37:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/edc444b71af66f9849ec912aac640eb98e894fcb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01wa01l5xon4s6z6', 2, e'	Fixed client redirects, some more.  The upshot is that they do not
	generate two items in the back-forward list.  iBench still works.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge reportClientRedirectTo:delay:fireDate:]):  Call straight to the frame for all impl.
        (-[WebBridge reportClientRedirectCancelled]):  Call straight to the frame for all impl.
        (-[WebBridge loadURL:reload:triggeringEvent:isFormSubmission:]):
	clientRedirect param removed when sending _loadURL: to frame.
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _loadURL:loadType:triggeringEvent:isFormSubmission:]):
	clientRedirect param  removed. Check our own ivar to know if we are in client redirect case.
        (-[WebFrame _loadURL:intoChild:]):
	clientRedirect param removed when sending _loadURL: .
        (-[WebFrame _clientRedirectedTo:delay:fireDate:]):
	Note that we are doing a redirect if time=0 and we\'re not completed.  Also includes
	previous impl moved from Bridge.
        (-[WebFrame _clientRedirectCancelled]):  Previous impl moved from Bridge.


git-svn-id: svn://svn.chromium.org/blink/trunk@2668 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-11-14 07:24:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/214fc4beed081f62c1b757c804e86ecba4bf5505');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01wb01l54v17v97n', 2, e'	- fixed 3100895 -- REGRESSION: Crash (was assertion) on http://www.w3.org/Style/CSS/

        * khtml/rendering/render_text.h: Add an optional arena parameter to deleteSlaves.
        * khtml/rendering/render_text.cpp:
        (RenderText::detach): Pass the render arena in to deleteSlaves.
        (RenderText::deleteSlaves): Use the passed-in arena.


git-svn-id: svn://svn.chromium.org/blink/trunk@2667 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-14 06:16:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9ca8146c54ca4137612fc0d4812a6d2f160a3781');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01wc01l53f7ikkne', 2, e'WebFoundation:

        * Misc.subproj/WebAssertions.m: (vprintf_stderr_objc):
	Don\'t use displayableString. Makes us able to build on Panther.

        * WebFoundation.pbproj/project.pbxproj: Project Builder wanted to touch this.

WebCore:

	- fixed another crash on http://www.w3.org/Style/CSS/, but still not done

        * khtml/rendering/render_box.cpp: (RenderBox::setStyle): Call renderArena()
	from RenderObject rather than going at the document directly. Safer because
	it works even when we don\'t have a node yet.
        * khtml/rendering/render_flow.cpp: (RenderFlow::addChild): Ditto.
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::paint): Ditto.
        (RenderLayer::nodeAtPoint): Ditto.
        (RenderLayer::constructZTree): Ditto.
        * khtml/rendering/render_list.cpp:
        (RenderListItem::setStyle): Ditto.
        * khtml/rendering/render_text.cpp:
        (RenderText::deleteSlaves): Ditto.
        (RenderText::position): Ditto. This is the one that actually crashed.

        * khtml/misc/makeattrs: Fixed handling of failure case.
        * khtml/misc/maketags: Ditto.

        * WebCore.pbproj/project.pbxproj: Project Builder wanted to touch this.


git-svn-id: svn://svn.chromium.org/blink/trunk@2666 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-14 06:09:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1a072ccbdf13b931366d328ebae499f8cfe6e891');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01wd01l5cng5myl0', 2, e'	- fixed 3100895 -- REGRESSION: Assertion on http://www.w3.org/Style/CSS/

	A few arena-related fixes.

        * khtml/rendering/bidi.h: Don\'t define the operator new without the arena parameter.
	That way, we get a link failure if we use it by accident, rather than an assert at runtime.
	It would be even better to get a compile-time error, but I don\'t know how to make that happen.
        * khtml/rendering/render_layer.h: Ditto.
        * khtml/rendering/render_object.h: Ditto.
        * khtml/rendering/render_text.h: Ditto.

        * khtml/rendering/render_container.cpp:
        (RenderContainer::addChild): Create the RenderTable with the appropriate arena.
        (RenderContainer::insertPseudoChild): Create the RenderFlow objects with the appropriate arena.

        * khtml/rendering/render_text.cpp: (RenderText::deleteSlaves): Don\'t try to get the arena
	when there are no slaves. This can happen after the element is nil, and in that case we will
	do a nil-dereference.


git-svn-id: svn://svn.chromium.org/blink/trunk@2665 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-14 05:11:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5ef5f7f68f5e560ea4acc6015ad4de27608ba560');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnopya01we01l5mhnfg7ra', 2, e'WebCore:

        * kwq/KWQLineEdit.mm: (QLineEdit::sizeForCharacterWidth):
	Use the "0" instead of the "x" as the canonical character for width.
	This is slightly wider and is better for credit card numbers, for example.

        * WebCore.pbproj/project.pbxproj: Tweak.

WebBrowser:

        * English.lproj/StringsNotToBeLocalized.txt: Let the script sort this file.


git-svn-id: svn://svn.chromium.org/blink/trunk@2664 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-14 04:53:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3efa589399195a1fd4e4f2f7a6adc9a0672f8912');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401ur01l5r42lph5h', 2, e'	- fixed 3099930 -- dates/times without time zones are parsed as UTC by kjs,
	local time by other browsers

        * kjs/date_object.cpp:
        (DateProtoFuncImp::call): Handle the NaN case better, like Mozilla and OmniWeb.
        (DateObjectFuncImp::call): Return NaN rather than Undefined() for bad dates.
        (KJS::parseDate): Return NaN rather than Undefined() or 0 for bad dates.
        (KJS::KRFCDate_parseDate): Return -1 rather than 0 for bad dates.
	Assume local time if no time zone is passed. Don\'t return 1 if we parse 0.


git-svn-id: svn://svn.chromium.org/blink/trunk@2663 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-14 04:44:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/483d7aae65652113448723af1c066405290e3dba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401us01l513msmxyb', 2, e'WebKit:

	Pass mime type instead of full response to content policy delegate
	method, in preparation for merging it with the file URL policy.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveResponse:]):

WebBrowser:

	Pass mime type instead of full response to content policy delegate
	method, in preparation for merging it with the file URL policy.

        * BrowserWebController.m:
        (-[BrowserWebController contentPolicyForMIMEType:andRequest:inFrame:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2662 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-14 03:20:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/da8be44277ad0616d02067529f76275b488fdc42');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401ut01l5odtjciz0', 2, e'tiny change made by rjw to fix build breakage


git-svn-id: svn://svn.chromium.org/blink/trunk@2661 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'vicki', '2002-11-13 23:46:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/67ae26503f22e858e4559a98fb9ce86e3c055047');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401uu01l5spd39d7w', 2, e'WebCore:

	- fixed 3083982 -- Logging into AOL gives null view

	Turns out AOL was using a refresh header, which we were not supporting.

        * khtml/khtml_part.h: Declare receivedFirstData, a private member function.
        * khtml/khtml_part.cpp:
        (KHTMLPart::receivedFirstData): Separate out the part of slotData we
	want to share, which really seems kinda separate anyway.
        (KHTMLPart::slotData): More of the same.

        * kwq/KWQKHTMLPart.h: Declare addMetaData.
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::slotData): Call receivedFirstData instead of doing the same
	thing ourselves.
        (KWQKHTMLPart::addMetaData): Added. Puts metadata into the job.

        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::createNewWindow): Fix bug where this was calling
	openURL: but meant to call loadURL:.

        * kwq/WebCoreBridge.h: Add headers to openURL method. Remove setContentType.
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge openURL:withHeaders:]): Handle Content-Type and Refresh.
	This method is big enough that I should probably move the guts to KWQKHTMLPart.

	- other things

        * kwq/KWQListImpl.mm: (KWQListImpl::~KWQListImpl): I overlooked something
	while doing my "bug fix" in here a while back. Change an assignment statement
	to an assert.

WebKit:

	- fixed 3083982 -- Logging into AOL gives null view

	Turns out AOL was using a refresh header, which we were not supporting.

        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _commitIfReady]):
	Call openURL: and pass headers in.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _loadURL:loadType:clientRedirect:triggeringEvent:isFormSubmission:]):
	Pass nil for headers in this case, since we know it\'s just an anchor change.

	- other things

        * WebCoreSupport.subproj/WebBridge.h: Remove dataSourceChanged and dataSource
	methods. We try to keep the bridge methods down to actual bridging.
        * WebCoreSupport.subproj/WebBridge.m: Remove dataSourceChanged altogether,
	and move dataSource up in the file.

        * WebView.subproj/WebHTMLRepresentation.m:
        (-[WebHTMLRepresentation setDataSource:]): Keep the data source around, so we
	don\'t need to ask the bridge for it.
        (-[WebHTMLRepresentation documentSource]): Use it here.


git-svn-id: svn://svn.chromium.org/blink/trunk@2660 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-13 23:32:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/490a4e200eb0d7d8721072c06a7b947aeb9ffb36');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401uv01l5zrld0xi1', 2, e'	Fix for floats. Force relayout if collapsing margins
	have to adjust the position of an object.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2659 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-13 23:01:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dabba2f985333f5471c9bf3ffecb15f7622f8b8b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401uw01l5o7fqxe52', 2, e'	Fixed 3100084 - REGRESSION: web page is not first responder after visiting web page

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _commitIfReady]):  Make the rep before _transitionToCommitted.  This is the way it used to be.
        (-[WebDataSource _makeRepresentation]):  Don\'t make the docView here.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):  Make the docView here, after we save the scroll state but before notifying the delegate.


git-svn-id: svn://svn.chromium.org/blink/trunk@2658 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-11-13 22:13:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/458ad5a319fa60e0069534e5d4108e32aee79f9b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401ux01l5qz2h5u9s', 2, e'	Rewrite cellpadding to not use the style system at all and
	to make table cells just get the padding from the table
	itself (overriding style).

        * khtml/html/html_tableimpl.cpp:
        (HTMLTableElementImpl::HTMLTableElementImpl):
        (HTMLTableElementImpl::attach):
        (HTMLTableElementImpl::parseAttribute):
        (HTMLTableCellElementImpl::init):
        * khtml/html/html_tableimpl.h:
        * khtml/rendering/bidi.cpp:
        (RenderFlow::layoutInlineChildren):
        * khtml/rendering/render_box.cpp:
        (RenderBox::contentWidth):
        (RenderBox::contentHeight):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):
        (RenderFlow::leftOffset):
        (RenderFlow::rightOffset):
        (RenderFlow::calcMinMaxWidth):
        * khtml/rendering/render_object.h:
        * khtml/rendering/render_table.cpp:
        (RenderTable::RenderTable):
        (RenderTableCell::paddingTop):
        (RenderTableCell::paddingBottom):
        (RenderTableCell::paddingLeft):
        (RenderTableCell::paddingRight):
        * khtml/rendering/render_table.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2657 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-13 22:07:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1171d60b85621f4d6a76c157f20ef2ee18f6c75a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401uy01l5ri26v3me', 2, e'	Bump WebCore cache to 4 MB (was 1 MB).

        * khtml/misc/loader.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@2656 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-11-13 21:40:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6d4035833733e338dd05cc8e5ee556059876ea17');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401uz01l52ytg1g9c', 2, e'        - fixed 3073230 -- JavaScript time calls do I/O by lstat()ing /etc/localtime

        * kjs/date_object.cpp:
        (formatDate): Added.
        (formatTime): Added.
        (formatLocaleDate): Added.
        (formatLocaleTime): Added.
        (DateProtoFuncImp::call): Changed to use the above functions instead of
	using strftime.


git-svn-id: svn://svn.chromium.org/blink/trunk@2655 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-13 21:15:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c34f15c2969865c1ff8ef8d1212b0f8bea0ee00d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401v001l5ulo9r1in', 2, e'	- fixed 3100013 -- REGRESSION: Can\'t get results from i-Bench anymore

        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _isLoadComplete]):
	Don\'t set the state to WebFrameStateComplete if it has already been set
	to WebFrameStateProvisional. If it has, that means we already began a new
	load; that one is not yet complete.


git-svn-id: svn://svn.chromium.org/blink/trunk@2654 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-13 18:30:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6af85d0997bdeb4da2e01f5445d09a410e13f01d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401v101l5ds5jnniv', 2, e' 2002-11-13  John Sullivan  <sullivan@apple.com>

	- fixed 3099922 -- REGRESSION: Back button always pops up menu

        * Misc.subproj/WebNSViewExtras.h:
        * Misc.subproj/WebNSViewExtras.m:
        (-[NSView _web_dragShouldBeginFromMouseDown:withExpiration:xHysteresis:yHysteresis:]:
	Fixed a copy/paste error I made yesterday -- this method was never
	noticing the mouse-up events because it was checking the event type
	against the wrong number. Also changed the hysteresis values from
	unsigneds to floats (unsigned was just wrong).


git-svn-id: svn://svn.chromium.org/blink/trunk@2653 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-11-13 17:17:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/68e65bc009a4b43105f9b553f4efea3e925b012c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401v201l5d6cfbueg', 2, e'WebCore:

	- fixed 3050447 - Policy handlers have no way of telling client
	that the proposed navigation is a form post

        * khtml/khtml_part.cpp:
        (KHTMLPart::submitForm): Call kwq->submitForm
        * kwq/KWQKHTMLPart.h:
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::openURL): Adjusted for bridge API change.
        (KWQKHTMLPart::openURLRequest): Removed POST handling.
	(KWQKHTMLPart::submitForm): Added this back, because we need to
	know what URL navigations are caused by form submission, even if
	they are not POSTs.
        (KWQKHTMLPart::urlSelected): Adjusted for bridge API change.
        * kwq/WebCoreBridge.h: Add triggeringEvent: parameter to postURL:
	and isFormSubmission: parameter to loadURL:.

WebKit:

	- fixed 3050447 - Policy handlers have no way of telling client
	that the proposed navigation is a form post

	Now we pass form submissions through all the normal policy steps.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge loadURL:reload:triggeringEvent:isFormSubmission:]):
        (-[WebBridge postWithURL:data:contentType:triggeringEvent:]):
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]):
        (-[WebDataSource _setTriggeringAction:]):
        (-[WebDataSource _triggeringAction]):
        (-[WebDataSource _lastCheckedRequest]):
        (-[WebDataSource _setLastCheckedRequest:]):
        * WebView.subproj/WebFrame.m:
        (-[WebFrame setProvisionalDataSource:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _shouldShowRequest:]):
        (-[WebFrame _loadRequest:triggeringAction:]):
        (-[WebFrame _actionInformationForNavigationType:event:]):
        (-[WebFrame _continueAfterNavigationPolicyForRequest:dataSource:]):
        (-[WebFrame _loadURL:loadType:clientRedirect:triggeringEvent:isFormSubmission:]):
        (-[WebFrame _loadURL:intoChild:]):
        (-[WebFrame _postWithURL:data:contentType:triggeringEvent:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2652 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-13 10:56:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/126c8a27aa32c803c097c26ad81341e3819ad05b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401v301l5adx0himq', 2, e'WebKit:

	Combine click policy and URL policy into navigation policy.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (-[WebDefaultPolicyDelegate navigationPolicyForAction:andRequest:inFrame:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _shouldShowRequest:]):
        (-[WebFrame _actionInformationForNavigationType:event:]):
        (-[WebFrame _continueAfterFileURLPolicyForRequest:]):
        (-[WebFrame _continueAfterNavigationPolicyForRequest:event:]):
        (-[WebFrame _loadURL:loadType:clientRedirect:triggeringEvent:]):

WebBrowser:

	Combined click policy and URL policy into navigation policy.

        * BrowserDocument.m:
        (-[BrowserDocument goToRequest:]):
        * BrowserWebController.m:
        (-[BrowserWebController navigationPolicyForAction:andRequest:inFrame:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2651 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-13 04:52:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/37505704fdc46ac2767a9533e98bd2aa0e02eab4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401v401l5f8s32g27', 2, e'	Fix for 3032869, the background image for the body was being
	propagated up to the root properly but was not being tiled over
	the whole canvas.

        * khtml/rendering/render_box.cpp:
        (RenderBox::printBackground):
        * khtml/rendering/render_html.cpp:
        (RenderHtml::printBoxDecorations):


git-svn-id: svn://svn.chromium.org/blink/trunk@2650 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-13 03:24:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aacf6215c9af705b9cfb2a536400388dfc25151f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401v501l5gpcx6x5k', 2, e'	fixed 3096030 - Crash in -[WebBackForwardList goToEntry:] when playing with SnapBack and dictionary.com

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _isLoadComplete]):  Set state=completed only after we tell the bridge to
	end the load.  This allows client redirects to be processed before we think we\'re complete.
        (-[WebFrame _loadURL:loadType:clientRedirect:triggeringEvent:]):
	Only process client redirects as such if we are not already complete.  This makes JS driven
	navigations after load-time work like the user would expect, as normal navigations.


git-svn-id: svn://svn.chromium.org/blink/trunk@2649 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-11-13 02:20:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5aeb8246a8b73d718402e41ebae93a9baa8d40d5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401v601l55rh9ucmo', 2, e'	Fix the top of moveabletype.org.  The maxwidth/minwidth
	calculation for blocks with inline content did not properly
	deal with margins and padding on inline elements like <a>.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::calcInlineMinMaxWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@2648 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-13 02:15:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0fc4ab2a142f6fadb8969b6ea3f97db9a5651680');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401v701l5kfbf7c5g', 2, e'	Fix for 2953367, padding is incorrectly inherited into table cells
	and also incorrectly overrides cellpadding on the table itself.
	Fixes dailyf1.com.

        * khtml/css/html4.css:
        * khtml/html/html_tableimpl.cpp:
        (HTMLTableElementImpl::parseAttribute):
        (HTMLTableCellElementImpl::init):
        * khtml/html/html_tableimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2647 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-13 01:59:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0f3033a9930d0dc04358473905c4607b7bf62800');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401v801l5f5gewifq', 2, e'	- fixed 3099487 - REGRESSION: dragging an image always puts it in
	the download directory

        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _downloadURL:]): Call _downloadURL:toPath: with nil path.
	(-[WebController _downloadURL:toPath:]): New method that
	predetermines the path to download to (needed for DnD).
        * WebView.subproj/WebHTMLView.m:
	(-[WebHTMLView namesOfPromisedFilesDroppedAtDestination:]): Use
	_downloadURL:toPath:
        * WebView.subproj/WebImageView.m:
	(-[WebImageView namesOfPromisedFilesDroppedAtDestination:]): Use
	_downloadURL:toPath:
        * WebView.subproj/WebMainResourceClient.m:
	(-[WebMainResourceClient handle:didReceiveResponse:]): Don\'t ask
	delegate for download path if we already have one.


git-svn-id: svn://svn.chromium.org/blink/trunk@2646 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-13 01:56:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6a894641f9898723044eddd84b7a4147ecd21675');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401v901l5be2qchr0', 2, e'        Fixed likely cause of 3099047 (and others).  Width buffer could underrun in
        some situations.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:letterSpacing:wordSpacing:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2645 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-13 01:49:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3cfb6344856bd46ee0d567dbc9c4c88515a8a3ae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401va01l5xhir3ae9', 2, e'	For now make text/xml files use HTML parsing/documents.
	This avoids the infinite loop we get into when loading
	text/xml.  If/when we finally support XML, we can undo
	this change.

        * khtml/khtml_part.cpp:
        (KHTMLPart::begin):


git-svn-id: svn://svn.chromium.org/blink/trunk@2644 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-13 01:33:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/61560cf2f229b12d3af27a22f842885d3087b04e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401vb01l574gy9oyz', 2, e'	Fix for 3086321, stylesheets not loading if titles are
	specified.  Note that 4 of the pages on the PLT were
	affected by this, so I fully expect a slight performance
	degradation (the boost from the regression was artificial).

        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::recalcStyleSelector):


git-svn-id: svn://svn.chromium.org/blink/trunk@2643 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-13 01:28:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b8e22643687695f0413c57fef79f1641d6453082');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401vc01l5n5n9bgeb', 2, e'WebKit:

        * Misc.subproj/WebNSViewExtras.h:
        * Misc.subproj/WebNSViewExtras.m:
        (-[NSView _web_dragShouldBeginFromMouseDown:withExpiration:xHysteresis:yHysteresis:]):
	new method
        (-[NSView _web_dragShouldBeginFromMouseDown:withExpiration:]):
	now calls the new method, passing the default hysteresis values

WebBrowser:

	- fixed 3096528 -- don\'t let initially-horizontal drags of
	toolbar bookmarks escape from toolbar

	Unfortunately I left behind a drawing glitch, recorded as
	bug 3099488. Ideas to fix this are hereby solicited.

        * FavoritesBar.m:
        (-[FavoritesBar slideButtonsIntoPlace]):
	renamed from repositionButtons for clarity
        (-[FavoritesBar maxButtonX]):
	new method, extracted from _layOutButtons
        (-[FavoritesBar _layOutButtons]):
	now calls maxButtonX
        (-[FavoritesBar setDropIndex:]):
	updated for name change
        (-[FavoritesBar specialBookmarkSourcesCount]):
	new method, extracted from duplicated code
        (-[FavoritesBar lastNonFavoriteIndex]):
	new method, extracted from dropIndexFromDraggingInfo:
        (-[FavoritesBar dropIndexFromLocalPoint:]):
	new method, extracted from dropIndexFromDraggingInfo:
        (-[FavoritesBar dropIndexFromDraggingInfo:]):
	now calls dropIndexFromLocalPoint:
        (-[FavoritesBar addDroppedBookmarks:atIndex:]):
	new method, extracted from performDragOperation:
        (-[FavoritesBar performDragOperation:]):
	now calls addDroppedBookmarks:atIndex:
        (-[FavoritesBar _lastDraggedEventFollowing:]),
        (-[FavoritesBar _lastDraggedOrUpEventFollowing:]):
	new methods, cribbed from AppKit
        (-[FavoritesBar constrainProposedButtonFrame:]):
	new method
        (-[FavoritesBar reorderFavoriteButton:fromMouseDownEvent:]):
	new method, drags (but not using CoreDragging stuff) button
	horizontally within bar only

        * FavoritesBarView.h:
	added definition of FavoritesBarReorderingDelegate informal protocol
        * FavoritesBarView.m:
        (-[FavoritesBarView reorderFavoriteButton:fromMouseDownEvent:]):
	pass call through to delegate (FavoritesBar)

        * FavoriteButton.m:
        (-[FavoriteButton currentEventOffsetFromEvent:]):
	new method, extracted from performDragFromEvent:
        (-[FavoriteButton performDragFromEvent:]):
	now calls extracted method
        (-[FavoriteButton canDrag]):
	renamed from canDragButton; now checks whether superview is a
	FavoritesBarView
        (-[FavoriteButton mouseDown:]):
	checks whether initial dragging movement was primarily vertical or
	horizontal; if horizontal, calls new reordering code; if vertical,
	uses larger hysteresis to minimize accidental poofing


git-svn-id: svn://svn.chromium.org/blink/trunk@2642 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-11-13 01:27:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3e18ae26f1a7c9011ebd0c0d60b90c0ffa7f9e7d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401vd01l5vvf95vkx', 2, e'        Oops, removed debugging.

        * khtml/rendering/font.cpp:
        (Font::drawText):


git-svn-id: svn://svn.chromium.org/blink/trunk@2641 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-13 01:18:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6c631bbfec0113517e2a0682bbf07a2190013565');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401ve01l5oo7cgqje', 2, e'        Implemented letter-spacing and word-spacing CSS properties.

        * khtml/rendering/font.cpp:
        (Font::drawText):
        (Font::floatWidth):
        (Font::floatCharacterWidths):
        * kwq/KWQFontMetrics.h:
        * kwq/KWQFontMetrics.mm:
        (QFontMetrics::width):
        (QFontMetrics::floatWidth):
        (QFontMetrics::floatCharacterWidths):
        * kwq/KWQPainter.h:
        * kwq/KWQPainter.mm:
        (QPainter::drawText):
        * kwq/WebCoreTextRenderer.h:

        Implemented letter-spacing and word-spacing CSS properties.

        * Misc.subproj/WebStringTruncator.m:
        (+[WebStringTruncator rightTruncateString:toWidth:withFont:]):
        (+[WebStringTruncator centerTruncateString:toWidth:withFont:]):
        * WebCoreSupport.subproj/WebTextRenderer.h:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer widthForCharacters:length:]):
        (-[WebTextRenderer drawCharacters:stringLength:fromCharacterPosition:toCharacterPosition:atPoint:withPadding:withTextColor:backgroundColor:rightToLeft:letterSpacing:wordSpacing:]):
        (-[WebTextRenderer floatWidthForCharacters:stringLength:characterPosition:]):
        (-[WebTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:]):
        (-[WebTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:letterSpacing:wordSpacing:]):
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:letterSpacing:wordSpacing:]):

        Changed to reflect method name change.

        * EtchedStringView.m:
        (-[EtchedStringView drawRect:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2640 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-13 01:07:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/07cc2020d8e557040dd817c3e96685e867bb7b73');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401vf01l5rlwgdms7', 2, e'	Revert floats so that they don\'t use layers any more.
	Floats have to be able to paint in between the background
	and foreground of inlines, so they can\'t have layers.

        * khtml/rendering/render_box.cpp:
        (RenderBox::setStyle):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::printObject):
        (RenderFlow::paintFloats):
        (RenderFlow::addOverHangingFloats):
        (RenderFlow::nodeAtPoint):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::constructZTree):
        * khtml/rendering/render_list.cpp:
        (RenderListItem::printObject):


git-svn-id: svn://svn.chromium.org/blink/trunk@2639 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-13 01:03:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e9a42c2d01ac29d862f8b801a2175c0b58108725');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401vg01l5az9gpzei', 2, e'WebKit:

	Removed policy classes and instead use the policy enums directly,
	since we no longer hold the path in the enum.

        * Downloads.subproj/WebDownloadHandler.m:
        * WebKit.exp:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebControllerPolicyDelegate.m:
        * WebView.subproj/WebControllerPolicyDelegatePrivate.h: Removed.
        * WebView.subproj/WebControllerPrivate.m:
        * WebView.subproj/WebDefaultPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (+[WebDefaultPolicyDelegate defaultURLPolicyForRequest:]):
        (-[WebDefaultPolicyDelegate URLPolicyForRequest:inFrame:]):
        (-[WebDefaultPolicyDelegate fileURLPolicyForMIMEType:andRequest:inFrame:]):
        (-[WebDefaultPolicyDelegate unableToImplementPolicy:error:forURL:inFrame:]):
        (-[WebDefaultPolicyDelegate clickPolicyForAction:andRequest:inFrame:]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame handleUnimplementablePolicy:errorCode:forURL:]):
        (-[WebFrame _shouldShowRequest:]):
        (-[WebFrame _continueAfterClickPolicyForEvent:request:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveResponse:]):

WebBrowser:

	Adjusted for WebKit API changes.

        * BrowserDocument.m:
        (-[BrowserDocument goToRequest:]):
        * BrowserWebController.m:
        (-[BrowserWebController URLPolicyForRequest:inFrame:]):
        (-[BrowserWebController unableToImplementPolicy:error:forURL:inFrame:]):
        (-[BrowserWebController fileURLPolicyForMIMEType:andRequest:inFrame:]):
        (-[BrowserWebController contentPolicyForResponse:andRequest:inFrame:]):
        (-[BrowserWebController clickPolicyForAction:andRequest:inFrame:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2638 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-13 00:54:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b46a354e3592d3f60e23e47e8fe7efca7ad01927');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401vh01l527vyc9cx', 2, e'        * kwq/KWQCursor.mm: (QCursor::QCursor): Use nil instead of [NSCursor arrowCursor].
	This will probably fix the performance regression.


git-svn-id: svn://svn.chromium.org/blink/trunk@2637 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-12 23:24:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/372dc2460b23cda7f1931aeb7f17aff6e983f7ef');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401vi01l5rms75cqt', 2, e'	- fixed 3080250 -- Hands-free crash at wired.com in
	KHTMLPart::slotChildStarted

        * kwq/KWQListImpl.mm:
        (KWQListImpl::~KWQListImpl): Set the node of each iterator to NULL too,
	not just the list. This is the bug fix for the bug above.
        (KWQListIteratorImpl::toFirst): Check for list of NULL.
        (KWQListIteratorImpl::toLast): ditto.

        * kwq/KWQSlot.mm: Tweaks.


git-svn-id: svn://svn.chromium.org/blink/trunk@2636 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-12 22:10:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/96ac18611e31e6feca9600e939f4e37810bba860');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401vj01l5qhcn39rh', 2, e'	This patch lands a rewrite of whitespace-handling in the
	layout engine and adds support for the CSS2 white-space
	property.

	It also includes a rewrite of inlines\' min/max width
	calculations (for both flow inlines and raw text).

	A problem with <form> margins has been fixed (this is a
	regression I caused with my collapsing margin checkin).

        * WebCore.pbproj/project.pbxproj:
        * khtml/css/html4.css:
        * khtml/html/dtd.cpp:
        (DOM::checkChild):
        * khtml/html/html_baseimpl.cpp:
        (HTMLBodyElementImpl::attach):
        (HTMLFrameElementImpl::attach):
        (HTMLFrameSetElementImpl::attach):
        (HTMLHtmlElementImpl::attach):
        (HTMLIFrameElementImpl::attach):
        * khtml/html/html_formimpl.cpp:
        (HTMLFormElementImpl::HTMLFormElementImpl):
        (HTMLInputElementImpl::attach):
        (HTMLSelectElementImpl::attach):
        (HTMLTextAreaElementImpl::attach):
        * khtml/html/html_formimpl.h:
        * khtml/html/html_imageimpl.cpp:
        (HTMLImageElementImpl::attach):
        * khtml/html/html_inlineimpl.cpp:
        (HTMLBRElementImpl::attach):
        * khtml/html/html_objectimpl.cpp:
        (HTMLAppletElementImpl::attach):
        (HTMLEmbedElementImpl::attach):
        (HTMLObjectElementImpl::attach):
        * khtml/html/htmlparser.cpp:
        (KHTMLParser::reset):
        (KHTMLParser::parseToken):
        (KHTMLParser::insertNode):
        (KHTMLParser::popBlock):
        (KHTMLParser::popOneBlock):
        * khtml/html/htmlparser.h:
        * khtml/html/htmltokenizer.cpp:
        (HTMLTokenizer::addPending):
        (HTMLTokenizer::write):
        * khtml/misc/arena.cpp: Added.
        (CeilingLog2):
        (InitArenaPool):
        (ArenaAllocate):
        (ArenaGrow):
        (FreeArenaList):
        (ArenaRelease):
        (FreeArenaPool):
        (FinishArenaPool):
        (ArenaFinish):
        * khtml/misc/arena.h: Added.
        * khtml/rendering/bidi.cpp:
        (BidiIterator::detach):
        (throw):
        (BidiIterator::operator delete):
        (appendRunsForObject):
        (appendRun):
        (RenderFlow::bidiReorderLine):
        (deleteMidpoints):
        (RenderFlow::layoutInlineChildren):
        (RenderFlow::findNextLineBreak):
        * khtml/rendering/bidi.h:
        * khtml/rendering/render_arena.cpp: Added.
        (RenderArena::RenderArena):
        (RenderArena::~RenderArena):
        (RenderArena::allocate):
        (RenderArena::free):
        * khtml/rendering/render_arena.h: Added.
        * khtml/rendering/render_box.cpp:
        (RenderBox::setStyle):
        (RenderBox::~RenderBox):
        (RenderBox::detach):
        * khtml/rendering/render_box.h:
        * khtml/rendering/render_br.cpp:
        (RenderBR::RenderBR):
        * khtml/rendering/render_container.cpp:
        (RenderContainer::~RenderContainer):
        (RenderContainer::detach):
        * khtml/rendering/render_container.h:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::setStyle):
        (RenderFlow::layout):
        (RenderFlow::calcInlineMinMaxWidth):
        (RenderFlow::calcBlockMinMaxWidth):
        (RenderFlow::calcMinMaxWidth):
        (RenderFlow::addChild):
        (RenderFlow::makeChildrenNonInline):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_html.cpp:
        (RenderHtml::RenderHtml):
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::~RenderLayer):
        (throw):
        (RenderLayer::operator delete):
        (RenderLayer::detach):
        (RenderLayer::paint):
        (RenderLayer::nodeAtPoint):
        (RenderLayer::constructZTree):
        (RenderLayer::RenderLayerElement::operator delete):
        (RenderLayer::RenderLayerElement::detach):
        (RenderLayer::RenderZTreeNode::operator delete):
        (RenderLayer::RenderZTreeNode::detach):
        * khtml/rendering/render_layer.h:
        * khtml/rendering/render_list.cpp:
        (RenderListItem::setStyle):
        * khtml/rendering/render_object.cpp:
        (throw):
        (RenderObject::operator delete):
        (RenderObject::createObject):
        (RenderObject::renderArena):
        (RenderObject::detach):
        * khtml/rendering/render_object.h:
        * khtml/rendering/render_replaced.cpp:
        (RenderWidget::detach):
        * khtml/rendering/render_replaced.h:
        * khtml/rendering/render_root.cpp:
        (RenderRoot::RenderRoot):
        * khtml/rendering/render_table.cpp:
        (RenderTable::addChild):
        (RenderTable::calcWidth):
        (RenderTable::setCellWidths):
        (RenderTableSection::addChild):
        (RenderTableRow::addChild):
        * khtml/rendering/render_text.cpp:
        (TextSlave::detach):
        (throw):
        (TextSlave::operator delete):
        (TextSlaveArray::TextSlaveArray):
        (RenderText::RenderText):
        (RenderText::~RenderText):
        (RenderText::detach):
        (RenderText::deleteSlaves):
        (RenderText::trimmedMinMaxWidth):
        (RenderText::calcMinMaxWidth):
        (RenderText::position):
        * khtml/rendering/render_text.h:
        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::DocumentImpl):
        (DocumentImpl::~DocumentImpl):
        (DocumentImpl::attach):
        (DocumentImpl::detach):
        * khtml/xml/dom_docimpl.h:
        * khtml/xml/dom_nodeimpl.cpp:
        (NodeImpl::detach):
        (NodeImpl::isReadOnly):
        (NodeImpl::previousRenderer):
        * khtml/xml/dom_nodeimpl.h:
        * khtml/xml/dom_stringimpl.cpp:
        * khtml/xml/dom_stringimpl.h:
        * khtml/xml/dom_textimpl.cpp:
        (CharacterDataImpl::containsOnlyWhitespace):
        (TextImpl::attach):
        * khtml/xml/dom_textimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2635 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-11-12 21:44:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4bce49199234b5f0eace49418a8927b27e0be83e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnooj401vk01l5sh0l5cvm', 2, e'	Keep the triggering event around on the data source, so it can be
	used with redirects.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _loadRequest:triggeringEvent:]):
        (-[WebFrame _loadURL:loadType:clientRedirect:triggeringEvent:]):
        (-[WebFrame _postWithURL:data:contentType:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2634 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-12 21:43:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1111e75fce66a933235f9e09322469db96e1e0dd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01tx01l5t01kiaka', 2, e'	- fixed 3094819 -- Crash in -[KWQObjectTimerTarget timerFired]

        * kwq/KWQObject.mm: (QObject::~QObject): Call the _destroyed signal.
        (QObject::killTimers): Simplify the code a bit using makeObjectsPerformSelector:.


git-svn-id: svn://svn.chromium.org/blink/trunk@2633 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-12 21:36:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bb1e17c4f1d5774e8c342bd17a0eb6020be229f9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01ty01l5umkht49z', 2, e'	- fixed 3079499 -- blank page at http://www.sonyericsson.com/T68i/

        * khtml/misc/loader.cpp:
        (CachedCSSStyleSheet::checkNotify): Copy the clients list before iterating
	over it, since clients can move around in the list or be removed.
        (CachedScript::checkNotify): Ditto.
        (CachedImage::do_notify): Ditto.
        (CachedImage::movieStatus): Ditto.

	- fixed double calls to openURL I noticed

        * khtml/khtml_part.cpp: (KHTMLPart::processObjectRequest):
	Don\'t call openURL here at all. That happens indirectly as a result
	of the load we kick off.

        * kwq/KWQKHTMLPart.mm: Tweaks.


git-svn-id: svn://svn.chromium.org/blink/trunk@2632 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-12 18:43:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e662133aa81cc90099f877c264be6cc7a0adbc75');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01tz01l5rkzk2lg8', 2, e'WebCore:

	- fixed 3083043 -- Alex doesn\'t decode % sequences in javascript: URLs

	Some places here did KURL::decode_string, but others didn\'t.

        * khtml/khtml_part.cpp:
        (KHTMLPart::slotShowDocument): Added call to KURL::decode_string.
        (KHTMLPart::overURL): Ditto.
        (KHTMLPart::urlSelected): Ditto.
        (KHTMLPart::requestFrame): Ditto.
        (KHTMLPart::slotChildURLRequest): Ditto.

WebKit:

	- improved the code that manages observing the window and superview

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView addSuperviewObservers]): Added.
        (-[WebHTMLView removeSuperviewObservers]): Added.
        (-[WebHTMLView addWindowObservers]): Added.
        (-[WebHTMLView removeWindowObservers]): Added.
        (-[WebHTMLView viewWillMoveToSuperview:]): Call removeSuperviewObservers.
        (-[WebHTMLView viewDidMoveToSuperview]): Call addSuperviewObservers.
        (-[WebHTMLView viewWillMoveToWindow:]): Call removeWindowObservers and
	removeSuperviewObservers.
        (-[WebHTMLView viewDidMoveToWindow]): Call addWindowObservers and
	addSuperviewObservers.

WebBrowser:

	- fixed 3083043 -- Alex doesn\'t decode % sequences in javascript: URLs

        * BrowserWebBookmarkExtras.m: (-[WebBookmark _goToWithWindowPolicy:]):
	Call CFURLCreateStringByReplacingPercentEscapes on the URL fragment before
	passing it to stringByEvaluatingJavaScriptFromString:.
        * BrowserWindowController.m: (-[BrowserWindowController goToToolbarLocation:]):
	Ditto.

	- fixed world leaks seen when playing with the snippet window

        * Debug/SnippetController.m:
        (-[SnippetController dealloc]): Release the location change delegate to avoid a leak.
	Also release the data source now that we retain it.
        (-[SnippetController windowWillClose:]): Release everything here. If we don\'t we get
	a world leak. Also remove the WebView from the superview. If we don\'t, it leaks.
	At some point we should look into this because it may indicate a WebKit problem, so
	I marked it with a FIXME.
        (-[SnippetController load]): Retain the data source.
        (-[SnippetController loadComplete]): Release the old text storage.

        * Debug/SnippetController.h: Tweaks.


git-svn-id: svn://svn.chromium.org/blink/trunk@2631 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-12 17:22:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cadba792cfa2c574f59f5e5e98908f442478f32b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01u001l5h9nlo2gn', 2, e'WebKit:

	Remove contentPolicy parameter from _downloadURL, and remove
	remaining traces of path from policy object.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebControllerPolicyDelegate.m:
        (-[WebPolicyPrivate dealloc]):
        (+[WebURLPolicy webPolicyWithURLAction:]):
        (+[WebFileURLPolicy webPolicyWithFileAction:]):
        (+[WebContentPolicy webPolicyWithContentAction:]):
        (+[WebClickPolicy webPolicyWithClickAction:]):
        * WebView.subproj/WebControllerPolicyDelegatePrivate.h:
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _downloadURL:]):
        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        (-[WebDefaultContextMenuDelegate downloadURL:]):
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (-[WebDefaultPolicyDelegate clickPolicyForAction:andRequest:inFrame:]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _continueAfterClickPolicyForEvent:request:]):
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView namesOfPromisedFilesDroppedAtDestination:]):
        * WebView.subproj/WebImageView.m:
        (-[WebImageView namesOfPromisedFilesDroppedAtDestination:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveResponse:]):

WebBrowser:

	Don\'t pass path when making policy objects.

        * BrowserWebController.m:
        (-[BrowserWebController contentPolicyForResponse:andRequest:inFrame:]):
        (-[BrowserWebController clickPolicyForAction:andRequest:inFrame:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2630 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-12 07:17:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e8d9c2dc2fbc2dcdf75f6da38e3988c41fde56f2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01u101l53eeldcr5', 2, e'WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt: Update.

WebCore:

        * kwq/KWQWidget.mm: (QWidget::setCursor): Remove printf I left
	in by accident.

WebKit:

        * Plugins.subproj/WebNetscapePluginPackage.m: (-[WebNetscapePluginPackage load]):
        Use fileSystemRepresentationWithPath, not cString, to turn a path into something
        to pass to FSPathMakeRef.

        * English.lproj/StringsNotToBeLocalized.txt: Update.

WebBrowser:

        * BrowserNSStringExtras.m: (-[NSString compareVersionString:]):
	Use lossyCString so we don\'t get an exception if a string is bad.

        * English.lproj/StringsNotToBeLocalized.txt: Update.


git-svn-id: svn://svn.chromium.org/blink/trunk@2629 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-12 06:33:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ee70230257fc38a162cacdd940990e7c876db254');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01u201l5drk1335b', 2, e'WebCore:

	- tighten up cursor handling a bit more

        * kwq/KWQWidget.mm:
        (QWidget::setCursor): Use setDocumentCursor: instead of our own protocol.
        (QWidget::cursor): Use documentCursor instead of storing our own cursor.

        * kwq/WebCoreFrameView.h: Remove setCursor: method.

WebKit:

	- tighten up cursor handling a bit more

        * WebView.subproj/WebDynamicScrollBarsView.m:
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView addMouseMovedObserver]): Call _frameOrBoundsChanged
	so we emit a mouse moved event right away.
        (-[WebHTMLView viewWillMoveToSuperview:]): Remove the colon since I
	removed the parameter from _frameOrBoundsChanged.

        * WebView.subproj/WebHTMLViewPrivate.h: Declare _frameOrBoundsChanged.
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _frameOrBoundsChanged]): Remove parameter.


git-svn-id: svn://svn.chromium.org/blink/trunk@2628 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-12 02:06:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/24a13a211f5da0cb75037ac95d846b5f87a2c658');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01u301l5t55op3df', 2, e'	- fixed 3084704 -- crash in HTMLTokenizer on page with JavaScript
	HTMLDocument::Close inside a <script>

	I think it\'s going to work this time. The key was to hook up the
	KHTML submitFormAgain machinery.

        * khtml/khtml_part.cpp: (KHTMLPart::submitForm): Take out the APPLE_CHANGES
	ifdef that was disabling the submitFormAgain logic.
        * kwq/KWQKHTMLPart.h: Remove submitForm(), because openURLRequest() handles it fine.
        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::openURLRequest): Move the logic for handling
	POST here from submitForm() and remove submitForm().

        * kwq/KWQSlot.mm:
        (KWQSlot::KWQSlot): Add support for the submitFormAgain slot.
        (KWQSlot::call): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2627 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-12 01:47:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3a52812e0224c94be19fbae15df48e153019eb8f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01u401l5al0ebxg8', 2, e'        Fixed 3015884 - Reloading a page should remember the scroll position

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):  Save scroll position on reload
        (-[WebFrame _isLoadComplete]):  Restore position on reload


git-svn-id: svn://svn.chromium.org/blink/trunk@2626 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-11-11 19:27:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0eeffb5779490c0562f815ec1037e3a64c978647');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01u501l59746phfr', 2, e'	- fixed 3092421 -- javascript: URL that opens window crashes Alex if typed into empty window

        * kwq/KWQKHTMLPart.h:
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::KWQKHTMLPart): Set _ownsView to false.
        (KWQKHTMLPart::~KWQKHTMLPart): Delete the view if we own it. Also release
	_currentEvent to fix a leak.
        (KWQKHTMLPart::setView): Delete the old view if we own it. Also, set the
	_ownsView flag.
        (KWQKHTMLPart::createDummyDocument): Create a dummy view too.

        * kwq/KWQDummyView.h: Added.
        * kwq/KWQDummyView.m: Added.
        * WebCore.pbproj/project.pbxproj: Added KWQDummyView.

        * kwq/WebCoreBridge.h: Remove bridgeOwnsKHTMLView and currentEvent.
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge createKHTMLViewWithNSView:marginWidth:marginHeight:]):
	Pass true to setView instead of setting bridgeOwnsKHTMLView.
        (-[WebCoreBridge removeFromFrame]): Just call setView on the part. It
	knows how to handle ownership now.
        (-[WebCoreBridge installInFrame:]): Call setOwnsView instead of setting
	bridgeOwnsKHTMLView.


git-svn-id: svn://svn.chromium.org/blink/trunk@2625 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-11 19:04:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3ac87c9c71be197aaf7d0423028b6e4e981df476');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01u601l5b7s3eurq', 2, e'First checkin of making frames work with the back forward list, restoring scroll position and form state.  Fixing:

3014555 Lose frameset context going back/forward
3078151 History inconsistency after loading frame content
3089551 REGRESSION: www.bmwusa.com frames don\'t load in alex-30
3095878 refresh doesn\'t preserve frame state

WebCore:

        * khtml/khtml_part.cpp:
        (KHTMLPart::requestFrameName):  Call through bridge to get generated frame name.
        * kwq/KWQKHTMLPart.h:
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::generateFrameName):  New call that just forwards through the bridge.
        * kwq/WebCoreBridge.h:

WebKit:

        * History.subproj/WebBackForwardList.m:
        (-[WebBackForwardList addEntry:]):  Yank code to avoid adding a duplicate entry, to catch the
	refresh case.  That\'s dealt with in WebFramePrivate now.
        (-[WebBackForwardList description]):  Enhanced to print more info.

        * History.subproj/WebHistoryItem.h:
	History items now hold an array of subitems to mirror the frame tree.  One item in the tree
	is designated the target of the navigation.
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem dealloc]):  Release new ivars.
        (-[WebHistoryItem isTargetItem]):
        (-[WebHistoryItem setIsTargetItem:]):
	New setter and setter.
        (-[WebHistoryItem _recurseToFindTargetItem]):
        (-[WebHistoryItem targetItem]):
	Search the tree to find the target item.
        (-[WebHistoryItem children]):
        (-[WebHistoryItem addChildItem:]):
        (-[WebHistoryItem childItemWithName:]):
	Maintain and search new child item list.
        (-[WebHistoryItem description]):
	Enhanced to print out the tree of items.
        (-[WebHistoryItem dictionaryRepresentation]):
        (-[WebHistoryItem initFromDictionaryRepresentation:]):
	Save and load the new state.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge generateFrameName]):  New call from KWQ, just forwards to Frame.
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]):
	Call new frame method dedicated to this case.
        (-[WebBridge saveDocumentState:]):
        (-[WebBridge documentState]):
	Call frame methods to get the right item to save/restore to/from.

        * WebView.subproj/WebController.m:
        (-[WebController _goToItem:withLoadType:]):  Stop any current loading before going to a new item.
        (-[WebController goBack]):
        (-[WebController goForward]):
        (-[WebController goBackOrForwardToItem:]):  Name change of private method (for consistency)

        * WebView.subproj/WebDataSourcePrivate.h:
	ProvisionalItem and PreviousItem are moved back up to WebFrame, where we know more about the
	state transitions that happen during loading.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): Don\'t release removed ivars.
        (-[WebDataSource _commitIfReady]): Make the view representations -after- the transition to committed.
	This allows us to save away the scroll location successfully, since making the view was resetting it.
        * WebView.subproj/WebFrame.h:
        * WebView.subproj/WebFrame.m:
        (-[WebFrame setProvisionalDataSource:]):  Saving the scroll location has moved elsewhere to handle frames.
        (-[WebFrame stopLoading]):  Skip all the work if we\'re already state=complete.

        * WebView.subproj/WebFramePrivate.h:
	The frame now holds a ref to the current, previous and provisional back-forward items.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate dealloc]):  Release new state.
        (-[WebFramePrivate setProvisionalItem:]):
        (-[WebFramePrivate setPreviousItem:]):
        (-[WebFramePrivate setCurrentItem:]):	New setters (1 line getters were missed by script)
        (-[WebFrame _addBackForwardItemClippedAtTarget:]):  Adds a BF item to the top of the BF list.
        (-[WebFrame _createItem]):  Create a single BF item.
        (-[WebFrame _createItemTreeWithTargetFrame:clippedAtTarget:]):  Create a tree of BF items, which
	mirror the frame tree.
        (-[WebFrame _immediateChildFrameNamed:]):  New frame search utility (doesn\'t recurse)
        (-[WebFrame _detachFromParent]):  Save the scroll position when detaching a frame.
        (-[WebFrame _transitionToCommitted]):  Maintain new item ivars.  Save scroll position when
	appropriate.  Hook up items for child frames to their parent, as they are created.
        (-[WebFrame _setState:]):  Clear previousItem whenever we reach committed.
        (-[WebFrame _isLoadComplete]):  Clear previousItem if we are committed.
        (-[WebFrame _childFramesMatchItem:]):  Does the frame\'s frame tree match the one held by the item?
        (-[WebFrame _loadItem:fromItem:withLoadType:]):  Only do simple anchor navigation if the frame
	has no children (fixes oddball corner case with a frame reloading itself).  Set provisional item.
        (-[WebFrame _recursiveGoToItem:fromItem:withLoadType:]):  Heart of returning to an item that had
	frames.  We either find that the existing content is good, or initiate a load.
        (-[WebFrame _goToItem:withLoadType:]):  Adjust the BF list cursor, and recurse to do the work.
        (-[WebFrame _loadURL:loadType:clientRedirect:triggeringEvent:]):  Only do anchor-style nav if
	the destination URL has a fragment.  Save scroll position.
        (-[WebFrame _loadURL:intoChild:]):  If returning to an item with frames, possibly replace the
	new content with the stuff that was there at the time, substituting the URL.
        (-[WebFrame _saveScrollPositionToItem:]):  Don\'t croak on nil item or view.
        (-[WebFrame _restoreScrollPosition]):  Do croak (ASSERT) on nil item.
        (-[WebFrame _scrollToTop]):  Nit cleanup.
        (-[WebFrame _addFramePathToString:]):  Add a component for our frame to the frame name we\'re generating.
        (-[WebFrame _generateFrameName]):  Generate a frame name that is repeatable.
        (-[WebFrame _itemForSavingDocState]):  Returns correct item to use for formstate save.
        (-[WebFrame _itemForRestoringDocState]):  Returns correct item to use for formstate restore

WebBrowser:

        * BrowserDocument.m:
        (-[BrowserDocument _addItem:toMenu:]):
	For a back-forward item that\'s a tree because its for a frameset, use the
	right item of the tree to generate the menu contents.


git-svn-id: svn://svn.chromium.org/blink/trunk@2624 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-11-11 18:33:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/373905b06f4537fcaea12119a4eaa2f82f09c276');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01u701l5xwjuspf2', 2, e'WebKit:

	Store path and the fact that we\'re downloading in the data source,
	instead of storing the content policy.

        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler cleanUpAfterFailure]):
        (-[WebDownloadHandler createFileIfNecessary]):
        (-[WebDownloadHandler finishedLoading]):
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _downloadURL:withContentPolicy:]):
        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSource.m:
        (+[WebDataSource registerRepresentationClass:forMIMEType:]):
        (-[WebDataSource isDownloading]):
        (-[WebDataSource downloadPath]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]):
        (-[WebDataSource _commitIfReady]):
        (-[WebDataSource _setIsDownloading:]):
        (-[WebDataSource _setDownloadPath:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient receivedError:]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):
        (-[WebMainResourceClient handleDidFinishLoading:]):

WebBrowser:

	Adjusted for WebKit API changes.

        * DownloadProgressEntry.m:
        (+[DownloadProgressEntry entryWithDataSource:]):
        (-[DownloadProgressEntry path]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2623 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-11 15:01:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/379b785cca42c77a908ee562404eefa448b48525');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01u801l5nxiaz6z3', 2, e'WebKit:

	Don\'t ask for the content policy any more if the previous policies
	said to save - in effect this means to ask only if the previous
	policies said to use the content policy. Also, remove now-useless
	previous content policy parameter from content policy delegate.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
	(-[WebDataSource _setContentPolicy:]): Retain new policy before
	releasing the old one.
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        * WebView.subproj/WebMainResourceClient.m:
	(-[WebMainResourceClient handle:didReceiveResponse:]): Don\'t ask
	for content policy if the delegate already decided to save.

WebBrowser:

	Adjusted for WebKit API change.

        * BrowserWebController.m:
        (-[BrowserWebController contentPolicyForResponse:andRequest:inFrame:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2622 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-11 12:49:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/af1a138653a6757ea3c2a052dcb555f974fa192a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01u901l5cztvud2t', 2, e'WebKit:

	Added new policy delegate callback to get the filename - this
	won\'t be up to the content policy any more.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (-[WebDefaultPolicyDelegate saveFilenameForResponse:andRequest:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveResponse:]):

WebBrowser:

	Added new policy delegate callback to get the filename - this
	won\'t be up to the content policy any more.

        * BrowserWebController.m:
        (-[BrowserWebController contentPolicyForResponse:andRequest:inFrame:withContentPolicy:]):
        (-[BrowserWebController saveFilenameForResponse:andRequest:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2621 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-11 09:29:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b89c3fd0dd6944bb9d094e4827d799e35ec721e7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01ua01l5v1uc094u', 2, e'	- fixed 3097253 -- text tagged <small> inside <h1> is too small

        * khtml/css/html4.css: Change BIG to use "font-size: larger" rather
	than "font-size: large" and SMALL to use "font-size: smaller" rather
	than "font-size: small".


git-svn-id: svn://svn.chromium.org/blink/trunk@2620 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-11 08:46:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/84f737369aca193e312b7f8f554e891826d3a247');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01ub01l5iq63sxs3', 2, e'WebCore:

        * kwq/WebCoreBridge.h: Remove unused modifierTrackingEnabled method.

WebKit:

	- made some improvements to cursor setting for greater speed and correctness

        * WebView.subproj/WebDynamicScrollBarsView.m:
        (-[WebDynamicScrollBarsView setCursor:]): Just use setDocumentCursor: instead of
	our own logic. This allows us to remove code and may fix some bugs or anomalies as well.
        (-[WebDynamicScrollBarsView dealloc]): Release the cursor. I think we were leaking before.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView viewWillMoveToSuperview:]): Use _frameOrBoundsChanged: method now, which
	has been moved into the private file.
        (-[WebHTMLView dragImage:at:offset:event:pasteboard:source:slideBack:]): Don\'t bother finding
	topmost WebHTMLView to call _updateMouseoverWithEvent: on; now it works fine no matter
	which level it\'s called at.

        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _frameOrBoundsChanged:]): Moved the code here that was formerly in the
	_setNeedsLayoutIfSizeChanged method, also added code that does _updateMouseoverWithEvent:
	so that we get properly updated cursor when we scroll.
        (-[WebHTMLView _updateMouseoverWithEvent:]): Remove unneeded assert. This method works
	equally well no matter which WebHTMLView calls it; everything is done at the window and
	controller level.

        * WebView.subproj/WebControllerPrivate.h: Added lastElementWasNotNil field and
	_mouseDidMoveOverElement:modifierFlags: method.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _mouseDidMoveOverElement:modifierFlags:]): Call through to the delegate,
	but don\'t do multiple calls if they are all nil.

        * WebCoreSupport.subproj/WebBridge.m: Remove unused modifierTrackingEnabled method.
        * WebView.subproj/WebHTMLViewPrivate.h: Remove unused _setModifierTrackingEnabled and
	_modifierTrackingEnabled methods.

WebBrowser:

        * AppController.m: (-[AppController awakeFromNib]): Remove unneeded call to set
	unused modifierTrackingEnabled flag. The code that used to care about this flag
        is now in WebBrowser and there\'s no need to inform WebCore and WebKit about whether
        we are passing in flags-changed events.


git-svn-id: svn://svn.chromium.org/blink/trunk@2619 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-11 08:31:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/96a4d3e5bc2006870622fbcd090e28fad40e738a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01uc01l5u8av4bt2', 2, e'WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.

WebKit:

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.

WebBrowser:

        * BrowserWindowController.m: (-[BrowserWindowController windowDidLoad]):
	Add call to _setAutoreleaseDuringLiveResize: so we can live with a smaller
	footprint when running under SUJagGreen or newer.

        * Preferences.subproj/DefaultBrowserController.m:
        (keyValuesMatch): Fix comparison of nils.
        (-[DefaultBrowserController handleApplicationPopUp:withSheetDidEndSelector:]):
	Fix typo in localization comment.
        * English.lproj/Localizable.strings: Update.
        * English.lproj/StringsNotToBeLocalized.txt: Update.

        * TextFieldWithControls.m: (-[TextFieldWithControls selectText:]):
	Add a comment explaining Chris\'s bug fix.


git-svn-id: svn://svn.chromium.org/blink/trunk@2618 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-11 06:36:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c5a0ba8072a6dcbee5f5bdde935271331173266e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01ud01l5sf05mwj8', 2, e'WebFoundation:

	Made WebCacheObject and WebResourceResponse methods that refer to specific dates set and return NSDates rather than NSTimeIntervals. Our public methods now only use NSTimeIntervals when referring to differences in time. Made the methods that use NSTimeIntervals when referring to specific dates private.

        * CacheLoader.subproj/WebCacheObject.h:
        * CacheLoader.subproj/WebCacheObject.m:
        (-[WebCacheObject createdDate]):
        (-[WebCacheObject setCreatedDate:]):
        (-[WebCacheObject expiresDate]):
        (-[WebCacheObject setExpiresDate:]):
        (-[WebCacheObject lastModifiedDate]):
        (-[WebCacheObject setLastModifiedDate:]):
        (-[WebCacheObject maxAgeValue]):
        (-[WebCacheObject isExpired]):
        (-[WebCacheObject age]):
        (-[WebCacheObject freshnessLifetime]):
        (-[WebCacheObject dealloc]):
        (-[WebCacheObject _createdTime]):
        (-[WebCacheObject _setCreatedTime:]):
        (-[WebCacheObject _expiresTime]):
        (-[WebCacheObject _setExpiresTime:]):
        (-[WebCacheObject _lastModifiedTime]):
        (-[WebCacheObject _setLastModifiedTime:]):
        * CacheLoader.subproj/WebCacheObjectPrivate.h: Added.
        * CacheLoader.subproj/WebResourceResponse.h:
        * CacheLoader.subproj/WebResourceResponse.m:
        (-[WebResourceResponse createdDate]):
        (-[WebResourceResponse lastModifiedDate]):
        (-[WebResourceResponse _createdTime]):
        (-[WebResourceResponse _lastModifiedTime]):
        (-[WebResourceResponse _takePersistentValuesFrom:]):
        * CacheLoader.subproj/WebResourceResponsePrivate.h:
        * ProtocolHandlers.subproj/WebCFNetworkHTTPProtocolHandler.m:
        (-[WebCFNetworkHTTPProtocolHandler addIfModifiedSinceHeader:]):
        (-[WebCFNetworkHTTPProtocolHandler continueHeaderReadAfter3xxResponseAndCall:]):
        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler willCacheObject:]):
        * ProtocolHandlers.subproj/WebSimpleHTTPProtocolHandler.m:
        (-[WebSimpleHTTPProtocolHandler _createHTTPRequest]):
        (-[WebSimpleHTTPProtocolHandler _examineHeaders]):
        * WebFoundation.pbproj/project.pbxproj:

WebKit:

	Fixed: 3021681 - downloaded files\' creation and modification dates are not set

        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler createFileIfNecessary]): call [response creationDate] and [response lastModifiedDate] when setting file attributes.
        * Plugins.subproj/WebBaseNetscapePluginStream.m:
        (-[WebBaseNetscapePluginStream setResponse:]): call [response lastModifiedDate] when giving content to plug-ins.

WebBrowser:

	Possible fix for: 3096071 - Button under "Proxy settings" in preferences window needs implementation

	With the new Network Pref root, the proxy button seems to work %50 of the time. 3096071 may be fixed if the current problem is just a bug in the network pref.

        * Preferences.subproj/GeneralPreferences.m:
        (-[GeneralPreferences _launchNetworkPrefs]): code from Robert Ulrich
        (-[GeneralPreferences openProxyPreferences:]): call _launchNetworkPrefs


git-svn-id: svn://svn.chromium.org/blink/trunk@2617 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-10 22:33:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fb6bd3259c11c894e0486c1a1b06e3e4cfd510f1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01ue01l50jnukc7r', 2, e'        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2616 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-10 17:07:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/469899e031d0eb5e3363d1679b726829f625cf40');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01uf01l5bc6deiah', 2, e'	- fixed 3095156 -- reproducible leak of WebDataSource due to bad URL in stylesheet

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:]):
	Check for errors by looking at the return value from loadWithRequest: rather than
	making a separate call to canInitWithRequest.

        * WebView.subproj/WebBaseResourceHandleDelegate.h: Add boolean success/failure result
	loadWithRequest:.
        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate loadWithRequest:]): Return NO if we fail to make a handle.

        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _startLoading]):
	Check result of loadWithRequest: and complain if it\'s NO.

        * WebView.subproj/WebMainResourceClient.m: Tweak whitespace.


git-svn-id: svn://svn.chromium.org/blink/trunk@2615 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-09 23:45:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/489b3fb38ec77a646d9b5c82bf1a0bb4b65eb96b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01ug01l5fourucxo', 2, e'WebKit:

	Fixed: 2991610 - Alexander should support services, including Speech

        * WebView.subproj/WebHTMLView.m:
        (+[WebHTMLView initialize]): register for service types
        (-[WebHTMLView dealloc]): moved to top of file
        (-[WebHTMLView copy:]): call _writeSelectionToPasteboard
        (-[WebHTMLView writeSelectionToPasteboard:types:]): call _writeSelectionToPasteboard
        (-[WebHTMLView validRequestorForSendType:returnType:]): return self for our pboard types
        * WebView.subproj/WebHTMLViewPrivate.h:
        * WebView.subproj/WebHTMLViewPrivate.m:
        (+[WebHTMLView _pasteboardTypes]): new, returns the array of supported pboard types
        (-[WebHTMLView _writeSelectionToPasteboard:]): new, adds data to pboard
        * WebView.subproj/WebImageView.m:
        (-[WebImageView initialize]): register for service types
        (-[WebImageView validateUserInterfaceItem:]): respond to copy
        (-[WebImageView validRequestorForSendType:returnType:]): return self for images
        (-[WebImageView writeImageToPasteboard:]): writes image data to pboard
        (-[WebImageView copy:]): calls writeImageToPasteboard
        (-[WebImageView writeSelectionToPasteboard:types:]): calls writeImageToPasteboard

WebBrowser:

	Open the URL in a new window as we do for other externally opened URLs.

        * ServicesProvider.m:
        (-[ServicesProvider openURL:userData:error:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2614 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-09 20:59:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73a7809198febe709baad3f7fe6dc7af5f2bacc2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01uh01l5490so3z1', 2, e'        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem setTitle:]): Use display title if it matches, so
	we don\'t end up with two identical strings, as when reading from
	the property list.
        (-[WebHistoryItem setDisplayTitle:]): The same thing, the other way round.


git-svn-id: svn://svn.chromium.org/blink/trunk@2613 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-09 07:46:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0b5f7f7408ff45e2daf2143622e4e045b349f832');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01ui01l5svdfyhu0', 2, e'        * kjs/date_object.cpp:
        (ctimeUsingCF): Added.
        (timeUsingCF): Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2612 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-09 07:46:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/824d06bf9e0273814a0f60c78dfa21cc8172f8f7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01uj01l5utnvjxkz', 2, e'	- fixed 3095078 -- image loop counts still not handled right

        * WebCoreSupport.subproj/WebImageRenderer.m:
        (-[WebImageRenderer blockHasGIFExtensionSignature:length:]): Look for the tag
	"NETSCAPE2.0", not "NETSCAPE1.0".
        (-[WebImageRenderer nextFrame:]): Remove special handling for last frames with
	a duration of 0. That was just a misunderstanding.


git-svn-id: svn://svn.chromium.org/blink/trunk@2611 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-09 07:09:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/21c2721f34ea026e98fbbb7c799d151ffc402d43');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01uk01l5gbn3z5xz', 2, e'	- fixed 3096451 - REGRESSION: clicking on link to open window only
	works when pop-up suppression is off

        * khtml/ecma/kjs_binding.cpp:
        (ScriptInterpreter::ScriptInterpreter): Initialize m_timerCallback
	to false.


git-svn-id: svn://svn.chromium.org/blink/trunk@2610 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-09 04:12:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/03980fda207aa5d6408690bf7059da5427c82ab5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01ul01l5ync6065p', 2, e'        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _setRequest:]):
	Slightly better fix. Essentially just take out the assert.


git-svn-id: svn://svn.chromium.org/blink/trunk@2609 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-09 01:42:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b7c9e73cc25a1066bbca25c5e55053b69ca9e6dd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01um01l54udohe13', 2, e'        * kwq/KWQComboBox.mm: Bump fudge factor up one pixel. You could see
	it was wrong with strings like "0".


git-svn-id: svn://svn.chromium.org/blink/trunk@2608 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-09 01:39:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7e438b6c42fcc3522b38b0cd3ecb757b5098a50b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01un01l515um7uss', 2, e'	- fixed an assert I am seeing a lot

        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _setRequest:]): Oops.


git-svn-id: svn://svn.chromium.org/blink/trunk@2607 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-09 01:37:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/563bf493703ed1e476ff72db8cf8bcc3dd348800');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01uo01l5caq4q7a0', 2, e'	- fixed 3090452 -- REGRESSION: orbitz Box extends way over margins

        * kwq/KWQComboBox.h: Added _width and _widthGood.
        * kwq/KWQComboBox.mm:
        (QComboBox::QComboBox): Set _widthGood to false.
        (QComboBox::insertItem): Set _widthGood to false.
        (QComboBox::sizeHint): Compute the width by measuring the text ourselves.
	Turns out the cell isn\'t helpful for that.
        (QComboBox::clear): Set _widthGood to false.


git-svn-id: svn://svn.chromium.org/blink/trunk@2606 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-09 01:33:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/80a405f8d650cf3b93d3295435fd5c932c875745');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01up01l53kfapc6p', 2, e'        Solved missing glyph problem, but it\'s very slow, so
        it\'s disabled for now.  I\'ll turn back on after extending
        the character to glyph map in each renderer to include
        substituted font.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer substituteFontForString:]):
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:]):

        Coalesce items, and add a count to title when appropriate.  Useful for
        condensing multiple item, like spacer.gif.

        * LoadProgressMonitor.m:
        (-[LoadProgressMonitor _createProgressEntryWithRequest:dataSource:]):
        * ResourceProgressEntry.h:
        * ResourceProgressEntry.m:
        (-[ResourceProgressEntry count]):
        (-[ResourceProgressEntry setCount:]):
        (-[ResourceProgressEntry title]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2605 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-09 00:23:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/464d407a21c19672dedcefdf4c76a8c7ecd2d419');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoncj01uq01l5mtjnzy5t', 2, e'	- separate WebBaseNetscapePluginStream more cleanly from its subclasses
	by making most fields private

        * Plugins.subproj/WebBaseNetscapePluginStream.m:
        (-[WebBaseNetscapePluginStream setResponse:]):
        * Plugins.subproj/WebNetscapePluginStream.h:
        * Plugins.subproj/WebNetscapePluginStream.m:
        (-[WebNetscapePluginStream initWithRequest:pluginPointer:notifyData:]):
        (-[WebNetscapePluginStream dealloc]):
        (-[WebNetscapePluginStream start]):
        (-[WebNetscapePluginStream handle:didReceiveData:]):
        (-[WebNetscapePluginStream handle:didFailLoadingWithError:]):
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handle:didReceiveResponse:]):
        (-[WebSubresourceClient handle:didReceiveData:]):
        (-[WebSubresourceClient handleDidFinishLoading:]):
        (-[WebSubresourceClient handle:didFailLoadingWithError:]):
        (-[WebSubresourceClient cancel]):
        * WebView.subproj/WebBaseResourceHandleDelegate.h:
        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate handle:willSendRequest:]):
        (-[WebBaseResourceHandleDelegate handle:didFailLoadingWithError:]):
        (-[WebBaseResourceHandleDelegate _cancelWithError:]):
        (-[WebBaseResourceHandleDelegate cancel]):
        (-[WebBaseResourceHandleDelegate cancelQuietly]):
        (-[WebBaseResourceHandleDelegate cancelledError]):
        (-[WebBaseResourceHandleDelegate notifyDelegatesOfInterruptionByPolicyChange]):
        * WebView.subproj/WebMainResourceClient.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient cancel]):
        (-[WebMainResourceClient handle:willSendRequest:]):
        (-[WebMainResourceClient notifyDelegatesOfInterruptionByPolicyChange]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):
        (-[WebMainResourceClient handle:didReceiveData:]):
        (-[WebMainResourceClient handleDidFinishLoading:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2604 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-08 22:35:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0396503dd229348e59125c79207963c13d0ec287');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01t301l5t7iibww9', 2, e'Tools:

        * Scripts/blame-malloc-history: Added.
        * Scripts/count-malloc-history: Added.
        * Scripts/diff-malloc-history: Added.

WebFoundation:

        * CacheLoader.subproj/WebResourceHandle.m: (-[WebResourceHandle description]):
	Used a description in a more-standard format.
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad _cleanup]): Changed so it no longer uses autorelease.
        (-[WebResourceLoad description]): Use a description in a more-standard format.
        * CacheLoader.subproj/WebResourceRequest.m: (-[WebResourceRequest description]):
	Used a description that includes the URL.
        * Misc.subproj/WebError.m: (-[WebError description]): Used a description in a
	more-standard format.
        * Misc.subproj/WebKeyValuePair.m: (-[WebKeyValuePair description]): Used a
	description in a more-standard format.
        * Misc.subproj/WebMonitor.m: Removed a description method that did the same as
	what NSObject already does.

        * English.lproj/Localizable.strings: Regenerated.
        * English.lproj/StringsNotToBeLocalized.txt: Updated for above changes.

WebKit:

	- changed persistent dictionaries to use NSString instead of NSURL
	because of impact on memory footprint

	Also changed WebIconDatabase code to verify what it reads from disk,
	and ignore it if it can\'t verify the format.

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase iconForSiteURL:withSize:cache:]):
        (-[WebIconDatabase retainIconForSiteURL:]):
        (-[WebIconDatabase releaseIconForSiteURL:]):
        (-[WebIconDatabase _iconDictionariesAreGood]):
        (-[WebIconDatabase _loadIconDictionaries]):
        (-[WebIconDatabase _updateFileDatabase]):
        (-[WebIconDatabase _hasIconForSiteURL:]):
        (-[WebIconDatabase _iconsForIconURLString:]):
        (-[WebIconDatabase _setIcon:forIconURL:]):
        (-[WebIconDatabase _setIconURL:forSiteURL:]):
        (-[WebIconDatabase _setBuiltInIconAtPath:forHost:]):
        (-[WebIconDatabase _retainIconForIconURLString:]):
        (-[WebIconDatabase _releaseIconForIconURLString:]):
        (-[WebIconDatabase _retainFutureIconForSiteURL:]):
        (-[WebIconDatabase _releaseFutureIconForSiteURL:]):
        (-[WebIconDatabase _retainOriginalIconsOnDisk]):
        (-[WebIconDatabase _releaseOriginalIconsOnDisk]):
        (-[NSEnumerator _web_isAllStrings]):
        * Panels.subproj/WebStandardPanels.m:
        (-[WebStandardPanels didStartLoadingURL:inWindow:]):
        (-[WebStandardPanels didStopLoadingURL:inWindow:]):
        (-[WebStandardPanels _didStartLoadingURL:inController:]):
        (-[WebStandardPanels _didStopLoadingURL:inController:]):
        (-[WebStandardPanels frontmostWindowLoadingURL:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2603 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-08 21:06:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15c1d61831777fb90c47ccf11183d85d13441c60');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01t401l57ovca4fz', 2, e'        Cleanup of fix to 3083281.  Never call stopAnimating from
        QPixmap\'s destructor.  With the fix it wouldn\'t have been
        called anyway.

        * kwq/KWQPixmap.mm:
        (QPixmap::~QPixmap):


git-svn-id: svn://svn.chromium.org/blink/trunk@2602 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-08 19:08:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/67dea645f90545004ae3e32e2afdc626959abdb0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01t501l5a1lnh06h', 2, e'        * kwq/WebCoreBridge.mm: (attributedString): Remove some dead code.


git-svn-id: svn://svn.chromium.org/blink/trunk@2601 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-08 17:58:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1ec90273ff8da99038ed8280aa889da18057fcfe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01t601l53ryi5r3j', 2, e'	- fixed crash on boot that Don was seeing

        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem URL]): Make this work when _URLString is nil.
        (-[WebHistoryItem initFromDictionaryRepresentation:]): Make this work for nil URL.

	- my own private war on the cString method

        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler initWithDataSource:]): Use %@ in LOG to avoid cString.
        (-[WebDownloadHandler finishedLoading]): Ditto.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _commitIfReady]): Ditto.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _timedLayout:]): Ditto.
        (-[WebFrame _setState:]): More of the same.
        (-[WebFrame _isLoadComplete]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2600 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-08 17:57:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0b4677d3f58f33a42d852fcc2a79adb7eaa57563');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01t701l5kkhddnut', 2, e'	Fix deployment build breaker: a variable was used only in a
	LOG statement, causing the variable to become usused when
	building with the Deployment build style.

        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler finishedLoading])


git-svn-id: svn://svn.chromium.org/blink/trunk@2599 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-11-08 14:56:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5d4df4b3b9bd229241aef589a4a93f392b4ebdb1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01t801l5817pvuql', 2, e'        * History.subproj/WebHistoryItem.h: Replace _URL with _URLString.

        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem _retainIconInDatabase:]): Get the URL with [self URL].
        (-[WebHistoryItem initWithURL:target:parent:title:]): Set up _URLString.
        (-[WebHistoryItem dealloc]): Release _URLString.
        (-[WebHistoryItem URL]): Make a URL from _URLString.
        (-[WebHistoryItem icon]): Use [self URL] instead of _URL.
        (-[WebHistoryItem setURL:]): Store a URL string.
        (-[WebHistoryItem hash]): Use the URL string\'s hash.
        (-[WebHistoryItem isEqual:]): Compare the URL strings.
        (-[WebHistoryItem description]): Use _URLString.
        (-[WebHistoryItem dictionaryRepresentation]): Use _URLString.
        (-[WebHistoryItem initFromDictionaryRepresentation:]): Call through to
	the other init functions so we have only one designated initializer.
	Leave the date as nil if there\'s no date in the dictionary instead of
	setting the date to 0.


git-svn-id: svn://svn.chromium.org/blink/trunk@2598 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-08 07:53:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c04152c73b774d192e113b4cc31fc96779ebc148');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01t901l57e11u89s', 2, e'        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::slotData):
	Add an assert in the hopes of catching bug 3084704 a little earlier.


git-svn-id: svn://svn.chromium.org/blink/trunk@2597 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-08 07:47:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1f631ad97ff6c5ec4c4100e17a88262c0eb013c8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01ta01l5i0gskjiv', 2, e'        * kjs/date_object.cpp: (mktimeUsingCF): Fix storage leak.


git-svn-id: svn://svn.chromium.org/blink/trunk@2596 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-08 07:43:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6748e6ba95b8ab0a1132ae08b337d011f4d7c950');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tb01l521yn078j', 2, e'WebKit:

	Removed SaveAndOpenExternally policy.

        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler finishedLoading]):
        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _continueAfterClickPolicyForEvent:request:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient receivedError:]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):
        (-[WebMainResourceClient handleDidFinishLoading:]):

WebBrowser:

	Removed all uses of SaveAndOpenExternally policy.

        * BrowserDocument.m:
        (-[BrowserDocument _stopNonDownloadingDataSource:]):
        * BrowserWebController.m:
        (-[BrowserWebController contentPolicyForResponse:andRequest:inFrame:withContentPolicy:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2595 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-08 05:29:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/70c1b25f910a3f78902fbec6f55fd7afe235dd09');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tc01l5act1z8zg', 2, e'WebKit:

        * WebKit.pbproj/project.pbxproj:

WebBrowser:

	Made Alexander responsible for opening downloads.

        * BrowserWebController.m:
        (-[BrowserWebController fileURLPolicyForMIMEType:andRequest:inFrame:]): call +[WBPreferences shouldOpenFileWithMIMEType:]
        (-[BrowserWebController contentPolicyForResponse:andRequest:inFrame:withContentPolicy:]): no open policy
        * Defaults.plist:
        * DownloadProgressEntry.m:
        (-[DownloadProgressEntry isDiskCopyFile]):
        (-[DownloadProgressEntry startDiskCopyInteraction]):
        (-[DownloadProgressEntry openFile]):
        (-[DownloadProgressEntry setCompleted]):
        * Preferences.subproj/WBPreferences.h:
        * Preferences.subproj/WBPreferences.m:
        (+[WBPreferences shouldOpenFileWithMIMEType:]): moved this method here from BrowserWebController as this is now called in 2 different places


git-svn-id: svn://svn.chromium.org/blink/trunk@2594 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-08 05:15:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/902cb598f1075e9f223213135540cb3cac549399');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01td01l54wckpk3v', 2, e'	- partial fix to 3073230 - JavaScript time calls do I/O by
	lastat()ing /etc/localtime

        * kjs/date_object.cpp:
        (mktimeUsingCF): Implementation of mktime using CF.


git-svn-id: svn://svn.chromium.org/blink/trunk@2593 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-08 03:10:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ace5a121738679c0032db9f21b17e95afc8dfb84');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01te01l543smcdg2', 2, e'Commit changelog.


git-svn-id: svn://svn.chromium.org/blink/trunk@2592 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-08 02:49:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e70292e728a08c989af8ad5a574ebbf7af343d0b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tf01l5fuhcgcjj', 2, e'	- fixed 3095628 - REGRESSION: exception when clicking on link to load content into iframe

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _actionInformationForNavigationType:event:]): Get the
	element info from the HTML view where the click originally
	happened, not the current document view. Add some asserts to make
	sure this is working.


git-svn-id: svn://svn.chromium.org/blink/trunk@2591 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-08 01:29:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/22e562504dd16788fbb6205a39b98aea9178fadf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tg01l5gb6xwawn', 2, e'        Don\'t stop animating unless we\'re the last referee. (3083281)

        * kwq/KWQPixmap.mm:
        (QPixmap::~QPixmap):


git-svn-id: svn://svn.chromium.org/blink/trunk@2590 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-08 01:14:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0df816a802430ebfbd708d3009fbc5c38416e747');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01th01l5zo7bbk6o', 2, e'        Fixed updating of status bar and activity window when
        loading plugin content as main document. (3084311)

        * LoadProgressMonitor.m:
        (-[LoadProgressMonitor resource:didReceiveContentLength:fromDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2589 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-07 23:50:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/61e62029a25e847b17294f00639dec021c5a2bfe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01ti01l59yix2lwz', 2, e'Alex-31 stamp


git-svn-id: svn://svn.chromium.org/blink/trunk@2587 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-11-07 19:29:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e1093abcae5f9cf44615174ebdb4474c162f5074');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tj01l5892nw11j', 2, e'	- fixed 3094778 - REGRESSION: Assert on logout from schwab.com

	(probably fixed it anyway - I\'m flying blind on this one)

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge createWindowWithURL:frameName:]): Use a nil request
	if the URL was nil, instead of making a request that contains a
	nil URL.


git-svn-id: svn://svn.chromium.org/blink/trunk@2586 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-07 15:47:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/041fb974ced35563a2a47806568dfae47d51dcbb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tk01l5xlyp6pza', 2, e'WebKit:

	Changed things so that creating a window takes a request rather
	than a URL and referrer.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge createWindowWithURL:frameName:]):
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _openNewWindowWithRequest:behind:]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]):
        (-[WebDataSource _setTriggeringEvent:]):
        (-[WebDataSource _triggeringEvent]):
        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        (-[WebDefaultContextMenuDelegate openNewWindowWithURL:]):
        * WebView.subproj/WebFrame.m:
        (-[WebFrame setProvisionalDataSource:]):
        (-[WebFrame findOrCreateFramedNamed:]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _continueAfterClickPolicyForEvent:request:]):
        * WebView.subproj/WebWindowOperationsDelegate.h:

WebBrowser:

	Changed things so that creating a window takes a request rather
	than a URL and referrer.

        * BrowserWebController.m:
        (-[BrowserWebController createWindowWithRequest:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2585 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-07 14:33:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fedac11039281eb0ba62128ebaf0b55ad73e0dbb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tl01l5qesspf0j', 2, e'	- fixed problem where files small enough to fit entirely in the buffer
	(8K or less) would not be decoded

        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler decodeData:]): Added. Moved most of the code from
	receivedData into here.
        (-[WebDownloadHandler receivedData:]): Changed to call decodeData.
        (-[WebDownloadHandler finishedLoading]): Call decodeData on any remaining
	bytes rather than writing them straight out to the data fork.


git-svn-id: svn://svn.chromium.org/blink/trunk@2584 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-07 06:43:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dde3eee15398b673fa06fc2db524e32e110583aa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tm01l5oz8h11dj', 2, e'        More work on rendering scripts. Now most complex scripts render correctly.
        Working new features include:
        bidi, diacriticals, cursive forms, and arabic ligatures.
        Selection of text rendered in these scripts, is however, not working.
        Also, line height is incorrect when renderering combined below glyphs.
        ajami is, sadly, horrendously broken.
        * Misc.subproj/WebUnicode.m:
        (glyphVariantLogical):
        (shapedString):
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer drawCharacters:stringLength:fromCharacterPosition:toCharacterPosition:atPoint:withPadding:withTextColor:backgroundColor:rightToLeft:]):
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:]):

        Use our notion of unicode whitespace from lookup tables
        and isspace for latin1.  This is more correct than CF.
        Fixed issues Dave ran into with whitespace calculations.

        * kwq/KWQChar.mm:
        (QChar::isSpace):


git-svn-id: svn://svn.chromium.org/blink/trunk@2583 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-07 01:21:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/68f88bec7f005b2abc9018b086396a88f1ffc18e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tn01l5xtwszvla', 2, e'WebKit:

        * Bookmarks.subproj/WebBookmark.m:
        (+[WebBookmark bookmarkOfType:]):
	made this handle WebBookmarkTypeProxy

WebBrowser:

	- fixed 3092708 -- allow option for Bookmarks Toolbar as submenu of Bookmarks menu

	The wording and possibly layout in Preferences will change soon, but the
	behavior is now implemented as SJ specified.

        * Defaults.plist:
        * PreferenceKeys.h:
	New preference keys for the new options

        * Preferences.subproj/English.lproj/BookmarkPreferences.nib:
	rejigger everything in the bookmarks preferences panel

        * Preferences.subproj/BookmarkPreferences.h:
        * Preferences.subproj/BookmarkPreferences.m:
        (-[BookmarkPreferences updateBookmarksViews]):
        (-[BookmarkPreferences toggleBookmarksToolbarIncludesAddressBook:]):
        (-[BookmarkPreferences toggleBookmarksToolbarIncludesRendezvous:]):
        (-[BookmarkPreferences toggleBookmarksMenuAndToolbarAreSame:]):
        (-[BookmarkPreferences toggleBookmarksMenuIncludesBookmarksToolbar:]):
        (-[BookmarkPreferences toggleBookmarksMenuIncludesRendezvous:]):
        (-[BookmarkPreferences initializeFromDefaults]):
	reworked all the code to handle the new options, including the way
	some options change when others are checked

        * BookmarksController.h:
	made addressBookProxyTitle and rendezvousProxyTitle public
        * BookmarksController.m:
        (-[BookmarksController addChildrenOfBookmark:toMenu:]):
	new method, generalized from code elsewhere (handles keyboard equivalents
	for toolbar items)
        (-[BookmarksController addMenuItemForBookmark:toMenu:]):
	now calls addChildrenOfBookmark:toMenu:
        (-[BookmarksController addFavoritesSubmenu]):
	new method, calls addChildrenOfBookmark:toMenu:
        (-[BookmarksController addSpecialBookmarkSourcesToMenu]):
	now handles toolbar as submenu, plus fancier logic to match new preferences
        (-[BookmarksController _addBookmarksToMenu]):
	now calls addChildrenOfBookmark:toMenu:
        (-[BookmarksController receivedBrowserPreferenceValueChangedNotification:]):
	now checks for new preferences also

        * FavoriteButton.m:
        (-[FavoriteButton setBookmark:]):
	now handles WebBookmarkTypeProxy -- like folder in appearance, but not a
	drag target
        (-[FavoriteButton menu]):
	now handles WebBookmarkTypeProxy (by returning nil for the context menu)
        (-[FavoriteButton hasContentsMenu]):
	new method, just checks bookmark type
        (-[FavoriteButton _contentsMenu]):
	now handles WebBookmarkTypeProxy by using BookmarkSource protocol to
	extract contents
        (-[FavoriteButton mouseDown:]):
	check hasContentMenu instead of assuming which types have menus

        * FavoritesBar.m:
        (-[FavoritesBar addButtonForBookmark:withLeftEdge:]):
	new method, extracted from _refreshButtons
        (-[FavoritesBar includeRendezvous]),
        (-[FavoritesBar includeAddressBook]):
	new methods, check with NSUserDefaults
        (-[FavoritesBar _refreshButtons]):
	take includeRendezvous and includeAddressBook into account; now
	calls addButtonForBookmark:withLeftEdge:
        (-[FavoritesBar refreshButtonsSoon]):
	new method, extracted from _favoritesChanged
        (-[FavoritesBar preferenceValueChanged:]):
	new method, call refreshButtons if the right prefs have changed
        (-[FavoritesBar _favoritesChanged:]):
	now calls refreshButtonsSoon
        (-[FavoritesBar initWithView:]):
	register for preferences value changed notifications
        (-[FavoritesBar dropIndexFromDraggingInfo:]):
	take includeRendezvous and includeAddressBook into account
        (-[FavoritesBar performDragOperation:]):
	take includeRendezvous and includeAddressBook into account


git-svn-id: svn://svn.chromium.org/blink/trunk@2582 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-11-07 01:10:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4ea83480fd72229c2116671c0c97bcaa6608f42c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01to01l58je18bji', 2, e'	- fixed bug that affected BinHex-encoded files with no resource fork

        * Downloads.subproj/WebBinHexDecoder.m:
        (-[WebBinHexDecoder decodeData:dataForkData:resourceForkData:]):
	Don\'t decode the resource fork unless done with the data fork.

        * Downloads.subproj/WebDownloadHandler.m: (-[WebDownloadHandler receivedData:]):
	Set the forks to nil before calling through.


git-svn-id: svn://svn.chromium.org/blink/trunk@2581 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-07 00:16:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/433f2c73e04f345ca57ba3551988280f1c479921');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tp01l5ipufug6n', 2, e'        * Downloads.subproj/WebMacBinaryDecoder.m: (+[WebMacBinaryDecoder canDecodeHeaderData:]):
	Fix == 129 check that was supposed to be <= 129.

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2580 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-06 23:47:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/175ae45356a1d519d3f8256af3275d3c203ab117');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tq01l5s1um3t08', 2, e'WebFoundation:

	Added _web_infoDictionaryForBundleAtPath. Gets info dictionary without using NSBundle.

        * Misc.subproj/WebNSDictionaryExtras.h:
        * Misc.subproj/WebNSDictionaryExtras.m:
        (+[NSDictionary _web_infoDictionaryForBundleAtPath:]):

WebBrowser:

	Preliminary work for disk copy interaction.

        * AppController.m:
        (-[AppController awakeFromNib]): tweak to GURL event call, no actual change
        * Defaults.plist: don\'t have WebKit open disk images for us anymore, since Alex will do this.
        * DiskCopyPuppetStrings.h:
        * DownloadMonitor.m:
        (-[DownloadMonitor init]): set handlers for disk copy events
        (-[DownloadMonitor handleDiskCopyEvent:withReplyEvent:]): added, does nothing right now
        * DownloadProgressEntry.h:
        * DownloadProgressEntry.m:
        (-[DownloadProgressEntry diskCopyStage]): new
        (-[DownloadProgressEntry setDiskCopyStage:]): new
        (-[DownloadProgressEntry startDiskCopyInteraction]): new, check version of disk copy, open disk image
        (-[DownloadProgressEntry setCompleted]): call startDiskCopyInteraction


git-svn-id: svn://svn.chromium.org/blink/trunk@2579 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-06 23:44:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a0765c8db83c0c196d56fe1a6b0a3dcd79296807');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tr01l5k3hqsamu', 2, e'        * Downloads.subproj/WebBinHexDecoder.m: (-[WebBinHexDecoder decodeIntoBuffer:size:]):
	Fix an off-by-one error handling repeat counts.

        * WebKit.pbproj/project.pbxproj: Fix group name I accidentally mangled.


git-svn-id: svn://svn.chromium.org/blink/trunk@2578 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-06 23:31:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c06e7c6506befc813aec457ee42c8514bd23e927');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01ts01l5iuq5yp6e', 2, e'	- added a BinHex decoder and did a little work on the MacBinary decoder

        I\'m not supposed to be working on this, but I didn\'t feel like doing "real" work.

        * Downloads.subproj/WebBinHexDecoder.h: Added.
        * Downloads.subproj/WebBinHexDecoder.m: Added.
        * WebKit.pbproj/project.pbxproj: Added WebBinHexDecoder.

        * Downloads.subproj/WebDownloadDecoder.h: Added WEB_DOWNLOAD_DECODER_MINIMUM_HEADER_LENGTH.
        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler closeFile]): Check to be sure we don\'t close the same file twice.

        * Downloads.subproj/WebMacBinaryDecoder.h: Added _scriptCode.
        * Downloads.subproj/WebMacBinaryDecoder.m:
        (+[WebMacBinaryDecoder canDecodeHeaderData:]): Added check of MacBinary version field.
        (-[WebMacBinaryDecoder decodeData:dataForkData:resourceForkData:]): Added MacBinary III
	part that gets the script code.
        (-[WebMacBinaryDecoder filename]): Use the script code.


git-svn-id: svn://svn.chromium.org/blink/trunk@2577 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-06 23:11:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3081207430ddf0757b58220ef3a85429a3501945');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tt01l5fx54fc73', 2, e'WebKit:

	Took URL field out of click policy - open in new window policy
	will always open the request URL.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebControllerPolicyDelegate.m:
        (-[WebPolicyPrivate dealloc]):
        (+[WebURLPolicy webPolicyWithURLAction:]):
        (+[WebFileURLPolicy webPolicyWithFileAction:]):
        (+[WebContentPolicy webPolicyWithContentAction:andPath:]):
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (-[WebDefaultPolicyDelegate clickPolicyForAction:andRequest:inFrame:]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _continueAfterClickPolicyForEvent:request:]):

WebBrowser:

        Updated for WebKit changes.

	* BrowserWebController.m:
        (-[BrowserWebController clickPolicyForAction:andRequest:inFrame:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2576 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-06 22:37:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ccb7d3132970ef517af47f82fb7adcd871797b06');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tu01l55u3y8t91', 2, e'	Support MacBinary I by checking that bytes 99-127 are 0. Also check byte 82 for all formats.

        * Downloads.subproj/WebMacBinaryDecoder.m:
        (+[WebMacBinaryDecoder canDecodeHeaderData:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2575 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-06 19:26:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2a2c1bfac1b9d5aa130192bda049fe089be9c8b3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tv01l5qjoqv818', 2, e'WebFoundation:

	Fix for this bug:

	Radar 3004422 (Loader should cache misses)

	I added a code to support caching HTTP 404 responses. These objects
	will now get cached just like other responses, and they are subject
	to the same revalidation rules as other cache objects.

	To support caching the 404 for a specified period of time, I have
	added an extra method to WebHTTPResourceRequest.

        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler willCacheObject:]):
        (-[WebHTTPProtocolHandler shouldCacheResponse:]):
        * ProtocolHandlers.subproj/WebHTTPResourceRequest.h:
        * ProtocolHandlers.subproj/WebHTTPResourceRequest.m:
        (-[WebResourceRequest pageNotFoundCacheLifetime]):
        (-[WebResourceRequest setPageNotFoundCacheLifetime:]):
        (-[WebHTTPResourceRequestParameters copyWithZone:]):
        (-[WebHTTPResourceRequestParameters isEqual:]):
        * ProtocolHandlers.subproj/WebSimpleHTTPProtocolHandler.m:
        (-[WebSimpleHTTPProtocolHandler _examineHeaders]):

WebKit:

	Call new WebHTTPResourceRequest method to set the amount of time
	to cache a 404 response when trying to fetch a favicon.

	This change helps to fix this bug:

	Radar 3004422 (Loader should cache misses)

        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader startLoading])


git-svn-id: svn://svn.chromium.org/blink/trunk@2574 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-11-06 17:25:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f78b9d628305ff99fb0bf9cdabffdefc93db63eb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnom4z01tw01l5ys33fdri', 2, e'WebKit:

	Reworked clickPolicy arguments to be closer to proposed version.

        * WebKit.exp:
        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebControllerPolicyDelegate.m:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (-[WebDefaultPolicyDelegate clickPolicyForAction:andRequest:inFrame:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _actionInformationForNavigationType:event:]):
        (-[WebFrame _continueAfterClickPolicyForEvent:request:]):

WebBrowser:

	Adjusted for WebKit API changes.

        * BrowserWebController.m:
        (-[BrowserWebController clickPolicyForAction:andRequest:inFrame:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2573 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-06 04:00:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f19eb882fabacbb5fffb447d8d7df6b5d9e19f04');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwp01s901l50tlgg3xl', 2, e'        * WebCoreSupport.subproj/WebTextRenderer.m: Made a slightly simpler and faster
	version of the new "lose precision" CEIL_TO_INT macro.


git-svn-id: svn://svn.chromium.org/blink/trunk@2572 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-06 01:59:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bc7eb0c53122901a79c290e8c01a8898267df343');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sa01l5tguicg84', 2, e'	- fixed 3092722 -- assertion failed

        * kwq/KWQResourceLoader.mm: (-[KWQResourceLoader reportError]):
	Removed the assertion. It wasn\'t needed.


git-svn-id: svn://svn.chromium.org/blink/trunk@2571 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-06 01:56:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/82fb6b73668bbde97eb5873615ec815c32088b6f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sb01l5u4appy0c', 2, e'        Fixed a couple of issues that Dave highlighted w/ his whitespace
        fixes.  CG sometimes introduces very small \'error\' in metrics, specifically
        we saw character widths of 20.0000019 that should have been 20.  As a
        work-around we loose precision beyond the 1000th place.  Also, always
        ceil spaces.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2570 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-06 01:47:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8b0a7e92a35a3f4b3b04dc99f9636651f68bfaa5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sc01l5a9ve5d44', 2, e'	- fixed 3084704 -- crash in HTMLTokenizer on page with JavaScript
	HTMLDocument::Close inside a <script>

        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _detachFromParent]):
	We need to stop loading here. Otherwise we might do loading after closeURL,
	which could lead to a problem like the one above.


git-svn-id: svn://svn.chromium.org/blink/trunk@2569 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-06 01:25:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e5d1e25fc4539c74c0ca77bac9ee081dc5896877');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sd01l5m91s163f', 2, e'	- changed our MacBinary decoding to not pay any attention to the comment

	Before we would "fail to decode" if the comment was truncated, now we just
	don\'t worry about it.

        * Downloads.subproj/WebMacBinaryDecoder.h: Remove _commentLength and _commentEnd.
        * Downloads.subproj/WebMacBinaryDecoder.m:
        (-[WebMacBinaryDecoder decodeData:dataForkData:resourceForkData:]): Remove code
	to get _commentLength and code to compute _commentEnd.
        (-[WebMacBinaryDecoder finishDecoding]): Check offset against the resource fork
	end rather than the comment end to see if we got enough data.


git-svn-id: svn://svn.chromium.org/blink/trunk@2568 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-06 01:21:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/250f9fdc315157f9340939184ff0a64ea171bf4c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01se01l5j7j7ir8t', 2, e'WebKit:

        * Resources/url_icon.tiff:
	reverted generic URL icon back to the one that
	looks like a document until we get something from
	HI that SJ likes

WebBrowser:

        * Resources/Images/FavoritesBar.tif:
        * Resources/Images/tiny_menu.tiff:
	reverted Bookmarks menu and Bookmarks toolbar icons back to the
	previous versions until we get something from HI that SJ likes


git-svn-id: svn://svn.chromium.org/blink/trunk@2567 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-11-06 01:19:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2008d728acc5897566e4443ae1ad5bb2be17fb6b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sf01l5abgvm9rn', 2, e'WebKit:

	Fixed: 3074108 - Decode macbinary files during download

        * Downloads.subproj/WebDownloadDecoder.h:
        * Downloads.subproj/WebDownloadHandler.h:
        * Downloads.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler initWithDataSource:]):
        (-[WebDownloadHandler dealloc]):
        (-[WebDownloadHandler decodeHeaderData:dataForkData:resourceForkData:]):
        (-[WebDownloadHandler decodeData:dataForkData:resourceForkData:]):
        (-[WebDownloadHandler closeFile]):
        (-[WebDownloadHandler cleanUpAfterFailure]):
        (-[WebDownloadHandler createFileIfNecessary]):
        (-[WebDownloadHandler writeData:toFork:]):
        (-[WebDownloadHandler writeDataForkData:resourceForkData:]):
        (-[WebDownloadHandler dataIfDoneBufferingData:]):
        (-[WebDownloadHandler receivedData:]):
        (-[WebDownloadHandler finishDecoding]):
        (-[WebDownloadHandler finishedLoading]):
        (-[WebDownloadHandler cancel]):
        * Downloads.subproj/WebMacBinaryDecoder.h:
        * Downloads.subproj/WebMacBinaryDecoder.m:
        (-[WebMacBinaryDecoder decodeData:dataForkData:resourceForkData:]):
        (-[WebMacBinaryDecoder fileAttributes]):
        (-[WebMacBinaryDecoder filename]):
        * Misc.subproj/WebKitErrors.h: added new errors
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveResponse:]): don\'t send response to download handler
        (-[WebMainResourceClient handle:didReceiveData:]): watch for decoding errors

WebBrowser:

	Fixed: 3074108 - Decode macbinary files during download

        * DownloadMonitor.m:
        (-[DownloadMonitor identifierForInitialRequest:fromDataSource:]):
        (-[DownloadMonitor resource:willSendRequest:fromDataSource:]):
        (-[DownloadMonitor resource:didReceiveResponse:fromDataSource:]):
        * DownloadProgressEntry.h:
        * DownloadProgressEntry.m:
        (+[DownloadProgressEntry entryWithDictionary:]): new, convenience
        (+[DownloadProgressEntry entryWithDataSource:]):
        (-[DownloadProgressEntry filename]):
        (-[DownloadProgressEntry path]):
        (-[DownloadProgressEntry setCompleted]):
        * DownloadRow.m:
        (-[DownloadRow _updateStatusFields]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2566 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-06 00:27:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4b0d4b6c1e0561104d4d945f3bf8fec093a327e9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sg01l5ftawy2xr', 2, e'	Fix for this bug:

	Radar 3092747 (javascript cookieEnabled property returns incorrect value)

	Now, we return "true" for navigator.cookieEnabled when
	"Only accept cookies from the same domain as the current page" option
	is selected is user preferences.

        * WebCoreSupport.subproj/WebCookieAdapter.m:
        (-[WebCookieAdapter cookiesEnabled])


git-svn-id: svn://svn.chromium.org/blink/trunk@2565 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-11-05 19:35:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/831a0e09c1bf51dac9b4cd4285f43295be94bece');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sh01l5jx7j4l4c', 2, e'WebKit:

	- fixed 3091271 -- missing plug-in icon is on white
	background, not transparent.

        * Resources/nullplugin.tiff: Photoshopped the white away. It\'s
	still ugly, but that\'s a separate bug (3091274)

WebBrowser:

	Removed the text from the lock icon. Also cleaned up the
	code that positions the lock icon in the window.

        * BrowserWindow.m:
        (-[BrowserWindow adjustRightSideImageViewFrame]):
	new method, sets the image view\'s frame based on the image size
	and specified margins
        (-[BrowserWindow setUpRightSideImageView]):
	now calls adjustRightSideImageViewFrame
        (-[BrowserWindow setTitleBarRightSideImage:]):
	now calls adjustRightSideImageViewFrame if image has changed

        * Resources/Images/Lock.tif: textless version


git-svn-id: svn://svn.chromium.org/blink/trunk@2564 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-11-05 18:51:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9e0447c927d51df38ad05b3a8e29e9885b9608e3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01si01l51rspzk0y', 2, e'	- re-fixed 3070484 -- icon rollovers are very slow on Mac OS X website

	Had to roll back some of the files I changed yesterday. I had missed the
	one line of useful code among much stuff we don\'t need.

        * khtml/khtml_part.cpp:
        (KHTMLPart::init):
        (KHTMLPart::~KHTMLPart):
        (KHTMLPart::slotLoaderRequestStarted):
        (KHTMLPart::slotLoaderRequestDone):
        * kwq/KWQSignal.h:
        * kwq/KWQSignal.mm:
        (KWQSignal::call):
        * kwq/KWQSignalStubs.mm:
        (Loader::requestDone):
        (Loader::requestFailed):
        (Loader::requestStarted):
        * kwq/KWQSlot.h:
        * kwq/KWQSlot.mm:
        (KWQSlot::KWQSlot):
        (KWQSlot::call):
	Just roll back all the changes from my 3091714 check-in below, except
	for the bug fix itself in loader.cpp and KWQResourceLoader.mm.


git-svn-id: svn://svn.chromium.org/blink/trunk@2563 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-05 17:27:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6a434a7282105d78d0d64fd46734a95254be4d48');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sj01l5c1fixlkr', 2, e'	The -(NSEnumeration *)keys method has never been implemented, and is unneeded.
	Removing from API. This has no external impact as this class
	is entirely private to WebFoundation.

        * Database.subproj/WebDatabase.h:
        * Database.subproj/WebDatabase.m:
        * Database.subproj/WebFileDatabase.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@2562 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-11-05 17:08:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f01d8257169924c915f30ec56613df668c96f1db');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sk01l5kdwkywfm', 2, e'	- fixed 3083732 - SJ: window comes out blank on samsung site

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]):
	Don\'t start loading if the URL is exactly the same as the parent
	URL. We may need a more stringent check, but this seems to match
	the tolerance of other browsers OK.


git-svn-id: svn://svn.chromium.org/blink/trunk@2561 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-05 11:20:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/418db9a042cf9ab0cc79775484eb497aebd1d440');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sl01l575vntwqo', 2, e'	- fixed 3027404 - pop-up ads not always suppressed

        * khtml/ecma/kjs_binding.cpp:
        (ScriptInterpreter::isWindowOpenAllowed): Don\'t allow opening if
	we are in a timer callback - for reasons unexplained this will
	always show up as an inline script.
        * khtml/ecma/kjs_binding.h:
        * khtml/ecma/kjs_window.cpp:
        (ScheduledAction::execute): Note that we\'re in a timer callback.


git-svn-id: svn://svn.chromium.org/blink/trunk@2560 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-05 10:26:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/44d3c279a3f1cd7fee397a240101131d4699537c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sm01l5eqz7vsa0', 2, e'WebKit:

	Added request and frame to click policy callback.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (-[WebDefaultPolicyDelegate clickPolicyForElement:button:modifierFlags:request:inFrame:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _continueAfterClickPolicyForEvent:request:]):
        (-[WebFrame _loadURL:loadType:clientRedirect:triggeringEvent:]):

WebBrowser:

	- fixed 3044620 - incorrect URL sent to the click policy handler,
	other problems, because it\'s processed early

        * BrowserWebController.m:
        (-[BrowserWebController
	clickPolicyForElement:button:modifierFlags:request:inFrame:]):
	Look at request URL, not element URL.


git-svn-id: svn://svn.chromium.org/blink/trunk@2559 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-05 09:31:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fc21773820ab0aef3dc31921f12bc68e6230fec0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sn01l53cfx92jw', 2, e'i        Changes to support cursive letter forms.  It works, but I\'ve
        disabled it for now.  It\'s buggy and needs cleanup.
        Arabic now renders correctly except for ligature substitution.

        * Misc.subproj/WebUnicode.h:
        * Misc.subproj/WebUnicode.m:
        (_unicodeIsMark):
        (getShape):
        (prevChar):
        (nextChar):
        (prevLogicalCharJoins):
        (nextLogicalCharJoins):
        (glyphVariantLogical):
        (shapedString):
        * Misc.subproj/WebUnicodeTables.m:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer drawCharacters:stringLength:fromCharacterPosition:toCharacterPosition:atPoint:withPadding:withTextColor:backgroundColor:rightToLeft:]):
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:]):
        * WebKitPrefix.h:

        Changes to support cursive letter forms.

        * kwq/KWQChar.mm:
        * kwq/WebCoreUnicode.h:

        Updated to lastest API.

        * SimpleViewer/DocumentController.m:
        (-[ResourceLoadDelegate initWithDocumentController:]):
        (-[ResourceLoadDelegate updateStatus]):
        (-[ResourceLoadDelegate identifierForInitialRequest:fromDataSource:]):
        (-[ResourceLoadDelegate resource:willSendRequest:fromDataSource:]):
        (-[ResourceLoadDelegate resource:didFinishLoadingFromDataSource:]):
        (-[ResourceLoadDelegate resource:didFailLoadingWithError:fromDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2558 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-05 02:00:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/797d3f9044249c8f4339acddf4a60285eb4bada0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01so01l5ngvrf32l', 2, e'	- fixed 3091714 -- reproducible assert cachedObject->response
	in KWQCheckCacheObjectStatus

        * khtml/misc/loader.cpp: (Loader::slotFinished):
	For APPLE_CHANGES, don\'t finish the load if it\'s an error.

        * kwq/KWQResourceLoader.mm:
        (-[KWQResourceLoader finishJobAndHandle]): Shared code for the
	three following methods.
        (-[KWQResourceLoader cancel]): Use setError(1) again instead of
	just keeping the load around forever.
        (-[KWQResourceLoader reportError]): Ditto.
        (-[KWQResourceLoader finish]): Use finishJobAndHandle to share
	code with the two above.

        * khtml/khtml_part.cpp:
        (KHTMLPart::init): Put the slotLoaderRequestStarted and
	slotLoaderRequestDone connect lines inside ifdefs.
        (KHTMLPart::~KHTMLPart): Same for disconnect.

        * kwq/KWQSignal.h: Remove code for the DocLoader signals.
        * kwq/KWQSignal.mm: (KWQSignal::call): Ditto.
        * kwq/KWQSignalStubs.mm:
        (Loader::requestDone): Ditto.
        (Loader::requestFailed): Ditto.
        (Loader::requestStarted): Ditto.
        * kwq/KWQSlot.h: Ditto.
        * kwq/KWQSlot.mm:
        (KWQSlot::KWQSlot): Ditto.
        (KWQSlot::call): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2557 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-05 01:25:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/31e8b3066b658da7abf40bb1ea0aeb46ea85354f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sp01l5gew5w7uj', 2, e'	Changes to send NSEvents all the way through WebCore and then pass
	them back out to WebKit, so that click policy can have a
	WebResourceRequest added.

        * kwq/KWQKHTMLPart.h:
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::KWQKHTMLPart):
        (KWQKHTMLPart::openURL):
        (KWQKHTMLPart::openURLRequest):
        (KWQKHTMLPart::urlSelected):
        (KWQKHTMLPart::submitForm):
        (KWQKHTMLPart::createDummyDocument):
        (KWQKHTMLPart::setCurrentEvent):
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge mouseUp:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2556 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-05 01:10:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/95297f3a3dcd7d17e50b0c03d41fde1f1b3f3334');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sq01l5ltripvlb', 2, e'	Changes to send NSEvents all the way through WebCore and then pass
	them back out to WebKit, so that click policy can have a
	WebResourceRequest added.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge loadURL:reload:triggeringEvent:]):
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _continueAfterClickPolicyForEvent:]):
        (-[WebFrame _loadURL:loadType:clientRedirect:triggeringEvent:]):
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseUp:]):
        * WebView.subproj/WebHTMLViewPrivate.h:
        * WebView.subproj/WebHTMLViewPrivate.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@2555 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-11-05 01:02:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3422e6f98822c9b66b300949a23ec997f53ae206');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sr01l58jfsjzbm', 2, e'	Fixed - 3091658: REGRESSION: cmd-left for back doesn\'t work in plain-text viewer

	We now pass text field key events to the next responder which would be WebView in this case.

        * WebView.subproj/WebTextView.m:
        (-[WebTextView keyDown:]):
        (-[WebTextView keyUp:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2554 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-05 00:04:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/29cabf7cec72405c04951902d5145e163e27d5c4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01ss01l55kh4ytkq', 2, e'	- fixed 3090257 -- "leak the world" using the Wallace and Gromit "console"

        * Plugins.subproj/WebNetscapePluginStream.m: Update for changes to the base delegate.
        (-[WebNetscapePluginStream start]): Use loadWithRequest:.
        (-[WebNetscapePluginStream stop]): Call cancel instead of just canceling the handle
	directly. This fixes the world leak.
        (-[WebNetscapePluginStream cancel]): Do some of the work that was formerly in "stop".

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]): Call the "stop loading URL" whenever
	we cancel I/O, so we don\'t leak the world.
        (-[WebMainResourceClient handle:didReceiveResponse:]): Ditto.

        * WebCoreSupport.subproj/WebBridge.m: (-[WebBridge objectLoadedFromCache:response:size:]):
        * WebCoreSupport.subproj/WebSubresourceClient.m: (-[WebSubresourceClient handleDidFinishLoading:]):
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _finishedLoadingResourceFromDataSource:]):
	Fix a typo in the word "finished".

        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate handle:willSendRequest:]): Tweak.
        (-[WebBaseResourceHandleDelegate cancel]): Tweak.

        * Panels.subproj/WebStandardPanels.m:
        (-[WebStandardPanels didStartLoadingURL:inWindow:]): Add assertions.
        (-[WebStandardPanels didStopLoadingURL:inWindow:]): Ditto.
        (-[WebStandardPanels _didStartLoadingURL:inController:]): Ditto.
        (-[WebStandardPanels _didStopLoadingURL:inController:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2553 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-04 23:08:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a8bfdb6a205bd5bb489b257c79ffdaf10bc6a856');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01st01l5vm0x96l4', 2, e'
        Modified pluginForKey:withEnumeratorSelector: such that we now
        enumerate all plugins that match the given key before we return
        a plugin.  This fixes a bug in which we would sometimes return
        the wrong plugin (according to our preferences) because we did
        not examine all of the available plugins before making our choice.

        With this change, Alexander now behaves correctly when we have
        multiple Java plugins in the plugins folder (as we will on user
        systems in the field).


git-svn-id: svn://svn.chromium.org/blink/trunk@2552 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mhay', '2002-11-04 22:52:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c6e8777795079cb2f302722c585cb86e741d467d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01su01l52xroegbj', 2, e'        * Downloads.subproj/WebMacBinaryDecoder.h: Removed many unneeded fields.
        * Downloads.subproj/WebMacBinaryDecoder.m:
        (+[WebMacBinaryDecoder canDecodeHeaderData:]): Added comments. Changed maximum filename
	length to 63 as the format supports, rather than the 31 that\'s based on historical
	HFS limitations. Fix endian dependency in CRC check.
        (-[WebMacBinaryDecoder decodeData:dataForkData:resourceForkData:]): Simplified this,
	and removed the state machine and the accumulator. Also added some asserts. Fixed endian
	dependency in the code to extract the header.
        (-[WebMacBinaryDecoder finishDecoding]): New simpler check now that we don\'t have a
	_streamComplete boolean.
        (-[WebMacBinaryDecoder fileAttributes]): Rewrote to take advantage of the above changes,
	and also to use kCFAbsoluteTimeIntervalSince1904 rather than parsing a date string.

        * Downloads.subproj/crc16.h: Tweaks.
        * Downloads.subproj/crc16.m: Tweaks.


git-svn-id: svn://svn.chromium.org/blink/trunk@2551 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-04 18:58:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9e187a062b3af4db593fddd519fe104dbb46a56a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sv01l5ao36jv17', 2, e'WebKit:

        * WebCoreSupport.subproj/WebImageRenderer.m: (-[WebImageRenderer dealloc]):
	Replaced a useless call to stopAnimation with a couple of asserts.

WebBrowser:

        * DownloadRow.m: (-[DownloadRow dealloc]): Replaced a useless timer invalidate with an assert.


git-svn-id: svn://svn.chromium.org/blink/trunk@2550 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-04 18:27:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73cc6513b0f26ee1e0116bb992b21eb2853d3e21');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sw01l5q1cwb2vr', 2, e'WebKit:

        * Resources/url_icon.tiff:
	new "generic URL" icon from HI -- this one looks like
	a red ribbon (!)

WebBrowser:

	new images from Steve Lemay

        * Resources/Images/MultipleBookmarks.tif: Added.
	This one will be used when dragging multiple bookmarks,
	but isn\'t yet.

        * Resources/Images/AddLink.tif:
        * Resources/Images/AddLinkDisabled.tif:
        * Resources/Images/AddLinkPressed.tif:
        * Resources/Images/Back.tif:
        * Resources/Images/BackDisabled.tif:
        * Resources/Images/BackPressed.tif:
        * Resources/Images/FavoritesBar.tif:
        * Resources/Images/FavoritesFolderArrow.tif:
        * Resources/Images/FontBigger.tif:
        * Resources/Images/FontBiggerDisabled.tif:
        * Resources/Images/FontBiggerPressed.tif:
        * Resources/Images/FontSmaller.tif:
        * Resources/Images/FontSmallerDisabled.tif:
        * Resources/Images/FontSmallerPressed.tif:
        * Resources/Images/Forward.tif:
        * Resources/Images/ForwardDisabled.tif:
        * Resources/Images/ForwardPressed.tif:
        * Resources/Images/NewFolder.tif:
        * Resources/Images/NewFolder_Pressed.tif:
        * Resources/Images/Reload.tif:
        * Resources/Images/ReloadDisabled.tif:
        * Resources/Images/ReloadPressed.tif:
        * Resources/Images/Stop.tif:
        * Resources/Images/StopDisabled.tif:
        * Resources/Images/StopPressed.tif:
        * Resources/Images/tiny_menu.tiff:
	new versions of these existing images

        * English.lproj/Browser.nib: resized New Folder buttons

        * WebBrowser.pbproj/project.pbxproj: updated for new file


git-svn-id: svn://svn.chromium.org/blink/trunk@2549 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-11-04 16:30:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2adc9a7f9b33cd227cb0c3c9d03eb94dee493fd1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sx01l5rsk0ggux', 2, e'(1) Modified destroyAllPlugins to remove the plugin\'s view from the browser\'s view hierarchy prior to calling the plugins\' pluginDestroy methods.
(2) Modified showURL:inFrame: such that arg \'target\' may be \'nil\'.


git-svn-id: svn://svn.chromium.org/blink/trunk@2548 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mhay', '2002-11-04 16:24:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/97abf6a509b24919087bf834ae2f4a8450845a6a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sy01l5ewn7xoli', 2, e'WebKit:

        * Plugins.subproj/WebPluginError.h:
        * Plugins.subproj/WebPluginError.m:
	Not __MyCompanyName__, but rather Apple Computer.

WebBrowser:

        * DownloadProgressEntry.m:
        * DownloadRow.h:
        * DownloadRow.m:
        * DownloadViewController.h:
        * DownloadViewController.m:
        * DownloadWindowController.h:
        * DownloadWindowController.m:
        * ServicesProvider.h:
        * ServicesProvider.m:
	Not __MyCompanyName__, but rather Apple Computer.


git-svn-id: svn://svn.chromium.org/blink/trunk@2547 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-04 07:49:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f2f6097c2dd328d65c3fd1ab8a4f2e69a027007d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01sz01l53trr9q1l', 2, e'WebFoundation:

        * AuthenticationManager.subproj/WebKeychainCredential.m:
        (-[WebKeychainCredentialPrivate dealloc]): Check for NULL before calling
	CFRelease, since our dealloc function can be called even before our init
	function runs if a base class decides to do the "[self release]; return nil;"
	thing in its init function.

        * CookieManager.subproj/WebCookieStorageServer.m:
        (-[WebCookieStorageServerPrivate dealloc]): Remove call to invalidate, since,
	as Trey reminded us, it\'s pointless to invalidate a timer that retains us in
	our dealloc function.

WebKit:

        * Plugins.subproj/WebPlugin.h: Fix comment.

        * Plugins.subproj/WebPluginError.m: (-[WebPluginErrorPrivate dealloc]):
	Fix leak by calling [super dealloc].

        * WebView.subproj/WebFramePrivate.m: (-[WebFramePrivate dealloc]): Remove the
	timer invalidate since, as Trey pointed out, it\'s pointless to invalidate a
	timer in dealloc if it\'s retaining this object while valid.

WebBrowser:

        * DiskCopyPuppetStrings.h: Remove bogus Log section.
	Fix header guard that was broken.

        * DownloadRow.m: (-[DownloadRow dealloc]): Fix leak by calling [super dealloc].
        * DownloadViewController.m: (-[DownloadViewController dealloc]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2546 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-04 07:05:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/191a756d0a7793609c13fc75bc6dea1b9e20a1ad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01t001l5pjukm2wg', 2, e'WebKit:

	- Added MacBinary decoding code. Not yet used.

        * Downloads.subproj/WebMacBinaryDecoder.h: Added.
        * Downloads.subproj/WebMacBinaryDecoder.m: Added.
        (+[WebMacBinaryDecoder canDecodeHeaderData:]):
        (-[WebMacBinaryDecoder init]):
        (-[WebMacBinaryDecoder dealloc]):
        (-[WebMacBinaryDecoder decodeData:dataForkData:resourceForkData:]):
        (-[WebMacBinaryDecoder finishDecoding]):
        (-[WebMacBinaryDecoder fileAttributes]):
        * Downloads.subproj/crc16.h: Added.
        * Downloads.subproj/crc16.m: Added.
        (CRC16):
        * Plugins.subproj/WebPluginPackage.m:
        (-[WebPluginPackage isLoaded]):
        * WebKit.pbproj/project.pbxproj:

WebBrowser:

	- Added DiskCopy interaction code. Not yet used.
	- Added Chuck\'s table view hacks to get NSViews in a TableView. Not yet used.


        * DiskCopyPuppetStrings.h: Added.
        * DownloadMonitor.h:
        * DownloadMonitor.m:
        (-[DownloadMonitor init]):
        (-[DownloadMonitor removeEntry:]):
        (-[DownloadMonitor _removeExpiredEntries]):
        (-[DownloadMonitor resource:didFinishLoadingFromDataSource:]):
        (-[DownloadMonitor resource:didFailLoadingWithError:fromDataSource:]):
        * ViewCell.h: Added.
        * ViewCell.m: Added.
        (RectCenteredInRect):
        (+[ViewCell needsToRemainInViewHierarchy]):
        (-[ViewCell init]):
        (-[ViewCell copyWithZone:]):
        (-[ViewCell dealloc]):
        (-[ViewCell instantiateView]):
        (-[ViewCell setObjectValue:]):
        (-[ViewCell objectValue]):
        (-[ViewCell removeViewFromSuperview]):
        (-[ViewCell setView:]):
        (-[ViewCell view]):
        (-[ViewCell setViewFrame:inCellFrame:inView:]):
        (-[ViewCell drawWithFrame:inView:]):
        (-[ViewCell trackMouse:inRect:ofView:]):
        (-[ViewCell editWithFrame:inView:editor:delegate:event:]):
        * ViewCellTableView.h: Added.
        * ViewCellTableView.m: Added.
        (+[ViewCellTableColumn newViewCell]):
        (-[ViewCellTableColumn initWithIdentifier:]):
        (-[ViewCellTableColumn initWithCoder:]):
        (-[ViewCellTableColumn dealloc]):
        (-[ViewCellTableColumn cells]):
        (-[ViewCellTableColumn dataCellForRow:]):
        (-[ViewCellTableColumn removeRows:]):
        (-[ViewCellTableColumn appendRows:]):
        (-[ViewCellTableColumn noteNumberOfTableRowsChanged:]):
        (-[ViewCellTableColumn willRemoveFromTableView:]):
        (-[NSTableColumn noteNumberOfTableRowsChanged:]):
        (-[NSTableColumn willRemoveFromTableView:]):
        (-[ViewCellTableView replaceHeaderView]):
        (-[ViewCellTableView workaroundReorderResizeProblem]):
        (-[ViewCellTableView didReorderOrResizeNotification:]):
        (-[ViewCellTableView initWithFrame:]):
        (-[ViewCellTableView initWithCoder:]):
        (-[ViewCellTableView dealloc]):
        (-[ViewCellTableView noteNumberOfRowsChanged]):
        (-[ViewCellTableView reloadData]):
        (-[ViewCellTableView removeTableColumn:]):
        (-[ViewCellTableView acceptsFirstResponder]):
        (-[ViewCellTableView needsPanelToBecomeKey]):
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2545 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-03 21:18:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/303c044a0843bd762b11dfd33c2051a32b97ac1b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01t101l5el5g0nm7', 2, e'Tools:

        * Scripts/extract-localizable-strings: Add printf to the list of
	functions to ignore when finding localizable strings.

WebKit:

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent
	changes both to the code here and to the extract script.

WebBrowser:

        * English.lproj/StringsNotToBeLocalized.txt: Remove some now-unneeded
	exceptions for strings that don\'t appear in our code any more.

        * English.lproj/Localizable.strings: Re-generated. It appears that
	John removed two more localizable strings after he generated it.
	(I had to check because last time I did this I clobbered John\'s
	change, and I didn\'t want to do that again.)


git-svn-id: svn://svn.chromium.org/blink/trunk@2544 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-03 20:50:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dc779d2371f048199b9790dc730315c97cc00cf8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnokwr01t201l5xsc2x81g', 2, e'WebCore:

	- fixed 3091300 -- "prelighting" on local page is still slow, despite recent bug fix

	Turns out all updating would be slow if any resources on the page failed to load.

        * kwq/WebCoreResourceLoader.h: Add reportError, distinct from
	cancel and finish.
        * kwq/KWQResourceLoader.mm: (-[KWQResourceLoader reportError]):
	Set the error boolean on the job and then call through to [finish].

WebKit:

	- fixed 3091300 -- "prelighting" on local page is still slow, despite recent bug fix

	Turns out all updating would be slow if any resources on the page failed to load.

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:]):
	Call the new reportError instead of cancel.
        (-[WebSubresourceClient handle:didFailLoadingWithError:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2543 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-03 20:41:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/69cb74cd822ae75e61dd1bd5fadcb7c4e4198336');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rf01l50phn7vcl', 2, e'	- fixed 3091275 -- can\'t type into Answer field in RealOne Player order form

        * khtml/rendering/render_form.cpp:
        (RenderLineEdit::updateFromElement): Treat 0 as max (1024) as other browsers do.
        (RenderFileButton::updateFromElement): Ditto, although this is in !APPLE_CHANGES code
	that we don\'t use in WebCore.


git-svn-id: svn://svn.chromium.org/blink/trunk@2542 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-03 20:20:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2a27fbab56de0454ddcba495e00093e827bcd4e8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rg01l541ygmn3u', 2, e'        * Panels.subproj/WebAuthenticationPanel.m: (-[WebAuthenticationPanel setUpForRequest:]):
	Do the previous fix one better by using _web_hostWithPort.


git-svn-id: svn://svn.chromium.org/blink/trunk@2541 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-02 22:00:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/61ceb70f57cc2f74f2fc09305693d074d3a265f0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rh01l5lbk2dvwu', 2, e'	- fixed bug where the address of an NSNumber object would be used for the port number

        * Panels.subproj/WebAuthenticationPanel.m: (-[WebAuthenticationPanel setUpForRequest:]):
	Call intValue on the object returned from [NSURL port].


git-svn-id: svn://svn.chromium.org/blink/trunk@2540 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-02 21:55:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e0c864dc6af4ed3f5c3977aa3b6a977a48d5fe2a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01ri01l550zz4m86', 2, e'        * Plugins.subproj/WebBaseNetscapePluginView.m: (-[WebBaseNetscapePluginView sendEvent:]):
	Fixed uninitialized variable problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@2539 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-02 06:46:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3716805c124c40682c119d51dae9aad1058aa78d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rj01l53kwnn175', 2, e'	- applied the same "subclass responsibility" pattern here as in
	some of the other WebCore classes

        * kwq/WebCoreImageRendererFactory.h: Move the subclass responsibility into a protocol.
        * kwq/WebCoreImageRendererFactory.m: Remove now-unneeded stubs.


git-svn-id: svn://svn.chromium.org/blink/trunk@2538 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-02 02:16:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c22de9dcd55e4c63ee88bbdd73e4d88e69e3fa66');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rk01l5pvipeobv', 2, e'	- fixed 3090239 -- crash on window close

        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _detachFromParent]): Nil out the bridge and
	release it so we don\'t close the URL twice.

	- fixed 3058598 -- animated gif animates repeatedly in Alex, but only once in other browsers

        * WebCoreSupport.subproj/WebImageRenderer.h: Added fields used by bug workaround.
        * WebCoreSupport.subproj/WebImageRenderer.m:
        (-[WebImageRenderer blockHasGIFExtensionSignature:length:]): Helper method for bug workaround.
        (-[WebImageRenderer checkDataForGIFExtensionSignature:]): Checks incoming data for the GIF
	extension signatures.
        (-[WebImageRenderer initWithData:]): Override to call checkDataForGIFExtensionSignature.
        (-[WebImageRenderer incrementalLoadWithBytes:length:complete:]): Call checkDataForGIFExtensionSignature.
        (-[WebImageRenderer repetitionCount]): Return 1 if we were going to return 0, but we didn\'t see a
	GIF extension signature. This workaround can be removed once we require a system new enough to have
	the bug fix for bug 3090341.
        (-[WebImageRenderer nextFrame:]): Stop on last frame, don\'t wrap around to first.

        * WebCoreSupport.subproj/WebImageRendererFactory.h: Update for changes to WebCore.
        * WebCoreSupport.subproj/WebImageRendererFactory.m: Tweaks.

        * WebView.subproj/WebImageRepresentation.m: Update imports.
        * WebView.subproj/WebImageView.m: Update imports.


git-svn-id: svn://svn.chromium.org/blink/trunk@2537 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-02 02:12:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3ee48b9790f06a3a0d5db6fe2b3e808137a7cc2a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rl01l5j00ge2l2', 2, e'i        Implemented rendering of diacriticals.

        * Misc.subproj/WebUnicode.h:
        * Misc.subproj/WebUnicode.m:
        (_unicodeDigitValue):
        (_unicodeCategory):
        (_unicodeDirection):
        (_unicodeJoining):
        (_unicodeDecompositionTag):
        (_unicodeMirrored):
        (_unicodeCombiningClass):
        (_unicodeLower):
        (_unicodeUpper):
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer drawCharacters:stringLength:fromCharacterPosition:toCharacterPosition:atPoint:withPadding:withTextColor:backgroundColor:rightToLeft:]):
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:]):
        (-[WebTextRenderer extendCharacterToGlyphMapToInclude:]):

        Removed old implementation.

        * kwq/KWQChar.mm:
        (QChar::direction):

        Renamed JoiningCenter -> JoiningCausing.

        * kwq/WebCoreUnicode.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2536 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-11-02 01:16:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4ab614599da1c81d8d5d9810237b1d73b17676d1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rm01l5ttv9ahr3', 2, e'JavaScriptCore:

        * kjs/object.cpp: Make the same change Maciej just did, but to the
	other constructor right next to the one he changed.

WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.

WebKit:

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2535 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-02 01:10:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ad4c134a554c4db6ea5e4885dea9155a15dca258');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rn01l5b6uyfxu3', 2, e'	- fixed 3062598 -- meta refresh of 0.1s fails

	KHTML was using an integer for the delay.

        * khtml/khtml_part.h: Make scheduleRedirection take a double.
        * khtml/khtmlpart_p.h: Make m_delayRedirect be a double.
        * khtml/khtml_part.cpp:
        (KHTMLPart::slotData): Use a double when parsing meta refresh.
        (KHTMLPart::checkCompleted): Cast to int when passing to timer start.
        (KHTMLPart::scheduleRedirection): Cast to int when passing to timer
	start; also check for absurd values and do nothing.
        (KHTMLPart::slotParentCompleted): Cast to int when passing to timer start.

        * khtml/xml/dom_docimpl.cpp: (DocumentImpl::processHttpEquiv):
	Use a double when parsing meta refresh.

        * kwq/KWQKDebug.h: Add overloads for unsigned int and double to keep us
	compiling now that we use a double in one place.


git-svn-id: svn://svn.chromium.org/blink/trunk@2534 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-02 00:28:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1b11d53694c4d1bbd2f33a9bfab8191631663be7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01ro01l586ms0vod', 2, e'WebKit:

	Check that the plug-in is loaded before calling it.

        * Plugins.subproj/WebBaseNetscapePluginStream.h:
        * Plugins.subproj/WebBaseNetscapePluginStream.m:
        (-[WebBaseNetscapePluginStream dealloc]):
        (-[WebBaseNetscapePluginStream setPluginPointer:]):
        (-[WebBaseNetscapePluginStream setResponse:]):
        (-[WebBaseNetscapePluginStream receivedData:]):
        (-[WebBaseNetscapePluginStream destroyStreamWithReason:]):
        (-[WebBaseNetscapePluginStream finishedLoadingWithData:]):
        * Plugins.subproj/WebBasePluginPackage.h:
        * Plugins.subproj/WebBasePluginPackage.m:
        (-[WebBasePluginPackage isLoaded]):
        * Plugins.subproj/WebNetscapePluginDocumentView.m:
        (-[WebNetscapePluginDocumentView setDataSource:]):
        * Plugins.subproj/WebNetscapePluginPackage.m:
        (-[WebNetscapePluginPackage isLoaded]):
        * Plugins.subproj/WebNetscapePluginRepresentation.m:
        (-[WebNetscapePluginRepresentation receivedData:withDataSource:]):

WebBrowser:

	Use the display name of the dataSource not the document when reporting plug-in errors.

        * LoadProgressMonitor.m:
        (-[LoadProgressMonitor pluginFailedWithError:dataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2533 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-02 00:13:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3cfffcd00b6e7eb7ce13135cebb45db11141adc5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rp01l5wb0h4j7n', 2, e'WebFoundation:

        * Misc.subproj/WebError.m:

WebKit:

	- Moved plug-in error handling to WebResourceLoadDelegate
	- Report plug-in load failure, java load failure, and plug-in not found errors.
	- Added WebPluginError, subclass of WebError.
	- Attempted fix: 3090675 - Standalone WMP (Window Media Player) content crashes Alexander

        * English.lproj/Localizable.strings:
        * Misc.subproj/WebKitErrors.h:
        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView sendEvent:]): don\'t send event to null function
        * Plugins.subproj/WebNetscapePluginDocumentView.m:
        (-[WebNetscapePluginDocumentView setDataSource:]): report plug-in load failure
        * Plugins.subproj/WebNullPluginView.h:
        * Plugins.subproj/WebNullPluginView.m: take a WebPluginError
        (-[WebNullPluginView dealloc]):
        (-[WebNullPluginView viewDidMoveToWindow]):
        * Plugins.subproj/WebPluginError.h: Added.
        * Plugins.subproj/WebPluginError.m: Added.
        (-[WebPluginErrorPrivate dealloc]):
        (-[WebPluginError dealloc]):
        (-[WebPluginError pluginPageURL]):
        (-[WebPluginError pluginName]):
        (-[WebPluginError MIMEType]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge viewForPluginWithURL:attributes:baseURL:MIMEType:]): report plug-in load failure
        (-[WebBridge viewForJavaAppletWithFrame:attributes:baseURL:]): report plug-in load failure
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebController.m:
        (-[WebResourceLoadDelegate pluginFailedWithError:dataSource:]): added, does nothing
        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebResourceLoadDelegate.h:
        * WebView.subproj/WebView.m:
        (+[WebView initialize]): added new error strings

WebBrowser:

	- Moved plug-in error handling to WebResourceLoadDelegate

        * BrowserWebController.m:
        * English.lproj/Localizable.strings:
        * LoadProgressMonitor.m:
        (-[LoadProgressMonitor pluginNotFoundSheetEnded:returnCode:contextInfo:]):
        (-[LoadProgressMonitor pluginFailedWithError:dataSource:]): display special sheets for new errors.


git-svn-id: svn://svn.chromium.org/blink/trunk@2532 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-11-01 23:17:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0f69e8f8c04fb36ee09b7b521db16a7b8a7696c8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rq01l5tmmptdan', 2, e'	- fixed 3090249 -- random crash on page load
	- fixed 3090286 -- assert _job in KWQResourceLoader cancel

        * kwq/KWQResourceLoader.mm: (-[KWQResourceLoader cancel]):
	This function needs to handle the case where the load is already cancelled.
	I think this also caused Avie\'s crash.


git-svn-id: svn://svn.chromium.org/blink/trunk@2531 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-01 23:00:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/082cc2771b786ca851fec19bf22283665a4b6ffd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rr01l5l4hqlu5o', 2, e'WebKit:

	- some weaning of WebBookmark API from WebBookmarkGroup

        * Bookmarks.subproj/WebBookmark.m:
        (-[WebBookmark dealloc]):
	set group to nil instead of asserting that it\'s non-nil

        * Bookmarks.subproj/WebBookmarkGroup.h:
	removed obsolete ivar _bookmarksByID
        * Bookmarks.subproj/WebBookmarkGroup.m:
        (-[WebBookmarkGroup initWithFile:]):
	removed obsolete ivar _bookmarksByID
        (-[WebBookmarkGroup dealloc]):
	removed obsolete ivar _bookmarksByID
        (-[WebBookmarkGroup removeBookmark:]):
	removed this unnecessary method; callers need to use
	[[bookmark parent] removeChild:bookmark] instead

WebBrowser:

	- fixed bug Darin found in my recent checkin that caused rearranging
	bookmarks in toolbar to fail an assertion in [WebBookmarkGroup removeBookmark:]
	- fixed a leak I found in the process (bookmark rearranged in toolbar
	would leak)

        * BookmarksController.m:
        (-[BookmarksController updateBookmarkSources]):
	use [[bookmark parent] removeChild:bookmark] instead of
	now-obsolete [[bookmark group] removeBookmark:bookmark]

        * BookmarksViewController.m:
        (-[BookmarksViewController removeBookmarks:]),
        (-[BookmarksViewController redoRemoveBookmarks:]),
        (-[BookmarksViewController undoNewBookmark:]),
        (-[BookmarksViewController moveBookmarks:toNewFolder:]):
	use [[bookmark parent] removeChild:bookmark] instead of
	now-obsolete [[bookmark group] removeBookmark:bookmark]

        * BrowserWebBookmarkExtras.m:
        (-[WebBookmark deleteWithUndo]):
	use [[bookmark parent] removeChild:bookmark] instead of
	now-obsolete [[bookmark group] removeBookmark:bookmark]

        * FavoriteButton.m:
        (-[FavoriteButton draggedImage:endedAt:operation:]):
	don\'t use undoable delete in the drag-to-rearrange case;
	added FIXME explaining why

        * FavoritesBar.m:
        (-[FavoritesBar deleteFavoritesWithURLsMatchingBookmarks:]),
        (-[FavoritesBar titleChangeSheetDidEnd:returnCode:contextInfo:]):
	use [[bookmark parent] removeChild:bookmark] instead of
	now-obsolete [[bookmark group] removeBookmark:bookmark]
        (-[FavoritesBar performDragOperation:]):
	autorelease the copy of the bookmark in the dragged FavoriteButton


git-svn-id: svn://svn.chromium.org/blink/trunk@2530 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-11-01 22:09:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/14e7a3c656a018f927b9fa5e250fd08cac483687');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rs01l5apbph8x0', 2, e'	Moved involved code for loading URLs from WebBridge up to WebFrame, with a little
	consolidation along the way.  I need to get all this stuff in one place in prep
	for doing back-forward properly with frames.  There should be no change in
	functionality as a result of these changes.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge loadURL:reload:]):
        (-[WebBridge postWithURL:data:contentType:]):
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]):
	Much of the guts of these is moved to WebFramePrivate.
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setIsClientRedirect:]):
        (-[WebDataSource _isClientRedirect]):
	Keep state of whether we\'re processing a redirect in DataSource.  I had previously
	to do this with a loadType, but that failed because cliRedir is orthogonal.
        * WebView.subproj/WebFramePrivate.h:
	WebFrameLoadTypeClientRedirect is gone.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate init]):
	Initialize loadType explicitly.
        (-[WebFrame _transitionToCommitted]):
	Test [dataSource _isClientRedirect] instead of looking at loadType.
        (-[WebFrame _isLoadComplete]):
	Nuke WebFrameLoadTypeClientRedirect
        (-[WebFrame _goToItem:withFrameLoadType:]):
	Nuke WebFrameLoadTypeClientRedirect.
        (-[WebFrame _loadRequest:]):
	Helper method moved from WebBridge.
        (-[WebFrame _loadURL:loadType:clientRedirect:]):
	Core impl moved up from WebBridge.
        (-[WebFrame _postWithURL:data:contentType:]):
	Core impl moved up from WebBridge.


git-svn-id: svn://svn.chromium.org/blink/trunk@2529 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-11-01 20:45:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/94e89483b47ca15da00bd1d8ea9902a7e0325532');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rt01l51i3fwfzi', 2, e'	- implemented loop counts

        * WebCoreSupport.subproj/WebImageRenderer.h: Added repetitionsComplete field.
        * WebCoreSupport.subproj/WebImageRenderer.m:
        (-[WebImageRenderer repetitionCount]): Get NSImageLoopCount.
        (-[WebImageRenderer nextFrame:]): Check repetitionCount and stop once we hit it.


git-svn-id: svn://svn.chromium.org/blink/trunk@2528 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-01 19:51:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b8bdcdfd91bf04c650500b454d5743d72129c12d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01ru01l5oys67nyx', 2, e'	- fixed huge leak when doing page load test

        * khtml/ecma/kjs_binding.h:
        * khtml/ecma/kjs_binding.cpp: Remove ScriptInterpreter::mark().
	We don\'t want to mark the elements of m_domObjects, because we don\'t want
	to keep them around the entire lifetime of the interpreter. This is fine
	because we already have forgetDOMObject(), which takes care of when they
	are deallocated.

        * khtml/ecma/kjs_dom.cpp:
        * khtml/ecma/kjs_dom.h:
        * khtml/ecma/kjs_html.cpp:
        * khtml/ecma/kjs_html.h:
	Changed lots of parameters to pass by const reference for a bit of a code
	size and performance gain.


git-svn-id: svn://svn.chromium.org/blink/trunk@2527 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-01 01:15:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2a90d768618c853a78caf2ffd9aee028aeb6543a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rv01l5k5st0rtm', 2, e'        * WebView.subproj/WebFrame.m: (-[WebFrame setController:]): Add an assert,
	hoping to catch a reported bug earlier or disprove one theory.


git-svn-id: svn://svn.chromium.org/blink/trunk@2526 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-11-01 01:10:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c34dd78c033835002dd614e69ba99c352ecfb62f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rw01l55enzp9cq', 2, e'	Added API to support 3072505 - SnapBack for user-entered page address
	Refixed 3041616 - Extra page added in back button history
	Previous fix was stepped on by a later checkin.  Re-established that fix, then
	went on to make sure we have the final URL and title in the BF item in the
	case of a client redirect.  Also handles redirects that happen within frames.
	Fixed 3078560 - div added to "back" list

        * History.subproj/WebBackForwardList.h:
        * History.subproj/WebBackForwardList.m:
        (-[WebBackForwardList containsEntry:]):
	Added new API for 3072505.
        * WebCoreSupport.subproj/WebBridge.h:
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge reportClientRedirectTo:delay:fireDate:]):
        (-[WebBridge reportClientRedirectCancelled]):
        (-[WebBridge loadURL:reload:]):
	Added logging.  Renamed flag.  Establish the right loadtype and set BF items
	from the old dataSource onto the new dataSource in the case of a client redirect.
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setRequest:]):
	Add logging.
        (-[WebDataSource _addBackForwardItem:]):
        (-[WebDataSource _addBackForwardItems:]):
        (-[WebDataSource _backForwardItems]):
	New setters/getters to support setting up the new dataSource of a client redirect.
        * WebView.subproj/WebFramePrivate.h:
	New loadType WebFrameLoadTypeClientRedirect.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):
	Update the URL in the BF list in the client redirect case.
        (-[WebFrame _isLoadComplete]):
	NOP case for WebFrameLoadTypeClientRedirect
        (-[WebFrame _goToItem:withFrameLoadType:]):
	ASSERT_NOT_REACHED case for WebFrameLoadTypeClientRedirect


git-svn-id: svn://svn.chromium.org/blink/trunk@2525 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-10-31 22:59:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/74fab286a4d60d0847a053523925950e8f91bed2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rx01l5imuexfos', 2, e'        Corrected extern definitions of lookup tables.

        * Misc.subproj/WebUnicode.h:
        * Misc.subproj/WebUnicode.m:
        (_unicodeDirection):
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (+[WebTextRenderer initialize]):

        Turned on use of lookup tables.

        * kwq/KWQChar.mm:
        (QChar::direction):
        (QChar::mirrored):
        (QChar::mirroredChar):


git-svn-id: svn://svn.chromium.org/blink/trunk@2524 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-31 22:15:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0705c37c71c76d86daea817859820503caa3583a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01ry01l53mpffz41', 2, e'	- fixed 3082660 - REGRESSION: one ListImp leaks opening/closing nearly empty web page

        * kjs/object.cpp: Set gc allowed on freshly created ListImp, since
	there is no List wrapper for it.


git-svn-id: svn://svn.chromium.org/blink/trunk@2523 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-31 20:27:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/50cac3e48a9e4792acdb07477fbd5bd7d6eb099b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01rz01l5egxpuqh4', 2, e'        * kjs/grammar.y: Fix the APPLE_CHANGES thing here too.
        * kjs/grammar.cpp: Regenerated this file.


git-svn-id: svn://svn.chromium.org/blink/trunk@2522 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-31 19:12:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/28a99a7db9a53369b6c7da5cef4c6420bafc3ed1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01s001l5jy1ppzvw', 2, e'	- fixed 3075803 - yahoo customize layout - delete, ordering of items doesn\'t work

        * khtml/html/html_formimpl.h:
        * khtml/html/html_formimpl.cpp:
        (HTMLSelectElementImpl::recalcStyle): New method to insure the
	select element updates if the contents of the option subelements
	are changed.


git-svn-id: svn://svn.chromium.org/blink/trunk@2521 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-31 18:43:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/14a7f0c08d4161571df0ef7069258e117e15ce1c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01s101l5jpizwsil', 2, e'Alex-30 version markers


git-svn-id: svn://svn.chromium.org/blink/trunk@2519 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-10-31 18:05:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e987035e7779c861044e649b15909bdec96d010c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01s201l5r69t53qb', 2, e'Revert accidentally committed change.


git-svn-id: svn://svn.chromium.org/blink/trunk@2518 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-31 05:26:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5452f9b6e6a6d0211675979aefd9b94729c3373d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01s301l537meyiwo', 2, e'	- fixed 3049853 - Javascript: setInterval incorrectly acts as single shot

        * kwq/KWQObject.mm:
        (QObject::startTimer): Set a recurring timer instead of
	single-shot, to match QObject semantics.


git-svn-id: svn://svn.chromium.org/blink/trunk@2517 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-31 05:20:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/907dbc04e0079f153a66ba39de42e1c168a5d167');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01s401l5n8wecfi9', 2, e'Fixed stupid compile problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@2516 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-31 02:42:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/612ed73971e5994a7b43cb2b94f0f009c11a9795');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01s501l5iltoztv7', 2, e'        More work on bidi and contextual forms.
        Table lookup code for unicode characters attributes.

        * Misc.subproj/WebUnicode.h: Added.
        * Misc.subproj/WebUnicode.m: Added.
        (_unicodeDigitValue):
        (_unicodeCategory):
        (_unicodeDirection):
        (_unicodeJoining):
        (_unicodeDecompositionTag):
        (_unicodeMirrored):
        (_unicodeMirroredChar):
        (_unicodeCombiningClass):
        (_unicodeLower):
        (_unicodeUpper):
        (WebKitInitializeUnicode):
        * Misc.subproj/WebUnicodeTables.m: Added.
        * WebKit.pbproj/project.pbxproj:

        Additional logging parameter.

        * Misc.subproj/WebKitLogging.h:
        * Misc.subproj/WebKitLogging.m:

        More work on bidi and contextual forms.
        Table lookup code is up in WebKit. Function
        pointers are used to isolate WebCore from private
        implementation in WebKit.  Needs to be fast, so
        the usual ObjC abstraction won\'t work.

        * WebCore.exp:
        * WebCore.pbproj/project.pbxproj:
        * kwq/KWQChar.mm:
        (QChar::direction):
        * kwq/KWQString.h:
        * kwq/WebCoreUnicode.cpp: Added.
        * kwq/WebCoreUnicode.h: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2515 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-31 02:23:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cf8e236f39cf9b52d93b0a9888adf63fbfa3813f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01s601l5h21eti2f', 2, e'WebKit:

	Pass WebResourceRequest rather than just NSURL to URL policy
	delegate method.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (+[WebDefaultPolicyDelegate defaultURLPolicyForRequest:]):
        (-[WebDefaultPolicyDelegate URLPolicyForRequest:inFrame:]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _shouldShowRequest:]):

WebBrowser:

	Adjust for WebKit API change.

        * BrowserDocument.m:
        (-[BrowserDocument _goToURL:referrer:withFallbackURLs:]):
        * BrowserWebController.m:
        (-[BrowserWebController URLPolicyForRequest:inFrame:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2514 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-31 02:15:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/46f5c15ff2beb1cd4387f7a2288d0ab37f770624');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01s701l5mw7knbq6', 2, e'	- fixed crash when you open an empty window and just hit tab, tab, tab

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::nextKeyViewInFrame): Check for nil.


git-svn-id: svn://svn.chromium.org/blink/trunk@2513 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-30 22:50:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a87f54595ec036e81ba0190808b3990d70ecc62c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoj6r01s801l5xm39ov79', 2, e'WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.

WebKit:

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.

WebBrowser:

        * English.lproj/Localizable.strings: Regenerated this file.


git-svn-id: svn://svn.chromium.org/blink/trunk@2512 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-30 22:19:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/792bf6adef14229a4e7552bd82ced8aa4369d6ce');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501ql01l5vu42j8qt', 2, e'	- fixed 3073230 -- Alex is doing file I/O when executing JavaScript by asking for localtime

	I fixed this by using Core Foundation time functions instead.

        * kjs/date_object.cpp:
        (tmUsingCF): Function that uses Core Foundation to get the time and then puts it into
	a tm struct.
        (gmtimeUsingCF): Function used instead of gmtime (used a macro to make the substitution).
        (localtimeUsingCF): Function used instead of localtime (used a macro to make the substitution).


git-svn-id: svn://svn.chromium.org/blink/trunk@2511 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-30 20:15:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5e0ac0d120b93dbb5abec8dc70871266b51cd90a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qm01l5f0cb6d1u', 2, e'	Fixed: 3088122 - Assertion failure/crash closing window with QuickTime streaming in

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setMainDocumentError:]): call receivedError on the representation.


git-svn-id: svn://svn.chromium.org/blink/trunk@2510 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-30 19:34:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/327597d90e7b9f2403f84e0070634ccd09dd484f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qn01l5kmtzz2wz', 2, e'	- fixed memory leaks in plugin package creation code

        * Plugins.subproj/WebNetscapePluginPackage.m:
        (-[WebNetscapePluginPackage initWithPath:]): Rearrange this code, and make sure
	that it does a [self release] if it\'s going to return nil instead of self.
        (-[WebNetscapePluginPackage unload]): Set bundle to 0 when we release it.
        (-[WebNetscapePluginPackage dealloc]): Release the bundle if it\'s not 0.

        * Plugins.subproj/WebPluginPackage.m:
        (-[WebPluginPackage initWithPath:]): Rearrange this code, and make sure
	that it does a [self release] if it\'s going to return nil instead of self.


git-svn-id: svn://svn.chromium.org/blink/trunk@2509 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-30 19:17:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6c9d216660091efa4e564455f7f361406155c954');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qo01l5jh1y2iyu', 2, e'	- fixed 3083982 -- Logging into AOL gives null view, crash

	I fixed the crash part. Not the "gives null view" part.
	The key was to disentangle the references and lifetimes of the transfer job class,
	and the resource loader object that KWQ uses to connect it with WebKit.

        * kwq/KWQKJobClasses.h: Change the job to keep a loader reference, not a
	handle reference. The job needs to inform the loader when it\'s being deallocated.
        * kwq/KWQKJobClasses.mm: Use jobWillBeDeallocated instead of cancel when the
	job is deallocated.

        * kwq/KWQLoader.mm: (KWQServeRequest): Use KWQResourceLoader, now with a home in
	a separate file.

        * kwq/KWQResourceLoader.h: Added.
        * kwq/KWQResourceLoader.mm: Added.
        * WebCore.pbproj/project.pbxproj: Added KWQResourceLoader files.


git-svn-id: svn://svn.chromium.org/blink/trunk@2508 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-30 17:51:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0667f0ddd52b95f0ccf8e108ee34bbd2b3874458');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qp01l5wsev6384', 2, e'WebCore:

	- fixed 3086564 -- REGRESSION: meta-refresh to the same page doesn\'t refresh

	The key is to get args.reload passed through to the bridge.

        * kwq/WebCoreBridge.h: Add reload parameter to loadURL:.

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPart::openURL): Pass NO for reload.
        (KWQKHTMLPart::openURLRequest): Pass args.reload for reload.
        (KWQKHTMLPart::urlSelected): Pass args.reload for reload.
        (KWQKHTMLPart::submitForm): Pass args.reload for reload.

	- fixed a memory problem with the use of NSBrowser in KWQListBox
        - fixed 2863040 -- multiple default items in select list not selected

	Switched to use NSTableView instead of NSBrowser. This should also create
	a measurable speedup due to other changes to this class.

        * kwq/KWQListBox.h: Remove firstItem(), the insertItem() that takes a QListBoxItem
	parameter, and deleteItems(). Add _items, _width, and _widthGood. Removed _head.
	Removed the QListBoxItem and QListBoxText classes.
        * kwq/KWQListBox.mm:
        (QListBox::QListBox): Create a KWQListBoxScrollView and put an NSTableView
	inside it. Also create an NSMutableArray to hold the items.
        (QListBox::~QListBox): Disconnect the table view from the delegate before
	releasing it. Also release the items array.
        (QListBox::count): Return the array count.
        (QListBox::clear): Do a reloadData here instead of loadColumnZero.
        (QListBox::setSelectionMode): Update for table view.
        (QListBox::insertItem): Update for table view.
        (QListBox::insertGroupLabel): Just calls insertItem for now.
        (QListBox::endBatchInsert): Update for table view.
        (QListBox::setSelected): Update for table view, including support for multiple
	selection.
        (QListBox::isSelected): Update for table view.
        (QListBox::sizeForNumberOfLines): Use the table view cell for width, and
	cache it so we don\'t have to measure all the strings over and over again.
        (-[KWQListBoxScrollView setFrameSize:]): Resize the table view column whenever
	the entire scroll view is resized.
        (-[KWQListBoxTableViewDelegate initWithListBox:]): Store box pointer and
        pointer to items array.
        (-[KWQListBoxTableViewDelegate numberOfRowsInTableView:]): Return count.
        (-[KWQListBoxTableViewDelegate tableView:objectValueForTableColumn:row:]):
	Get the data from the items array.
        (-[KWQListBoxTableViewDelegate tableViewSelectionDidChange:]): Call both the
	selection-changed signal and the clicked signal.

        * khtml/rendering/render_form.cpp: (RenderSelect::updateFromElement):
	Get rid of the one place here that gets at a list box item by calling a KWQ
	function insertGroupLabel instead of making a QListBoxText. Also call
        beginBatchInsert() before clear() for a slight additional speed boost.

	- fixed 3067572 -- javascript: URLs typed into page address field or
	bookmarks don\'t work in empty window

	We needed a document for DOM, so we make a dummy one. This works for an empty
	window, and also for a window with non-HTML content.

        * kwq/KWQKHTMLPart.h: Added createDummyDocument().
        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::createDummyDocument): Create an empty
	DOM document if there isn\'t one already.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge stringByEvaluatingJavaScriptFromString:]): Call the new
	createDummyDocument() instead of checking and doing nothing if there is no
	document present when this is called.

	- other stuff

        * kwq/WebCoreBridge.mm: (-[WebCoreBridge DOMDocument]): Removed a stray printf.

        * kwq/KWQTextArea.mm: Tweaked code a little.

WebKit:

	- fixed 3086564 -- REGRESSION: meta-refresh to the same page doesn\'t refresh

	The key is to respect the new reload: parameter from the bridge.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge loadURL:reload:]): Don\'t ever treat a reload as a redirect.
	Set the cache policy to WebRequestCachePolicyLoadFromOrigin if it\'s a reload.

	- fixed 3087214 -- REGRESSION: <WebKit/WebKit.h> contains #import of non-existent header

        * Misc.subproj/WebKit.h: Removed import of WebControllerSets.h, which is private.


git-svn-id: svn://svn.chromium.org/blink/trunk@2507 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-30 16:19:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d57f33146ab05fbceaa49e9a10543caf15c1cc81');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qq01l569xetd1i', 2, e'WebKit:

	Another step towards the policy API change - add request argument
	to file URL policy and remove isDirectory argument.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (-[WebDefaultPolicyDelegate fileURLPolicyForMIMEType:andRequest:inFrame:]):
        * WebView.subproj/WebFrame.m:
        (-[WebFrame setProvisionalDataSource:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _shouldShowRequest:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]):

WebBrowser:

	Adjust for API change.

        * BrowserWebController.m:
        (-[BrowserWebController fileURLPolicyForMIMEType:andRequest:inFrame:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2506 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-30 09:43:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/245919bd4aa42f88d1254cf4f04f5ef12e2332c7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qr01l5wo64oehz', 2, e'WebKit:

	First step towards policy API change. Pass request instead of URL
	to content policy delegate method.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveResponse:]):

WebBrowser:

	First step towards policy API change. Pass request instead of URL
	to content policy delegate method.

        * BrowserWebController.m:
        (-[BrowserWebController contentPolicyForResponse:andRequest:inFrame:withContentPolicy:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2505 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-30 07:58:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/54e31ef536b84c2cce6de7ef30729d68a9a0e4a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qs01l5colgzb5q', 2, e'	- fixed 3087548 - REGRESSION: two windows open for netflix confirmation

        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _findFrameInThisWindowNamed:]): Added this function back,
	and added check for top-level frame name.
        (-[WebController _findFrameNamed:]): Use
	_findFrameInThisWindowNamed: to make sure top-level frame names
	get checked.


git-svn-id: svn://svn.chromium.org/blink/trunk@2504 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-30 07:55:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/46d7127b7b1b344f8fe6d8503a3b4a929864be76');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qt01l5b9iih4tg', 2, e'	Created Downloads.subproj to hold the to-be-implemented download decoders.

        * Downloads.subproj/WebDownloadDecoder.h: Added.
        * Downloads.subproj/WebDownloadHandler.h: Added.
        * Downloads.subproj/WebDownloadHandler.m: Added.
        (-[WebDownloadHandler initWithDataSource:]):
        (-[WebDownloadHandler dealloc]):
        (-[WebDownloadHandler errorWithCode:]):
        (-[WebDownloadHandler receivedResponse:]):
        (-[WebDownloadHandler receivedData:]):
        (-[WebDownloadHandler finishedLoading]):
        (-[WebDownloadHandler cancel]):
        * Misc.subproj/WebDownloadHandler.h: Removed.
        * Misc.subproj/WebDownloadHandler.m: Removed.
        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2503 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-30 04:50:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0d8603cd9ce7646f1aec299187eb2471cfcb2ef9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qu01l51exm7p29', 2, e'        * khtml/khtml_part.cpp: (KHTMLPart::checkCompleted):
	Update so it handles nil for the view.


git-svn-id: svn://svn.chromium.org/blink/trunk@2502 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-29 07:05:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e61a6df7f11e64a6b4942c464b53430da3076e1d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qv01l568bherhr', 2, e'	- fixed 3070484 -- icon rollovers are very slow on Mac OS X website

	The problem was simply that the part didn\'t know it was complete.
	To let it know, I hooked up some loader signals, and now it works.

        * khtml/khtml_part.cpp:
        (KHTMLPart::init): Create the KWQKHTMLPart a little earlier so we have
	a chance to initialize the cache before it\'s used.
        (KHTMLPart::slotLoaderRequestStarted): Take this out of ifdefs.
        (KHTMLPart::slotLoaderRequestDone): Ditto.

        * khtml/misc/loader.h: Add a KWQLoader pointer to the loader.
        * khtml/misc/loader.cpp:
        (Loader::Loader): Create a KWQLoader;
        (Loader::~Loader): Destroy the KWQLoader.
        (Loader::load): Take out ifdefs around code that emits requestStarted.

        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPart::KWQKHTMLPart): Call Cache::init().

        * kwq/KWQLoader.h: Add a class KWQLoader, with three signals in it.
        * kwq/KWQLoader.mm: (KWQLoader::KWQLoader): Initialize the three signals.

        * kwq/KWQSignalStubs.mm:
        (Loader::requestDone): Emit the signal using KWQLoader.
        (Loader::requestFailed): Ditto.
        (Loader::requestStarted): Ditto.

        * kwq/KWQSlot.h: Add an overload for slots with loader and cached object
	parameters so we can handle the new slots.
        * kwq/KWQSlot.mm:
        (KWQSlot::KWQSlot): Added slotLoaderRequestDone and slotLoaderRequestStarted.
        (KWQSlot::call): Added the new overload to handle those two signals.

        * kwq/KWQSignal.h: Add an overload for signals with loader and cached object
	parameters so we can handle the new signals.
        * kwq/KWQSignal.mm: (KWQSignal::call): Ditto.

        * kwq/KWQObject.mm: (QObject::connect): Remove the special casing that
	prevents complaints about slotLoaderRequestDone and slotLoaderRequestStarted,
	since we support those now.


git-svn-id: svn://svn.chromium.org/blink/trunk@2501 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-29 06:51:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d853185c73e147892e835a7c61d0d4bd7322c784');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qw01l5pzhiw75m', 2, e'	- fixed crash I just introduced

        * Plugins.subproj/WebPluginDatabase.m: (-[WebPluginDatabase init]):
	Remove the release call here. When I added the autorelease, I didn\'t realize that
	the caller was doing a release.


git-svn-id: svn://svn.chromium.org/blink/trunk@2500 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-29 05:29:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fbe5d1624bcce10cc32e093f8f9418d9cd02ba39');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qx01l5wxgdxfqq', 2, e'	Fixed 3041616 - Extra page added in back button history

	Client-side redirects would always put an extra item in the backforward list.
	According to Darin this is a regression all the way back from functionality moving
	from WebBrowser to WebKit.

        * WebCoreSupport.subproj/WebBridge.h:
	Added state to know if we\'re doing an "internal" type of load
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge reportClientRedirectTo:delay:fireDate:]):
	Set internalLoad bit if delay==0
        (-[WebBridge reportClientRedirectCancelled]):
	Clear internalLoad
        (-[WebBridge loadURL:]):
	Set frame\'s loadType if doing an internal load (similar to what we do when loading
	child frames)


git-svn-id: svn://svn.chromium.org/blink/trunk@2499 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-10-29 01:49:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/506a43b48ee9bfc7e2f86306b348bb443b4853f5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qy01l5zqg1fsru', 2, e'WebFoundation:

	- fixed storage leak of WebFileDatabaseOp objects

        * Database.subproj/WebFileDatabase.m:
        (-[WebFileDatabase setObject:forKey:]): Release op so it doesn\'t leak.
        (-[WebFileDatabase removeObjectForKey:]): Release op so it doesn\'t leak.
        (-[WebFileDatabase lazySync:]): Retain op before removing it from the list,
	since we want to work with it a bit before releasing it.

WebCore:

	- fixed storage leak of items in QListBox

        * kwq/KWQListBox.h: Added private deleteItems method.
        * kwq/KWQListBox.mm:
        (QListBox::~QListBox): Call deleteItems().
        (QListBox::deleteItems): Move the code to delete all the items
	here from clear(), since clear() is not called on destruction.
        (QListBox::clear): Call deleteItems().

WebKit:

	- fixed storage leak of WebNetscapePluginPackage objects

        * Plugins.subproj/WebBasePluginPackage.m:
        (+[WebBasePluginPackage pluginWithPath:]): Add missing autorelease.

        * Plugins.subproj/WebBasePluginPackage.h:
        * Plugins.subproj/WebPluginController.h:
        * Plugins.subproj/WebPluginController.m:
        * Plugins.subproj/WebPluginPackage.h:
        * Plugins.subproj/WebPluginPackage.m:
	Not __MyCompanyName__, but rather Apple Computer.


git-svn-id: svn://svn.chromium.org/blink/trunk@2498 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-29 01:18:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9f8225285d310cc56b3be4a6d95212f9dc1d21f4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501qz01l5skucql9t', 2, e'	Lowercase the text encoding name.

        * kwq/KWQCharsets.mm:
        (KWQCFStringEncodingFromIANACharsetName):


git-svn-id: svn://svn.chromium.org/blink/trunk@2497 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-29 00:48:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d352e9e700e6e2204d77f62f91cbea589cc1a6b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501r001l5vrnii0cd', 2, e'WebFoundation:

	- fixed bug that caused us to leak one block sometimes when we called WebCallFromCFRunLoop

        * Misc.subproj/WebCFRunLoopExtras.m: (WebCallFromCFRunLoop):
	Initialize refCount to 0.

WebKit:

	- fixed bug that caused us to leak all WebResourceHandles used for subresources

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient dealloc]): Remove bogus "currentURL == nil" assert.
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:]):
	Use the new loadWithRequest: call instead of making handle and doing loadWithDelegate:.
	This is where the leak was, because no one ever released the handle, but releasing it
	right away would be too soon.

        * WebView.subproj/WebBaseResourceHandleDelegate.h: Added defersCallbacks field,
	loadWithRequest: method, and setDefersCallbacks: method. Removed handle method.
        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate loadWithRequest:]): New method. Sets up the handle,
	set the defersCallbacks state on it, and calls loadWithDelegate:.
        (-[WebBaseResourceHandleDelegate setDefersCallbacks:]): Stores defersCallbacks state,
	and also sets it on the handle, if any.
        (-[WebBaseResourceHandleDelegate handle:willSendRequest:]): Remove code to set up
	the handle, since we now do that at loadWithRequest: time.

        * WebView.subproj/WebDataSourcePrivate.h: Remove mainHandle field.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): Don\'t release mainHandle.
        (-[WebDataSource _setPrimaryLoadComplete:]): Ditto.
        (-[WebDataSource _startLoading]): Use loadWithRequest: on the client, no need to deal
	with the handle directly at all.
        (-[WebDataSource _addSubresourceClient:]): Call setDefersCallbacks: on the client.
        (-[WebDataSource _defersCallbacksChanged]): Ditto.

        * WebView.subproj/WebControllerPrivate.m: Remove unneeded include.
        * WebView.subproj/WebMainResourceClient.m: Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2496 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-28 23:16:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e5877bdfeb4c19584237695e4788f0d80f7b0bd1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501r101l59vjr9974', 2, e'        Fixed 3086188 - REGRESSION: Justified text is broken

        Bogus special case for DirW(hite)S(pace).  This
        should be correctly detected by CF, but is not.
        Revert to explicit checking for \' \' character.  This\'ll
        work most of the time.  All the more reason to do
        our own unicode attribute database.

        * kwq/KWQChar.mm:
        (QChar::direction):


git-svn-id: svn://svn.chromium.org/blink/trunk@2495 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-28 22:22:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7155e7307bc111aa0994f46c588022699f5fa6fb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501r201l5pmw3grad', 2, e'WebCore:

	Fixed: 3056726 - View Source window always displays the source in current system encoding
	Fixed: 3019352 - Text encoding is not handled when viewing plain text

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (+[WebCoreBridge stringWithData:textEncoding:]): added, creates a string with data using the WebCore\'s decoding logic.
        (+[WebCoreBridge stringWithData:textEncodingName:]): added, calls stringWithData:textEncoding: after getting the encoding for a text encoding name

WebKit:

	Fixed: 3056726 - View Source window always displays the source in current system encoding
	Fixed: 3019352 - Text encoding is not handled when viewing plain text

        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource stringWithData:]): added, creates a string using the specified encoding.
        * WebView.subproj/WebHTMLRepresentation.m:
        (-[WebHTMLRepresentation documentSource]): uses the bridge specified encoding when creating the string
        * WebView.subproj/WebTextView.h:
        * WebView.subproj/WebTextView.m:
        (-[WebTextView dataSourceUpdated:]): use stringWithData:
        (-[WebTextView supportsTextEncoding]): Yup


git-svn-id: svn://svn.chromium.org/blink/trunk@2494 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-28 21:59:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3a75d86783bcc5ffa8190b3977d3cd09cf398945');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501r301l5ga2bkdjk', 2, e'* khtml/html/htmlparser.cpp:
(KHTMLParser::insertNode):
* khtml/html/htmltokenizer.cpp:
(HTMLTokenizer::write):

Backed our Dave\'s whitespace hack because it was adding newlines, i.e.
vertical margins, to web pages all over.


git-svn-id: svn://svn.chromium.org/blink/trunk@2493 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2002-10-28 21:28:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7a4fa0666cd3515a95ca0e34df276e3439a5583a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501r401l5ta93ikiv', 2, e'        Fixed crasher.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2492 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-28 20:51:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1cb7572c5fb6543cceb035b57e64ccf523538d16');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501r501l5ta5stv17', 2, e'WebKit:

        * Bookmarks.subproj/WebBookmark.h:
        * Bookmarks.subproj/WebBookmark.m:
        (-[WebBookmark contentMatches:]): new method, returns YES if
	two bookmarks are the same, ignoring group and parent.

WebBrowser:

	- fixed 3083274 -- Add preference for separating/consolidating
	contents of Bookmarks Toolbar and Menu
	- fixed 3083277 -- Add preferences for showing Address Book and
	Rendezvous items in Bookmarks menu

	Also made Bookmarks menu update only when it is about to be pulled
	down (like History menu), rather than every time bookmarks change.

        * Defaults.plist,
        * PreferenceKeys.h:
	Add new preference keys with default values:
	BookmarksMenuAndToolbarAreSame, BookmarksMenuIncludesAddressBook, and
	BookmarksMenuIncludesRendezvous. Also #defined BrowserPreferenceValueChangedNotification,
	which is sent when certain preference values change.

        * Preferences.subproj/GeneralPreferences.h:
        * Preferences.subproj/GeneralPreferences.m:
        (-[GeneralPreferences sendChangeNotificationForPreferenceKey:]):
	new method, sends BrowserPreferenceValueChangedNotification with a particular
	preference key\'s name in the userInfo
        (-[GeneralPreferences toggleBookmarksMenuAndToolbarAreSame:]),
        (-[GeneralPreferences toggleBookmarksMenuIncludesRendezvous:]),
        (-[GeneralPreferences toggleBookmarksMenuIncludesAddressBook:]):
	Set the appropriate preference, and call sendChangeNotificationForPreferenceKey
        (-[GeneralPreferences initializeFromDefaults]):
	Set the initial state for the new checkboxes.

        * Preferences.subproj/English.lproj/GeneralPreferences.nib:
	Added checkboxes for the three new preferences. With Ron Brannan\'s help, the
	text is decent, but the General Preferences panel is now much taller than
	the others; we\'ll probably need a reorganization soon.

        * BookmarkSource.h:
	added bookmarkSourceImage, setBookmarkSourceMenu:, and bookmarkSourceMenuTitle
	to the BookmarkSource protocol.

        * GlobalHistory.h: removed setHistoryMenu: and historyMenu
        * GlobalHistory.m:
        (-[GlobalHistory dealloc]): change setHistoryMenu to setBookmarkSourceMenu
        (-[GlobalHistory bookmarkSourceImage]): new method, returns little clock image
        (-[GlobalHistory setBookmarkSourceMenu:]): new name for setHistoryMenu
        (-[GlobalHistory bookmarkSourceMenuTitle]):
	new method, returns nil here since history uses an existing top-level menu

        * AppController.m:
        (-[AppController applicationDidFinishLaunching:]):
	use -[GlobalHistory setBookmarkSourceMenu:] instead of obsolete
	-[GlobalHistory setHistoryMenu:]

        * ABHomePagesController.h:
        * ABHomePagesController.m:
        (-[ABHomePagesController dealloc]): call setBookmarkSourceMenu:nil
        (-[ABHomePagesController refreshContents]): set _menuGood to NO
        (-[ABHomePagesController updateMenu]):
	new method, make menu contents match address book contents (if !_menuGood)
        (-[ABHomePagesController setBookmarkSourceMenu:]): new method, set up menuUpdater
        (-[ABHomePagesController bookmarkSourceMenuTitle]): new method, return "Address Book"
        (-[ABHomePagesController bookmarkSourceImage]):
	new method, return little address book image

        * RendezvousController.h:
        * RendezvousController.m:
        (-[RendezvousController dealloc]): call setBookmarkSourceMenu:nil
        (-[RendezvousController sendContentsChangedNotification]): set _menuGood to NO
        (-[RendezvousController updateMenu]):
	new method, make menu contents match Rendezvous list (if !_menuGood)
        (-[RendezvousController setBookmarkSourceMenu:]): new method, set up menuUpdater
        (-[RendezvousController bookmarkSourceMenuTitle]): new method, return "Rendezvous"
        (-[RendezvousController bookmarkSourceImage]):
	new method, return little Rendezvous logo image

        * BookmarksController.h:
	now implements MenuUpdaterDelegate protocol and updates the Bookmarks menu only
	when it\'s about to be shown rather than when any bookmarks change.
        * BookmarksController.m:
        (-[BookmarksController imageForBookmark:]):
	get bookmark source images using BookmarkSource protocol rather than hardwiring here
        (-[BookmarksController _removeAllBookmarksFromMenu]):
	renamed from _removeBookmarksFromMenu for some nitpicky reason
        (-[BookmarksController bookmarkSource:setShouldIncludeSubmenu:]):
	new method, creates submenu for bookmark source if appropriate
        (-[BookmarksController addSpecialBookmarkSourcesToMenu]):
	new method, checks preferences and calls bookmarkSource:setShouldIncludeSubmenu:
	for Rendezvous and AddressBook
        (-[BookmarksController updateMenu]):
	renamed from _updateBookmarksInMenu (now it\'s the MenuUpdaterDelegate method);
	do nothing if _menuGood, otherwise remove all bookmarks, then add them back in.
        (-[BookmarksController _receivedBookmarksChangedNotification:]):
	set _menuGood to NO rather than updating bookmarks immediately
        (-[BookmarksController receivedBrowserPreferenceValueChangedNotification:]):
	new method, do the appropriate updating based on which preference changed
        (-[BookmarksController addBookmarksMenuUpdater]):
	new method, broken out only so it could be called after a delay, since
	awakeFromNib is slightly too early
        (-[BookmarksController awakeFromNib]):
	set up menu updater (after delay); observe BrowserPreferenceValueChangedNotification
        (-[BookmarksController dealloc]): remove menu updater
        (-[BookmarksController bookmarkSourceForProxyIdentifier:]):
	new method, moved here from BookmarksViewController; converts a string
	identifier into an object implementing <BookmarkSource>
        (-[BookmarksController addUniqueBookmarksFrom:to:]):
	new method, used to consolidate toolbar and menu contents when the pref is
	set that way.
        (-[BookmarksController updateBookmarkSources]):
	renamed from _blessOrCreateSpecialFolders, now it is also called in response
	to a change to BookmarksMenuAndToolbarAreSamePreferenceKey; handle making menu
	initially be a copy of toolbar, or consolidating the two, depending on pref value.

        * BookmarksViewController.m:
        (-[BookmarksViewController bookmarkSourceContentsChanged:]),
        (-[BookmarksViewController refreshContents]),
        (-[BookmarksViewController bookmarksFromContentItems:]),
        (-[BookmarksViewController bookmarkFromContentItem:]),
        (-[BookmarksViewController canDeleteFromSelectedBookmarkSource]),
        (-[BookmarksViewController child:ofContentItem:]),
        (-[BookmarksViewController isContentItemExpandable:]),
        (-[BookmarksViewController numberOfChildrenOfContentItem:]),
        (-[BookmarksViewController titleStringForContentItem:]),
        (-[BookmarksViewController addressStringForContentItem:]),
        (-[BookmarksViewController imageForContentItem:]),
        (-[BookmarksViewController deleteContentItems:]):
	Updated to call bookmarkSourceForProxyIdentifier on
	[BookmarksController sharedController] rather than self.

        * FavoriteButton.m:
        (-[FavoriteButton determineDragOperation:]):
	use -[WebBookmark contentMatches:] instead of (deleted) [FavoriteButton bookmarkMatches:]

        * English.lproj/Localizable.strings,
        * English.lproj/StringsNotToBeLocalized.txt: kept localizations up to date


git-svn-id: svn://svn.chromium.org/blink/trunk@2491 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-10-28 20:40:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/21baa817e03d81abcc376d2e4412d53bda3231d1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501r601l5et3bl4gr', 2, e'WebKit:

	Finished 2998200 - access to most-recent in submenu of back & forward buttons

        * WebView.subproj/WebDataSourcePrivate.h:
	The BF items we are going to and from were moved here from
	WebFrame because of timing problems among multiple data sources
	when using the BF buttons during a load.
	In addition, the datasource has a list of relevant BF items for
	which it keeps their titles up to date.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]):
	Free new state.
        (-[WebDataSource _setTitle:]):
	Update titles of BF items.
        (-[WebDataSource _provisionalBackForwardItem]):
        (-[WebDataSource _setProvisionalBackForwardItem:]):
        (-[WebDataSource _previousBackForwardItem]):
        (-[WebDataSource _setPreviousBackForwardItem:]):
        (-[WebDataSource _addBackForwardItem:]):
	Maintain new state.
        (-[WebDataSource _commitIfReady]):
	Free up previous and provisional BF items after commit.
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge loadURL:]):
	Add the new BF item to the datasource.
        (-[WebBridge saveDocumentState:]):
	Use the right BF item to save the doc state.
        * WebView.subproj/WebFramePrivate.h:
	Previous and provisional BF are moved to datasource.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):
	Use provisional BF from datasource to set position in BF list.
	Add new BF item to datasource.
        (-[WebFrame _isLoadComplete]):
        (-[WebFrame _checkLoadComplete]):
	Comments, whitespace.
        (-[WebFrame _goToItem:withFrameLoadType:]):
	Set item we will use to saveDocState at commit time.

WebBrowser:

	Finished 2998200 - access to most-recent in submenu of back & forward buttons

        * BrowserDocument.m:
        (-[BrowserDocument _addItem:toMenu:]):
	Center-truncate menu items to reasonable width
        * Defaults.plist:
	Set Back-forward max size to 200.


git-svn-id: svn://svn.chromium.org/blink/trunk@2490 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-10-28 18:49:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f1f3754db0adc012b70202fdc07f0261d5ab1db4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501r701l5yx9fhqpv', 2, e'Tests:

        * WebFoundation-Misc/ifnsurlextensions-test.chk:
	Update WebNSURLExtras tests for recently-implemented ftp URL
	canonicalization.

WebFoundation:

	- fixed 3015800 -- bad URL error - unescaped # in URL

	Actually this has to be fixed both here and in KURL.

        * Misc.subproj/WebNSURLExtras.m:
        (StringByAddingPercentEscapes): Escape "#" characters too.
        (URLStringByAddingPercentEscapes): Change the code so that it specifically
	makes an exception for the first "#" character in the string. I guess that
	it should really be the first "#" in the path, but that would be a lot harder.
        (+[NSURL _web_URLWithString:relativeToURL:]): Cite the new CFURL bug I filed.

WebCore:

	- fixed 3015800 -- bad URL error - unescaped # in URL

	Actually this has to be fixed both here and in NSURLExtras.

        * kwq/KWQKURL.mm: Set the "BadChar" flag for "#" so we escape any
	"#" characters we see after the first one.


git-svn-id: svn://svn.chromium.org/blink/trunk@2489 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-28 18:48:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d298cef7f3f5ceb89b59d026dc2da041614c03e3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501r801l55425drg3', 2, e'WebCore:

	- fixed 3058845 -- <input type=file> uses hard-coded width of 200
	pixels for filename

        * khtml/rendering/render_form.cpp:
        (RenderLineEdit::calcMinMaxWidth): Use a default of 20 "x-widths" wide, to
	match Mozilla, rather than the 17 that is in KHTML by default.
        (RenderFileButton::calcMinMaxWidth): Pass in a character width here, using
	the same 20-character rule as above.
        * kwq/KWQFileButton.h: Replace sizeHint() with sizeForCharacterWidth(int).
        * kwq/KWQFileButton.mm:
        (KWQFileButton::sizeForCharacterWidth): Pass character count to the WebCoreFileButton.
        (KWQFileButton::baselinePosition): Fix baseline computation. It was computing some huge
	negative number before and was obviously broken.
        * kwq/KWQLineEdit.mm: (QLineEdit::sizeForCharacterWidth): Add an assertion.
        * kwq/WebCoreViewFactory.h: Replace bestVisualFrameSize with
	bestVisualFrameSizeForCharacterCount:.

WebKit:

	- WebKit part of filename width fix

        * WebCoreSupport.subproj/WebFileButton.m:
        (-[WebFileButton drawRect:]): Compute left position by starting at
	the right side of the button frame rather than by starting at the right
	side of the overall bounds. Removes dependency on fixed-width filename area.
        (-[WebFileButton updateLabel]): Added. Computes ellipsized filename.
        (-[WebFileButton setFilename:]): Use updateLabel instead of code in line here.
        (-[WebFileButton setFrameSize:]): Call updateLabel.
        (-[WebFileButton bestVisualFrameSizeForCharacterCount:]): Compute a width based
	on the count passed in rather than a hardcoded 200-pixel constant.


git-svn-id: svn://svn.chromium.org/blink/trunk@2488 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-28 07:54:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6d9128caffb57cae8a1a9ce1425541974c47769c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501r901l5e24i4gqt', 2, e'	- fixed 3037369 -- Status text not cleared after start of drag from page

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView dragImage:at:offset:event:pasteboard:source:slideBack:]):
	Find the highest-level enclosing WebHTMLView, and call _updateMouseoverWithEvent:
	with the mouseUp event after the drag is done.
        (-[WebHTMLView mouseMovedNotification:]): Just call _updateMouseoverWithEvent:,
	the code from here was moved into there.

        * WebView.subproj/WebHTMLViewPrivate.h: Declare _updateMouseoverWithEvent.
        * WebView.subproj/WebHTMLViewPrivate.m: (-[WebHTMLView _updateMouseoverWithEvent:]):
	Moved all the code from mouseMovedNotification: in here so it could be used twice.


git-svn-id: svn://svn.chromium.org/blink/trunk@2487 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-28 06:52:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/87fff9e7bb45e749771cb0cf2407cdc1fa6505ee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501ra01l5bu9sah93', 2, e'WebCore:

* khtml/ecma/kjs_navigator.cpp:
(Navigator::getValueProperty):

Tweaked AppName, Product, and Vendor logic.

WebKit:

* WebView.subproj/WebController.m:
(-[WebController userAgentForURL:]):

Changed default user agent to Mozilla 1.1.

WebBrowser:

* Debug/DebugUtilities.m:
(-[DebugUtilities userAgentSubmenuItem]):

Updated all user agents and added new experimental items.


git-svn-id: svn://svn.chromium.org/blink/trunk@2486 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2002-10-28 02:27:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aa1f180bdc522096620b83ddfa8f6ffa43c1e2a5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501rb01l52502s0dq', 2, e'WebCore:

        * kwq/KWQLoader.mm: (KWQServeRequest): Add a missing "delete job" for one
	particular failure case.

WebKit:

        * Bookmarks.subproj/WebBookmarkProxy.m: (-[WebBookmarkProxy dealloc]):
	Added, so we don\'t leak the title.

        * Bookmarks.subproj/WebBookmarkGroup.m: (-[WebBookmarkGroup removeBookmark:]):
        * Bookmarks.subproj/WebBookmarkList.m: (-[WebBookmarkList removeChild:]):
	Added retain/release pairs so we don\'t use an object after it\'s deallocated.
	In practice this doesn\'t happen the way these are used by Alex since they are
	in an array, but they have windows of vulnerability depending on exactly how
	they are used.

WebBrowser:

        * BookmarksController.m:
        (-[BookmarksController _blessOrCreateSpecialFolders]):
	Fix indenting.


git-svn-id: svn://svn.chromium.org/blink/trunk@2485 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-27 17:08:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e3b08021f38dfdf1266506403161856add256ac8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501rc01l52okwr7mn', 2, e'	- fixed a bug in the WebCore cache that caused it to not cache very much after
        a while, and also caused a crash I saw twice on my machine

	Adjust total size of items in the LRU list, when the size of one of the
	items that\'s in the list is changed.

        * khtml/misc/loader.h: Added a size parameter (default 0) to the CachedObject
	constructor. Added a protected CachedObject::setSize() and made m_size private.
	Added Cache::adjustSize() and Cache::checkLRUAndUncacheableListIntegrity().
        * khtml/misc/loader.cpp:
        (CachedObject::setSize): Added. This is now the only legal way to change
	the size of a cached object, and it calls Cache::adjustSize.
        (CachedCSSStyleSheet::CachedCSSStyleSheet): Pass the length into the base
	class\'s constructor instead of setting m_size.
        (CachedCSSStyleSheet::data): Call setSize() instead of setting m_size.
	Also get the size back with size() rather than m_size.
        (CachedScript::CachedScript): Pass the length into the base class\'s
	constructor instead of setting m_size.
        (CachedScript::data): Call setSize() instead of setting m_size. Also get
	the size back with size() rather than m_size.
        (CachedImage::CachedImage): Don\'t set m_size to 0, since the base class\'s
	constructor does that already.
        (CachedImage::clear): Use setSize() to set the size to 0 instead of setting
	m_size directly.
        (CachedImage::data): Use setSize() instead of setting m_size directly.
        (Cache::checkLRUAndUncacheableListIntegrity): Useful debugging function.
	Left in but ifdef\'d out.
        (Cache::adjustSize): Added. Changes the "total LRU list size" by the
	passed-in delta, but only if the passed-in object is in the LRU list.

        * kwq/KWQLineEdit.mm:
        * kwq/KWQTextField.h:
        * kwq/KWQTextField.mm:
	Renamed the Objective C class KWQNSTextField to KWQTextField.


git-svn-id: svn://svn.chromium.org/blink/trunk@2484 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-27 06:45:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/192bf1edd2420f511dbd1570b9a676fa477d7e14');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501rd01l5a1nl5sca', 2, e'	- changed to use #if APPLE_CHANGES and #if !APPLE_CHANGES consistently

	We no longer do #ifdef APPLE_CHANGES or #ifndef APPLE_CHANGES.

        * kjs/collector.cpp:
        * kjs/collector.h:
        * kjs/grammar.cpp:
        * kjs/internal.cpp:
        * kjs/ustring.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2483 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-26 23:55:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9549d4222b012b6caec24b7de20ca0c0fd36d94c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnohz501re01l5317w5odn', 2, e'Tools:

        * Scripts/check-forwarding-headers: Added. Finds unused forwarding headers in WebCore.

WebCore:

	- removed forwarding headers that are not actually needed

        * ForwardingHeaders/kcmdlineargs.h: Removed.
        * ForwardingHeaders/kinstance.h: Removed.
        * ForwardingHeaders/kio/kprinter.h: Removed.
        * ForwardingHeaders/kio/ktrader.h: Removed.
        * ForwardingHeaders/kio/scheduler.h: Removed.
        * ForwardingHeaders/kparts/factory.h: Removed.
        * ForwardingHeaders/kparts/historyprovider.h: Removed.
        * ForwardingHeaders/kstddirs.h: Removed.
        * ForwardingHeaders/qarray.h: Removed.
        * ForwardingHeaders/qbrush.h: Removed.
        * ForwardingHeaders/qbutton.h: Removed.
        * ForwardingHeaders/qcollection.h: Removed.
        * ForwardingHeaders/qcombobox.h: Removed.
        * ForwardingHeaders/qframe.h: Removed.
        * ForwardingHeaders/qglobal.h: Removed.
        * ForwardingHeaders/qiodevice.h: Removed.
        * ForwardingHeaders/qlineedit.h: Removed.
        * ForwardingHeaders/qnamespace.h: Removed.
        * ForwardingHeaders/qpen.h: Removed.
        * ForwardingHeaders/qprinter.h: Removed.
        * ForwardingHeaders/qsize.h: Removed.
        * ForwardingHeaders/qstack.h: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@2482 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-26 23:49:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bdafa81573fb491877667a7d5faa7d336fba4a57');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01pr01l5w4ujbzro', 2, e'	- fixed a couple of files accidentally checked in with KWQQ names

        * ForwardingHeaders/qasyncio.h: Change names.
        * ForwardingHeaders/qstylesheet.h: Ditto.
        * WebCore.pbproj/project.pbxproj: Ditto.
        * kwq/KWQMovie.h: Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2481 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-26 23:41:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6a28ff32db16c0aab354830ff985684ecf37d739');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01ps01l5lc42an2j', 2, e'	- changed to use #if APPLE_CHANGES and #if !APPLE_CHANGES consistently

	We no longer do #ifdef APPLE_CHANGES or #ifndef APPLE_CHANGES.

        * lots of files


git-svn-id: svn://svn.chromium.org/blink/trunk@2479 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-26 23:21:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/769ead70d3ab15b576d66e83833d17f7129b205d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01pt01l5zzkhca5a', 2, e'        - changed naming scheme in KWQ for files like qstring.h
        Now use names like KWQString.h and make a forwarding header called qstring.h.

        * tons of files


git-svn-id: svn://svn.chromium.org/blink/trunk@2478 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-26 23:08:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/752ef9a79983c32472555ef14af44a69e2874a65');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01pu01l5nm3g8nri', 2, e'WebCore:

	- fixed 3068404 -- eliminate all user-visible messages from WebCore

        * khtml/ecma/kjs_window.cpp: (WindowFunc::tryCall): Use runJavaScriptPrompt
	function instead of the more generic QInputDialog.

        * khtml/html/html_formimpl.cpp: (HTMLInputElementImpl::altText): Get
	submit alt text for input element from the view factory, rather than using
	i18n, since we don\'t support that.
        * khtml/html/htmlparser.cpp: (KHTMLParser::handleIsindex): Ditto, for the
	intro that says "This is a searchable index".
        * khtml/rendering/render_form.cpp:
        (RenderSubmitButton::defaultLabel): Ditto, for "Submit".
        (RenderResetButton::defaultLabel): Ditto, for "Reset".
        (RenderFileButton::slotClicked): Ifdef\'d out this unused code that had i18n text in it.

        * khtml/xml/xml_tokenizer.cpp:
        (XMLHandler::errorString): Put in an ifdef and a FIXME to avoid i18n.
        (XMLHandler::fatalError): Ditto.
        (XMLTokenizer::finish): Ditto.

        * khtml/misc/decoder.cpp: (Decoder::decode): Ifdef\'d the check for the first
	language being "ja", since that\'s not how we\'re going to trigger Japanese
	auto-detect.

        * khtml/rendering/render_applet.cpp: (RenderEmptyApplet::RenderEmptyApplet):
	Turned off the code that does the empty applet label. I don\'t think it worked,
	and it used i18n. We\'ll have to tackle this eventually.

        * kwq/KWQKHTMLPartImpl.h: Added runJavaScriptPrompt.
        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::runJavaScriptPrompt): Moved the code
	here that used to be in KWQInputDialog.

        * kwq/kdecore/klocale.h: Remove i18n() and KLocale::languageList(), added the functions
	that are listed below.
        * kwq/KWQKLocale.mm:
        (inputElementAltText): Added specific function for getting one of the very few
	translated strings that we need in WebCore.
        (resetButtonDefaultLabel): Ditto.
        (searchableIndexIntroduction): Ditto.
        (submitButtonDefaultLabel): Ditto.
        (KLocale::language): Use the view factory to ask for the language code, since there\'s no
	public API to get it that WebCore can use.

        * kwq/WebCoreViewFactory.h: Add new API for above.

        * ForwardingHeaders/qinputdialog.h: Added empty file.

        * kwq/qt/qinputdialog.h: Removed.
        * kwq/KWQInputDialog.mm: Removed.
        * WebCore.pbproj/project.pbxproj: Removed QInputDialog files.

WebKit:

        * WebCoreSupport.subproj/WebViewFactory.m:
        (-[WebViewFactory inputElementAltText]): Added.
        (-[WebViewFactory resetButtonDefaultLabel]): Added.
        (-[WebViewFactory searchableIndexIntroduction]): Added.
        (-[WebViewFactory submitButtonDefaultLabel]): Added.
        (-[WebViewFactory defaultLanguageCode]): Added.

        * English.lproj/Localizable.strings: Update.
        * English.lproj/StringsNotToBeLocalized.txt: Update.


git-svn-id: svn://svn.chromium.org/blink/trunk@2477 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-26 07:27:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/13dbf5b87bb0a17c3a5de6fbed6bc02f1dda0cd7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01pv01l5xingdlem', 2, e'WebCore:

	Remove some user-visible strings. We can\'t have any strings that need
	localization in WebCore, given our translation strategy.

        * khtml/html/html_formimpl.cpp: (HTMLInputElementImpl::encoding):
	Put APPLE_CHANGES around some i18n dialog code.
        * khtml/khtml_part.cpp: (KHTMLPart::submitForm): Ditto.
        * khtml/rendering/render_frames.cpp:
        (RenderPartObject::slotPartLoadingErrorNotify): Ditto.
        * khtml/ecma/kjs_window.cpp:
        (Window::get): Ditto.
        (Window::scheduleClose): Ditto.
        (WindowFunc::tryCall): Put APPLE_CHANGES in to use JavaScript-specific methods
        in the part of calling the generic ones from KMessageBox.

        * ForwardingHeaders/kmessagebox.h: Added (empty file).

        * kwq/KWQKHTMLPartImpl.h: Added new runJavaScript functions.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::runJavaScriptAlert): Added.
        (KWQKHTMLPartImpl::runJavaScriptConfirm): Added.

        * kwq/WebCoreViewFactory.h: Added runJavaScriptAlertPanelWithMessage and
	runJavaScriptConfirmPanelWithMessage.

        * kwq/kdeui/kmessagebox.h: Removed.
        * kwq/KWQKMessageBox.mm: Removed.
        * WebCore.pbproj/project.pbxproj: Removed the KMessageBox files.

WebKit:

        * WebCoreSupport.subproj/WebViewFactory.m:
        (-[WebViewFactory runJavaScriptAlertPanelWithMessage:]): Added.
        (-[WebViewFactory runJavaScriptConfirmPanelWithMessage:]): Added.

        * English.lproj/Localizable.strings: Update.
        * English.lproj/StringsNotToBeLocalized.txt: Update.


git-svn-id: svn://svn.chromium.org/blink/trunk@2476 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-26 06:43:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2c531f921ddc67e8fe2a71f09ba7d45ecb7083bc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01pw01l5kqs2ddjv', 2, e'	- fixed 3038011 -- drop-down menu hierarchy broken at yahoo new acct page

        * kjs/array_object.cpp: (ArrayProtoFuncImp::call):
	Fix bug calling concat on an empty array. The old code tried to
	optimize in a way that would prevent appending any arrays until
	at least one element was in the destination array. So if you were
	concatenating a non-empty array into an empty array, you got an empty array.


git-svn-id: svn://svn.chromium.org/blink/trunk@2475 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-26 05:49:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5caf931072e61035350cdc93c2ed34254444015a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01px01l5db1pnhkj', 2, e'        Removed debug logging.

        * khtml/rendering/font.cpp:
        (Font::drawText):


git-svn-id: svn://svn.chromium.org/blink/trunk@2474 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-26 02:14:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/173d9588c70dc2bace3e96bdc0b40ff503fca3e9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01py01l5pu6nkzow', 2, e'        Implemented support for bidi text layout.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (_drawGlyphs):
        (-[WebTextRenderer drawCharacters:stringLength:fromCharacterPosition:toCharacterPosition:atPoint:withPadding:withTextColor:backgroundColor:rightToLeft:]):

        Implemented support for bidi text layout.  WebCore
        temporarily depends on SPI to get unicode character
        attribute from CF.  This will change shortly.

        * khtml/rendering/font.cpp:
        (Font::drawText):
        * kwq/KWQChar.mm:
        (QChar::direction):
        * kwq/KWQPainter.mm:
        (QPainter::drawText):
        * kwq/WebCoreTextRenderer.h:
        * kwq/qt/qpainter.h:

        Updated to reflect change in WebKit SPI.

        * EtchedStringView.m:
        (-[EtchedStringView drawRect:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2473 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-26 02:11:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dd8d7dbf89dd97811c65861d99772fb96dca80ce');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01pz01l5whjko91l', 2, e'	Made frameNamed private in WebController and renamed it to _findFrameNamed. Got rid of _frameInThisWindowNamed in WebController because it isn\'t needed anymore.

        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController _goToItem:withFrameLoadType:]): call _findFrameNamed
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _findFrameNamed:]): renamed, made private, got rid of call to _frameInThisWindowNamed as it is not needed
        * WebView.subproj/WebFrame.m:
        (-[WebFrame findFrameNamed:]): call [WebController _findFrameNamed:]


git-svn-id: svn://svn.chromium.org/blink/trunk@2472 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-26 00:55:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e435eff8e155df736c6cb3b17c0ce921ce0ff038');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01q001l51th1i23c', 2, e'	- Fix case where we would name a new window _blank
	- If a data source can\'t be created for a plug-in request, don\'t create the frame or open a window.
	- cleaned up plug-in stream notifications

        * Plugins.subproj/WebBaseNetscapePluginView.h:
        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView initWithFrame:]): create streamNotifications dict
        (-[WebBaseNetscapePluginView dealloc]): release streamNotifications dict
        (-[WebBaseNetscapePluginView frameStateChanged:]): cleaned up
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]): create data source before frame
        * Plugins.subproj/WebPluginController.m:
        (-[WebPluginController showURL:inFrame:]): create data source before frame
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _setTopLevelFrameName:]): don\'t allow _blank frames
        * WebView.subproj/WebFrame.m:
        (-[WebFrame findOrCreateFramedNamed:]): no need to check for _blank


git-svn-id: svn://svn.chromium.org/blink/trunk@2471 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-26 00:27:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b77243b6045fb7b444acae5ac47dc463d9372cc8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01q101l5kw5vmp2h', 2, e'WebKit:

        Tighten up the code that observes mouse moved events.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView initWithFrame:]): Don\'t set up observers here.
        (-[WebHTMLView addMouseMovedObserver]): Added some assertions.
        (-[WebHTMLView viewWillMoveToWindow:]): Stop observing the "become main" and "resign main"
	notifications here.
        (-[WebHTMLView viewDidMoveToWindow]): Start observing them here.
        (-[WebHTMLView windowDidBecomeMain:]): Assert that the notification is for this window,
	instead of checking with if.
        (-[WebHTMLView windowDidResignMain:]): Assert that the notification is for this window.

WebBrowser:

	- fixed 3078924 -- Rollovers fail on wired.com after selecting a menu

        * BrowserApplication.m: (-[BrowserApplication sendEvent:]):
	Put in a workaround that sets the mouse focus to the key window.

        * BrowserWindowController.m:
        (-[BrowserWindowController windowDidLoad]): Remove unneeded pageTitleChanged.
        (-[BrowserWindowController frameLoadWithinPage:]): Call updateBackAndForwardButtons
	instead of doing the "two calls to setActivity:" dance.


git-svn-id: svn://svn.chromium.org/blink/trunk@2470 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-26 00:06:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/061cb666fd60c9bfaf466065867db77cdf96b8ae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01q201l5hv8g1lm1', 2, e'WebCore:

	Cleaned up the frame searching shenanigans. Things are much cleaner and clearer now.

        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::createNewWindow): call findFrameNamed
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::bridgeForFrameName): call findOrCreateFramedNamed
        * kwq/WebCoreBridge.h:

WebKit:

	Cleaned up the frame searching shenanigans. Things are much cleaner and clearer now.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]): call findOrCreateFramedNamed
        * Plugins.subproj/WebPluginController.m:
        (-[WebPluginController showURL:inFrame:]): call findOrCreateFramedNamed
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge childFrames]): moved
        (-[WebBridge mainFrame]): moved
        (-[WebBridge findOrCreateFramedNamed:]): call findOrCreateFramedNamed on the frame
        (-[WebBridge pluginViewWithPackage:attributes:baseURL:]): call _pluginController
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _frameInThisWindowNamed:]): call _descendantFrameNamed
        * WebView.subproj/WebFrame.h:
        * WebView.subproj/WebFrame.m:
        (-[WebFrame findFrameNamed:]): was frameNamed. First checks special-case frame names, descendant frames, then the whole controller, then other controllers.
        (-[WebFrame findOrCreateFramedNamed:]): calls findFrameNamed, opens new window if necessary
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _descendantFrameNamed:]): searches children, children\'s children etc.
        (-[WebFrame _pluginController]): this method needed an "_"
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView addSubview:]): call _pluginController
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _elementAtPoint:]): no need to special case for "_blank" since findFrameNamed will return nil for that name


git-svn-id: svn://svn.chromium.org/blink/trunk@2469 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-25 23:41:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/72dd855030095ad3a3bb826c76e898d9ec0503ff');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01q301l5efgqzkyr', 2, e'WebKit:

	2919039 - Implement limit on back/forward history list
	2998200 - access to most-recent in submenu of back & forward buttons
	3022566 - need WebKit API for accessing and visiting back/forward list items
	3084051 - forward button incorrectly enabled after going forward all the way

	Remaining issues at this point are getting the title of the pages
	into the menu items (instead of the URL), and saving document
	state properly when you jump around in the list.  Solutions are
	known and coming soon.

        * History.subproj/WebBackForwardList.h:
	Added doc comments to API.  Made ivars private.  Replaced index-
	based API with item-based API.  Added a sizelimit to the overall
	list.  Tweaked API to get back and forward lists.
        * History.subproj/WebBackForwardList.m:
	Straightforward impl of the above, with the note that I dumped
	WebHistoryList from the API and impl in favor of an NSArray,
	which is efficient for this sort of use (queue, stack).
        (-[WebBackForwardList init]):
        (-[WebBackForwardList dealloc]):
        (-[WebBackForwardList goBack]):
        (-[WebBackForwardList goForward]):
        (-[WebBackForwardList goToEntry:]):
        (-[WebBackForwardList backEntry]):
        (-[WebBackForwardList forwardEntry]):
        (-[WebBackForwardList maximumSize]):
        (-[WebBackForwardList setMaximumSize:]):
        (-[WebBackForwardList description]):
        * History.subproj/WebHistoryList.h: Removed.
	Nuked from API, per above.
        * History.subproj/WebHistoryList.m: Removed.
        * Misc.subproj/WebKit.h:
	WebHistoryList gone from API.
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge loadURL:]):
	Use if/else instead of buried "return;", so next person doesn;t
	make the same mis-read I did.
        (-[WebBridge saveDocumentState:]):
	Site of future work.
        * WebKit.pbproj/project.pbxproj:
	Nuked WebHistoryList.
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController goBackOrForwardToItem:]):
	New method to support random access nav in backforward list.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setTitle:]):
	Site of future work (fixing title in items)
        * WebView.subproj/WebFramePrivate.h:
	WebFrameLoadTypeIndexedBack/WebFrameLoadTypeIndexedForward are
	collapsed into WebFrameLoadTypeIndexedBackForward.  Vestigial
	WebFrameLoadTypeIntermediateBack is nuked.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate setBackForwardItem:]):
        (-[WebFrame _setBackForwardItem:]):
        (-[WebFrame _backForwardItem]):
	Must remember the BF item we\'re going to so we can update the
	BF list on commit.
        (-[WebFrame _transitionToCommitted]):
	Update the BF list on commit.
        (-[WebFrame _isLoadComplete]):
        (-[WebFrame _goToItem:withFrameLoadType:]):
	Update BF list on within-page nav.
	Remember BF item we are going to for later update on commit.

WebBrowser:

	2919039 - Implement limit on back/forward history list
	2998200 - access to most-recent in submenu of back & forward buttons
	3084051 - forward button incorrectly enabled after going forward all the way

	Remaining issues at this point are getting the title of the pages
	into the menu items (instead of the URL), and saving document
	state properly when you jump around in the list.  Solutions are
	known and coming soon.

        * BrowserDocument.h:
	Add BrowserDocumentClientNavigatedWithinPageNotification.
        * BrowserDocument.m:
        (-[BrowserDocument init]):
	Set up BackForwardListSizeLimit preference.
        (-[BrowserDocument canGoBack]):
        (-[BrowserDocument canGoForward]):
        (-[BrowserDocument goBack:]):
        (-[BrowserDocument goForward:]):
	Nits adopting new API.
        (-[BrowserDocument goToItem:]):
        (-[BrowserDocument _addItem:toMenu:]):
        (-[BrowserDocument backListMenuForButton:]):
        (-[BrowserDocument forwardListMenuForButton:]):
	Code to build BF menus, and respond to clicks.
        * BrowserWindowController.m:
        (-[BrowserWindowController windowDidLoad]):
        (-[BrowserWindowController frameLoadWithinPage:]):
	Register for and handle BrowserDocumentClientNavigatedWithinPageNotification.
	Must update title bar widgets at this point.
        * Defaults.plist:
	New defaults: BackForwardListSizeLimit, BackForwardMenuSizeLimit
        * LocationChangeHandler.m:
        (-[LocationChangeHandler locationChangedWithinPageForDataSource:]):
	Post BrowserDocumentClientNavigatedWithinPageNotification.
        * PreferenceKeys.h:
	New default keys.


git-svn-id: svn://svn.chromium.org/blink/trunk@2468 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-10-25 22:51:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8bd9508474b76fedc67ac9a90de6392908f695c8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01q401l5zc23ja47', 2, e'	Minor non-mentionable clean-up.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge viewForPluginWithURL:attributes:baseURL:MIMEType:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2467 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-25 19:51:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4b5c0dbe71fb23d06cc7895c7f0167da95da4e1b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01q501l5zp5y2rp2', 2, e'	Cleaned up the plug-in API headers so they can be sent to other groups.

        * Plugins.subproj/WebPlugin.h:
        * Plugins.subproj/WebPluginContainer.h:
        * Plugins.subproj/WebPluginViewFactory.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2466 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-25 17:11:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/70d90ad0d2bfe2df22b8b45d83f824b62a1cba46');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01q601l5scugky6m', 2, e'	- fixed 3065638 - "undefined" output to screen on empty document.write()

        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLDocFunction::tryCall): Don;t assume there is at least
	one argument.


git-svn-id: svn://svn.chromium.org/blink/trunk@2465 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-25 10:09:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/94e846ce4ce9155e88a5385b241871624c2fde18');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01q701l5vhblcvj4', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@2464 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-25 09:31:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6f6fd9096157177439dd19aa445615b986c2a3a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01q801l55q71ygwd', 2, e'	- fixed 3048031 - innerHTML is incorrectly null

        * kwq/KWQString.mm:
        (QString::isNull): Check for NULL by comparing to
	shared_null_handle instead of checking for 0 length, so
	garden-variety empty strings don\'t show as NULL.
        (QString::QString): Make sure that string created with a NULL char
	* uses the shared null handle, so it\'s properly NULL.


git-svn-id: svn://svn.chromium.org/blink/trunk@2463 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-25 09:15:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/06438a7ec0a541ce59ec3b51cab23dcf815d5f47');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01q901l5dyqj5w7o', 2, e'        Fixed many font substitution related bugs, at least including:
        3006966, 3026675, 3071106, and more... (each of these bugs
        has a list of related bugs).

        Needs little more cleanup to correctly deal with non base characters.

        * WebCoreSupport.subproj/WebTextRenderer.h:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer drawCharacters:stringLength:fromCharacterPosition:toCharacterPosition:atPoint:withPadding:withTextColor:backgroundColor:]):
        (-[WebTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:]):
        (-[WebTextRenderer _floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:withPadding:applyRounding:attemptFontSubstitution:widths:fonts:glyphs:numGlyphs:]):

        Against Darin\'s better judgement prevent extra layout when not in live resize.  If
        this introduces any regressions I owe darin a good bottle of wine.

        * WebView.subproj/WebDynamicScrollBarsView.m:
        (-[WebDynamicScrollBarsView updateScrollers]):

        Updated to reflect new calling parameter semantic of floatCharacterWidths(),
        which now returns the entire array of widths up the last character requested.

        * khtml/rendering/render_text.cpp:
        (TextSlave::checkSelectionPoint):


git-svn-id: svn://svn.chromium.org/blink/trunk@2462 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-25 04:54:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ece7a27b9bb14bfeb3ce3528b13964034792d6f4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01qa01l5ov1exz0e', 2, e'	New Java plug-in works! Much faster to load and no spinny cursor! Unfortunately, it very unstable.

        * Plugins.subproj/WebPluginController.m: cleaned-up the logging messages.
        (-[WebPluginController addPluginView:]):
        (-[WebPluginController didAddPluginView:]):
        (-[WebPluginController startAllPlugins]):
        (-[WebPluginController stopAllPlugins]):
        (-[WebPluginController destroyAllPlugins]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge viewForJavaAppletWithFrame:attributes:baseURL:]): make height and width an attribute.


git-svn-id: svn://svn.chromium.org/blink/trunk@2461 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-24 23:35:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9bdd553f281623bf403a0e79c5b85b174ff20a21');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01qb01l5dlynoscf', 2, e'	<pre>, <xmp> and <plaintext> should all have a top margin of 1em.
	Fixes a bunch of sites that use <pre>.

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@2460 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-24 23:12:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9a095b66e72377909fee08697cae73f1495eb2d7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01qc01l54n9z3ssx', 2, e'WebCore:

	Removed didAddSubview calls because that can easily be done in WebKit. Duh!

        * khtml/rendering/render_frames.cpp:
        (RenderPart::setWidget):
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        * kwq/KWQKJavaAppletWidget.mm:
        (KJavaAppletWidget::showApplet):
        * kwq/WebCoreBridge.h:

WebKit:

	Some clean-up and bug fixes for new plug-in support.

        * Plugins.subproj/WebPluginController.m:
        (-[WebPluginController initWithWebFrame:]): need a colon after windowWillClose
        (-[WebPluginController addPluginView:]): added logging
        (-[WebPluginController didAddPluginView:]): added logging
        (-[WebPluginController startAllPlugins]): added logging
        (-[WebPluginController stopAllPlugins]): added logging
        (-[WebPluginController destroyAllPlugins]): added logging
        * Plugins.subproj/WebPluginPackage.m:
        (-[WebPluginPackage getMIMEInformation]): use correct dict key for getting MIME descriptions
        * WebCoreSupport.subproj/WebBridge.m: no more didAddSubview
        * WebView.subproj/WebFramePrivate.h: no more didAddSubview
        * WebView.subproj/WebFramePrivate.m: no more didAddSubview
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView addSubview:]): call didAddPluginView on WebPluginController


git-svn-id: svn://svn.chromium.org/blink/trunk@2459 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-24 22:34:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/67b6d3f1109f6c3f09e1547fa9f2a025a5f1f9e9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01qd01l51nc4m80d', 2, e'WebKit:

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge objectLoadedFromCache:response:size:]):
	added ASSERT(response != nil), leftover from debugging
	session on Tuesday, seems worth leaving in.

WebBrowser:

	- fixed 3083271 -- Change Show/Hide menu items in View menu to use check marks

        * English.lproj/MainMenu.nib: changed menu items to not include "Show" or "Hide"
	and to be indented by two spaces so they look like they belong to the dimmed
	"Show" item at the top of the menu. This is a yucky UI hack but is (A) probably
	better than the old huge list of items starting with "Show" or "Hide", and (B)
	what SJ wants.

        * BrowserWindowController.m:
        (-[BrowserWindowController validateMenuItem:]):
	validate by updating check mark rather than changing title


git-svn-id: svn://svn.chromium.org/blink/trunk@2458 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-10-24 22:08:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9282e71f05ed8a1225bbb4f557307dddb048e438');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01qe01l5y5x2c387', 2, e'	A step in the direction of making KWQ headers much nicer.
	Move all empty headers out of kwq, and into ForwardingHeaders.

        * ForwardingHeaders/kcmdlineargs.h: Added.
        * ForwardingHeaders/kdatastream.h: Added.
        * ForwardingHeaders/khtml_iface.h: Added.
        * ForwardingHeaders/khtml_printsettings.h: Added.
        * ForwardingHeaders/khtml_run.h: Added.
        * ForwardingHeaders/kio/kprinter.h: Added.
        * ForwardingHeaders/kio/kprotocolmanager.h:
        * ForwardingHeaders/kio/ktrader.h: Added.
        * ForwardingHeaders/kio/scheduler.h: Added.
        * ForwardingHeaders/kmultipledrag.h: Added.
        * ForwardingHeaders/kprinter.h: Added.
        * ForwardingHeaders/kprotocolmanager.h: Added.
        * ForwardingHeaders/ksslcertchain.h: Added.
        * ForwardingHeaders/ksslinfodlg.h: Added.
        * ForwardingHeaders/kstdaction.h: Added.
        * ForwardingHeaders/ktempfile.h: Added.
        * ForwardingHeaders/ktrader.h: Added.
        * ForwardingHeaders/kurldrag.h: Added.
        * ForwardingHeaders/kxmlguifactory.h: Added.
        * ForwardingHeaders/qasyncimageio.h: Added.
        * ForwardingHeaders/qbitmap.h: Added.
        * ForwardingHeaders/qclipboard.h: Added.
        * ForwardingHeaders/qfontdatabase.h: Added.
        * ForwardingHeaders/qglobal.h: Added.
        * ForwardingHeaders/qhbox.h: Added.
        * ForwardingHeaders/qintcache.h: Added.
        * ForwardingHeaders/qintdict.h: Added.
        * ForwardingHeaders/qmetaobject.h: Added.
        * ForwardingHeaders/qobjectlist.h: Added.
        * ForwardingHeaders/scheduler.h: Added.

        * kwq/dcop/kdatastream.h: Removed.
        * kwq/kdecore/kcmdlineargs.h: Removed.
        * kwq/kdecore/kmultipledrag.h: Removed.
        * kwq/kdecore/ktempfile.h: Removed.
        * kwq/kdecore/kurldrag.h: Removed.
        * kwq/kdeui/kstdaction.h: Removed.
        * kwq/kdeui/kxmlguifactory.h: Removed.
        * kwq/khtml/khtml_iface.h: Removed.
        * kwq/khtml/khtml_printsettings.h: Removed.
        * kwq/khtml/khtml_run.h: Removed.
        * kwq/kio/kprinter.h: Removed.
        * kwq/kio/kprotocolmanager.h: Removed.
        * kwq/kio/kssl/ksslcertchain.h: Removed.
        * kwq/kio/kssl/ksslinfodlg.h: Removed.
        * kwq/kio/ktrader.h: Removed.
        * kwq/kio/scheduler.h: Removed.
        * kwq/qt/qasyncimageio.h: Removed.
        * kwq/qt/qbitmap.h: Removed.
        * kwq/qt/qclipboard.h: Removed.
        * kwq/qt/qfontdatabase.h: Removed.
        * kwq/qt/qglobal.h: Removed.
        * kwq/qt/qhbox.h: Removed.
        * kwq/qt/qintcache.h: Removed.
        * kwq/qt/qintdict.h: Removed.
        * kwq/qt/qmetaobject.h: Removed.
        * kwq/qt/qobjectlist.h: Removed.

        * WebCore.pbproj/project.pbxproj: Removed all the above headers from
	the project.


git-svn-id: svn://svn.chromium.org/blink/trunk@2457 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-24 20:28:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a41cc554c94bde4179c9dbffcbc8fe57c183cbf4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01qf01l5sl0x60kv', 2, e'WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.

WebKit:

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.

WebBrowser:

        * WebBrowser.pbproj/project.pbxproj: Move the new pltsuite
	into the Test group.


git-svn-id: svn://svn.chromium.org/blink/trunk@2456 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-24 19:47:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/073b11baf2e71e31fb3a7120bbec3ae7fd11ec3e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01qg01l5was4sjsa', 2, e'        * ForwardingHeaders/private/qucomextra_p.h: Emptied this out.
        * kwq/qt/private/qucomextra_p.h: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@2455 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-24 19:23:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5100693e18576f071c2e0640013f944643e82060');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01qh01l5y061210i', 2, e'	Make sure that KHTML\'s initial layout happens after KHTML
	fires the onload.  This means that in the case where we
	beat the timer, we will now fire the onload before both
	the initial layout and the initial paint.

        * khtml/html/html_documentimpl.cpp:
        (HTMLDocumentImpl::close):


git-svn-id: svn://svn.chromium.org/blink/trunk@2454 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-24 19:15:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15b781e3c5d51690c10a9aa6f6b282798b5a7cde');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01qi01l5ju9fwq4c', 2, e'WebKit:

	Changed some method names in WebPluginController.

        * Plugins.subproj/WebPluginController.h:
        * Plugins.subproj/WebPluginController.m:
        (-[WebPluginController didAddPluginView:]):
        (-[WebPluginController startAllPlugins]):
        (-[WebPluginController stopAllPlugins]):
        (-[WebPluginController destroyAllPlugins]):
        (-[WebPluginController windowWillClose:]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):
        (-[WebFrame _didAddSubview:]):

WebBrowser:

	Fixed: 2961256 - vend an open URL service

        * AppController.m:
        (-[AppController applicationDidFinishLaunching:]): register the services
        * ServicesProvider.h: Added.
        * ServicesProvider.m: Added.
        (-[ServicesProvider openURL:userData:error:]): the service
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2453 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-24 18:35:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b40a0c67612a6c6e8c63c4654b7b3d0948efc893');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01qj01l5iuqj9xvv', 2, e'Alex-29 version stamp


git-svn-id: svn://svn.chromium.org/blink/trunk@2451 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-10-24 17:04:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7253160071c03e10b7eddaf78bad36ce1ea5ca5d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnogis01qk01l5olem95z6', 2, e'        Don\'t leak request.

        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate handle:willSendRequest:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2450 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-24 16:28:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0baac1237577cb1d13c2e5473199f4cd6432a443');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01ox01l570vm9z1x', 2, e'        Always copy request, we can\'t count on it being immutable.
        This was the cause of the ASSERT from last night\'s checkin.

        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate handle:willSendRequest:]):

        Only send serverRedirectedForDataSource: if URL changed.

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setRequest:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2449 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-24 16:18:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/11e7d44b7fa7f325b07cfbfcdd93572d8c3dfe9c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01oy01l5bw814ww0', 2, e'WebCore:

	Use "MIMEType" instead of "serviceType".

        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::createPart):
        * kwq/WebCoreBridge.h:

WebKit:

	- Use "MIMEType" instead of "serviceType".

        * Plugins.subproj/WebBasePluginPackage.h:
        * Plugins.subproj/WebBasePluginPackage.m:
        (-[WebBasePluginPackage load]):
        (-[WebBasePluginPackage dealloc]):
        (-[WebBasePluginPackage filename]):
        (-[WebBasePluginPackage setPath:]):
        * Plugins.subproj/WebNetscapePluginEmbeddedView.h:
        * Plugins.subproj/WebNetscapePluginEmbeddedView.m:
        (-[WebNetscapePluginEmbeddedView initWithFrame:plugin:URL:baseURL:MIMEType:attributes:]):
        * Plugins.subproj/WebNetscapePluginPackage.m:
        (-[WebNetscapePluginPackage getMIMEInformation]): changed name.
        (-[WebNetscapePluginPackage initWithPath:]):
        * Plugins.subproj/WebNullPluginView.h:
        * Plugins.subproj/WebNullPluginView.m:
        (-[WebNullPluginView initWithFrame:MIMEType:attributes:]):
        (-[WebNullPluginView dealloc]):
        (-[WebNullPluginView viewDidMoveToWindow]): send missing plug-ins notification here
        * Plugins.subproj/WebPluginPackage.m:
        (-[WebPluginPackage getMIMEInformation]): new, gets MIME info from plist
        (-[WebPluginPackage initWithPath:]):
        (-[WebPluginPackage dealloc]):
        (-[WebPluginPackage viewFactory]):
        (-[WebPluginPackage load]):
        (-[WebPluginPackage unload]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge viewForPluginWithURL:attributes:baseURL:MIMEType:]):
        (-[WebBridge viewForJavaAppletWithFrame:attributes:baseURL:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2448 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-24 15:38:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6d9bca16c045f763559a2ee0caa4d2ea305720d3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01oz01l5ntfuauum', 2, e'        Flag error instead of ASSERTing as a result of fix to 3083013.
        Not clear why this condition occurs, but better than ASSERTing
        for Alex 29.

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setRequest:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2447 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-24 09:02:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4d2fe11bb0228fcca73d7eeb10763d3727bb6671');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01p001l5sy65r86u', 2, e'        * kwq/KWQKLocale.mm: (i18n): Make it obvious when non-localized
	strings from WebCore show up in the UI, but putting the string
	"not localized: " in front.

        * kwq/KWQKMessageBox.mm:
        (KMessageBox::error): Fix use of NSRunAlertPanel so that we won\'t
	accidentally try to interpret % sequences in the messages we are displaying.
        (KMessageBox::warningYesNo): Ditto.
        (KMessageBox::questionYesNo): Ditto.
        (KMessageBox::sorry): Ditto.
        (KMessageBox::information): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2446 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-24 07:35:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/51ec4f40bb0cbf107a5ab492b420992d0c740785');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01p101l5l41k2jca', 2, e'	- fixed a crash I ran into in the new delegate code

        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate _releaseResources]): Retain self across this
	deallocation to avoid reentering and being deallocated midstream. This happens
	because the handle holds the only reference to us, and we may be releasing the
	last reference to it.
        (-[WebBaseResourceHandleDelegate dealloc]): Add call to [super dealloc].

        * Plugins.subproj/WebBasePluginPackage.m: (-[WebBasePluginPackage dealloc]):
	Add call to [super dealloc].

        * WebView.subproj/WebMainResourceClient.m: Tweak.


git-svn-id: svn://svn.chromium.org/blink/trunk@2445 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-24 07:20:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/060f65a9aa5fd14ee849dfc2fa99e35e4ba98635');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01p201l5pwty4uos', 2, e'	- fixed 3083013 -- REGRESSION: Cookie refused at http://directory/ even on reload

	Restore a bit of the cruft.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]):
	We need to change the request on the data source when a redirect happens,
	because the data source goes on to ultimately communicate this to WebCore.
	Restored the code that did that, with some changes to fit into the new regime.


git-svn-id: svn://svn.chromium.org/blink/trunk@2444 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-24 06:50:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/58f46baa46c43a3a3f0774ac30cf5a256faaa9ad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01p301l5idhtpy1y', 2, e'        Cleaned up months of accumulated cruft.
        Added base class to the three WebResourceHandleDelegate implementors.
        Removed superfluous handle references to controller callbacks.
        More can still be done.
        All in the name of fixing 3076050.

        * Misc.subproj/WebKitErrors.h:
        * Plugins.subproj/WebBaseNetscapePluginStream.m:
        (-[WebBaseNetscapePluginStream setResponse:]):
        * Plugins.subproj/WebNetscapePluginRepresentation.m:
        (-[WebNetscapePluginRepresentation receivedData:withDataSource:]):
        (-[WebNetscapePluginRepresentation receivedError:withDataSource:]):
        (-[WebNetscapePluginRepresentation finishedLoadingWithDataSource:]):
        * Plugins.subproj/WebNetscapePluginStream.h:
        * Plugins.subproj/WebNetscapePluginStream.m:
        (-[WebNetscapePluginStream initWithRequest:pluginPointer:notifyData:]):
        (-[WebNetscapePluginStream dealloc]):
        (-[WebNetscapePluginStream start]):
        (-[WebNetscapePluginStream stop]):
        (-[WebNetscapePluginStream handle:willSendRequest:]):
        (-[WebNetscapePluginStream handle:didReceiveResponse:]):
        (-[WebNetscapePluginStream handle:didReceiveData:]):
        (-[WebNetscapePluginStream handleDidFinishLoading:]):
        (-[WebNetscapePluginStream handle:didFailLoadingWithError:]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge reportBadURL:]):
        * WebCoreSupport.subproj/WebSubresourceClient.h:
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient initWithLoader:dataSource:]):
        (-[WebSubresourceClient dealloc]):
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:]):
        (-[WebSubresourceClient receivedError:]):
        (-[WebSubresourceClient handle:willSendRequest:]):
        (-[WebSubresourceClient handle:didReceiveResponse:]):
        (-[WebSubresourceClient handle:didReceiveData:]):
        (-[WebSubresourceClient handleDidFinishLoading:]):
        (-[WebSubresourceClient handle:didFailLoadingWithError:]):
        (-[WebSubresourceClient cancel]):
        * WebView.subproj/WebBaseResourceHandleDelegate.h:
        * WebView.subproj/WebBaseResourceHandleDelegate.m:
        (-[WebBaseResourceHandleDelegate init]):
        (-[WebBaseResourceHandleDelegate _releaseResources]):
        (-[WebBaseResourceHandleDelegate dealloc]):
        (-[WebBaseResourceHandleDelegate setDataSource:]):
        (-[WebBaseResourceHandleDelegate dataSource]):
        (-[WebBaseResourceHandleDelegate resourceLoadDelegate]):
        (-[WebBaseResourceHandleDelegate downloadDelegate]):
        (-[WebBaseResourceHandleDelegate setIsDownload:]):
        (-[WebBaseResourceHandleDelegate isDownload]):
        (-[WebBaseResourceHandleDelegate handle:willSendRequest:]):
        (-[WebBaseResourceHandleDelegate handle:didReceiveResponse:]):
        (-[WebBaseResourceHandleDelegate handle:didReceiveData:]):
        (-[WebBaseResourceHandleDelegate handleDidFinishLoading:]):
        (-[WebBaseResourceHandleDelegate handle:didFailLoadingWithError:]):
        (-[WebBaseResourceHandleDelegate cancel]):
        (-[WebBaseResourceHandleDelegate handle]):
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _mainReceivedBytesSoFar:fromDataSource:complete:]):
        (-[WebController _receivedError:fromDataSource:]):
        (-[WebController _mainReceivedError:fromDataSource:]):
        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSource.m:
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]):
        (-[WebDataSource _startLoading]):
        (-[WebDataSource _stopLoading]):
        (-[WebDataSource _clearErrors]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _isLoadComplete]):
        * WebView.subproj/WebMainResourceClient.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient initWithDataSource:]):
        (-[WebMainResourceClient dealloc]):
        (-[WebMainResourceClient receivedError:]):
        (-[WebMainResourceClient cancel]):
        (-[WebMainResourceClient handle:willSendRequest:]):
        (-[WebMainResourceClient _notifyDelegatesOfInterruptionByPolicyChange]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):
        (-[WebMainResourceClient handle:didReceiveData:]):
        (-[WebMainResourceClient handleDidFinishLoading:]):
        (-[WebMainResourceClient handle:didFailLoadingWithError:]):
        * WebView.subproj/WebResourceLoadDelegate.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2443 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-24 05:16:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e2b45c83ab8d164a935acee21d5c9b49f8cfc26e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01p401l5debb0smb', 2, e'WebCore:

	WebKit now gets called when render_frame subviews are added.

        * khtml/rendering/render_frames.cpp:
        (RenderPart::setWidget): call didAddWidget on the part
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::didAddWidget): added, calls didAddSubview on the bridge

WebKit:

	Support for new plug-in API. This is about as much as I can do without the new java plug-in and java root.

        * Plugins.subproj/WebPluginController.h:
        * Plugins.subproj/WebPluginController.m:
        (-[WebPluginController initWithWebFrame:]): observe window close changes
        (-[WebPluginController dealloc]): remove observer, assert if we\'re still tracking plug-ins
        (-[WebPluginController didAddSubview:]): start the plug-in
        (-[WebPluginController stopAllPlugins]): stop and destroy all plug-ins.
        (-[WebPluginController windowWillClose:]): call stopAllPlugins if the window in question is closing
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]): call stopAllPlugins on WebPluginController


git-svn-id: svn://svn.chromium.org/blink/trunk@2442 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-24 01:30:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0699911956337d26e7daca0d68d14b453cba81fb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01p501l5lr7khgad', 2, e'WebCore:

	Change for plug-in package API changes.

        * kwq/KWQKConfigBase.mm:
        (KConfig::readEntry):
        * kwq/WebCoreBridge.h: added didAddSubview, called when a render_frame\'s view is added as a subview of the main view.
        * kwq/WebCoreViewFactory.h: added didAddSubview

WebKit:

	Changed the plug-in package API to return key enumerators instead dictionaries.

        * Plugins.subproj/WebBasePluginPackage.h:
        * Plugins.subproj/WebBasePluginPackage.m:
        (-[WebBasePluginPackage initWithPath:]):
        (-[WebBasePluginPackage load]):
        (-[WebBasePluginPackage unload]):
        (-[WebBasePluginPackage dealloc]):
        (-[WebBasePluginPackage extensionEnumerator]):
        (-[WebBasePluginPackage MIMETypeEnumerator]):
        (-[WebBasePluginPackage descriptionForMIMEType:]):
        (-[WebBasePluginPackage MIMETypeForExtension:]):
        (-[WebBasePluginPackage extensionsForMIMEType:]):
        (-[WebBasePluginPackage setName:]):
        (-[WebBasePluginPackage setPath:]):
        (-[WebBasePluginPackage setFilename:]):
        (-[WebBasePluginPackage setPluginDescription:]):
        (-[WebBasePluginPackage setMIMEToDescriptionDictionary:]):
        (-[WebBasePluginPackage setMIMEToExtensionsDictionary:]):
        * Plugins.subproj/WebNetscapePluginPackage.h:
        * Plugins.subproj/WebNetscapePluginPackage.m:
        (-[WebNetscapePluginPackage getPluginInfo]):
        (-[WebNetscapePluginPackage pathByResolvingSymlinksAndAliasesInPath:]):
        (-[WebNetscapePluginPackage initWithPath:]):
        (-[WebNetscapePluginPackage executableType]):
        * Plugins.subproj/WebPluginController.h:
        * Plugins.subproj/WebPluginController.m:
        (-[WebPluginController didAddSubview:]):
        * Plugins.subproj/WebPluginDatabase.h:
        * Plugins.subproj/WebPluginDatabase.m:
        (-[WebPluginDatabase pluginForKey:withEnumeratorSelector:]):
        (-[WebPluginDatabase pluginForMIMEType:]):
        (-[WebPluginDatabase pluginForExtension:]):
        (-[WebPluginDatabase MIMETypes]):
        (-[WebPluginDatabase init]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge viewForPluginWithURL:attributes:baseURL:serviceType:]):
        (-[WebBridge viewForJavaAppletWithFrame:attributes:baseURL:]):
        (-[WebBridge didAddSubview:]): new
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _didAddSubview:]): new


git-svn-id: svn://svn.chromium.org/blink/trunk@2441 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-24 00:44:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/67171be6a0c414f07852cc3261333a343e6ace93');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01p601l5oxonrdxg', 2, e'WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt:

WebCore:

	- finished up the job of moving the file button to WebKit

	I did this mainly for localization reasons.

        * kwq/KWQFileButton.h: Remove filename(), add filenameChanged(),
	make KWQFileButton be a QWidget subclass, not a QPushButton one.
	Remove clicked() and paint() virtual functions, _filename, _icon,
	and _label data members.
        * kwq/KWQFileButton.mm:
        (KWQFileButton::KWQFileButton): Just make a WebCoreFileButton.
        (KWQFileButton::~KWQFileButton): Less to do here now.
        (KWQFileButton::setFilename): Call the button to do the work.
        (KWQFileButton::sizeHint): Ditto.
        (KWQFileButton::frameGeometry): Ditto.
        (KWQFileButton::setFrameGeometry): Ditto.
        (KWQFileButton::baselinePosition): Ditto.
        (KWQFileButton::filenameChanged): Added. Sends message.
        (-[KWQFileButtonAdapter initWithKWQFileButton:]): Observe the "filename
	changed notification".
        (-[KWQFileButtonAdapter dealloc]): Stop observing.
        (-[KWQFileButtonAdapter filenameChanged:]): Send a signal when the notification
	comes in, so KHTML finds out.

        * kwq/KWQSlot.mm:
        (KWQSlot::KWQSlot): Remove handling for RenderFileButton slotReturnPressed.
        (KWQSlot::call): Ditto.

        * kwq/WebCoreViewFactory.h: Remove bestSize. Add setVisualFrame, visualFrame, and
	bestVisualFrameSize.

        * kwq/KWQInputDialog.mm: Tweaked includes. Long-term we want to use "", not <>.
        * kwq/KWQKConfigBase.mm: Ditto.
        * kwq/KWQKHTMLPartImpl.mm: Ditto.

WebKit:

	- finished up the job of moving the file button here from WebCore.

	I did this mainly for localization reasons.

        * WebCoreSupport.subproj/WebFileButton.m:
        (-[WebFileButton initWithFrame:]): Set up button control size, font, bezel style,
	target, and action. Also add it as a subview.
        (-[WebFileButton drawRect:]): Center icon in the "visual frame" part of the view,
	not the entire bounds.
        (-[WebFileButton setFilename:]): Don\'t show any icon when the filename is empty.
        (-[WebFileButton bestVisualFrameSize]): Implemented this.
        (-[WebFileButton visualFrame]): Ditto.
        (-[WebFileButton setVisualFrame:]): Ditto.
        (-[WebFileButton baseline]): Ditto.
        (-[WebFileButton beginSheet]): Added. Shared between button presses and other clicks.
        (-[WebFileButton chooseButtonPressed:]): Call beginSheet.
        (-[WebFileButton mouseDown:]): Ditto.
        (-[WebFileButton openPanelDidEnd:returnCode:contextInfo:]): Send the notification,
	WebCoreFileButtonFilenameChanged, when the filename is changed.

        * WebView.subproj/WebController.m: (-[WebController policyDelegate]):
	Add a FIXME about the leak I found here.


git-svn-id: svn://svn.chromium.org/blink/trunk@2440 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-23 23:17:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b3d0c5768f70d82d326f03ad276ee3d98bcd10de');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01p701l5gkv732e0', 2, e'WebCore:

	Call the arguments for plug-ins "attributes" everywhere.

        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::createPart):
        * kwq/KWQKJavaAppletWidget.mm:
        (KJavaAppletWidget::showApplet):
        * kwq/WebCoreBridge.h:

WebKit:

	Call the arguments for plug-ins "attributes" everywhere.

        * Plugins.subproj/WebBaseNetscapePluginView.h:
        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView setAttributes:]):
        * Plugins.subproj/WebNetscapePluginEmbeddedView.h:
        * Plugins.subproj/WebNetscapePluginEmbeddedView.m:
        (-[WebNetscapePluginEmbeddedView initWithFrame:plugin:URL:baseURL:mime:attributes:]):
        * Plugins.subproj/WebNullPluginView.h:
        * Plugins.subproj/WebNullPluginView.m:
        (-[WebNullPluginView initWithFrame:mimeType:attributes:]):
        (-[WebNullPluginView drawRect:]):
        * Plugins.subproj/WebPluginController.h:
        * Plugins.subproj/WebPluginController.m:
        (-[WebPluginController initWithWebFrame:]):
        (-[WebPluginController dealloc]):
        (-[WebPluginController addPluginView:]):
        * Plugins.subproj/WebPluginPackage.h:
        * Plugins.subproj/WebPluginPackage.m:
        (-[WebPluginPackage viewFactory]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge pluginViewWithPackage:attributes:baseURL:]):
        (-[WebBridge viewForPluginWithURL:attributes:baseURL:serviceType:]):
        (-[WebBridge viewForJavaAppletWithFrame:attributes:baseURL:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2439 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-23 20:49:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c59eabe547c8a24512feab5aa98c14f2d7d97494');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01p801l56i2cef3j', 2, e'WebCore:

	For the new plug-in API, we need to pass a WebPluginContainer to the plug-in view upon creation. The is owned by the WebFrame. To make this all work, I had to move the WebCore plug-in and java view constructors to WebBridge from WebViewFactory since WebBridge has the frame.

        * khtml/khtml_part.cpp:
        (KHTMLPart::createJavaContext): New APPLE_CHANGES around the java context constructor so we pass the part.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::createPart): call the bridge to create the view
        * kwq/KWQKJavaAppletWidget.mm:
        (KJavaAppletWidget::KJavaAppletWidget): save the context
        (KJavaAppletWidget::showApplet): call the bridge to create the view
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreViewFactory.h:
        * kwq/khtml/java/kjavaappletcontext.h: made constructor take the part
        * kwq/khtml/java/kjavaappletwidget.h: ivar for the context

WebKit:

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge requestedURL]):
        (-[WebBridge viewForPluginWithURL:serviceType:arguments:baseURL:]):
        (-[WebBridge viewForJavaAppletWithFrame:baseURL:parameters:]):
        * WebCoreSupport.subproj/WebViewFactory.m:
        (-[WebViewFactory fileButton]):
        (-[WebViewFactory pluginsInfo]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2438 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-23 18:52:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ebe0d6cb1b656c0a2e667c556452c0a568e75dbd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01p901l5cyr77s3a', 2, e'	- fix bug where plugins crashed closing a stream that was never opened

        * Plugins.subproj/WebBaseNetscapePluginStream.h: Change type for parameter of
	receivedError: to NPReason. It\'s not NPError.
        * Plugins.subproj/WebBaseNetscapePluginStream.m:
        (-[WebBaseNetscapePluginStream dealloc]): Assert that stream is destroyed by
	checking stream.ndata.
        (-[WebBaseNetscapePluginStream setResponse:]): Set stream.ndata to nil if the
	stream is not successfully created by NPP_NewStream.
        (-[WebBaseNetscapePluginStream destroyStreamWithReason:]): Added. Destroys the
	stream, but only if it\'s present. Also set stream.ndata to nil. This was the bug fix.
        (-[WebBaseNetscapePluginStream receivedError:]): Call destroyStreamWithReason:.
        (-[WebBaseNetscapePluginStream finishedLoadingWithData:]): Call destroyStreamWithReason:.

        * English.lproj/Localizable.strings: Update.
        * English.lproj/StringsNotToBeLocalized.txt: Update.


git-svn-id: svn://svn.chromium.org/blink/trunk@2437 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-23 17:49:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c9b1dba660a7efaeef9b4f760411219257bb38bb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pa01l5joqe0oa9', 2, e'	Forgot to add WebPluginController back to the project after I had a project conflict.

        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2436 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-23 17:38:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ca67b540aadebb2713c91b83d1e20e0922514bc5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pb01l5tac4oska', 2, e'	Added WebPluginController which controls and reacts to plug-in requests. Its owned by the WebFrame.

        * Plugins.subproj/WebPluginController.h: Added.
        * Plugins.subproj/WebPluginController.m: Added.
        (-[WebPluginController initWithWebFrame:]):
        (-[WebPluginController showURL:inFrame:]):
        (-[WebPluginController showStatus:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate dealloc]):
        (-[WebFrame pluginController]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2435 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-23 17:27:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2ea541d938b6ca8258e2475be3fac675bf127834');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pc01l5yzidfed6', 2, e'WebCore:

	- fixed 3080478 -- reproducible incomplete load on apple.com

        * kwq/KWQLoaderImpl.mm:
        (-[WebCoreResourceLoader receivedResponse:]): Add an assert.
        (-[WebCoreResourceLoader cancel]): Don\'t finish here, just disconnect the handle
	from the job, and disconnect the job from the WebCoreResourceLoader, and let the
	KHTML code finish the cleanup later. This is the bug fix.
        (KWQCheckCacheObjectStatus): Add an assertion.

        * kwq/KWQKjobclasses.mm:
	(TransferJob::~TransferJob): Don\'t call kill(); do the work here instead.
	(TransferJob::kill): Self-destruct. Need this to avoid a storage leak.

        * khtml/misc/loader.cpp:
        (CachedObject::~CachedObject): Put some Apple-specific code inside APPLE_CHANGES.
        (CachedObject::setResponse): Streamlined this function.
        (Loader::receivedResponse): Added assertions.

        * kwq/qt/qxml.h: Add more stubs.
        * kwq/KWQxml.mm: Ditto.

        * kwq/WebCoreViewFactory.h: Add [WebCoreViewFactory fileButton], the
	WebCoreFileButton protocol, and WebCoreFileButtonFilenameChanged.
        * kwq/WebCoreViewFactory.m: Add WebCoreFileButtonFilenameChanged.
        * WebCore.exp: Export _WebCoreFileButtonFilenameChanged.

WebKit:

	Add WebFileButton, to be used by WebCore soon. It\'s about 1/2
	done right now. Compiles but not used yet.

        * WebCoreSupport.subproj/WebViewFactory.m: (-[WebViewFactory fileButton]): Added.

        * WebCoreSupport.subproj/WebFileButton.h: Added.
        * WebCoreSupport.subproj/WebFileButton.m: Added.
        * WebKit.pbproj/project.pbxproj: Added WebFileButton files.

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handle:didReceiveResponse:]): Add an assertion.


git-svn-id: svn://svn.chromium.org/blink/trunk@2434 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-23 16:57:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/441325eb13caa9eab2572e0e8b461ce4e7647fca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pd01l5yw6ikj2h', 2, e'        - fixed 2876448 - The authentication panel should give a note when
	the user tried to log in and failed

	Also, made the message different (and more helpful) when the
	authentication is for a proxy server.

        * Panels.subproj/WebAuthenticationPanel.m:
        (-[WebAuthenticationPanel setUpForRequest:]): Use different
	messages depending on proxy and previous failure count.

	Updated localized strings:

	* English.lproj/Localizable.strings:
        * English.lproj/StringsNotToBeLocalized.txt:


git-svn-id: svn://svn.chromium.org/blink/trunk@2433 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-23 12:40:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5df463ec582a6e1d7e2583e4f8c5f7b3b4672e1f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pe01l57z1ypt96', 2, e'	- fixed 2876446 - The label in the authentication panel needs to
	adjust its height depending on content

	Also improved [NSControl sizeToFitAndAdjustWindowHeight] method.

        * Panels.subproj/English.lproj/WebAuthenticationPanel.nib: Adjusted
	springs.
        * Panels.subproj/WebAuthenticationPanel.m:
	(-[WebAuthenticationPanel setUpForRequest:]): Use
	sizeToFitAndAdjustWindowHeight on main label.

        * Misc.subproj/WebNSControlExtras.m:
        (-[NSControl sizeToFitAndAdjustWindowHeight]): Improved the logic
	so the best height is picked while leaving the width
	alone. Before, the label would always come out to be a very wide
	single line.


git-svn-id: svn://svn.chromium.org/blink/trunk@2432 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-23 09:29:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/119eb950c04473d4995bff5c810fd2c5c49b8d05');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pf01l5b5vw95uk', 2, e'        * WebKit.pbproj/project.pbxproj: Made WebControllerSets.h
	private. Also alphabetized headers in target pane and subproject
	folders.


git-svn-id: svn://svn.chromium.org/blink/trunk@2431 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-23 06:31:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3e541cfcba3323d630de736b0b61f82ebb816f3c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pg01l54jab0m3e', 2, e'	Forgot to check this in earlier:

	- fixed 3077084 - debugging output when suppressing or allowing
	pop-ups

        * khtml/ecma/kjs_window.cpp:
        (WindowFunc::tryCall):
        * kwq/KWQLogging.h:
        * kwq/KWQLogging.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@2430 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-23 06:25:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/667cf277657e621878ca75a4accd54a60ea96e25');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01ph01l5ens2eqj7', 2, e'	load and unload is only a WebNetscapePluginPackage thing since you can\'t unload an NSBundle.

        * Plugins.subproj/WebBasePluginPackage.h:
        * Plugins.subproj/WebBasePluginPackage.m:
        * Plugins.subproj/WebNetscapePluginPackage.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2429 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-23 05:48:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aa4c996c147ac6c6d637cee7b0c4ce545e35870d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pi01l56mek5tfn', 2, e'	More moving stuff around for the new plug-in API. Added WebBasePluginPackage and added subclass WebPluginPackage. Also made WebNetscapePluginPackage a subclass of WebBasePluginPackage.

        * Plugins.subproj/WebBasePluginPackage.h: Added.
        * Plugins.subproj/WebBasePluginPackage.m: Added.
        (+[WebBasePluginPackage pluginWithPath:]): creates a WebPluginPackage or WebNetscapePluginPackage
        (-[WebBasePluginPackage initWithPath:]):
        (-[WebBasePluginPackage name]):
        (-[WebBasePluginPackage path]):
        (-[WebBasePluginPackage filename]):
        (-[WebBasePluginPackage pluginDescription]):
        (-[WebBasePluginPackage extensionToMIMEDictionary]):
        (-[WebBasePluginPackage MIMEToExtensionsDictionary]):
        (-[WebBasePluginPackage MIMEToDescriptionDictionary]):
        (-[WebBasePluginPackage load]):
        (-[WebBasePluginPackage unload]):
        (-[WebBasePluginPackage isLoaded]):
        (-[WebBasePluginPackage description]):
        * Plugins.subproj/WebNetscapePluginDocumentView.m:
        (-[WebNetscapePluginDocumentView setDataSource:]):
        * Plugins.subproj/WebNetscapePluginPackage.h:
        * Plugins.subproj/WebNetscapePluginPackage.m:
        (-[WebNetscapePluginPackage initWithPath:]):
        * Plugins.subproj/WebPluginDatabase.h:
        * Plugins.subproj/WebPluginDatabase.m:
        (-[WebPluginDatabase pluginForMIMEType:]):
        (-[WebPluginDatabase pluginForExtension:]):
        (-[WebPluginDatabase pluginForFilename:]):
        (-[WebPluginDatabase MIMETypes]):
        (-[WebPluginDatabase init]):
        * Plugins.subproj/WebPluginPackage.h: Added.
        * Plugins.subproj/WebPluginPackage.m: Added.
        (-[WebPluginPackage initWithPath:]):
        * WebCoreSupport.subproj/WebViewFactory.m:
        (-[WebViewFactory viewForPluginWithURL:serviceType:arguments:baseURL:]): check the class of the plug-in when deciding which view to create.
        (-[WebViewFactory viewForJavaAppletWithFrame:baseURL:parameters:]): same here.
        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2428 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-23 05:35:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5b3c8751306d3b33cf93cf5c5e55aa3d43e01509');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pj01l5lwlql27k', 2, e'	Getting XML docs at least made for XML files...

        * WebView.subproj/WebHTMLRepresentation.m:
        (-[WebHTMLRepresentation setDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2427 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-23 00:41:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fb7c8d16a11a9312abc29fd1f10601f71190e3e7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pk01l5pylurtbz', 2, e'	Get XML files closer.  An XML doc is at least made.  No
	parsing works yet though.

        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::setPolicyBaseURL):
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge setContentType:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2426 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-23 00:40:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/446e94f9ac5987e8795f2228679feca3c71f41ac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pl01l5y1ihx9of', 2, e'WebCore:

	Fixed: 3023814 - contexual menus and dragging doesn\'t work for some images

	Added a innerNonSharedNode to NodeInfo that points to the node which is not shared by another node. In this case, the innerNonSharedNode is the image node not the area node.

        * khtml/rendering/render_frames.cpp:
        (RenderFrameSet::nodeAtPoint): call setInnerNonSharedNode
        * khtml/rendering/render_image.cpp:
        (RenderImage::nodeAtPoint): call setInnerNonSharedNode
        * khtml/rendering/render_object.cpp:
        (RenderObject::nodeAtPoint): call setInnerNonSharedNode
        * khtml/rendering/render_object.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge elementAtPoint:]): use the innerNonSharedNode

WebKit:

	Made new plug-in API headers private.

        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2425 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-23 00:24:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/32a0abf9429f1c2c448bb584236f6f866a4fc344');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pm01l5imoa5skm', 2, e'	Fix slashdot.  Make sure the KONQBLOCK hack just throws away
	margins at the tops and bottoms of kids.

        * khtml/css/html4.css:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2424 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-22 23:25:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c4304e85b6c61e908444fc4d7aaf395c5886eeee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pn01l5f4owvpo0', 2, e'WebKit:

        * Misc.subproj/WebKitErrors.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):
	Rename WebErrorLocationChangeInterruptedByURLPolicyChange to
	WebErrorLocationChangeInterruptedByPolicyChange.

WebBrowser:

        * LocationChangeHandler.m:
        (-[LocationChangeHandler locationChangeDone:forDataSource:]):
	Rename WebErrorLocationChangeInterruptedByURLPolicyChange to
	WebErrorLocationChangeInterruptedByPolicyChange.


git-svn-id: svn://svn.chromium.org/blink/trunk@2423 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-22 22:44:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5f816882fab6bbc7e88ed18ec653f5247cda8127');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01po01l5qkfaesw8', 2, e'        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveResponse:]):
	Send the new error whenever a policy change happens. The old code was
	sending a successful completion in the download and ignore cases.


git-svn-id: svn://svn.chromium.org/blink/trunk@2422 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-22 22:37:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cda97ccbbbdb56a2e1f231f9a746ed7f92f94d2d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pp01l5tntpv4fa', 2, e'WebKit:

	- fixed 3080873 -- Error in console when no bookmark file
	found -[WebBookmarkGroup _loadBookmarkGroupGuts]

        * Bookmarks.subproj/WebBookmarkGroup.m:
        (-[WebBookmarkGroup _loadBookmarkGroupGuts]):
	removed ERROR that was useful only long ago.

WebBrowser:

	- fixed buggy case with my previous checkin

        * ActivityViewer.h: new ivar _pendingExpansionItems
        * ActivityViewer.m:
        (-[ActivityViewer init]): create empty _pendingExpansionItems
        (-[ActivityViewer dealloc]): release _pendingExpansionItems
        (-[ActivityViewer expandPendingItems]):
	expand _pendingExpansionItems and empty the set
        (-[ActivityViewer showActivity:]):
	call expandPendingItems when window becomes visible
        (-[ActivityViewer addTopLevelActivity:]):
	if window is not visible, save item in _pendingExpansionItems
	to expand later.


git-svn-id: svn://svn.chromium.org/blink/trunk@2421 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-10-22 22:27:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b65816b0ad2799653e8c076d6329ad635f7a5698');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnof4r01pq01l5rytfmzah', 2, e'        Added stubs from common WebResourceHandleDelegate base
        class.

        * Plugins.subproj/WebBaseNetscapePluginStream.h:
        * Plugins.subproj/WebNetscapePluginStream.h:
        * WebCoreSupport.subproj/WebSubresourceClient.h:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebBaseResourceHandleDelegate.h: Added.
        * WebView.subproj/WebBaseResourceHandleDelegate.m: Added.
        * WebView.subproj/WebMainResourceClient.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2420 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-22 22:18:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c1ba175a3e34aee9e298d7e55fd3a60ad6034669');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01o301l52v2qjm0i', 2, e'	Make the panel position itself above the main window.
	Too bad we can\'t use a sheet, but this is better than a random position.

        * WebCoreSupport.subproj/WebJavaScriptTextInputPanel.m:
        (-[WebJavaScriptTextInputPanel initWithPrompt:text:]):
	Use the new [NSWindow sizeToFitAndAdjustWindowHeight]
	and [NSControl sizeToFitAndAdjustWindowHeight].

        * Misc.subproj/WebNSControlExtras.h: Added.
        * Misc.subproj/WebNSControlExtras.m: Added.
        * Misc.subproj/WebNSWindowExtras.h: Added.
        * Misc.subproj/WebNSWindowExtras.m: Added.
        * WebKit.pbproj/project.pbxproj: Added above files.

        * English.lproj/StringsNotToBeLocalized.txt: Update.


git-svn-id: svn://svn.chromium.org/blink/trunk@2419 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-22 22:13:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8ca34d698e2501e0ba199e857fc54b27ebfc621d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01o401l5r8gk9efh', 2, e'	Fix for left-hand-side of wired.com.  A disturbingly basic
	bug.  I was applying a parent\'s margins to its children
	when collapsing, even if the parent had a border/padding set
	that should have separated it from its kids.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2418 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-22 22:11:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e25ee4a932c66a13e2e0763a2ab29059e99ca272');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01o501l5xglsjb6s', 2, e'WebKit:

        * Misc.subproj/WebKitErrors.h: Add new error code to signify that a location
	change has been interrupted by a change in the URLPolicy governing the load.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]): Add code to check the URLPolicy
	for the URL in the request that is submitted to us in this delegate method. Send
	a locationChangeDone:forDataSource: message with an error using the newly-defined
	code in cases where the location change should be cancelled.

WebBrowser:

	Update LocationChangeHandler to handle the case where the
	URLPolicy changes during a page load. This happens in the
	case where we attempt to load an FTP URL that looks like
	a URL to a file, but turns out to be a URL to a directory.

        * LocationChangeHandler.m:
        (-[LocationChangeHandler locationChangeDone:forDataSource:])


git-svn-id: svn://svn.chromium.org/blink/trunk@2417 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-22 22:01:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f77fd86739039b79c91fde53a2e8c02b933891ee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01o601l5ijpvhsdf', 2, e'	Added protocol headers for new plug-in API.

        * Plugins.subproj/WebPlugin.h: Added.
        * Plugins.subproj/WebPluginContainer.h: Added.
        * Plugins.subproj/WebPluginViewFactory.h: Added.
        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2416 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-22 21:56:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4622ac6e2efe52f1a0d5aff458b6485f78fd3c96');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01o701l5r7nx8c00', 2, e'	Optimize my inline margin discarding to be smart about the
	case when the inline has a block and its beginning or
	end.  Fixes aintitcool.com.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2415 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-22 21:45:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1a58bdfc12f3e4426afafe4df68d4e8d1e57a3d0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01o801l5gan6wyjq', 2, e'	- Moved things around to make room for new plug-in API.
	- Renamed WebNetscapePlugin to WebNetscapePluginPackage.
	- Renamed WebNetscapePluginDatabase to WebPluginDatabase.

        * Plugins.subproj/WebBaseNetscapePluginStream.m:
        (-[WebBaseNetscapePluginStream setPluginPointer:]):
        * Plugins.subproj/WebBaseNetscapePluginView.h:
        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView plugin]):
        * Plugins.subproj/WebNetscapePluginDocumentView.m:
        (-[WebNetscapePluginDocumentView setDataSource:]):
        * Plugins.subproj/WebNetscapePluginEmbeddedView.h:
        * Plugins.subproj/WebNetscapePluginEmbeddedView.m:
        (-[WebNetscapePluginEmbeddedView initWithFrame:plugin:URL:baseURL:mime:arguments:]):
        * Plugins.subproj/WebNetscapePluginNullEventSender.h: Added.
        * Plugins.subproj/WebNetscapePluginNullEventSender.m: Added.
        (-[WebNetscapePluginNullEventSender initWithPluginView:]):
        (-[WebNetscapePluginNullEventSender dealloc]):
        (-[WebNetscapePluginNullEventSender sendNullEvents]):
        (-[WebNetscapePluginNullEventSender stop]):
        * Plugins.subproj/WebNetscapePluginPackage.h: Added.
        * Plugins.subproj/WebNetscapePluginPackage.m: Added.
        (-[WebNetscapePluginPackage openResourceFile]):
        (-[WebNetscapePluginPackage closeResourceFile:]):
        (-[WebNetscapePluginPackage stringForStringListID:andIndex:]):
        (-[WebNetscapePluginPackage getPluginInfo]):
        (-[WebNetscapePluginPackage stringByResolvingSymlinksAndAliasesInPath:]):
        (-[WebNetscapePluginPackage initWithPath:]):
        (-[WebNetscapePluginPackage load]):
        (-[WebNetscapePluginPackage unload]):
        (-[WebNetscapePluginPackage NPP_SetWindow]):
        (-[WebNetscapePluginPackage NPP_New]):
        (-[WebNetscapePluginPackage NPP_Destroy]):
        (-[WebNetscapePluginPackage NPP_NewStream]):
        (-[WebNetscapePluginPackage NPP_StreamAsFile]):
        (-[WebNetscapePluginPackage NPP_DestroyStream]):
        (-[WebNetscapePluginPackage NPP_WriteReady]):
        (-[WebNetscapePluginPackage NPP_Write]):
        (-[WebNetscapePluginPackage NPP_HandleEvent]):
        (-[WebNetscapePluginPackage NPP_URLNotify]):
        (-[WebNetscapePluginPackage NPP_GetValue]):
        (-[WebNetscapePluginPackage NPP_SetValue]):
        (-[WebNetscapePluginPackage NPP_Print]):
        (-[WebNetscapePluginPackage MIMEToExtensionsDictionary]):
        (-[WebNetscapePluginPackage extensionToMIMEDictionary]):
        (-[WebNetscapePluginPackage MIMEToDescriptionDictionary]):
        (-[WebNetscapePluginPackage name]):
        (-[WebNetscapePluginPackage filename]):
        (-[WebNetscapePluginPackage path]):
        (-[WebNetscapePluginPackage isLoaded]):
        (-[WebNetscapePluginPackage pluginDescription]):
        (-[WebNetscapePluginPackage description]):
        (functionPointerForTVector):
        (tVectorForFunctionPointer):
        * Plugins.subproj/WebPlugin.h: Removed.
        * Plugins.subproj/WebPlugin.m: Removed.
        * Plugins.subproj/WebPluginDatabase.h:
        * Plugins.subproj/WebPluginDatabase.m:
        (+[WebPluginDatabase installedPlugins]):
        (-[WebPluginDatabase pluginForMIMEType:]):
        (-[WebPluginDatabase pluginForExtension:]):
        (-[WebPluginDatabase pluginForFilename:]):
        (-[WebPluginDatabase MIMETypes]):
        (-[WebPluginDatabase init]):
        * Plugins.subproj/WebPluginNullEventSender.h: Removed.
        * Plugins.subproj/WebPluginNullEventSender.m: Removed.
        * WebCoreSupport.subproj/WebViewFactory.m:
        (-[WebViewFactory viewForPluginWithURL:serviceType:arguments:baseURL:]):
        (-[WebViewFactory pluginsInfo]):
        (-[WebViewFactory viewForJavaAppletWithFrame:baseURL:parameters:]):
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebController.m:
        (+[WebController canShowMIMEType:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2414 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-22 21:40:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/95dafd63e8b20099223b48c2aa1bcbcc8d72cb10');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01o901l5ztx1fq0z', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@2413 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-22 21:36:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6ef8141daf2d3db60676b03564cdcd1c713c324a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01oa01l5kqd2e7cz', 2, e'        * WebCoreSupport.subproj/WebJavaScriptTextInputPanel.m: Added missing import.


git-svn-id: svn://svn.chromium.org/blink/trunk@2412 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-22 21:36:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7c0b8f2c0ffa55e371c490bd04bbaa9eed37bdde');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01ob01l51k6e3oez', 2, e'	- fixed 3077305 -- js dialog not yet implemented - crash (fatal error)

        * WebCoreSupport.subproj/WebViewFactory.m:
        (-[WebViewFactory runJavaScriptTextInputPanelWithPrompt:defaultText:returningText:]):
	Create a WebJavaScriptTextInputPanel and run it.

        * English.lproj/WebJavaScriptTextInputPanel.nib: Added.
        * WebCoreSupport.subproj/WebJavaScriptTextInputPanel.h: Added.
        * WebCoreSupport.subproj/WebJavaScriptTextInputPanel.m: Added.
        * WebKit.pbproj/project.pbxproj: Added


git-svn-id: svn://svn.chromium.org/blink/trunk@2411 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-22 20:57:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/93e2aa956460525a594a7514e0ee8995f0ecc883');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01oc01l5x2dfqcdk', 2, e'	Use the mouseDown point instead of the mouseDragged point to determine the mouseOffset when dragging images. When you drag an image now, the point where you clicked is the point where the cursor is in relation to the drag image.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDown:]): retain the mouse down event
        (-[WebHTMLView mouseDragged:]): use the mouse down event
        * WebView.subproj/WebHTMLViewPrivate.h:
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLViewPrivate dealloc]): release the mouse down event


git-svn-id: svn://svn.chromium.org/blink/trunk@2410 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-22 20:52:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aca718ade4071ac8f1f6f83c59d8966dbdaabf67');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01od01l54n96zo60', 2, e'	Removing konq\'s flow-around-floats hack for <blockquote> and
	<dl>.  These objects are allowed to flow under floats.  Fixes
	www.webreference.com\'s front page.

	Also fixing a bug in my <td> margin collapsing quirk that
	prevented lists (ol,ul,dl,menu,dir) from collapsing their
	top margins into the td.

        * khtml/css/html4.css:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):
        (RenderFlow::addChild):


git-svn-id: svn://svn.chromium.org/blink/trunk@2409 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-22 20:06:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0b866cd26e4b7395b80c3ef602be79ef6657861b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01oe01l5h33wbjz6', 2, e'	Fix a typo in my change to the h1 rule.

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@2408 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-22 08:20:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/589753b384967b503af9b267b54126710b826df7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01of01l5infl126h', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@2407 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-22 08:20:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/db9f589ef4be61c14456a48eff7ce93d1210ed3d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01og01l5ijgcsn9o', 2, e'	Ok, this patch does a lot of stuff.  It contains a complete
	rewrite of the WinIE quirk for handling collapsing margins
	at the tops and bottoms of table cells.  We match WinIE\'s
	behavior for all HTML4 block-level elements.

	This patch also applies a bottom margin to <form> elements,
	which is what was causing the missing space on livepage.apple.com
	underneath the textfield on the right.  WinIE and Gecko both
	put a bottom margin on all forms.

	This patch also updates the collapsing margin code to detect
	inlines that have been morphed into blocks by KHTML (this is
	so wrong, don\'t even get me started, you can\'t treat an inline
	as a block, this code is lame, etc. etc.) and to properly ignore
	their margins completely.  Fixing the code to not morph inlines
	is another architectural problem that will have to be dealt
	with (sigh).

        * khtml/css/css_valueimpl.h:
        * khtml/css/cssparser.cpp:
        (StyleBaseImpl::parseValue):
        (StyleBaseImpl::parseUnit):
        * khtml/css/cssparser.h:
        * khtml/css/cssstyleselector.cpp:
        * khtml/css/html4.css:
        * khtml/misc/khtmllayout.h:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::RenderFlow):
        (RenderFlow::layout):
        (RenderFlow::layoutBlockChildren):
        (RenderFlow::addChild):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2406 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-22 07:51:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8b784d5722840bddb2ab17307e9a492ff8f5ab13');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01oh01l5uhqdtdeg', 2, e'WebCore:

        * kwq/KWQInputDialog.mm: (QInputDialog::getText): Call the view factory to do the
	heavy lifting.

        * kwq/WebCoreViewFactory.h: Add runJavaScriptTextInputPanelWithPrompt:defaultText:returningText:.
	Use a protocol for the subclass responsibility.
        * kwq/WebCoreViewFactory.m: Remove stub methods not needed because of the subclass responsibility
	technique we are using.

        * kwq/qt/qstylesheet.h: Made this inline, since it does nothing.
        * kwq/KWQStyleSheet.mm: Removed.
        * WebCore.pbproj/project.pbxproj: Removed KWQStyleSheet.mm.

WebKit:

        * WebCoreSupport.subproj/WebViewFactory.h: Changed to use new protocol scheme so we
	get an error if we forget to implement something.
        * WebCoreSupport.subproj/WebViewFactory.m:
        (-[WebViewFactory runJavaScriptTextInputPanelWithPrompt:defaultText:returningText:]): Stub.


git-svn-id: svn://svn.chromium.org/blink/trunk@2405 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-22 00:45:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c6679c261a35902908e6b020b8849b95075fd2ac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01oi01l5cbpzxskg', 2, e'Real checkin this time!


git-svn-id: svn://svn.chromium.org/blink/trunk@2404 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-22 00:28:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/888f96e7e3984062e5ddd56ce2f2d8c330a43613');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01oj01l54nk6t47r', 2, e'WebFoundation:

	Fixed typos and other doc comment errors found during API review.

        * CacheLoader.subproj/WebCacheManager.m:
        * CacheLoader.subproj/WebProtocolHandler.h:
        * Misc.subproj/WebError.h:

WebKit:

	Fixed typos and other doc comment errors found during API review.

        * WebView.subproj/WebController.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2403 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'trey', '2002-10-22 00:00:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0ecc158b2dc03881cd42b69dcdef4a545273ead3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01ok01l5laxm002k', 2, e'        Modernized the activity window a little bit.  Fixed
        a slew of activity related bugs.

        * BrowserWebController.m:
        (-[BrowserWebController identifierForInitialRequest:fromDataSource:]):
        (-[BrowserWebController resource:willSendRequest:fromDataSource:]):
        (-[BrowserWebController resource:didReceiveResponse:fromDataSource:]):
        (-[BrowserWebController resource:didReceiveContentLength:fromDataSource:]):
        (-[BrowserWebController resource:didFinishLoadingFromDataSource:]):
        * FrameProgressEntry.h:
        * FrameProgressEntry.m:
        (-[FrameProgressEntry _initWithFrame:]):
        (-[FrameProgressEntry provisionalDataSourceWasCommitted]):
        (-[FrameProgressEntry activeSubresourcesForDataSource:]):
        (-[FrameProgressEntry trackSubresource:forDataSource:]):
        (-[FrameProgressEntry completedEntry:fromDataSource:]):
        (-[FrameProgressEntry trackSubframe:fromDataSource:]):
        (-[FrameProgressEntry resetProvisionalLoad]):
        * LoadProgressMonitor.h:
        * LoadProgressMonitor.m:
        (-[LoadProgressMonitor _monitorProvisionalDataSourceForFrame:]):
        (-[LoadProgressMonitor _incrementProgressBarWithOldBytes:newBytes:oldTotal:newTotal:isMainResource:]):
        (-[LoadProgressMonitor createProgressEntryWithRequest:dataSource:]):
        (-[LoadProgressMonitor completedEntry:fromDataSource:]):
        (-[LoadProgressMonitor receivedError:forEntry:fromDataSource:]):
        (-[LoadProgressMonitor receivedUpdateForEntry:URLString:bytesLoaded:bytesExpected:error:dataSource:]):
        * ResourceProgressEntry.h:
        * ResourceProgressEntry.m:

        Changed WebResourceLoadDelegate methods to include an identifier
        as first parameter.  This will help clients track callbacks relating
        to a particular resource.  Added identifierForInitialRequest:fromDataSource:
        so clients can create their own identifier.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge objectLoadedFromCache:response:size:]):
        * WebCoreSupport.subproj/WebSubresourceClient.h:
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handle:willSendRequest:]):
        (-[WebSubresourceClient handle:didReceiveResponse:]):
        (-[WebSubresourceClient handle:didReceiveData:]):
        (-[WebSubresourceClient handleDidFinishLoading:]):
        (-[WebSubresourceClient handle:didFailLoadingWithError:]):
        * WebView.subproj/WebController.m:
        (-[WebResourceLoadDelegate identifierForInitialRequest:fromDataSource:]):
        (-[WebResourceLoadDelegate resource:willSendRequest:fromDataSource:]):
        (-[WebResourceLoadDelegate resource:didReceiveResponse:fromDataSource:]):
        (-[WebResourceLoadDelegate resource:didReceiveContentLength:fromDataSource:]):
        (-[WebResourceLoadDelegate resource:didFinishLoadingFromDataSource:]):
        (-[WebResourceLoadDelegate resource:didFailLoadingWithError:fromDataSource:]):
        * WebView.subproj/WebMainResourceClient.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient receivedError:forHandle:]):
        (-[WebMainResourceClient handleDidFinishLoading:]):
        (-[WebMainResourceClient handle:willSendRequest:]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):
        (-[WebMainResourceClient handle:didReceiveData:]):
        (-[WebMainResourceClient handle:didFailLoadingWithError:]):
        * WebView.subproj/WebResourceLoadDelegate.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2402 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-21 23:09:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/54db3495a672b2acdfc4cc52216c63b3508b638a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01ol01l5kb13gezt', 2, e'	Implement support for a new @-rule called @konq-quirks.  This
	will allow us to put style rules into html4.css that only
	apply for pages in quirks mode.

        * khtml/css/css_ruleimpl.cpp:
        (CSSQuirksRuleImpl::CSSQuirksRuleImpl):
        (CSSQuirksRuleImpl::~CSSQuirksRuleImpl):
        (CSSQuirksRuleImpl::cssRules):
        (CSSQuirksRuleImpl::appendRule):
        (CSSQuirksRuleImpl::insertRule):
        (CSSQuirksRuleImpl::deleteRule):
        * khtml/css/css_ruleimpl.h:
        * khtml/css/cssparser.cpp:
        (StyleBaseImpl::parseAtRule):
        * khtml/css/cssparser.h:
        * khtml/css/cssstyleselector.cpp:
        * khtml/css/cssstyleselector.h:
        * khtml/dom/css_rule.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2401 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-21 22:41:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/90ad5917954ec30f8e770bacf5c747e2ee371585');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01om01l5eipgqxxe', 2, e'WebFoundation:

	Partial fix for 2968124 - file misnamed on download

	- added the "filename" method to response so that the logic for getting the correct filename for a resource is in one easy place.
	- obey the "Content-Disposition" header. Not totally fixed because the parsing doesn\'t totally work.

        * CacheLoader.subproj/WebResourceResponse.h:
        * CacheLoader.subproj/WebResourceResponse.m:
        (-[WebResourceResponse filename]): new, filename by using "Content-Disposition" and MIME type.
        (-[WebResourceResponse _setContentType:]): no changes, but I added _setFilename
	* CacheLoader.subproj/WebResourceResponsePrivate.h:
        * Misc.subproj/WebFileTypeMappings.h: remove unused method
        * Misc.subproj/WebFileTypeMappings.m: remove unused method
        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler setResponseMetadata:]): call _setFilename for the "Content-Disposition"

WebKit:

	Changed content policy API to pass a response instead of MIME type so client can get the mime type and filename from one class.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveResponse:]):

WebBrowser:

	Changed content policy API to pass a response instead of MIME type so client can get the mime type and filename from one class.

        * BrowserWebController.m:
        (-[BrowserWebController contentPolicyForResponse:andURL:inFrame:withContentPolicy:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2400 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-21 21:19:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e97ac2ac31ee568118eaa5eadde41f1279b84e9f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01on01l51o1yglpc', 2, e'	- fixed 3080512 -- REGRESSION: moving from old page to new one, we get blank white
	before the new one is ready

	Roll out a bunch of my changes, because they weren\'t complete. Added FIXMEs for the
	problems I was unsuccessfully trying to fix.

        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _setState:]):
        * WebView.subproj/WebView.m:
        (-[WebView initWithFrame:]), (-[WebView isOpaque]), (-[WebView drawRect:]):
	Roll back.


git-svn-id: svn://svn.chromium.org/blink/trunk@2399 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-21 19:45:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/22a71289e3e9b2821c90475d740512285392a77a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01oo01l520kf2spx', 2, e'	Remove closeEntireTree now that deferred close takes care of that case.

        * khtml/html/htmlparser.cpp: (KHTMLParser::startBody):
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2398 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-21 19:09:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a338a990259b136bb724aef756a99fd483c5c235');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01op01l535pinhu8', 2, e'	- fixed 3075041 -- text larger/smaller increment too large when font-size specified as %

        * khtml/css/cssstyleselector.cpp: Don\'t apply the zoom factor to a font size that
	already has the zoom factor applied.


git-svn-id: svn://svn.chromium.org/blink/trunk@2397 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-21 18:23:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8215bca72e40bd99b00f45806a0e1254dbce23ac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01oq01l5xva4d43b', 2, e'	- fixed 3080246 -- REGRESSION: Animated GIFs sometimes disappear after drag or scroll

	Once more, with feeling.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView _setNeedsLayoutIfSizeChanged:]): Added setNeedsDisplay:YES here. The lack
	of this is what caused the bug. But also don\'t do any work when the size doesn\'t change.
	This prevents this from being called at all in the scrolling case, which is what we want.
        (-[WebHTMLView viewWillMoveToSuperview:]): Just the name change.
        (-[WebHTMLView layout]): Store the layout size for the above methods.
        * WebView.subproj/WebHTMLViewPrivate.h: Add a place to store the size.

        * WebView.subproj/WebImageView.m: (-[WebImageView layout]):
	Roll this change back in.


git-svn-id: svn://svn.chromium.org/blink/trunk@2396 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-21 18:12:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bcaacefccc4b6c7bd0e18eb806fcec2a07cb88c8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01or01l55e4z9z67', 2, e'        * khtml/khtmlview.cpp: (KHTMLView::clear): Default to fast scrolling.
	I\'m pretty sure this was just backwards here.


git-svn-id: svn://svn.chromium.org/blink/trunk@2395 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-21 18:04:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b89d24b19e9aa260219b4ee73a2b4279e647510d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01os01l5fvz7clkv', 2, e'	- fixed 3080246 -- REGRESSION: Animated GIFs sometimes disappear after drag or scroll

        * WebView.subproj/WebImageView.m: (-[WebImageView layout]):
	My change to this caused the regression. Not sure why, but I\'ll just back out
	because the change wasn\'t important.


git-svn-id: svn://svn.chromium.org/blink/trunk@2394 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-21 15:53:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1e4c53ec7665d3c27152d1c703f98f5ea6bbab3d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01ot01l5arl9n8cn', 2, e'	DLs are supposed to have margins.

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@2393 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-21 10:06:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9eaa15791e2ae11dbcbc65cc6337d34e1a9e148a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01ou01l51ziz9e66', 2, e'	Fix for margin problems on aintitcool.com.  There was a subtlety
	to WinIE\'s quirk.  For <h1>-<h6> only, they don\'t collapse the
	bottom margin for table cells (they still collapse the top
	margin).  I just love emulating the odd behavior of WinIE.
	Wheee.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2392 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-21 08:16:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/82993228dc796c935d136da9dfe8b1fc071e4dcf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01ov01l5im3cwfjh', 2, e'	Fixed: 3025847 - Can\'t use any menu command keys after clicking on a plugin

	Don\'t give plug-ins command-modified keys anymore because the ability wasn\'t worth the annoyance. If only plug-ins truthfully responded t  events! Anyway, filed 3080103 so that I can look into a way to make this work for everybody.

        * Plugins.subproj/WebBaseNetscapePluginView.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@2391 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-21 06:11:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9e8826ac45741d801e9bd52ffa53d6d6989bc4af');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnodpb01ow01l57n5o5skn', 2, e'	Redid my fix. It was just an ordering thing. The image had to already be
	installed as the current image before calling ref(), because in the cached
	case, you get the loading complete callback right then.

        * khtml/rendering/render_image.cpp: (RenderImage::updateFromElement):
	Call deref on the old image later. Basically, instead of moving the ref
	of the new image up, I moved the deref of the old image down.


git-svn-id: svn://svn.chromium.org/blink/trunk@2390 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-21 06:03:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4513a5038d05d29ba89a1b661ad737d477fa21ee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01n901l5x53t7sw8', 2, e'	Roll out my render_image.cpp change. It was causing a big problem
	getting images from the cache. I need to study further to figure out why.

        * khtml/rendering/render_image.cpp: (RenderImage::updateFromElement):
	Roll back the change.


git-svn-id: svn://svn.chromium.org/blink/trunk@2389 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-21 05:39:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/51c3c35494db735170a26e487f01520b16a7f773');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01na01l5kbuuzmyo', 2, e'	Fixed: 3025868 - Plugin context menu disappears then reappears if you click off of it

	Also fixed some rare dragging weirdness in WebHTMLView. If you attempted to drag a plug-in after dragging an image, the image would drag again.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView mouseDragged:]): subclass and do nothing to prevent calling mouseDragged in WebHTMLView
        (-[WebBaseNetscapePluginView performKeyEquivalent:]): no changes to this method, removed menuForEvent, wasn\'t needed after all
        * Plugins.subproj/WebNetscapePluginStream.m:
        (-[WebNetscapePluginStream stop]): minor clean-up


git-svn-id: svn://svn.chromium.org/blink/trunk@2388 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-21 05:03:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/666e9af6ab507396c060e4873774efdfa2ada297');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nb01l52joiy3a3', 2, e'	Rewrite the clearing code for floats.  Rewrote the
	collapsing margin code to really work with floating and
	clearing.  This fixes the right hand side of wired.com.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):
        (RenderFlow::checkClear):
        (RenderFlow::addChild):


git-svn-id: svn://svn.chromium.org/blink/trunk@2387 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-21 04:02:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e2f02e924f0425d1e67340d88d4e6a9eb2520994');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nc01l52w84uf77', 2, e'	- fixed 3007961 -- Crash in DOM::HTMLImageElementImpl::parseAttribute

        * khtml/rendering/render_image.cpp: (RenderImage::updateFromElement):
	Be sure to call ref on the new image before calling deref on the old
	image. That\'s because deref on the old image causes a cache flush,
	which might cause the image to go away in certain cases.


git-svn-id: svn://svn.chromium.org/blink/trunk@2386 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-21 00:41:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d58ce4d2bac656eb7ba9b9572f5aa5eb5bc6e80b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nd01l5nqkcoonj', 2, e'	Fixed possible build failure.

        * kwq/KWQDOMNode.cpp:
        (isImage): remove unused variable.


git-svn-id: svn://svn.chromium.org/blink/trunk@2385 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-21 00:08:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/10b74dc2e9db0bd78c13badcd4dae5601c7522a6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01ne01l5wz9swn0j', 2, e'	- fixed a minor problem with autorelease I just ran into

        * WebView.subproj/WebHTMLViewPrivate.m: (+[WebHTMLView load]):
	Create an autorelease pool for the benefit of the class initialize
	functions that will be called.


git-svn-id: svn://svn.chromium.org/blink/trunk@2384 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-20 23:54:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/324e3d1d72931768654f6608bb1a7d3989d1b661');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nf01l5qbull1gq', 2, e'	Partial fix for:
	3023814 - contexual menus and dragging doesn\'t work for some images

	The image map case is still broken because I need to find a way to get the RenderImage for an AREA node. Anyone know how?

        * kwq/KWQDOMNode.cpp:
        (isImage): Also return true if the node is an INPUT tag with TYPE set to "image"


git-svn-id: svn://svn.chromium.org/blink/trunk@2383 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-20 23:18:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d916e28b293900d7544825a71ef8a9346f356abb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01ng01l5mzg233bp', 2, e'	Fixed 3050010: Should show contextual menu for WebImageView
	Also made drags from WebImageView work.

        * Misc.subproj/WebNSViewExtras.h:
        * Misc.subproj/WebNSViewExtras.m: added _web_setPromisedImageDragImage which does the hackery to extend the promised file drag for images
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _menuForElement:]): added, gets menu items from delegate and creates menu
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView menuForEvent:]): simplified, gets element and calls -[WebController _menuForElement:]
        (-[WebHTMLView dragImage:at:offset:event:pasteboard:source:slideBack:]): call _web_setPromisedImageDragImage: when dragging image
        * WebView.subproj/WebImageRepresentation.h:
        * WebView.subproj/WebImageRepresentation.m:
        (-[WebImageRepresentation dealloc]): release the URL
        (-[WebImageRepresentation URL]): added so WebImageView can get the URL
        (-[WebImageRepresentation setDataSource:]): retain the URL
        * WebView.subproj/WebImageView.h: use new drag bools
        * WebView.subproj/WebImageView.m:
        (-[WebImageView initWithFrame:]): ditto
        (-[WebImageView setAcceptsDrags:]): ditto
        (-[WebImageView acceptsDrags]): ditto
        (-[WebImageView setAcceptsDrops:]): ditto
        (-[WebImageView acceptsDrops]): ditto
        (-[WebImageView controller]): new
        (-[WebImageView menuForEvent:]): new, creates element and calls -[WebController _menuForElement:]
        (-[WebImageView mouseDragged:]): drag promised file
        (-[WebImageView dragImage:at:offset:event:pasteboard:source:slideBack:]): call _web_setPromisedImageDragImage:
        (-[WebImageView namesOfPromisedFilesDroppedAtDestination:]): new


git-svn-id: svn://svn.chromium.org/blink/trunk@2382 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-20 22:10:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dbeb788afcb5c5a8544ce6dca971d9d6eab1fee2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nh01l545ufqe83', 2, e'	- fixed a problem where you would get garbage bits when resizing while loading a standalone image

	Cleaned up some of the complexity of how we were handling resizing.

        * WebView.subproj/WebDynamicScrollBarsView.m: (-[WebDynamicScrollBarsView updateScrollers]):
	Do the update twice to properly handle the case where a disappearing scroller makes a second
	scroller appear or vice versa.

        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _setState:]): Remove the code that was trying
	to set the setDrawsBackground flag on the scroll view. It was doing it wrong, causing bugs with
	drawing non-HTML views while loading. Also, it wasn\'t working as an optimization, since the
	window was still drawing the metallic background behind. We can revisit adding an optimization
	at the WebHTMLView level if it creates a measurable speed increase, but we must be careful to
	test loading with non-HTML views along with the HTML cases.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView _setNeedsLayoutToYes:]): Added. Calls setNeedsLayout:YES.
        (-[WebHTMLView viewWillMoveToSuperview:]): Added. Registers so we get _setNeedsLayoutToYes:
	calls when the superview\'s size changes. This allows us to do a layout at all the right times.
        (-[WebHTMLView layout]): Call setNeedsDisplay:YES, because if we do a layout without a complete
	display the screen will look bad. Also do a reapplyStyles, because if there are pending style
	changes we want to apply them before doing a layout since they could affect the layout.
        (-[WebHTMLView drawRect:]): Remove the special case that says to always relayout during live
	resize, because it works without a special case now. For the other live resize case, turn it from
	a special case into a general one. Any time layout is done, make sure to draw the entire view,
	not just the passed-in rectangle, and call setNeedsDisplay:NO so we don\'t do it all over again.

        * WebView.subproj/WebImageView.m: (-[WebImageView layout]): Explicitly set frame size to
	0,0 when there is no image.

        * WebView.subproj/WebView.m: Remove now-unnecessary viewWillStartLiveResize, setFrame:,
	viewDidEndLiveResize, isOpaque, and drawRect overrides.
        (-[WebView initWithFrame:]): Don\'t call setDrawsBackground:NO for the reasons above.
	Don\'t set scroll bar visibility because the dynamic scroll bars view handles that already.


git-svn-id: svn://svn.chromium.org/blink/trunk@2381 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-20 19:59:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/96f0332a02a50368d7a9358327423e3549119d66');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01ni01l5w0e78gam', 2, e'	- fixed 3076390 -- crash in DOM::DocumentImpl::setParsing loading thread detail page
	at groups.apple.com

        * khtml/khtml_part.cpp: (KHTMLPart::openURL): Don\'t do any redirect special case
	if the document is nil. Just do a normal load in that case.


git-svn-id: svn://svn.chromium.org/blink/trunk@2380 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-20 16:09:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/65d5244bfc0c084ca2335cf469b93018dc5ed801');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nj01l5jbrlgz8r', 2, e'	- fixed 3079864 -- REGRESSION: assertion failure on any page with a form element

        * khtml/html/html_formimpl.cpp: (HTMLGenericFormElementImpl::attach):
	Roll back the parent call to use NodeBaseImpl::attach. Not sure why I changed that
	at the last minute before my last checkin, but it was *bad*.

	- fixed a crash I observed when clicking on an about:blank page

        * kwq/WebCoreBridge.mm: (-[WebCoreBridge elementAtPoint:]): Check for nil renderer.


git-svn-id: svn://svn.chromium.org/blink/trunk@2379 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-20 15:40:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/df8305e65402d0ee8f591c2c9e70564e81e5cdb4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nk01l5qe1d11qn', 2, e'	- fixed 3073693 -- flash drawn to screen even when window minimized

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView start]): Set up additional notifications.
	Don\'t start the null event sender if the window is miniaturized.
        (-[WebBaseNetscapePluginView windowDidMiniaturize:]): Stop the null event sender.
        (-[WebBaseNetscapePluginView windowDidDeminiaturize:]): Start the null event sender.


git-svn-id: svn://svn.chromium.org/blink/trunk@2378 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-20 05:10:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a3948d261c8e44d6b54760ddf81b84fa4eaf1ef2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nl01l50ll4urmq', 2, e'	- fixed 3075032 -- textarea contents sometimes aren\'t shown

	The root of the problem is that we weren\'t delivering close calls to
	the render objects in the case where we created them late due to our FOUC
	fix. I taught the DOM implementation to remember that a close call is
	due, and deliver it when the render object is created. We can probably
	replace the closeEntireTree hack with this too. I\'ll talk to Dave about
	that on Monday.

        * khtml/xml/dom_nodeimpl.h: Add m_rendererNeedsClose and closeRenderer.
        * khtml/xml/dom_nodeimpl.cpp:
        (NodeImpl::NodeImpl): Initialize m_rendererNeedsClose to false.
        (NodeImpl::closeRenderer): Call close on the renderer if it\'s created, otherwise
	set m_rendererNeedsClose.
        (NodeImpl::attach): If the renderer is created and m_rendererNeedsClose is true
	call close on the renderer and set it to false.

        * khtml/html/html_formimpl.cpp: (HTMLGenericFormElementImpl::attach):
	Rearrange this so that the base class attach is called before updateFromElement
	is called. This allows the base attach to do a close for us before we update.

        * khtml/html/htmlparser.cpp:
        (KHTMLParser::insertNode): Call closeRenderer on the DOM node rather than
	calling close on the render node.
        (KHTMLParser::popOneBlock): Ditto.
        * khtml/xml/xml_tokenizer.cpp:
        (XMLHandler::endElement): Ditto.
        (XMLTokenizer::finish): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2377 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-19 23:41:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9dc034e75327f366ac5b2cd57400b47188907878');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nm01l51vah4s7h', 2, e'        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _transitionToCommitted]):
	Removed stray printf.


git-svn-id: svn://svn.chromium.org/blink/trunk@2376 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-19 17:19:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/92079a5eb0b6c94e27b1ed55ba28dd06bd3d8ea6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nn01l5gm3fmhgm', 2, e'	A couple of whitespace fixes.  What\'s really odd about these
	fixes is that they *work* but only if you load the page by
	hitting "Back".  I suspect that I\'ve now fixed the bugs on
	KHTML\'s end, and we have some sort of whitepsace dropping
	problem on our end.

        * khtml/html/htmlparser.cpp:
        (KHTMLParser::insertNode):
        * khtml/html/htmltokenizer.cpp:
        (HTMLTokenizer::write):


git-svn-id: svn://svn.chromium.org/blink/trunk@2375 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-19 08:11:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/289646a01014765e72641cdf16426ff92df503fc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01no01l5npefmyrj', 2, e'        Fixed khtml to ignore <title> tags after the first tag.

        Fixed setting document.title from JavaScript.

        * khtml/dom/html_document.cpp:
        (HTMLDocument::setTitle):
        * khtml/html/html_headimpl.cpp:
        (HTMLTitleElementImpl::insertedIntoDocument):
        (HTMLTitleElementImpl::childrenChanged):

        Changed name to setUsesBackForwardList: from
        setUseBackForwardList.  ditto for useBackForwardList

        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController setUsesBackForwardList:]):
        (-[WebController usesBackForwardList]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):
        (-[WebFrame _isLoadComplete]):

        Fixed history items that have "untitled" title after
        redirect. (3078577).

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setTitle:]):

        Made title of snippet window change to match document title, if
        present.

        * Debug/SnippetController.h:
        * Debug/SnippetController.m:
        (-[SnippetController setTitle:]):
        (-[SnippetLocationChangeDelegate locationChangeDone:forDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2374 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-19 00:27:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/04afdba86b389f17fd4910a737dc088c5e2d288a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01np01l5eyk9o6ik', 2, e'	- fixed 3078293 -- Implement evaluateJavaScript on WebController

        * kwq/KWQVariant.mm: (QVariant::asString): Made this return reasonable
	values for types other than string. Still may be loose ends left, but
	this takes care of most of it.


git-svn-id: svn://svn.chromium.org/blink/trunk@2373 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-18 22:08:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1e59f4983d68b6513599c948d363619654d5d981');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nq01l59zhudevc', 2, e'WebCore:

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge stringByEvaluatingJavaScriptFromString:]):
	Changed to return a string and changed name.

WebKit:

        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController stringByEvaluatingJavaScriptFromString:]):
	Changed to return a string and changed name.

WebBrowser:

        * BrowserWebBookmarkExtras.m: (-[WebBookmark _goToWithWindowPolicy:]):
        * BrowserWindowController.m: (-[BrowserWindowController goToToolbarLocation:]):
	Update to call stringByEvaluatingJavaScriptFromString.


git-svn-id: svn://svn.chromium.org/blink/trunk@2372 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-18 22:00:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/58037eb2fb5d47082bd7dc8483d99b063817b7e2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nr01l51w6f5gzi', 2, e'WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.
        * English.lproj/Localizable.strings: Regenerate after recent changes.

WebKit:

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.

WebBrowser:

        * LoadProgressMonitor.m: (-[LoadProgressMonitor _busyStatus]):
	Say "Contacting <host>" instead of "Looking for <host>" to help reduce confusion about
	whether this shows up just during DNS or not.

        * English.lproj/StringsNotToBeLocalized.txt: Updated for recent changes.
        * English.lproj/Localizable.strings: Regnerate.


git-svn-id: svn://svn.chromium.org/blink/trunk@2371 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-18 20:49:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0a03ed240487935be1d5d5c8963ebb3da3e347a7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01ns01l540kwuesy', 2, e'	Removed unneeded import of WebFoundation/WebResourceLoadManager.h

        * Misc.subproj/WebIconLoader.m


git-svn-id: svn://svn.chromium.org/blink/trunk@2370 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-18 20:26:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2cf9af132e99f88dce64bcbdae56fbc5c501cfe1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nt01l5p7ktwqtj', 2, e'	The collapsing margin rewrite. Also fixes a bug where
	we stay in quirks mode for strict HTML4 dtds when we
	shouldn\'t.

        * khtml/html/html_documentimpl.cpp:
        (HTMLDocumentImpl::determineParseMode):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layout):
        (RenderFlow::layoutBlockChildren):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2369 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-18 20:20:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4d7e88faf357070d1b6991b7715466db96c79b65');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nu01l5h0ye4858', 2, e'WebCore:

        * Makefile.am: Move dependency so clean happens before build.

WebKit:

        * Makefile.am: Move dependency so clean happens before build.


git-svn-id: svn://svn.chromium.org/blink/trunk@2368 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-18 18:10:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6e4af0328f87be7e3bc5297313d459a9b7c3cede');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nv01l5vwufcnxs', 2, e'        * force-clean-timestamp: Dependencies don\'t work well enough, so
	we need a clean build here after the WebFoundation domain change.


git-svn-id: svn://svn.chromium.org/blink/trunk@2367 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-18 18:01:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5350962ed04bbfc22d39a9be6f5170a42d724c58');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nw01l5cul9homf', 2, e'WebFoundation:

	WebError cleanup. Change domains to be strings, remove unused codes.

        * AuthenticationManager.subproj/WebAuthenticationManagerPrivate.h:
        * AuthenticationManager.subproj/WebAuthenticationManager.m:
        (-[WebAuthenticationManager _checkForAuthenticationFailureInHTTPResponse:withURL:]):
	Don\'t return an error code. The error code was always vague, and never looked at by our
	one client or exposed outside WebFoundation. If we later want to report a precise error,
	we can easily re-add it.

        * CacheLoader.subproj/WebResourceLoad.h: Change domain parameter to an NSString *.
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad failedWithResultCode:inDomain:failingURL:]): Ditto.

        * Misc.subproj/WebError.h: Moved WebErrorDomainWebKit to WebKit. Removed WebErrorDomainFTP.
	Removed WebErrorCodeNoError, WebErrorCodeHTTPUnknownAuthenticationSchemeError, and
	WebErrorCodeHTTPBadAuthenticationHeaderError, which were never used. Changed methods to
	take NSString * for the error domain. Added errorIsInDomain method.
        * Misc.subproj/WebError.m:
        (-[WebErrorPrivate dealloc]): Release the error domain string.
        (classInitialize): Remove descriptions for now-unused error codes.
        (-[WebError initWithErrorCode:inDomain:failingURL:]): Take a domain string.
        (-[WebError errorDomain]): Return the domain string.
        (-[WebError errorIsInDomain:]): Added.
        (-[WebError errorDescription]): Update to look up by string.
        (+[WebError addErrorsWithCodesAndDescriptions:inDomain:]): Use domain string as key.

        * ProtocolHandlers.subproj/WebCFNetworkHTTPProtocolHandler.m:
        (-[WebCFNetworkHTTPProtocolHandler performHTTPHeaderRead:andCall:]): Get rid of the
	code that stored the authenticationFailureResult, which was never passed to the user.
        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.h: Remove authenticationFailureResult.
        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler determineErrorAndFail]): Rearrange the code so we don\'t use
	WebErrorCodeNoError. Also change the domain so that we don\'t report the
	WebErrorCodeCannotConnectToHostError error in the SSL domain any more.

        * WebFoundation.exp: Export the new domain string globals.

WebKit:

	Update for WebFoundation error domain changes.

        * Misc.subproj/WebKitErrors.h: Put WebErrorDomainWebKit in here.
	Also remove WebErrorNoError and the WebErrorCode name for the enum.
        * WebKit.exp: Export the WebErrorDomainWebKit constant.
        * WebView.subproj/WebView.m: Define the WebErrorDomainWebKit.

        * WebKit.pbproj/project.pbxproj: Always use WebKit.exp.
        * Makefile.am: Don\'t generate WebKit-combined.exp any more.
        * WebKit-tests.exp: Removed.

WebBrowser:

	Update for WebFoundation error domain changes.

        * LocationChangeError.m:
        (-[LocationChangeHandler specializedTitleForError:]): Use the new errorIsInDomain method
	instead of doing a switch statement, since that works with NSString.
        (-[LocationChangeHandler specializedMessageForError:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2366 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-18 17:13:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/696960628547a2ad9f9af1c218b0be330b245e30');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nx01l5j1ax5p7c', 2, e'	- fixed 3078644 -- Odd clipping in frame

        * WebView.subproj/WebClipView.h: Add hasAdditionalClip and additionalClip methods.
        * WebView.subproj/WebClipView.m:
        (-[WebClipView resetAdditionalClip]): Add an assertion.
        (-[WebClipView setAdditionalClip:]): Ditto.
        (-[WebClipView hasAdditionalClip]): Added.
        (-[WebClipView additionalClip]): Added.

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView visibleRect]):
	Turn off the additional clip while computing our visibleRect. This way, the additional
	clip only affects people who ask for the clip view\'s visibleRect directly, which basically
	means just the focus rectangle drawing code we are trying to influence.


git-svn-id: svn://svn.chromium.org/blink/trunk@2365 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-18 06:41:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b10f88ab7798673b1664c3b9ca594ce699138a22');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01ny01l55hkhd2tv', 2, e'	A small change that eliminates a variety of strange clipping problems, including ones that
	make large swathes of the page disappear.

        * WebView.subproj/WebClipView.h: Add hasAdditionalClip and additionalClip methods.
        * WebView.subproj/WebClipView.m:
        (-[WebClipView resetAdditionalClip]): Add an assertion.
        (-[WebClipView setAdditionalClip:]): Ditto.
        (-[WebClipView hasAdditionalClip]): Added.
        (-[WebClipView additionalClip]): Added.

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView visibleRect]):
	Turn off the additional clip while computing our visibleRect. This way, the additional
	clip only affects people who ask for the clip view\'s visibleRect directly, which basically
	means just the focus rectangle drawing code we are trying to influence.


git-svn-id: svn://svn.chromium.org/blink/trunk@2364 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-18 06:40:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2f7b382081a97902e675a1ca516f1d6a57cac098');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01nz01l5rrnr4ggt', 2, e'        Support for drawing frame borders and frame resizing. (fixes 2982466).

        * khtml/rendering/render_frames.cpp:
        (RenderFrameSet::userResize):
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge frameBorderStyle]):
        * kwq/qt/qframe.h:

        Support for drawing frame borders (fixes 2982466).

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView _drawBorder:]):
        (-[WebHTMLView drawRect:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2363 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-18 00:30:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/832655823b44862998fcea6999f9fc8254bdeb55');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01o001l5cexruhzm', 2, e'	- fixed 2807340 -- Alex is case sensitive for anchors, but
	should not be in quirks mode (other browsers aren\'t)

        * khtml/dom/html_misc.cpp: Touched this file to prevent us from requiring a
	full build. Damned header dependencies still don\'t work right.

        * khtml/html/html_miscimpl.h: Add caseSensitive parameters.
        * khtml/html/html_miscimpl.cpp:
        (HTMLCollectionImpl::getNamedItem): Add caseSensitive parameter, and compare
	by converting both to lower case if it\'s false and pass it on when recursing.
        (HTMLCollectionImpl::namedItem): Pass along a caseSensitive parameter.
        (HTMLFormCollectionImpl::getNamedItem): Pass along a caseSensitive parameter.
        (HTMLFormCollectionImpl::getNamedFormItem): Pass along, and handle, it.
        (HTMLFormCollectionImpl::getNamedImgItem): Ditto.
        (HTMLFormCollectionImpl::nextNamedItemInternal): Pass true for caseSensitive.

        * khtml/khtml_part.cpp: (KHTMLPart::gotoAnchor):
	Pass false for the new caseSensitive parameter to namedItem when the document
	mode is not strict.

        * kwq/KWQListBox.mm: (QListBox::sizeForNumberOfLines): Removed a stray NSLog
	that I left in by accident.


git-svn-id: svn://svn.chromium.org/blink/trunk@2362 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-18 00:18:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dd2913f64d2702e07b81d36eadbff5409be19a17');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01o101l53h991x5y', 2, e'	- fixed 3052547 -- <select> doesn\'t size properly (size > 1)

        * khtml/rendering/render_form.cpp:
        (RenderLineEdit::slotReturnPressed): #if !APPLE_CHANGES around some unused
	code in here.
        (RenderSelect::updateFromElement): Fix bug where it was using Multi here, but
	Extended elsewhere for the selection mode.
        (RenderSelect::layout): Change code so that QListBox handles the sizing.

        * kwq/KWQListBox.h: Removed a lot of unused stuff, made other things use inlines.
        * kwq/KWQListBox.mm: Rewrote most of the file contents. Made a new
	QListBox::sizeForNumberOfLines method. We will have to port this to NSTableView
	rather than NSBrowser.


git-svn-id: svn://svn.chromium.org/blink/trunk@2361 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-17 23:04:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/06279259e01b1ef85b64a25022af4c90b5e16ff6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoc9y01o201l5t7jth52s', 2, e'	- fixed 3078245 -- REGRESSION: lightgrey displays as black, used
	to display as white, should display light gray

        * kwq/KWQColor.mm: (getNamedColors): For every color with the name
	"gray" in it, also include the version spelled "grey" as other
	browsers seem to.


git-svn-id: svn://svn.chromium.org/blink/trunk@2360 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-17 21:05:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/347bf528ccd45993447f93ea86bdb3602ad759c7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mf01l532h0slxj', 2, e'WebKit:

	- added support for bookmark identifiers, to be used for marking
	bookmark proxies uniquely (independent of localized title). This
	is not the old unique-identifier scheme; now identifiers are optional,
	and initially nil, but the client can use them for its own purposes.

        * Bookmarks.subproj/WebBookmark.h:
        * Bookmarks.subproj/WebBookmark.m:
        (-[WebBookmark dealloc]): release identifier
        (-[WebBookmark identifier]): return identifier
        (-[WebBookmark setIdentifier:]): set identifier
        * Bookmarks.subproj/WebBookmarkLeaf.m:
        (-[WebBookmarkLeaf initFromDictionaryRepresentation:withGroup:]):
	restore identifier
        (-[WebBookmarkLeaf dictionaryRepresentation]):
	save identifier
        (-[WebBookmarkLeaf copyWithZone:]):
	copy identifier
        * Bookmarks.subproj/WebBookmarkList.m:
        (-[WebBookmarkList initFromDictionaryRepresentation:withGroup:]):
	restore identifier
        (-[WebBookmarkList dictionaryRepresentation]):
	save identifier
        (-[WebBookmarkList copyWithZone:]):
	copy identifier
        * Bookmarks.subproj/WebBookmarkPrivate.h:
        * Bookmarks.subproj/WebBookmarkProxy.m:
        (-[WebBookmarkProxy initFromDictionaryRepresentation:withGroup:]):
	restore identifier
        (-[WebBookmarkProxy dictionaryRepresentation]):
	save identifier
        (-[WebBookmarkProxy copyWithZone:]):
	copy identifier

WebBrowser:

	- a bunch of work in the direction of getting the special
	"bookmark sources" to work in the bookmarks view. The Address Book
	contents now appear in the Bookmarks view, but Rendezvous and
	History don\'t yet.

        * BookmarkSource.h: Added.
	Defines protocol to be used by special bookmark sources.

        * BookmarksController.h: define identifier constants used for
	special bookmark sources.
        * BookmarksController.m:
        (-[BookmarksController _blessOrCreateSpecialFolders]):
	set identifiers on bookmark proxies representing special bookmark
	sources

        * BookmarksViewController.m:
        (-[BookmarksViewController undoRemoveBookmarks:]):
        (-[BookmarksViewController selectedContentItems]):
        (-[BookmarksViewController deleteContentItems:]):
        (-[BookmarksViewController deleteSelectedContentItems]):
        (-[BookmarksViewController doubleClick:]):
        (-[BookmarksViewController newBookmarkFolder:]):
        (-[BookmarksViewController bookmarkSourceForProxyIdentifier:]):
        (-[BookmarksViewController refreshContents]):
        (-[BookmarksViewController bookmarksFromContentItems:]):
        (-[BookmarksViewController bookmarkFromContentItem:]):
        (-[BookmarksViewController canAddToBookmarkSource:]):
        (-[BookmarksViewController canAddToSelectedBookmarkSource]):
        (-[BookmarksViewController canDeleteFromSelectedBookmarkSource]):
        (-[BookmarksViewController child:ofContentItem:]):
        (-[BookmarksViewController isContentItemExpandable:]):
        (-[BookmarksViewController numberOfChildrenOfContentItem:]):
        (-[BookmarksViewController titleStringForContentItem:]):
        (-[BookmarksViewController addressStringForContentItem:]):
        (-[BookmarksViewController imageForContentItem:]):
        (-[BookmarksViewController shouldEditTableColumn:forContentItem:]):
        (-[BookmarksViewController tableView:draggingSourceOperationMaskForLocal:]):
        (-[BookmarksViewController cleanUpAfterDraggingBookmarksWithOperation:]):
        (-[BookmarksViewController prepareForDraggingBookmarks:fromSourceColumn:]):
        (-[BookmarksViewController tableView:validateDrop:proposedRow:proposedDropOperation:]):
        (-[BookmarksViewController handleKeyDown:inSourceColumn:]):
        (-[BookmarksViewController tableViewSelectionDidChange:]):
        (-[BookmarksViewController outlineView:child:ofItem:]):
        (-[BookmarksViewController outlineView:isItemExpandable:]):
        (-[BookmarksViewController outlineView:numberOfChildrenOfItem:]):
        (-[BookmarksViewController outlineView:objectValueForTableColumn:byItem:]):
        (-[BookmarksViewController outlineView:draggingSourceOperationMaskForLocal:]):
        (-[BookmarksViewController outlineView:writeItems:toPasteboard:]):
        (-[BookmarksViewController outlineView:willDisplayCell:forTableColumn:item:]):
        (-[BookmarksViewController outlineView:shouldEditTableColumn:item:]):
        (-[BookmarksViewController copy:]):
        (-[BookmarksViewController delete:]):
	My brain gets sore thinking about writing individual comments here. Basically I
	generalized methods that were dealing explicitly with bookmarks to deal with
	opaque "content items" instead, then delegate to the appropriate BookmarkSource
	in the bottleneck methods. Only Address Book is hooked up so far. This also fixed lots
	of trouble you could get into if you played with the "not implemented yet" items
	too much.

        * ABHomePagesController.h:
        * ABHomePagesController.m:
        (-[ABHomePagesController refreshContents]):
        (-[ABHomePagesController canDeleteContents]):
        (-[ABHomePagesController deleteContentItems:]):
        (-[ABHomePagesController isContentItemExpandable:]):
        (-[ABHomePagesController child:ofContentItem:]):
        (-[ABHomePagesController numberOfChildrenOfContentItem:]):
        (-[ABHomePagesController bookmarkFromContentItem:]):
        (-[ABHomePagesController bookmarksFromContentItems:]):
        (-[ABHomePagesController addressStringForContentItem:]):
        (-[ABHomePagesController titleStringForContentItem:]):
        (-[ABHomePagesController imageForContentItem:]):
	Implement BookmarkSource protocol; I haven\'t deleted all the
	similar code that drives the Address Book window yet.

        * English.lproj/MainMenu.nib: changed "Last Search Results" to
	"SnapBack to Search" under protest.

        * WebBrowser.pbproj/project.pbxproj: updated for new file


git-svn-id: svn://svn.chromium.org/blink/trunk@2359 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-10-17 20:14:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f90c931084f8c64b74897ac4724b1390c1cd0627');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mg01l5jhj10ky1', 2, e'	Make navigator.product dynamic based off user agent (i.e.,
	make it participate in spoofing too).

        * khtml/ecma/kjs_navigator.cpp:
        (Navigator::getValueProperty):


git-svn-id: svn://svn.chromium.org/blink/trunk@2358 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-17 19:06:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cbde7e2f62fee92b503d73bdb31bc164438d120a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mh01l5ey66yulr', 2, e'Alex-28


git-svn-id: svn://svn.chromium.org/blink/trunk@2356 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-10-17 18:10:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5d421595e33e6e47c9d50f6162cd464f8d4195b1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mi01l5xowobz8k', 2, e'	- fixed 3077856 -- REGRESSION: scroll to fragment doesn\'t work
	(except when Alex started from command line)

        * kwq/kparts/browserextension.h: Initialize reload to false. It was
	uninitialized, and when true was preventing anchor navigation from working.


git-svn-id: svn://svn.chromium.org/blink/trunk@2355 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-17 17:12:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/12904730841be60ce4584517583970b4d1c5148f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mj01l5coyvu056', 2, e'	- fixed 3062613 -- too many redirects at nytimes.com and apple

	Our cookie policy was rejecting the cookies from nytimes.com -- the policy base
	URL was still the news.com URL from before the redirect.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]):
	Update the cookie policy URL when a redirect changes the data source\'s URL.


git-svn-id: svn://svn.chromium.org/blink/trunk@2354 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-17 16:48:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2d4a8153dcc6d1ffc0259375bfb87b8b2af4ef65');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mk01l541k1jpjh', 2, e'	- fixed 3077910 -- REGRESSION: download window open at startup time -> no scrollbars

        * WebView.subproj/WebDynamicScrollBarsView.m:
        (-[WebDynamicScrollBarsView updateScrollers]):
	Check for WebDocumentView protocol before making the layout method
	call. Prevents exception when WebDynamicScrollBarsView is used with
	a document that is not a WebDocumentView.


git-svn-id: svn://svn.chromium.org/blink/trunk@2353 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-17 16:17:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/84118d431f5d1bc5ab65c1ed9e1b818f4183ed05');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01ml01l5phm3da2k', 2, e'	- fixed 3075992 -- Hang in khtml::RenderFlow::lowestPosition() trying to
	render http://avoyagetoarcturus.blogspot.com/

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::lowestPosition): Don\'t recurse on the same child twice.
        (RenderFlow::rightmostPosition): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2352 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-17 08:05:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/545a761593d6b1f714c9b5fade2db79936be1761');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mm01l5zq10j6s1', 2, e'	Fix bayarea.com.  My implementation of offsetParent was
	flawed.  And to think I was blaming Gecko... ;)

        * khtml/rendering/render_object.cpp:
        (RenderObject::offsetParent):


git-svn-id: svn://svn.chromium.org/blink/trunk@2351 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-17 08:03:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3982ed16705a034d0aefb3dfdc021d20c9f0a099');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mn01l51c2mle4w', 2, e'	- fixed 3061103 -- Line-breaks lost when submitting after pasting text from
	MSIE into Alexander textarea

        * kwq/KWQLineEdit.mm: (QLineEdit::text):
        * kwq/KWQTextEdit.mm: (QTextEdit::text):
	Turn \\r\\n sequences and standalone \\r characters into \\n characters on the way
	out of AppKit land and into KHTML land. I didn\'t try to make this efficient
	for the common case because these are not time-critical functions.


git-svn-id: svn://svn.chromium.org/blink/trunk@2350 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-17 05:43:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/05cdff318a1ac50bf41ac4fda05393334a6b4d6a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mo01l588wxpi8z', 2, e'i        Fixed a few regressions in drawing of frame resize handle
        in preparation for drawing frame borders and completing
        2982466.

        * khtml/rendering/render_frames.cpp:
        (RenderFrameSet::userResize):
        * kwq/KWQPainter.mm:
        (QPainter::drawRect):
        * kwq/qt/qscrollview.h:
        * kwq/KWQScrollView.mm:
        (QScrollView::updateContents):
        * kwq/KWQWidget.mm:
        (QWidget::enableFlushDrawing):

        Use static_cast everywhere DOM::NodeImpl is cast to
        subclass.

        * kwq/WebCoreDOMNode.mm:
        (-[WebCoreDOMNode DOM::]):
        (-[WebCoreDOMNodeList DOM::]):
        (-[WebCoreDOMNamedNodeMap DOM::]):
        (-[WebCoreDOMAttr DOM::]):

        Added some drawing debug code (ifdef excluded).

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView drawRect:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2349 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-17 01:08:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fbded82cd3c5410c88ec26d553bfb673b518945f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mp01l5ck76v9f3', 2, e'	Fix crash on pages with bulleted lists.  Making sure the list
	item marker doesn\'t get a layer (which means it has to be
	painted by hand now by the list item object).

        * khtml/rendering/render_box.cpp:
        (RenderBox::setStyle):
        * khtml/rendering/render_list.cpp:
        (RenderListItem::printObject):
        * khtml/rendering/render_list.h:
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2348 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-17 00:37:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7390b65974320bbdd4fa92f04c8347bfc93d4b69');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mq01l56npbl5su', 2, e'	- fixed 3072542 -- double "&" in submit button

        * khtml/rendering/render_form.cpp: (RenderSubmitButton::rawText):
	Don\'t double the "&" character, not needed for KWQ.


git-svn-id: svn://svn.chromium.org/blink/trunk@2347 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-17 00:01:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9ae771342e6efa0de4a6c9f0d9d8ba9235ad03a5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mr01l52q9doo91', 2, e'	Fixed anomalies with plugin positioning caused by my switch to
	NSViewFocusDidChangeNotification. Turns out that is not sent during
	live resize, but we need things to work during live resize.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView start]): Register for changes in the
	bounds and frame of all superviews again, instead of using
	NSViewFocusDidChangeNotification.


git-svn-id: svn://svn.chromium.org/blink/trunk@2346 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-16 23:49:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/10ddfce8724d97a29f3c7c5ac3e0de84a722d20f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01ms01l53qtbjhse', 2, e'	When render objects were being dynamically wrapped in anonymous
	blocks, the layer parenting connection was being broken without
	being reconnected when the wrapping finished.  This patch
	shifts the layer connection into the functions that are also
	called in the dynamic case.

	With this fix, all objects on mrskin finally show up.  Yeehah.
	brainjar.com\'s brain is back too.

	This patch also stops treating images as inline if they are
	using abs/fixed positioning, since according to the CSS spec,
	abs/fixed positioned elements should be treated as block-level
	content.

        * khtml/rendering/render_container.cpp:
        (RenderContainer::addChild):
        (RenderContainer::appendChildNode):
        (RenderContainer::insertChildNode):
        * khtml/rendering/render_image.cpp:
        (RenderImage::setStyle):


git-svn-id: svn://svn.chromium.org/blink/trunk@2345 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-16 23:28:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/30566ee6d59ce0183adb8792c0c543a3210ad28e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mt01l5v4hi9vbw', 2, e'	- fixed 3045570 -- can\'t select a printer at inkfinder.com

        * khtml/khtml_part.cpp: (KHTMLPart::processObjectRequest):
	Call the new openURL for the case where we are reusing a part.
	We do this backwards from how KHTML does, so it\'s twisted.

        * kwq/KWQKHTMLPartImpl.h: Add openURL.
        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::openURL):
	Tell the bridge to load the URL.

        * kwq/mac-encodings.txt: Tweak Korean encoding names.


git-svn-id: svn://svn.chromium.org/blink/trunk@2344 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-16 23:24:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cd2e4742f261eda63cd973d3ef3d8fc373eb981f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mu01l5a3i8ylu6', 2, e'        Fixed 2969367.  Ensure layout happens before doing check
        to determine if scrollbars are needed.  Ahhh, dynamic
        scrollbars work so much better now.

        * WebView.subproj/WebDynamicScrollBarsView.m:
        (-[WebDynamicScrollBarsView updateScrollers]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2343 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-16 22:41:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/63671f15b956edcd6d71b2ba688d4007121153fa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mv01l5chibyo63', 2, e'	Fixed the problem where we would leave white bits when making the window larger.

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView drawRect:]): During live resize,
	use the visible rectangle after doing layout, not before.


git-svn-id: svn://svn.chromium.org/blink/trunk@2342 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-16 22:01:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2f265a7cca1aad2eefdaa4d2d6776c5ef059a8fa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mw01l53jkb6ord', 2, e'	A very substantial change.  Absolute/fixed positioned elements that
	are NOT renderflows were not getting layers constructed for them.
	They do now.

	Also, floats now have layers constructed for them.  This allows
	printSpecialObjects to be completely eliminated, enables smarter
	damge rect intersection testing for faster painting, and fixes
	regressions on sites like www.demian5.com.

        * khtml/rendering/render_box.cpp:
        (RenderBox::setStyle):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::printObject):
        (RenderFlow::addOverHangingFloats):
        (RenderFlow::printTree):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::constructZTree):
        * khtml/rendering/render_root.cpp:
        (RenderRoot::printObject):
        * khtml/rendering/render_table.cpp:
        (RenderTable::print):


git-svn-id: svn://svn.chromium.org/blink/trunk@2341 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-16 21:55:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c5354c6af9e1fcea3e56209b776aea1c5320ce6e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mx01l5hb44gt20', 2, e'Fixed 3059237, which was fixed, but regressed.

        Fixed regression in visited links due to change is semantics of
        [dataSource request], added [dataSource _originalRequest].  Items
        always need to be added to history with the original request.

        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource initWithRequest:]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]):
        (-[WebDataSource _defersCallbacksChanged]):
        (-[WebDataSource _originalRequest]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):

        Removed bogus code.

        * kwq/KWQKHistoryProvider.mm:


git-svn-id: svn://svn.chromium.org/blink/trunk@2340 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-16 20:40:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cffc861a0dcb14037beea51acccd26d46664c03a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01my01l5cvetrszu', 2, e'WebKit:

	- fixed 3017152 -- intra-page anchors not updating page address field

        * WebView.subproj/WebLocationChangeDelegate.h: Rearrange methods so they are
	in the order they are delivered. Add locationChangedWithinPageForDataSource method.
	Renamed the redirect methods to match the verb tenses used in the others.
	Removed the URL parameter from the server redirect method.
        * WebView.subproj/WebLocationChangeDelegate.m: Update the class to match the
	changes to the protocol.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge reportClientRedirectTo:delay:fireDate:]):
	Update for change to clientWillRedirectTo method name.
        (-[WebBridge loadURL:]): Call locationChangedWithinPageForDataSource:.

        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _setRequest:]):
	Update for change to serverRedirectedForDataSource method name.

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView mouseMovedNotification:]):
	Remove overzealous assert that was firing for me.

        * WebCoreSupport.subproj/WebSubresourceClient.m: Update comment.
        * WebView.subproj/WebDataSource.h: Fix comment.

WebBrowser:

	WebBrowser changes to handle location changes within a page (clicks on anchors).

        * BrowserWindowController.h: Added mainFrameLocationChangedWithinPage.
        * BrowserWindowController.m:
        (-[BrowserWindowController mainFrameLocationChangedWithinPage]):
	Calls setLocationFieldTextToCurrentURL.
        * LocationChangeHandler.m:
        (-[LocationChangeHandler serverRedirectedForDataSource:]): Updated name to
	track change in WebKit. Also removed unnecessary calls to titleChangedForFrame
	and to _currentURLHasChanged, since both are only needed if the data source
	is committed, and server redirects always come before it is committed.
        (-[LocationChangeHandler locationChangedWithinPageForDataSource:]): Added.
	Has much of what used to be in serverRedirectedForDataSource, and also calls
	the new mainFrameLocationChangedWithinPage.
        (-[LocationChangeHandler clientWillRedirectTo:delay:fireDate:forFrame:]):
	Updated name to track change in WebKit.


git-svn-id: svn://svn.chromium.org/blink/trunk@2339 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-16 17:03:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5d06fb9e4be6a90b906d296155fe0a5f93af8fe0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01mz01l5evbm68sa', 2, e'        * kwq/WebCoreBridge.mm:
        (attributedString):
        Don\'t convert element unless it has a renderer.

        * kwq/WebCoreDOMNode.mm:
        (-[WebCoreDOMAttr DOM::]):
        (-[WebCoreDOMAttr name]):
        (-[WebCoreDOMAttr specified]):
        (-[WebCoreDOMAttr value]):
        (-[WebCoreDOMAttr ownerElement]):
        (-[WebCoreDOMElement tagName]):
        (-[WebCoreDOMElement setAttribute::]):
        (-[WebCoreDOMElement removeAttribute:]):
        (-[WebCoreDOMElement getAttributeNode:]):
        (-[WebCoreDOMElement removeAttributeNode:]):
        (-[WebCoreDOMElement getElementsByTagName:]):
        (-[WebCoreDOMElement getAttributeNS::]):
        (-[WebCoreDOMElement setAttributeNS:::]):
        (-[WebCoreDOMCharacterData data]):
        (-[WebCoreDOMCharacterData setData:]):
        (-[WebCoreDOMCharacterData length]):
        (-[WebCoreDOMCharacterData substringData::]):
        (-[WebCoreDOMCharacterData appendData:]):
        (-[WebCoreDOMCharacterData insertData::]):
        (-[WebCoreDOMCharacterData deleteData::]):
        (-[WebCoreDOMText splitText:]):
        (-[WebCoreDOMProcessingInstruction data]):
        (-[WebCoreDOMProcessingInstruction setData:]):
        * kwq/WebCoreDOMPrivate.h:
        API cleanup.


git-svn-id: svn://svn.chromium.org/blink/trunk@2338 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-16 01:42:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0670c8b6dbb303af754558e8616c82710785dcef');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01n001l5gf1ihpxn', 2, e'	More work on making blocks correctly compute their maximal
	positive and negative margins.  Adding code to ensure
	that floats and absolute/fixed positioned elements know
	not to collapse with children or with themselves.  Also adding
	code to teach empty blocks that they can collapse their own
	margins together.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layout):
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2337 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-16 00:39:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9338ac206184b2d405749cf6e5da0d445e98ba5a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01n101l52smn94pp', 2, e'WebCore:

	WebCore support for using referrer even in loads that are not initiated
	by WebCore itself.

        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::createNewWindow): Don\'t pass a referrer.
	We get the referrer from the part.

        * kwq/KWQKHTMLPartImpl.h: Add a new referrer method that works on the
	part, and remove the old one that got it from the URL arguments.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::bridgeForFrameName): Don\'t pass a referrer when
	creating a new window.
        (KWQKHTMLPartImpl::openURLRequest): Don\'t pass a referrer when doing a load.
        (KWQKHTMLPartImpl::urlSelected): Don\'t pass a referrer when doing a load.
        (KWQKHTMLPartImpl::createPart): Don\'t pass a referrer when creating a child
	frame for this window.
        (KWQKHTMLPartImpl::submitForm): Don\'t pass a referrer when doing a load.
        (KWQKHTMLPartImpl::referrer): Added.

        * kwq/KWQLoaderImpl.mm: (KWQServeRequest): Don\'t pass a referrer when starting
	a load.
        * kwq/WebCoreBridge.h: Add referrer method. Remove referrer parameter from
	many other methods.
        * kwq/WebCoreBridge.mm: (-[WebCoreBridge referrer]): Added.

WebKit:

	- fixed 3062393 -- need to send proper referrer for "open in new window" menu items and keyboard shortcuts

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge createWindowWithURL:frameName:]): Don\'t take a referrer parameter any more.
	Get the referrer by calling to the other side of the bridge, instead.
        (-[WebBridge startLoadingResource:withURL:]): Ditto.
        (-[WebBridge loadURL:]): Ditto.
        (-[WebBridge postWithURL:data:contentType:]): Ditto.
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]):
	Ditto.

        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        (-[WebDefaultContextMenuDelegate openNewWindowWithURL:]): Don\'t take a referrer parameter,
	which was always nil anyway. Instead, get the referrer from the bridge.
        (-[WebDefaultContextMenuDelegate openLinkInNewWindow:]): Don\'t pass nil for referrer.
        (-[WebDefaultContextMenuDelegate openImageInNewWindow:]): Ditto.
        (-[WebDefaultContextMenuDelegate openFrameInNewWindow:]): Ditto.

        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _continueAfterClickPolicyForEvent:]): Pass a referrer from the bridge, rather
	than nil, for both WebClickPolicyOpenNewWindow and WebClickPolicyOpenNewWindowBehind.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]): Add a FIXME.


git-svn-id: svn://svn.chromium.org/blink/trunk@2336 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-16 00:15:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b4565e8ce59a94e8b548cbc99c96636f98b7cfc7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01n201l55wvgrr4t', 2, e'        * WebView.subproj/WebDataSourcePrivate.h: Remove unused stuff.
        * WebView.subproj/WebDataSourcePrivate.m: Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2335 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-15 23:48:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8f1515c29e888ab5426bda5411a4409b748c8efc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01n301l5y05hw0fp', 2, e'	- fixed 3021713 -- text selection background obliterates descenders
	(in www.theregister.co.uk articles)
	- fixed 3038207 -- Selected link text doesn\'t draw its link underline

        * khtml/rendering/render_text.cpp:
        (TextSlave::printSelection): Don\'t draw text at all, just draw a selection background.
        (RenderText::printObject): Draw in two passes. Draw the selection background in the
	first pass, and the text in the second pass. That way pieces of the background won\'t
	cover any other text or adornments, like underlines.


git-svn-id: svn://svn.chromium.org/blink/trunk@2334 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-15 23:35:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2b41b2356b71cd3f430fc162b224c8099133028e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01n401l5pdug1glc', 2, e'WebCore:

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::urlSelected):
	Move the special case of a different anchor within the same
	page into WebKit from here.

        * kwq/kdecore/kurl.h: Mark urlcmp as a friend.
        * kwq/KWQKURL.mm: (urlcmp): Implement the ignoreRef feature, which
	is needed to make the KHTMLPart::openURL function work right.

        * kwq/WebCoreBridge.h: Removed addBackForwardItemWithURL:anchor:
	and added URL method.
        * kwq/WebCoreBridge.mm: (-[WebCoreBridge URL]): Added.

WebKit:

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge loadURL:referrer:]): Add a special case for when the URL is the
	same as the previous URL for the same frame. This relies on some logic in
	KHTML\'s openURL method that handles this case too.

        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource initWithRequest:]): Don\'t bother keeping an inputURL.
        (-[WebDataSource URL]): Just return [[self request] URL]. Maybe we can
	remove this altogether.
        * WebView.subproj/WebDataSourcePrivate.h: Remove inputURL, finalURL.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): No need to release inputURL, finalURL.
        (-[WebDataSource _setURL:]): Used only by the new code above. Makes a copy
	of the request, changes the URL, and then drops the old request.
        (-[WebDataSource _setRequest:]): Changed to no longer call _setURL. Now
	does much of the work that _setURL used to do.


git-svn-id: svn://svn.chromium.org/blink/trunk@2333 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-15 22:44:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/01e0e52f93e1efd7fa4fd7be0044e3b5a90c0eef');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01n501l5hrowo3ym', 2, e'WebCore:

	- fixed 3074558 -- frames multiply at: http://www.iarsn.com/

	The key was to make the name attribute work properly.

        * khtml/ecma/kjs_window.cpp:
        (Window::get): Enable the "name" attribute.
        (Window::put): Enable the "name" attribute, but don\'t do the
	conversion to an 8-bit string -- leave it as a QString.
        * kwq/WebCoreBridge.h: Add setName/name methods.
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge setName:]): Added. Calls part->setName().
        (-[WebCoreBridge name]): Added. Calls part->name().
        * kwq/kparts/part.h: Added setName/name to ReadOnlyPart.

        * kwq/KWQKHTMLPartImpl.mm: Remove old bogusish comment.

WebKit:

	WebKit part of improved frame name support.

        * WebView.subproj/WebFrame.m:
        (-[WebFrame initWithName:webView:provisionalDataSource:controller:]):
	Call setName on the newly created part.


git-svn-id: svn://svn.chromium.org/blink/trunk@2332 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-15 20:49:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f461dfcf93f3b072b241ebc34a3e3a07ccb63792');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01n601l54me1992v', 2, e'	- fixed 3075777 -- hysteresis for dragging links on web pages
	is still too large

        * WebView.subproj/WebHTMLView.m: changed hysteresis constants;
	added comment.


git-svn-id: svn://svn.chromium.org/blink/trunk@2331 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-10-15 20:01:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/562899aeab6304cb710f9ee1f41bcd9a0465b1e7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01n701l5llxyvu6g', 2, e'	Fix problem where timer was lasting after window was closed.

        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _detachFromParent]):
	Add a call to [_private->bridge closeURL].


git-svn-id: svn://svn.chromium.org/blink/trunk@2330 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-15 19:52:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/00a67fa0dfc65782d560903e443664c135f783a5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnoauk01n801l5adllthvl', 2, e'        Added text color to attributed string conversion.

        * kwq/WebCoreBridge.mm:
        (attributedString):


git-svn-id: svn://svn.chromium.org/blink/trunk@2329 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-15 19:51:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/53692304a5aaf2df2d5ac9fd37461a14caffcb2d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01ll01l5vkg4plk9', 2, e'        Added attributed string to pasteboard.  Fixes 3006760.
        We may want to scale back the content that is included in the
        attributed string.  Currently all text nodes in the selection
        are converted.  This include text nodes for non-visible content,
        i.e. scripts.
        [Note we may also want to put HTML snippet on the pboard.  The appkit
        does support reading text using htmldisplay today.  Of course this should
        eventually migrate to use WebView.]

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView copy:]):

        Added API to get attributed string from bridge.
        Added API to get selection in terms of the DOM API
        from the bridge.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (attributedString):
        (-[WebCoreBridge selectionStart]):
        (-[WebCoreBridge selectionStartOffset]):
        (-[WebCoreBridge selectionEnd]):
        (-[WebCoreBridge selectionEndOffset]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2328 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-15 19:47:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6e11adbe6cffaeae2dfc5f3572147dbb7faf2b12');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01lm01l59gnl7gjh', 2, e'	- fixed 3054791 -- crash in WebCoreSettings _updateAllViews changing font

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::~KWQKHTMLPartImpl):
	Pass in the "this" pointer so that the right instance is removed from the
	instances list. Before, we would always remove the first instance from the
	list, leaving the list broken.


git-svn-id: svn://svn.chromium.org/blink/trunk@2327 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-15 18:20:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/148adb0f87f3136e44d76483a7e54011ddb1ccd5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01ln01l58xi6544w', 2, e'	Fixed bug where URLs dragged to the content area were not made canonical
	the way URLs dragged to the page address field are.

        * Misc.subproj/WebNSPasteboardExtras.m: (-[NSPasteboard _web_bestURL]):
	Make URLs canonical before returning them.


git-svn-id: svn://svn.chromium.org/blink/trunk@2326 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-15 18:19:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/91fef6346d07d45f7e9290eb43eb544e91a14805');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01lo01l5zk6lkc0k', 2, e'	If a file is renamed during download because a file of the same name already exists, show this in the UI.

        * Misc.subproj/WebDownloadHandler.h:
        * Misc.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler receivedResponse:]): added, create file here
        (-[WebDownloadHandler receivedData:]): don\'t create file here
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidFinishLoading:]): call [dataSource _setPrimaryLoadComplete:YES] for downloads
        (-[WebMainResourceClient handle:didReceiveResponse:]): call [WebDownloadHandler receivedResponse:]
        (-[WebMainResourceClient handle:didReceiveData:]): no download error to handle


git-svn-id: svn://svn.chromium.org/blink/trunk@2325 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-15 17:34:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/339ee6d14cfb9aa48eabc69477a1b9203e72384d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01lp01l55xqfs5mu', 2, e'	Fixed an "unused variable" build breaker. Note that I just
	commented out the code and put a FIXME, as I know this is code
	that David has been banging on a lot. This should be either
	used for real or removed eventually, but I\'ll leave that for
	Hyatt.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@2324 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-15 14:28:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/124a9131ea453d1ead47d2eb60dc830401aab9c5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01lq01l5rkrmnaex', 2, e'	More collapsing margin surgery.  Working on setting up blocks
	to properly compute their collapsed margins (without actually changing
	the obsolete collapsing behavior yet).

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::RenderFlow):
        (RenderFlow::layout):
        (RenderFlow::layoutBlockChildren):
        * khtml/rendering/render_flow.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2323 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-15 06:20:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6d8d3d85b17bbe8b6b46c6bb0f818d0073f2d2fc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01lr01l5d1v02rjj', 2, e'WebFoundation:

	Renamed filenameByCorrectingExtensionOfFilename:withMIMEType: to filenameWithURL:andMIMEType:
	It comes up with the best filename for a URL and MIME type.

        * Misc.subproj/WebFileTypeMappings.h:
        * Misc.subproj/WebFileTypeMappings.m:

WebKit:

	- Made all downloads no matter how prompted, pass through the content policy API so the client can properly choose the file name and correct the extension if necessary. We now ask for the content policy even if one has been predetermined.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _downloadURL:withContentPolicy:]): Renamed, set the predetermined content policy.
        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        (-[WebDefaultContextMenuDelegate downloadURL:]): call [WebController _downloadURL:withContentPolicy:]
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView namesOfPromisedFilesDroppedAtDestination:]): call [WebController _downloadURL:withContentPolicy:]
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _continueAfterClickPolicyForEvent:]): call [WebController _downloadURL:withContentPolicy:]
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveResponse:]): ask for content policy even if one is predetermined

WebBrowser:

	- Support for content policy API change. Properly handle the predetermined content policy.
	- Minor clean-up in DownloadProgressEntry.

        * BrowserWebController.m:
        (-[BrowserWebController contentPolicyForMIMEType:andURL:inFrame:withContentPolicy:]): Properly handle the predetermined content policy.
        * DownloadProgressEntry.m:
        (+[DownloadProgressEntry entryWithDictionary:]): Use bytesLoaded and bytesExpected var names
        (-[DownloadProgressEntry setCompleted]): set bytesExpected to bytesLoaded
        (-[DownloadProgressEntry updateProgressUI]): slight rearrange.


git-svn-id: svn://svn.chromium.org/blink/trunk@2322 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-15 05:34:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f38b5c5481d604bbb39c330c82fd32b356f6fc8c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01ls01l5pcih6ptr', 2, e'	Adding helper functions for handling of collapsing margins.
	Not used yet.

        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2321 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-15 02:04:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/04c4aa1ced63d14053b481e908f295c63db75d41');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01lt01l5rmq5qo6c', 2, e'	Fixed problems with named colors.

        * kwq/KWQColor.mm: (QColor::setNamedColor): Check named colors before
	hex codes for colors because our hex code parsing is now lenient enough
	that many names qualify.


git-svn-id: svn://svn.chromium.org/blink/trunk@2320 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-14 23:27:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/321fb4bc8ed95c5db144773b654b801def0ff2ec');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01lu01l5eznucd1u', 2, e'WebFoundation:

	- Added new method that corrects a filename\'s extension based on its MIME type.

        * Misc.subproj/WebFileTypeMappings.h:
        * Misc.subproj/WebFileTypeMappings.m:
        (-[WebFileTypeMappings filenameByCorrectingExtensionOfFilename:withMIMEType:]): if the extension does not correspond with the MIME type, correct it using the preferred MIME type.

WebKit:

	- Cleaned up download handler and download progress delegate interactions.
	- Got rid of error suppression junk.
	- Only send 1 final message to the download progress delegate

        * WebView.subproj/WebMainResourceClient.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient receivedError:forHandle:]): no error suppression
        (-[WebMainResourceClient didCancelWithHandle:]): ignore cancel errors because 1 download error is enough
        (-[WebMainResourceClient handleDidFinishLoading:]): don\'t send the special and odd final message to the download progress delegate
        (-[WebMainResourceClient handle:didReceiveData:]): no error suppression
        (-[WebMainResourceClient handle:didFailLoadingWithError:]): ignore cancel errors because 1 download error is enough

WebBrowser:

	- Correct extensions of filenames of downloaded files based on MIME type. This fixes issues with files that have random extensions and thus not claimed by any application.
	- Cleaned up DownloadMonitor. Got rid of bottle-neck progress method that caused much confusion and bugs.

        * BrowserWebController.m:
        (-[BrowserWebController contentPolicyForMIMEType:URL:inFrame:]): call [WebFileTypeMappings filenameByCorrectingExtensionOfFilename:withMIMEType:]
        * DownloadMonitor.m:
        (-[DownloadMonitor _entryForDataSource:]): renamed
        (-[DownloadMonitor _entryForView:]): renamed
        (-[DownloadMonitor resourceRequest:didReceiveResponse:fromDataSource:]): create new download entry
        (-[DownloadMonitor resourceRequest:didReceiveContentLength:fromDataSource:]): increment progress of download entry
        (-[DownloadMonitor resourceRequest:didFinishLoadingFromDataSource:]): setCompleted on the download entry
        (-[DownloadMonitor resourceRequest:didFailLoadingWithError:fromDataSource:]): set error and setCompleted on the download entry
        * DownloadProgressEntry.h:
        * DownloadProgressEntry.m:
        (-[DownloadProgressEntry awakeFromNib]): progress bar should be determinate by default
        (-[DownloadProgressEntry setCompleted]): replaces _cleanUpIfComplete, have the DownloadMonitor tell us when we\'re done.


git-svn-id: svn://svn.chromium.org/blink/trunk@2319 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-14 23:27:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ad2e9bf47958c0422083a6abf162795a3f7b97e6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01lv01l5b7kw3j0h', 2, e'	Really fixing zeldman.com this time.  This disabling stuff
	is complicated! :)

        * khtml/html/html_headimpl.cpp:
        (HTMLLinkElementImpl::parseAttribute):
        (HTMLLinkElementImpl::setStyleSheet):
        (HTMLLinkElementImpl::sheetLoaded):


git-svn-id: svn://svn.chromium.org/blink/trunk@2318 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-14 23:23:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/91e04472bee2c3dedc1cdbe669369751318b3178');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01lw01l5zvfj30vs', 2, e'        * Bookmarks.subproj/WebBookmark.m:
        (+[WebBookmark bookmarkFromDictionaryRepresentation:withGroup:]):
        * Bookmarks.subproj/WebBookmarkLeaf.m:
        (-[WebBookmarkLeaf initFromDictionaryRepresentation:withGroup:]):
        * Bookmarks.subproj/WebBookmarkList.m:
        (-[WebBookmarkList initFromDictionaryRepresentation:withGroup:]):
        * Bookmarks.subproj/WebBookmarkProxy.m:
        (-[WebBookmarkProxy initFromDictionaryRepresentation:withGroup:]):
	Add checking since we don\'t "trust" the dictionary passed in.

        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem initFromDictionaryRepresentation:]):
	Add FIXME about adding the checking.

        * Bookmarks.subproj/WebBookmarkGroup.m:
        (-[WebBookmarkGroup initWithFile:]): Use copy, not retain.

        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate dealloc]): Fix storage leak by releasing
	the default context menu delegate.

        * WebView.subproj/WebControllerPrivate.h: Tweak.


git-svn-id: svn://svn.chromium.org/blink/trunk@2317 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-14 20:33:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/693dbe3785738bdb2befb8f41feefeb759fb206b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01lx01l55mw9v5tv', 2, e'	Stop the insanity.  Make sure that a sheet that is disabled
	while it is still loading is removed from the doc\'s list
	of pending sheets (for FOUC checks).

	Fixes zeldman.com.

        * khtml/html/html_headimpl.cpp:
        (HTMLLinkElementImpl::parseAttribute):


git-svn-id: svn://svn.chromium.org/blink/trunk@2316 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-14 19:46:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/69da5852c9c8833dd246b0c19810995c66ae328f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01ly01l5glvm3nsf', 2, e'	Made WebNetscapePluginStream retain a WebNetscapePluginEmbeddedView not a WebBaseNetscapePluginView.

        * Plugins.subproj/WebNetscapePluginStream.h:
        * Plugins.subproj/WebNetscapePluginStream.m:
        (-[WebNetscapePluginStream initWithRequest:pluginPointer:notifyData:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2315 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-14 17:20:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cda7c0c3d24cd502344f3c4ac2d9ca3db1f9bf55');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01lz01l55kb3dz5x', 2, e'	Implementing the ability to individually enable/disable
	both preferred and alternate stylesheets.  Enabling/disabling
	sheets via the disabled property of the <link> element overrides
	whether or not a sheet happens to be alternate or preferred.

	This new implementation of sheet disabling/enabling was a missing
	piece of our HTML4 compliance, and was used by the Wired
	site to implement its text sizing mechanism.

        * khtml/html/html_headimpl.cpp:
        (HTMLLinkElementImpl::HTMLLinkElementImpl):
        (HTMLLinkElementImpl::parseAttribute):
        (HTMLLinkElementImpl::process):
        * khtml/html/html_headimpl.h:
        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::recalcStyleSelector):


git-svn-id: svn://svn.chromium.org/blink/trunk@2314 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-14 07:19:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/57875240ff8a5cdfff50816ad19f30543c8bfa63');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01m001l5qpcdffdi', 2, e'        * English.lproj/StringsNotToBeLocalized.txt: Added strings from WebBookmarkProxy.m.


git-svn-id: svn://svn.chromium.org/blink/trunk@2313 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-14 06:44:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4905417e3db3f35b2a4065ef12ea42f3f1f8ed67');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01m101l5g8scrtyu', 2, e'	- Eliminated the dual-role behavior of WebPluginStream. Renamed WebPluginStream to WebBaseNetscapePluginStream.
 WebNetscapePluginRepresentation, a subclass of WebNetscapePluginRepresentation, is the document representation for standalone plug-ins. WebNetscapePluginStream, also a subclass of WebNetscapePluginRepresentation, is the general plug-in stream loader for embedded plug-ins or plug-in requested streams.

	23 plug-in source files with more likely to come!

        * Plugins.subproj/WebBaseNetscapePluginStream.h: Added.
        * Plugins.subproj/WebBaseNetscapePluginStream.m: Added.
        (-[WebBaseNetscapePluginStream dealloc]):
        (-[WebBaseNetscapePluginStream setPluginPointer:]):
        (-[WebBaseNetscapePluginStream setResponse:]):
        (-[WebBaseNetscapePluginStream receivedData:]):
        (-[WebBaseNetscapePluginStream receivedError:]):
        (-[WebBaseNetscapePluginStream finishedLoadingWithData:]):
        * Plugins.subproj/WebBaseNetscapePluginView.h:
        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView setWindow]):
        (-[WebBaseNetscapePluginView pluginPointer]):
        (-[WebBaseNetscapePluginView drawRect:]):
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]):
        * Plugins.subproj/WebNetscapePluginDocumentView.m:
        * Plugins.subproj/WebNetscapePluginRepresentation.h: Added.
        * Plugins.subproj/WebNetscapePluginRepresentation.m: Added.
        (-[WebNetscapePluginRepresentation setDataSource:]):
        (-[WebNetscapePluginRepresentation receivedData:withDataSource:]):
        (-[WebNetscapePluginRepresentation receivedError:withDataSource:]):
        (-[WebNetscapePluginRepresentation finishedLoadingWithDataSource:]):
        * Plugins.subproj/WebNetscapePluginStream.h: Added.
        * Plugins.subproj/WebNetscapePluginStream.m: Added.
        (-[WebNetscapePluginStream setCurrentURL:]):
        (-[WebNetscapePluginStream initWithRequest:pluginPointer:notifyData:]):
        (-[WebNetscapePluginStream dealloc]):
        (-[WebNetscapePluginStream start]):
        (-[WebNetscapePluginStream stop]):
        (-[WebNetscapePluginStream loadEnded]):
        (-[WebNetscapePluginStream handle:willSendRequest:]):
        (-[WebNetscapePluginStream handle:didReceiveResponse:]):
        (-[WebNetscapePluginStream handle:didReceiveData:]):
        (-[WebNetscapePluginStream handleDidFinishLoading:]):
        (-[WebNetscapePluginStream handle:didFailLoadingWithError:]):
        * Plugins.subproj/WebPluginDatabase.m:
        (-[WebNetscapePluginDatabase init]):
        * Plugins.subproj/WebPluginStream.h: Removed.
        * Plugins.subproj/WebPluginStream.m: Removed.
        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2312 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-14 06:16:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cc39cac3a4349565ccc81a7798ef398d73d55a36');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01m201l57glw21qh', 2, e'
        Avoid one-click crasher.

        * Debug/SnippetController.m:
        (-[SnippetController load]):

        Remove debugging.

        * kwq/WebCoreDOMDocument.mm:
        (+[WebCoreDOMDocument documentWithImpl:DOM::]):
        * kwq/WebCoreDOMNode.mm:
        (-[WebCoreDOMNode lastChild]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2311 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-12 06:10:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/59316f2791a6611b160fd5bc4b9e1b000167541e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01m301l56mfl54si', 2, e'        More implementation of snippet viewer to show converted
        attributed string.

        * Debug/Snippet.nib:
        * Debug/SnippetController.h:
        * Debug/SnippetController.m:
        (-[SnippetController dealloc]):
        (-[SnippetController awakeFromNib]):
        (-[SnippetController load]):
        (lastNode):
        (-[SnippetController loadComplete]):
        (-[SnippetController convert:]):
        (-[SnippetController show:]):
        (-[SnippetController mainDataSource]):
        (-[SnippetLocationChangeDelegate initWithController:]):
        (-[SnippetLocationChangeDelegate locationChangeDone:forDataSource:]):
        (-[AttributedStringView dealloc]):
        (-[AttributedStringView setAttributedString:]):
        (-[AttributedStringView drawRect:]):

        More DOM/attributed string work.

        * WebView.subproj/WebHTMLRepresentation.h:
        * WebView.subproj/WebHTMLRepresentation.m:
        (-[WebHTMLRepresentation attributedStringFrom:startOffset:to:endOffset:]):
        * WebView.subproj/WebHTMLRepresentationPrivate.h:

        More DOM/attributed string work.  Still need to fix more
        inappropriate casting problems.

        * khtml/dom/dom_node.cpp:
        (Node::lastChild):
        * khtml/xml/dom_nodeimpl.cpp:
        (NodeImpl::lastChild):
        (NodeBaseImpl::lastChild):
        * khtml/xml/dom_nodeimpl.h:
        * kwq/KWQKHTMLPartImpl.cpp:
        (KWQKHTMLPartImpl::selectionStartOffset):
        (KWQKHTMLPartImpl::selectionEndOffset):
        (KWQKHTMLPartImpl::selectionStart):
        (KWQKHTMLPartImpl::selectionEnd):
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge DOMDocument]):
        (-[WebCoreBridge setSelectionFrom:startOffset:to:endOffset:]):
        (attributedString):
        (-[WebCoreBridge selectedAttributedString]):
        (-[WebCoreBridge attributedStringFrom:startOffset:to:endOffset:]):
        * kwq/WebCoreDOMDocument.mm:
        (-[WebCoreDOMDocumentType DOM::]):
        (-[WebCoreDOMDocumentType name]):
        (-[WebCoreDOMDocumentType entities]):
        (-[WebCoreDOMDocumentType notations]):
        (-[WebCoreDOMDocumentType publicId]):
        (-[WebCoreDOMDocumentType systemId]):
        (-[WebCoreDOMDocumentType internalSubset]):
        (-[WebCoreDOMImplementation DOM::]):
        (-[WebCoreDOMImplementation hasFeature::]):
        (-[WebCoreDOMImplementation createDocument:::]):
        (+[WebCoreDOMDocument documentWithImpl:DOM::]):
        (-[WebCoreDOMDocument DOM::]):
        (-[WebCoreDOMDocument doctype]):
        (-[WebCoreDOMDocument implementation]):
        (-[WebCoreDOMDocument documentElement]):
        (-[WebCoreDOMDocument createElement:]):
        (-[WebCoreDOMDocument createElementNS::]):
        (-[WebCoreDOMDocument createDocumentFragment]):
        (-[WebCoreDOMDocument createTextNode:]):
        (-[WebCoreDOMDocument createComment:]):
        (-[WebCoreDOMDocument createCDATASection:]):
        (-[WebCoreDOMDocument createProcessingInstruction::]):
        (-[WebCoreDOMDocument createAttribute:]):
        (-[WebCoreDOMDocument createAttributeNS::]):
        (-[WebCoreDOMDocument createEntityReference:]):
        (-[WebCoreDOMDocument getElementById:]):
        (-[WebCoreDOMDocument getElementsByTagName:]):
        (-[WebCoreDOMDocument getElementsByTagNameNS::]):
        (-[WebCoreDOMDocument importNode::]):
        * kwq/WebCoreDOMNode.mm:
        (-[WebCoreDOMNode initWithImpl:DOM::]):
        (-[WebCoreDOMNode firstChild]):
        (-[WebCoreDOMNode lastChild]):
        * kwq/WebCoreDOMPrivate.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge setSelectionFrom:startOffset:to:endOffset:]):
        (recursive_toHTML):
        (attributedString):


git-svn-id: svn://svn.chromium.org/blink/trunk@2310 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-12 05:49:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f89561e55b597fd1aa2abe848dbc086bd2589751');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01m401l5y5hrfk2k', 2, e'	Fixed uninitialized variable build breaker I got when
	doing a Deployment build.

        * Bookmarks.subproj/WebBookmarkGroup.m:
        (-[WebBookmarkGroup insertNewBookmarkAtIndex:ofBookmark:withTitle:URLString:type:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2309 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-11 23:22:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/90948205ac52e18a639570de75bbc15bc365dbb8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01m501l5no17jvrs', 2, e'WebKit:

	Added the concept of bookmark proxies; items that can be
	stored and displayed with other bookmarks but represent
	a source of bookmark-like items (e.g. Rendezvous, History)

        * Bookmarks.subproj/WebBookmarkProxy.h: Added.
        * Bookmarks.subproj/WebBookmarkProxy.m: Added.
        (-[WebBookmarkProxy initFromDictionaryRepresentation:withGroup:]):
        (-[WebBookmarkProxy dictionaryRepresentation]):
        (-[WebBookmarkProxy bookmarkType]):
        (-[WebBookmarkProxy copyWithZone:]):
        (-[WebBookmarkProxy title]):
        (-[WebBookmarkProxy setTitle:]):
        (-[WebBookmarkProxy icon]):
	New class, has a title and that\'s about it

        * Bookmarks.subproj/WebBookmark.h:
        * Bookmarks.subproj/WebBookmark.m:
        (+[WebBookmark bookmarkFromDictionaryRepresentation:withGroup:]):
	Handle proxy case

        * Bookmarks.subproj/WebBookmarkGroup.m:
        (-[WebBookmarkGroup insertNewBookmarkAtIndex:ofBookmark:withTitle:URLString:type:]):
	Handle proxy case

        * Bookmarks.subproj/WebBookmarkList.m:
        (-[WebBookmarkList initFromDictionaryRepresentation:withGroup:]),
        (-[WebBookmarkList dictionaryRepresentation]):
	Handle proxy case

        * Bookmarks.subproj/WebBookmarkPrivate.h:
	Add #define for proxy

        * WebKit.pbproj/project.pbxproj: updated for new files

WebBrowser:

	- started work on moving Address Book, Rendezvous, and History
	out of their own windows and into the Library view.

	The titles Rendezvous/Address Book/History now appear in the
	Library view, but they don\'t do anything. They have no content,
	you can\'t drag them, and if you try to drop something on one
	you get a mysterious console message but nothing else happens.

        * BookmarksController.m:
        (+[BookmarksController _favoritesTitle]),
        (+[BookmarksController _menuRootTitle]): just moved in file
        (+[BookmarksController historyProxyTitle]),
        (+[BookmarksController addressBookProxyTitle]),
        (+[BookmarksController rendezvousProxyTitle]): new methods to
	retrieve localizable titles for these bookmark proxies.
        (-[BookmarksController imageForBookmark:]): supply the right
	images for the proxies we know about
        (-[BookmarksController addMenuItemForBookmark:toMenu:]):
	handle proxy case (but there isn\'t yet a way to get one in a menu)
        (-[BookmarksController _blessOrCreateSpecialFolders]):
	make sure the right set of proxies are in there where they belong.

        * BookmarksViewController.m:
        (-[BookmarksViewController bookmarkForSourceRow:]):
        (-[BookmarksViewController sourceRowForBookmark:]):
        (-[BookmarksViewController numberOfRowsInTableView:]):
        (-[BookmarksViewController canRemoveBookmarkSource:]):
        (-[BookmarksViewController tableView:shouldEditTableColumn:row:]):
        * English.lproj/Localizable.strings:
        * English.lproj/StringsNotToBeLocalized.txt:


git-svn-id: svn://svn.chromium.org/blink/trunk@2308 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-10-11 21:56:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2adda30c35f7e7ce48a3e680cb68e47ecb1e0689');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01m601l57et7j1c8', 2, e'	Thought I has checking for nil enough, but not enough as I raised an exception on Avie\'s machine.

        * Plugins.subproj/WebPlugin.m:
        (-[WebNetscapePlugin getPluginInfo]): check for the nil extension case


git-svn-id: svn://svn.chromium.org/blink/trunk@2307 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-11 21:02:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ae0563d98c080c70d10f0c342344efae26f236f2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01m701l5ngfm9oyt', 2, e'	Apply a simplified technique I learned while working on the Favorites button
	class in the browser code.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView start]): Use the NSViewFocusDidChangeNotification
	to track the plugin rectangles instead of the NSViewFrameDidChangeNotification
	and NSViewBoundsDidChangeNotification on all the superviews.


git-svn-id: svn://svn.chromium.org/blink/trunk@2306 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-11 20:33:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/002d91f01d583574f9541cc7c0ca5f27ec7ca3b6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01m801l5uxj5d4ak', 2, e'WebKit:

        * Resources/url_icon.tiff: new generic URL icon -- no more @!

WebBrowser:

	- some new and improved images from Steve Lemay (more to come)

        * Resources/Images/FavoritesBar.tif: new little heart
        * Resources/Images/folder16.tiff: new little folder
        * Resources/Images/rendezvous.tiff: new rendezvous symbol
        * Resources/Images/tiny_menu.tiff: new little menu


git-svn-id: svn://svn.chromium.org/blink/trunk@2305 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-10-11 16:34:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0e3e8ff344e98850be9dccce24df88743300ad31');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01m901l5mb8mu04e', 2, e'	- fixed 3072643 -- infinite loop in JavaScript code at walgreens.com

	The problem is that "xxx".indexOf("", 1) needs to return 1, but we
	were returning 0.

        * kjs/ustring.cpp:
        (UString::find): Return pos, not 0, when the search string is empty.
        (UString::rfind): Make sure that pos is not past the end of the string,
	taking into account the search string; fixes a potential read off the end
	of the buffer. Also return pos, not 0, when the search string is empty.


git-svn-id: svn://svn.chromium.org/blink/trunk@2304 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-11 04:07:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/072903564fcab25d038eb03ef5d263f5d7040c4f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01ma01l5qnyhrwfz', 2, e'	- fixed 3069366 -- REGRESSION: no pop-up window at inkfinder.com

	The window now pops up, but it doesn\'t seem to work right. But I
	think the window working right is a separate issue.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]): Make sure we
	use the copy of the request that we\'re keeping around when we call
	_setRequest on the data source, rather than the copy we\'re returning
	which can be modified by WebFoundation. Also rearrange things so we\'re
	more likely to get things right when the delegate changes the URL on
	the request.


git-svn-id: svn://svn.chromium.org/blink/trunk@2303 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-10 22:29:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/638e026c203ec2c4246015ee3f16f9a4b0d19b8f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01mb01l5743646di', 2, e'	Fix for 305882, assertion caused by table cell with
	incorrect display type.  Implemented a quirk that forces
	<td>s of display: block to construct table cells as
	rendering objects.

        * khtml/rendering/render_object.cpp:
        (RenderObject::createObject):


git-svn-id: svn://svn.chromium.org/blink/trunk@2302 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-10 22:07:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a748fda3ae6ac87964511bc8bc227ba35e0d2f1e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01mc01l5yj88yvvo', 2, e'top level:

	Fix typos.

        * Site/Internal/How-To/pc-os-installation.html:
        * Site/Internal/index.html:

WebKit:

	No need to send update event when activating/deactivating. This was as old workaround for the plug-in drawing problems.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView windowBecameKey:]):
        (-[WebBaseNetscapePluginView windowResignedKey:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2301 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-10 21:13:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5638828a62450541abceffff2e61e69ac6aa1e06');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01md01l5pcyt4xlx', 2, e'Alex-27 stamp


git-svn-id: svn://svn.chromium.org/blink/trunk@2299 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-10-10 18:39:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8177ba08335b8bda343f5efd1937c3c4609a1053');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno9ji01me01l5ei9r39rw', 2, e'	- fixed 3047782 -- Alexander rejects some color strings that other browsers accept

        * khtml/misc/helper.cpp: (khtml::setNamedColor): Put some of the code from this
	level that tries to accomodate bad colors in #if !APPLE_CHANGES, since we do most
	of the smarts in KWQ.

        * kwq/KWQColor.mm:
        (hex2int): Tolerate non-hex digits, treating them as 0.
        (decodeColorFromHexColorString): Trim any number of leading # characters, and trailing
	" and \' characters. Handle strings of 4, 5, 7, 8, 10, and 11 hex digits, along with
	the existing 3, 6, 9, and 12.


git-svn-id: svn://svn.chromium.org/blink/trunk@2298 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-10 06:30:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6525a19a8412220392b6a9486537fb892b4e8953');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01kr01l5ht14ur86', 2, e'	- fixed 3071799 -- REGRESSION: hang and strange download loading about:blank

	Chris fixed the strange download earlier. This fixes the "hang\' by making sure
	we commit even if we receive 0 bytes of data.

        * WebView.subproj/WebDataSourcePrivate.h: Added a _finishedLoading method.
        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _finishedLoading]):
	Added. Sets the "first byte of data received" flag, and calls _commitIfReady.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidFinishLoading:]): Call _finishedLoading.


git-svn-id: svn://svn.chromium.org/blink/trunk@2297 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-10 05:43:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73b75c6b9ff3fc81378a2dfba488b2dec0a12de7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01ks01l52hywiwco', 2, e'	- fixed 3072015 -- REGRESSION: frames multiply endlessly

        * WebCoreSupport.subproj/WebBridge.m: (-[WebBridge setFrame:]):
	Remove code that sets the parent from here, because it\'s too early, always nil.
        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _addChild:]):
	Do it here instead.


git-svn-id: svn://svn.chromium.org/blink/trunk@2296 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-10 05:33:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e885dccbba8cf7dad4e2d72bfb0643bd0bb27f55');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01kt01l5rbga6rxm', 2, e'	Fix a subtle bug with layers.  When a parent is sorted with its
	children the parent\'s zindex must be treated as 0, so that
	negative children draw behind the layer\'s content and positive
	children (or auto children) draw in front of the layer\'s content.

	This fix makes chrysler.com work again (and doubtless many other
	messed up DHTML sites).

        * khtml/rendering/render_layer.cpp:
        (RenderLayer::constructZTree):
        (RenderLayer::RenderZTreeNode::constructLayerList):


git-svn-id: svn://svn.chromium.org/blink/trunk@2295 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-09 23:35:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f5baf5589b5760f690bd31e33d607acd481c4fa2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01ku01l5fkhpnax4', 2, e'        Implemented string conversion functions.

        * kwq/WebCoreDOMDocument.mm:
        (domStringToNSString):
        (NSStringToDOMString):


git-svn-id: svn://svn.chromium.org/blink/trunk@2294 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-09 21:43:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/14bddf5507cf4d7948f535805bed83c4f015c6c1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01kv01l5dx4ag9ij', 2, e'        Cleaned up and made a little more useful as an example for
        WebKit root.

        * SimpleViewer/ApplicationController.h:
        * SimpleViewer/ApplicationController.m:
        (-[ApplicationController validateUserInterfaceItem:]):
        * SimpleViewer/DocumentController.h:
        * SimpleViewer/DocumentController.m:
        (-[DocumentController dealloc]):
        (-[DocumentController loadURL:]):
        (-[DocumentController windowWillClose:]):
        (-[LocationChangeDelegate dealloc]):
        (-[LocationChangeDelegate locationChangeStartedForDataSource:]):
        (-[LocationChangeDelegate locationChangeDone:forDataSource:]):
        (-[ResourceLoadDelegate resourceRequest:willSendRequest:fromDataSource:]):
        (-[ResourceLoadDelegate resourceRequest:didFinishLoadingFromDataSource:]):
        (-[ResourceLoadDelegate resourceRequest:didFailLoadingWithError:fromDataSource:]):
        * SimpleViewer/English.lproj/Document.nib:
        * SimpleViewer/English.lproj/MainMenu.nib:
        * SimpleViewer/English.lproj/Thumbnail.nib: Removed.
        * SimpleViewer/SimpleViewer.pbproj/project.pbxproj:
        * SimpleViewer/ThumbnailController.h: Removed.
        * SimpleViewer/ThumbnailController.m: Removed.
        * SimpleViewer/ThumbnailView.h: Removed.
        * SimpleViewer/ThumbnailView.m: Removed.

        Guarantee that resource progress messages arrive
        before final locationChangeDone message.

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handleDidFinishLoading:]):
        * WebKit.exp:
        * WebView.subproj/WebController.m:
        (-[WebResourceLoadDelegate resourceRequest:willSendRequest:fromDataSource:]):
        (-[WebResourceLoadDelegate resourceRequest:didReceiveResponse:fromDataSource:]):
        (-[WebResourceLoadDelegate resourceRequest:didReceiveContentLength:fromDataSource:]):
        (-[WebResourceLoadDelegate resourceRequest:didFinishLoadingFromDataSource:]):
        (-[WebResourceLoadDelegate resourceRequest:didFailLoadingWithError:fromDataSource:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidFinishLoading:]):
        * WebView.subproj/WebResourceLoadDelegate.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2293 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-09 21:11:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6d13591d5548f9c99c1a247e30ea16fe2c7923f9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01kw01l5ybmcpalg', 2, e'WebKit:

	- removed unnecessary concept of unique identifiers for bookmarks

        * Bookmarks.subproj/WebBookmark.h:
        * Bookmarks.subproj/WebBookmark.m:
        (-[WebBookmark dealloc]):
        (-[WebBookmark _setGroup:]):
        * Bookmarks.subproj/WebBookmarkGroup.h:
        * Bookmarks.subproj/WebBookmarkGroup.m:
        * Bookmarks.subproj/WebBookmarkGroupPrivate.h:
	removed all references to unique identifiers

WebBrowser:

	- greatly simplified drag-and-drop bookmark code, which will
	help me make further refinements more easily
	- removed uses of unique bookmark identifiers
	- tweaked Library column behaviors with IB

        * BookmarksViewController.h: removed _draggedBookmarks ivar; this is now a static variable
        * BookmarksViewController.m:
        (-[BookmarksViewController dealloc]): don\'t release _draggedBookmarks, which is now static
        (-[BookmarksViewController bookmarkOrAnyAncestor:inArray:]): new method, slight addition
	to already-existing anyAncestorOfBookmark:inArray:; replaces code that was checking
	bookmark identifiers against a list of identifiers
        (-[BookmarksViewController tableView:validateDrop:proposedRow:proposedDropOperation:]),
        (-[BookmarksViewController tableView:acceptDrop:row:dropOperation:]),
        (-[BookmarksViewController outlineView:validateDrop:proposedItem:proposedChildIndex:]),
        (-[BookmarksViewController outlineView:acceptDrop:item:childIndex:]):
	Always use draggedImage:endedAt: for deleting original bookmarks; compare against
	draggedBookmarks instead of using bookmark identifiers; other simplifications.

        * BrowserWebBookmarkExtras.h:
        * BrowserWebBookmarkExtras.m:
        (+[WebBookmark bookmarkPasteboardTypes]):
        (+[WebBookmark writeBookmarks:toPasteboard:withOwner:]):
        (+[WebBookmark bookmarksFromPasteboard:]):
	Removed bookmarkIdentifiersFromPasteboard and supporting code

        * English.lproj/Browser.nib: made single-column not reorderable so it doesn\'t highlight

        * FavoriteButton.m:
        (-[FavoriteButton bookmarkMatches:]): new method, compares a bookmark against self\'s
        (-[FavoriteButton determineDragOperation:]): use bookmarkMatches instead of unique
	identifiers to test for dropping an item onto itself.


git-svn-id: svn://svn.chromium.org/blink/trunk@2292 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-10-09 20:41:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a14ea85ad72e8566e6e57936336bbf86bd2ecf1e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01kx01l59adlx405', 2, e'WebCore:

	- fixed 3069264 -- REGRESSION: windows created for links with
	target=blank start out hidden (window menu only)

        * kwq/WebCoreBridge.h: Removed openNewWindowWithURL:referrer:frameName: and
	added createWindowWithURL:referrer:frameName: and showWindow.

        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::createNewWindow): Call createWindowWithURL,
	and then showWindow after the window is set up. Also change the code that
	flips coordinates to always use the height of the first screen instead of
	using the height of the screen the window is on, which sounds right, but
	is wrong.

        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::bridgeForFrameName): Call createWindowWithURL and then
	showWindow in the case where we create a window.
        (KWQKHTMLPartImpl::urlSelected): Remove unused command-click code. The real
	command-click code is in the browser now.

WebKit:

	WebKit support for creating windows and then showing them later
	after setting them up.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge createWindowWithURL:referrer:frameName:]): Replaced the old
	openNewWindowWithURL with this. It calls the new window operations delegate
	method.
        (-[WebBridge showWindow]): Added. Calls the window operations delegate showWindow method.
        (-[WebBridge createChildFrameNamed:withURL:referrer:renderPart:allowsScrolling:marginWidth:marginHeight:]):
	Call _createFrameNamed instead of createFrameNamed.

        * WebView.subproj/WebWindowOperationsDelegate.h: Replaced the openNewWindowWithURL
	method with a new method named createWindowWithURL. Added showWindow and showWindowBehindFrontmost.

        * WebView.subproj/WebControllerPrivate.h: Renamed createFrameNamed to _createFrameNamed
	and removed the data source parameter. Added _openNewWindowWithURL:referrer:behind:
	for the convenience of those who used to call the window operations delegate directly
	to open the window.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _createFrameNamed:inParent:allowsScrolling:]): Renamed, and removed
	the data source parameter.
        (-[WebController _openNewWindowWithURL:referrer:behind:]): Added.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]):
        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        (-[WebDefaultContextMenuDelegate openNewWindowWithURL:referrer:]):
        * WebView.subproj/WebFrame.m: (-[WebFrame frameNamed:]):
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _continueAfterClickPolicyForEvent:]):
	Use a private WebController method instead of calling the delegate directly,
	because it now takes two method calls to create and display a new window.

        * Misc.subproj/WebNSViewExtras.m:
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        * WebView.subproj/WebController.m:
        * WebView.subproj/WebDataSource.m:
        * WebView.subproj/WebFramePrivate.m:
        * WebView.subproj/WebHTMLView.m:
        * WebView.subproj/WebMainResourceClient.m:
        * WebView.subproj/WebPreferences.m:
        * WebView.subproj/WebView.m:
        * WebView.subproj/WebViewPrivate.m:
	Tweaked comments.

WebBrowser:

	WebBrowser support for creating windows and then showing them later
	after setting them up.

        * BrowserDocumentController.h: Add a new policy, CreateHiddenWindow.
        * BrowserDocumentController.m:
        (-[BrowserDocumentController _goToEachURL:referrer:windowPolicy:]):
	Pass NO for display if policy is CreateHiddenWindow.
        (-[BrowserDocumentController tryMultipleURLs:windowPolicy:]): Ditto.

        * BrowserWebController.m:
        (-[BrowserWebController createWindowWithURL:referrer:]): Added. Like
	the old openNewWindowWithURL method, but uses CreateHiddenWindow.
        (-[BrowserWebController showWindow]): Added. Tells the window controller
	to show the window.
        (-[BrowserWebController showWindowBehindFrontmost]): Added. Tells the
	window controllers to show the window after telling the document that
	the window should open behind the frontmost.


git-svn-id: svn://svn.chromium.org/blink/trunk@2291 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-09 18:45:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4ecc98b316a2bc07663cd94c6744fd22f498d066');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01ky01l5bjkx6u46', 2, e'	- fixed 3069749 -- crash in QString during third run of cvs-base

        * kwq/KWQString.mm:
        (checkNodeAllocationPages): Added function to use for debugging.
        (_allocateNode): Clear the next pointer after removing a page from the free
	node list so that the free node list doesn\'t point at part of the used node list.
        (freeHandle): Change the code around so that the code to add the node to the
	free list works even in the case where this was the top from the used list.
	The old code would half-remove the node from the used list and not add it to
	the free list at all.


git-svn-id: svn://svn.chromium.org/blink/trunk@2290 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-09 16:48:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/538b663daefd6cfb575a83d8b247ea79f9222692');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01kz01l5drrca1wp', 2, e'        * WebCoreSupport.subproj/WebImageRenderer.m:
        (-[WebImageRenderer drawClippedToValidInRect:fromRect:]):
	Fix positioning of progressively loading images that are flipped.


git-svn-id: svn://svn.chromium.org/blink/trunk@2289 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-09 15:09:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cc665612d7d2aa8a84f96bb0a6cd8fd21d1506a3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01l001l5l8u6klix', 2, e'	- fixed 3069764 -- REGRESSION: Plug-ins sometimes don\'t respond to
	update events, causes disappearing

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView drawRect:]): Set the visible region of the port to the
	port bounds to work around the fact that NSWindow tries to help us by doing a
	BeginUpdate call. This ensures we can draw where we think we are dirty, not just
	where Carbon thinks we are dirty.

        * Plugins.subproj/WebNetscapePluginDocumentView.m: Tweak includes.
        * Plugins.subproj/WebNetscapePluginEmbeddedView.m: Tweak includes.
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge openNewWindowWithURL:referrer:frameName:]): Tweak.

        * English.lproj/StringsNotToBeLocalized.txt: Update for recent changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2288 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-09 05:22:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d74e2bbc44dde3b2a466ddef4d33f91b0323da3e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01l101l55qhdkvb3', 2, e'        * WebCore.pbproj/project.pbxproj: Project Builder wanted to set encodings
	for new files. Maybe Richard is not using the new Project Builder on all
	his machines?

        * kwq/KWQString.mm: (_allocateNode): Fix typo in comment.

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::bridgeForFrameName): Tweak.


git-svn-id: svn://svn.chromium.org/blink/trunk@2287 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-09 05:16:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/751c25c1c703b1bacafa4aeef726257ee902a171');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01l201l5hwcyeu3m', 2, e'WebKit:

	Make WebFrame do the entire frame hierarchy, instead of having the
	parent and child pointers in the data source.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge childFrames]): Get children from the frame, not the data source.
        (-[WebBridge setFrame:]): Do the setParent: call on the bridge here, instead of
	in dataSourceChanged, since the parent relationship is now established even without
	having the data source.
        (-[WebBridge dataSourceChanged]): Remove the setParent: call.
        (-[WebBridge loadRequest:]): Remove the parent parameter. It\'s already set up at
	this point so we don\'t need to set it.
        (-[WebBridge loadURL:referrer:]): Don\'t pass a parent.
        (-[WebBridge postWithURL:referrer:data:contentType:]): Don\'t pass a parent.
        (-[WebBridge createChildFrameNamed:withURL:referrer:renderPart:allowsScrolling:marginWidth:marginHeight:]):
	Don\'t pass a parent.
	(-[WebBridge addBackForwardItemWithURL:anchor:]): Get the parent frame by just calling
	the parent method instead of the more roundabout way that it was doing it before.

        * WebView.subproj/WebController.m:
        (-[WebController _frameForDataSource:fromFrame:]): Get the children list from the frame,
	no need to ask the data source. And no need to deal with the provisional data source, since
	those can\'t have children any more.
        (-[WebController _frameForView:fromFrame:]): Ditto.

        * WebView.subproj/WebControllerPrivate.h: Change parent parameter when creating a new
	frame to be a frame, not a data source.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate _clearControllerReferences:]): Get the children list from the frame.
        (-[WebControllerPrivate dealloc]): Rename the _reset method _controllerWillBeDeallocated
	to be more concrete. More simplification can happen here later.
        (-[WebController createFrameNamed:for:inParent:allowsScrolling:]): Call _addChild on the
	parent frame rather than calling addFrame on the parent data source.

        * WebView.subproj/WebDataSource.h: Remove the parent, children, frameNamed, frameNames, and
	frameExists methods.
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource controller]): Remove the assertion here about parents, since we don\'t have
	a parent pointer any more.
        (-[WebDataSource isLoading]): Get the list of children from the frame.

        * WebView.subproj/WebDataSourcePrivate.h: Remove the parent pointer and the frames dictionary,
	also remove the _setParent: and addFrame: methods.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): Don\'t release the frames list.
        (-[WebDataSource _recursiveStopLoading]): Get the frames list from the frame.
        (-[WebDataSource _layoutChildren]): Ditto.
        (-[WebDataSource _defersCallbacksChanged]): Ditto.

        * WebView.subproj/WebFrame.h: Add parent and children methods.
        * WebView.subproj/WebFrame.m:
        (-[WebFrame dealloc]): Call _detachFromParent.
        (-[WebFrame setProvisionalDataSource:]): Set the encoding of the data source to match
	the encoding of the parent\'s data source. This used to be done in [WebDataSource _setParent:].
	Further simplification can probably be done here.
        (-[WebFrame reload]): Remove the call to [WebDataSource _setParent:].
        (+[WebFrame _frameNamed:fromFrame:]): Get the children from the frame.
        (-[WebFrame frameNamed:]): Get the parent from the frame.
        (-[WebFrame parent]): Added.
        (-[WebFrame children]): Added.

        * WebView.subproj/WebFramePrivate.h: Added parent and children fields, changed reset to
	_controllerWillBeDeallocated, changed _parentDataSourceWillBeDeallocated to _detachFromParent,
	added _addChild method. Further simplification can probably be done here.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate dealloc]): Release the children array.
        (-[WebFrame _controllerWillBeDeallocated]): Renamed from reset. Now just calls _detachFromParent.
        (-[WebFrame _detachFromParent]): Does all the work that reset and _parentDataSourceWillBeDeallocated
	used to do.
        (-[WebFrame _setDataSource:]): Call _detachFromParent on all the children and release them
	before setting up the new data source.
        (-[WebFrame _transitionToCommitted]): Get the parent from self instead of the data source.
        (-[WebFrame _isLoadComplete]): Ditto.
        (+[WebFrame _recursiveCheckCompleteFromFrame:]): Get the children from self instead of the data source.
        (-[WebFrame _textSizeMultiplierChanged]): Ditto.
        (-[WebFrame _reloadAllowingStaleDataWithOverrideEncoding:]): Remove the call to [WebDataSource _setParent:].
        (-[WebFrame _addChild:]): Added. Puts the child in a children list, and also sets the override
	encoding of the child based on our data source\'s override encoding.

WebBrowser:

	Update for the WebKit change that moved the children list to the frame
	instead of the data source.

        * BrowserWebFrameExtras.h: Remove the parentFrame method, since
	the parent method on WebFrame now does the same thing.
        * BrowserWebFrameExtras.m: (-[WebFrame _topFrame]): Use parent.
        * BrowserWebViewExtras.m: (-[WebView largestScrollableWebView]):
	Call the children method on the frame now, not the data source.
        * LoadProgressMonitor.m:
        (-[LoadProgressMonitor _monitorProvisionalDataSourceForFrame:]):
	Get the parent directly from the frame now, no need to go through the
	data source.
        (-[LoadProgressMonitor titleChangedForFrame:]): Use the parent method,
	not parentFrame.


git-svn-id: svn://svn.chromium.org/blink/trunk@2286 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-09 03:04:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/abf64725f9c7f2124a16d267ee94dc32ee36b9f4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01l301l5an3k5arp', 2, e'WebKit:

 --2002-10-08  John Sullivan  <sullivan@apple.com>

        * WebKit.pbproj/project.pbxproj:
	Project Builder says I changed it only by setting
	"hasScannedForEncodings" to 1 -- version wars again?

WebBrowser:

	- fixed 3070645 -- Editable items in "Library" column should be drop targets
	- made "Library" column unstriped -- I stripified it earlier without realizing
	that it wasn\'t supposed to be stripulated.

	You can now drop bookmarks from one top-level group into another, and they move
	(unless you hold the option key down).

        * BookmarksViewController.m:
        (-[BookmarksViewController awakeFromNib]): register drag types for table view
        (-[BookmarksViewController menuFolderTitle]): new convenience method
        (-[BookmarksViewController complainAboutTryingToMoveFavorites]): tweaked wording
        (-[BookmarksViewController complainAboutTryingToMoveBookmarksMenu]): new method
        (-[BookmarksViewController tableView:validateDrop:proposedRow:proposedDropOperation:]):
	new method, decide what can be dropped and where
        (-[BookmarksViewController tableView:acceptDrop:row:dropOperation:]):
	new method, handle the drop; both of these methods are currently overly complicated
        (-[BookmarksViewController outlineView:acceptDrop:item:childIndex:]): handle trying
	to move menu root as well as favorites root

        * English.lproj/Localizable.strings: update localizations


git-svn-id: svn://svn.chromium.org/blink/trunk@2285 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-10-09 02:41:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1f5a12ddb751c476773a453138361e00505fe8ac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01l401l5zw6zlm70', 2, e'	This was an unintentional checkin. backing out.

        * khtml/xml/dom_elementimpl.cpp:
        (NamedAttrMapImpl::removeNamedItem):


git-svn-id: svn://svn.chromium.org/blink/trunk@2284 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-08 23:54:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6f8714700690c5ef60d0d38b2721134e906f5e42');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01l501l5ldv7frq8', 2, e'        Removed unnecessary (and incorrect) include.
        The *.m files in DOM.subproj might be removed,
        they are empty now.

        * DOM.subproj/WebDOMDocument.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@2283 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-08 23:42:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/50609e6819eb6471cda03594e179af7868b740e4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01l601l5pfg2wq2q', 2, e'i        Added bridge method set the selection.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge setSelectionFrom:startOffset:to:endOffset:]):

        Added selection API.

        * WebView.subproj/WebHTMLRepresentation.h:
        * WebView.subproj/WebHTMLRepresentation.m:
        (-[WebHTMLRepresentation setSelectionFrom:startOffset:to:endOffset:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2282 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-08 23:27:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/19302dc0b6f88a54c51dae08e739200e2794313a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01l701l5xg9mp65a', 2, e'        Add accessor for DOM document.

        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebHTMLRepresentation.h:
        * WebView.subproj/WebHTMLRepresentation.m:
        (-[WebHTMLRepresentation DOMDocument]):

        Added bridge method to get the DOM document.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge DOMDocument]):
        * kwq/WebCoreDOM.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2281 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-08 23:07:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/074d6b0375d1fe6934a9ae24d3d143c6efb9b39f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01l801l5mdxeeyyz', 2, e'        More DOM implementation.

        * khtml/dom/dom_text.h:
        * khtml/dom/dom_xml.h:
        * khtml/xml/dom_textimpl.h:
        * khtml/xml/dom_xmlimpl.h:
        * kwq/WebCoreDOM.h:
        * kwq/WebCoreDOMNode.mm:
        (DOM::CharacterDataImpl::createInstance):
        (DOM::TextImpl::createInstance):
        (DOM::ProcessingInstructionImpl::createInstance):
        (-[WebCoreDOMCharacterData data]):
        (-[WebCoreDOMCharacterData setData:]):
        (-[WebCoreDOMCharacterData length]):
        (-[WebCoreDOMCharacterData substringData::]):
        (-[WebCoreDOMCharacterData appendData:]):
        (-[WebCoreDOMCharacterData insertData::]):
        (-[WebCoreDOMCharacterData deleteData::]):
        (-[WebCoreDOMText splitText:]):
        (+[WebCoreDOMCDATASection CDATASectionWithImpl:DOM::]):
        (-[WebCoreDOMProcessingInstruction data]):
        (-[WebCoreDOMProcessingInstruction setData:]):
        * kwq/WebCoreDOMPrivate.h:
        * kwq/WebDOMElement.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2280 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-08 22:47:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/74dd948d023aa61cb7eb8d46600ee2590160bf94');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01l901l5nkrgpda4', 2, e'        Made getAttributeNodeNamed match spec, changed
        to getAttributeNode.

        * DOM.subproj/WebDOMElement.h:

        Implemented WebCoreDOMElement.
        Fixed extra deref of impl in subclasses
        of WebCoreDOMNode.

        * khtml/dom/dom_element.h:
        * khtml/dom/dom_node.h:
        * khtml/xml/dom_elementimpl.h:
        * khtml/xml/dom_nodeimpl.h:
        * kwq/WebCoreDOMDocument.mm:
        (-[WebCoreDOMDocument initWithImpl:DOM::]):
        * kwq/WebCoreDOMNode.mm:
        (DOM::NodeListImpl::createInstance):
        (DOM::NamedNodeMapImpl::createInstance):
        (DOM::AttrImpl::createInstance):
        (DOM::ElementImpl::createInstance):
        (-[WebCoreDOMNodeList length]):
        (-[WebCoreDOMNodeList item:]):
        (-[WebCoreDOMAttr initWithImpl:DOM::]):
        (+[WebCoreDOMDocumentFragment documentFragmentWithImpl:DOM::]):
        (-[WebCoreDOMElement tagName]):
        (-[WebCoreDOMElement setAttribute::]):
        (-[WebCoreDOMElement removeAttribute:]):
        (-[WebCoreDOMElement getAttributeNode:]):
        (-[WebCoreDOMElement removeAttributeNode:]):
        (-[WebCoreDOMElement getElementsByTagName:]):
        (-[WebCoreDOMElement getAttributeNS::]):
        (-[WebCoreDOMElement setAttributeNS:::]):
        * kwq/WebDOMDocument.h:
        * kwq/WebDOMElement.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2279 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-08 22:07:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e1a0fbd036fe04fdfee657d5417c4acdf016ca13');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01la01l5h54yol9m', 2, e'WebKit:

	- WebKit part of fix for 3069150 -- eliminate "separator"
	feature from Bookmarks

        * Bookmarks.subproj/WebBookmarkSeparator.h: Removed.
        * Bookmarks.subproj/WebBookmarkSeparator.m: Removed.
	Removed class

        * Bookmarks.subproj/WebBookmark.h:
        * Bookmarks.subproj/WebBookmark.m:
        (+[WebBookmark bookmarkOfType:]):
        (+[WebBookmark bookmarkFromDictionaryRepresentation:withGroup:]):
        * Bookmarks.subproj/WebBookmarkGroup.m:
        (-[WebBookmarkGroup insertNewBookmarkAtIndex:ofBookmark:withTitle:URLString:type:]):
        * Bookmarks.subproj/WebBookmarkList.m:
        (-[WebBookmarkList initFromDictionaryRepresentation:withGroup:]):
        * Bookmarks.subproj/WebBookmarkPrivate.h:
        * English.lproj/StringsNotToBeLocalized.txt:
	Removed all references to class.

        * WebKit.pbproj/project.pbxproj: Updated for removed files.

WebBrowser:

	- WebBrowser part of fix for 3069150 -- eliminate "separator"
	feature from Bookmarks
	- fixed 3070014 -- Library view needs "New Folder" button
	- fixed 3050660 -- the 5 editing items in the Bookmarks menu
	before the bookmarks should be moved or made a submenu
	- fixed 3069152 -- eliminate the ability to create new empty
	bookmarks

        * OutlineViewPlus.h:
        * OutlineViewPlus.m:
        (-[OutlineViewPlus keyDown:]):
	Add delegate handling of keyDown events like that in TableViewPlus so I could
	remove the ugly hack of out-of-sight buttons handling Delete and Return as
	keyboard shortcuts.

        * BookmarksController.m:
        (-[BookmarksController imageForBookmark:]):
	Remove bookmark separator handling.
        (-[BookmarksController addMenuItemForBookmark:toMenu:]):
	Remove bookmark separator handling.

        * BookmarksViewController.h:
        * BookmarksViewController.m:
        (-[BookmarksViewController removeSelectedBookmarks]): removed sender parameter; no
	longer used as IBAction.
        (-[BookmarksViewController handleKeyDown:inSourceColumn:]): new bottleneck method
	for handling Return and Delete (and forward delete) keys pressed in either table
	view or outline view.
        (-[BookmarksViewController tableView:keyDown:]):
	now calls handleKeyDown:inSourceColumn:
        (-[BookmarksViewController outlineView:objectValueForTableColumn:byItem:]):
	Remove bookmark separator handling.
        (-[BookmarksViewController outlineView:shouldEditTableColumn:item:]):
	Remove bookmark separator handling.
        (-[BookmarksViewController outlineView:keyDown:]): new delegate method,
	calls handleKeyDown:inSourceColumn:
        (-[BookmarksViewController delete:]):
	No sender parameter for removeSelectedBookmarks anymore
        (-[BookmarksViewController validateUserInterfaceItem:]):
	Removed case for removeSelectedBookmarks since it\'s never auto-validated now

        * BrowserWebBookmarkExtras.m:
        (+[WebBookmark writeBookmarks:toPasteboard:withOwner:]):
	Remove bookmark separator handling.

        * English.lproj/Browser.nib: added New Folder button; removed ugly hack of
	out-of-sight buttons handling Delete and Return; put table view and outline
	view in boxes to handle New Folder button and future changes.

        * English.lproj/Localizable.strings: update localizations

        * English.lproj/MainMenu.nib: removed editing items from Bookmarks menu

        * FavoriteButton.m:
        (-[FavoriteButton setBookmark:]): Remove bookmark separator handling.
        (-[FavoriteButton menu]): Remove bookmark separator handling.

        * FavoritesBar.m:
        (-[FavoritesBar performDragOperation:]): Remove bookmark separator handling.


git-svn-id: svn://svn.chromium.org/blink/trunk@2278 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-10-08 21:40:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e440011e25078421a078776687ba54c9b14d0cf4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01lb01l5xzt4j4sd', 2, e'        Fixes to the DOM API.

        * DOM.subproj/WebDOMDocument.h:
        * DOM.subproj/WebDOMDocument.m:
        * DOM.subproj/WebDOMNode.h:
        * DOM.subproj/WebDOMNode.m:
        * DOM.subproj/WebDOMNamedNodeMap.h: Removed.
        * DOM.subproj/WebDOMNamedNodeMap.m: Removed.
        * WebKit.pbproj/project.pbxproj:


        First cut at ObjC stubs for DOM API.  Finished the
        main classes.  Need to finish
        WebDOMElement, WebDOMElement, WebDOMElement,
        WebDOMCDATASection, WebDOMText, WebDOMComment,
        WebDOMCharacterData and

        * WebCore.pbproj/project.pbxproj:
        * khtml/dom/dom_doc.h:
        * khtml/dom/dom_element.h:
        * khtml/dom/dom_node.h:
        * khtml/xml/dom_docimpl.h:
        * khtml/xml/dom_elementimpl.h:
        * khtml/xml/dom_nodeimpl.h:
        * kwq/WebCoreDOM.h: Added.
        * kwq/WebCoreDOMDocument.mm: Added.
        (DOM::DOMImplementationImpl::createInstance):
        (DOM::DocumentTypeImpl::createInstance):
        (DOM::DocumentImpl::createInstance):
        (domStringToNSString):
        (NSStringToDOMString):
        (+[WebCoreDOMDocumentType documentTypeWithImpl:DOM::]):
        (-[WebCoreDOMDocumentType initWithImpl:DOM::]):
        (-[WebCoreDOMDocumentType dealloc]):
        (-[WebCoreDOMDocumentType DOM::]):
        (-[WebCoreDOMDocumentType name]):
        (-[WebCoreDOMDocumentType entities]):
        (-[WebCoreDOMDocumentType notations]):
        (-[WebCoreDOMDocumentType publicId]):
        (-[WebCoreDOMDocumentType systemId]):
        (-[WebCoreDOMDocumentType internalSubset]):
        (+[WebCoreDOMImplementation implementionatWithImpl:DOM::]):
        (-[WebCoreDOMImplementation initWithImpl:DOM::]):
        (-[WebCoreDOMImplementation dealloc]):
        (-[WebCoreDOMImplementation DOM::]):
        (-[WebCoreDOMImplementation hasFeature::]):
        (-[WebCoreDOMImplementation createDocument:::]):
        (+[WebCoreDOMDocument documentWithImpl:DOM::]):
        (-[WebCoreDOMDocument initWithImpl:DOM::]):
        (-[WebCoreDOMDocument dealloc]):
        (-[WebCoreDOMDocument DOM::]):
        (-[WebCoreDOMDocument doctype]):
        (-[WebCoreDOMDocument implementation]):
        (-[WebCoreDOMDocument documentElement]):
        (-[WebCoreDOMDocument createElement:]):
        (-[WebCoreDOMDocument createElementNS::]):
        (-[WebCoreDOMDocument createDocumentFragment]):
        (-[WebCoreDOMDocument createTextNode:]):
        (-[WebCoreDOMDocument createComment:]):
        (-[WebCoreDOMDocument createCDATASection:]):
        (-[WebCoreDOMDocument createProcessingInstruction::]):
        (-[WebCoreDOMDocument createAttribute:]):
        (-[WebCoreDOMDocument createAttributeNS::]):
        (-[WebCoreDOMDocument createEntityReference:]):
        (-[WebCoreDOMDocument getElementById:]):
        (-[WebCoreDOMDocument getElementsByTagName:]):
        (-[WebCoreDOMDocument getElementsByTagNameNS::]):
        (-[WebCoreDOMDocument importNode::]):
        * kwq/WebCoreDOMNode.mm: Added.
        (DOM::NamedNodeMapImpl::createInstance):
        (DOM::AttrImpl::createInstance):
        (+[WebCoreDOMNode nodeWithImpl:DOM::]):
        (-[WebCoreDOMNode initWithImpl:DOM::]):
        (-[WebCoreDOMNode DOM::]):
        (-[WebCoreDOMNode dealloc]):
        (-[WebCoreDOMNode nodeName]):
        (-[WebCoreDOMNode nodeValue]):
        (-[WebCoreDOMNode setNodeValue:]):
        (-[WebCoreDOMNode nodeType]):
        (-[WebCoreDOMNode parentNode]):
        (-[WebCoreDOMNode firstChild]):
        (-[WebCoreDOMNode lastChild]):
        (-[WebCoreDOMNode previousSibling]):
        (-[WebCoreDOMNode nextSibling]):
        (-[WebCoreDOMNode ownerDocument]):
        (-[WebCoreDOMNode insert:before:]):
        (-[WebCoreDOMNode replace:child:]):
        (-[WebCoreDOMNode removeChild:]):
        (-[WebCoreDOMNode hasChildNodes]):
        (-[WebCoreDOMNode cloneNode:]):
        (-[WebCoreDOMNode normalize]):
        (-[WebCoreDOMNode isSupported::]):
        (-[WebCoreDOMNode namespaceURI]):
        (-[WebCoreDOMNode prefix]):
        (-[WebCoreDOMNode setPrefix:]):
        (-[WebCoreDOMNode localName]):
        (+[WebCoreDOMNodeList nodeListWithImpl:DOM::]):
        (-[WebCoreDOMNodeList initWithImpl:DOM::]):
        (-[WebCoreDOMNodeList DOM::]):
        (-[WebCoreDOMNodeList dealloc]):
        (+[WebCoreDOMNamedNodeMap namedNodeMapWithImpl:DOM::]):
        (-[WebCoreDOMNamedNodeMap initWithImpl:DOM::]):
        (-[WebCoreDOMNamedNodeMap DOM::]):
        (-[WebCoreDOMNamedNodeMap dealloc]):
        (-[WebCoreDOMNamedNodeMap length]):
        (-[WebCoreDOMNamedNodeMap getNamedItem:]):
        (-[WebCoreDOMNamedNodeMap setNamedItem:]):
        (+[WebCoreDOMAttr attrWithImpl:DOM::]):
        (-[WebCoreDOMAttr initWithImpl:DOM::]):
        (-[WebCoreDOMAttr DOM::]):
        (-[WebCoreDOMAttr dealloc]):
        (-[WebCoreDOMAttr name]):
        (-[WebCoreDOMAttr specified]):
        (-[WebCoreDOMAttr value]):
        (-[WebCoreDOMAttr ownerElement]):
        (+[WebCoreDOMCDATASection CDATASectionWithImpl:DOM::]):
        (-[WebCoreDOMCDATASection initWithImpl:DOM::]):
        (-[WebCoreDOMCDATASection DOM::]):
        (-[WebCoreDOMCDATASection dealloc]):
        * kwq/WebCoreDOMPrivate.h: Added.
        * kwq/WebDOMDocument.h: Added.
        * kwq/WebDOMElement.h: Added.
        * kwq/WebDOMNode.h: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2277 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-08 21:16:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/267da8359f510a9f9f140bbfa2e61d4a735d0c47');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01lc01l5fu2uuloj', 2, e'WebFoundation:

	Some changes to make some progress on this bug:

	Radar 3015613 (Search results disappear when backtracking)

	This set of changes does not fix this bug, but it does provide much of the WebFoundation
	support we\'ll need for a complete fix. In order to finish the fix, we need to make
	some API changes in WebKit.

        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad _cacheKey]): Add HTTP request method to cache key.
        * CacheLoader.subproj/WebResourceRequest.m:
        (-[WebResourceRequest initWithURL:]): Explicitly set defaults for requestCachePolicy and responseCachePolicy.
        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler shouldCacheResponse:]): Do not unconditionally determine that HEAD, POST, PUT, and
	DELETE methods are uncacheable. This change is made so we can show cached results when a user uses back/forward
	or history to do navigation.

WebKit:

	Use WebFrameLoadType variable to set the request cache policy for the WebResourceRequest.
	This will help us to provide cached results for POST requests when the user navigates
	using the back/forward list or history for navigation, while making sure we do not
	use cached results when the user pokes the submit button for a form they have
	submitted previously.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _goToItem:withFrameLoadType:])


git-svn-id: svn://svn.chromium.org/blink/trunk@2276 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-08 21:12:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/29c9da601d8ab6b34613d3ebde0b1f9110d6e03f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01ld01l5wvpcxv1s', 2, e'WebFoundation:

	- Sniff file resources for HTML if we can\'t determine a MIME type.
	- Assume resources without content types or extensions are HTML.

        * CacheLoader.subproj/WebResourceResponse.m:
        (-[WebResourceResponse contentType]): Cleaned up, make HTML assumption
        * Misc.subproj/WebNSStringExtras.h:
        * Misc.subproj/WebNSStringExtras.m:
        (-[NSString _web_isExtensionDefinite]): added, returns YES for common extensions that should be correct.
        * ProtocolHandlers.subproj/WebFileProtocolHandler.m:
        (-[WebFileProtocolHandler didLoadData:]): sniff if  !_web_isExtensionDefinite

WebKit:

	Moved assumption that a resource without a content type or extension is HTML to WebFoundation.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveResponse:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2275 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-08 20:54:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/64a79b376ce78d2c9d757f865f59bacf2b4d6e3e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01le01l5eh0s3611', 2, e'	Fix a bug in my event handling code for layers.   This makes
	the links on ESPN.com work again (bug 3051636).  Yay!

        * khtml/rendering/render_layer.cpp:
        (RenderLayer::constructZTree):
        * khtml/xml/dom_elementimpl.cpp:
        (NamedAttrMapImpl::removeNamedItem):
        * kwq/qt/qrect.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2274 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-10-08 19:52:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3da0a3a224ef50b53e5ff36e0877aa2f746b56d1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01lf01l5qy0k8z28', 2, e'	Minor plug-in code clean-up.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView sendActivateEvent:]):
        (-[WebBaseNetscapePluginView sendUpdateEvent]):
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]):
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream receivedData:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2273 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-08 17:51:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/225cce089b3fde4ee4fba1beed5adae6af1d9291');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01lg01l5gskh46qr', 2, e'	Partial fix for 2967073 - should open all TEXT type files, at least

        * WebView.subproj/WebControllerPrivate.m:
        (+[WebController _MIMETypeForFile:]): Sniff for HTML in the fail case.


git-svn-id: svn://svn.chromium.org/blink/trunk@2272 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-08 15:08:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/60945c733bb6af00dfc35e3ec0df450cee1de2df');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01lh01l5zg0zg4mu', 2, e'	- fixed 3037353 -- align="middle" elements not horizontally centered

        * khtml/html/html_blockimpl.cpp: (HTMLDivElementImpl::parseAttribute):
        * khtml/html/html_tableimpl.cpp: (HTMLTablePartElementImpl::parseAttribute):
	Handle "middle" same as center in these two places.


git-svn-id: svn://svn.chromium.org/blink/trunk@2271 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-08 00:00:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/42cae6fb25084ce1671fa3475e83eb6c73fcbcf4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01li01l5dbv5zjur', 2, e'WebFoundation:

	WebFoundation part of implementation of multipart forms posting.

        * ProtocolHandlers.subproj/WebSimpleHTTPProtocolHandler.m:
        (-[WebSimpleHTTPProtocolHandler _addRequestMessageBody:]):
        * ProtocolHandlers.subproj/WebCFNetworkHTTPProtocolHandler.m:
        (-[WebCFNetworkHTTPProtocolHandler addRequestMessageBody:]):
	Remove obsolete support for non-NSData form data. Use the contentType
	in the request, if present.

        * ProtocolHandlers.subproj/WebHTTPResourceRequest.h: Add contentType
	and setContentType methods; convenience for setting the Content-Type header.
        * ProtocolHandlers.subproj/WebHTTPResourceRequest.m:
        (-[WebResourceRequest _headerForKey:]): Added.
        (-[WebResourceRequest userAgent]): Use _headerForKey.
        (-[WebResourceRequest referrer]): Ditto.
        (-[WebResourceRequest contentType]): Added. Use _headerForKey.
        (-[WebResourceRequest setContentType:]): Added.

        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.h: Remove requestData.
        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.m: Ditto.

WebCore:

	WebCore part of implementation of multipart forms posting.

        * kwq/WebCoreBridge.h: Add a contentType parameter to the bridge\'s
	[postWithURL:referrer:data:] method.

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::submitForm):
	Extract the content type from the args, and pass it along to the bridge.

WebKit:

	WebKit part of implementation of multipart forms posting.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge postWithURL:referrer:data:contentType:]):
	Add a contentType parameter to match change in WebCore API.
	Put the contentType value into the request.


git-svn-id: svn://svn.chromium.org/blink/trunk@2270 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-07 22:20:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/693f23d31a2837feb9922d132aaa7794a8e8d57f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01lj01l529q0s72x', 2, e'        * Plugins.subproj/WebPluginDatabase.m:
        (-[WebNetscapePluginDatabase init]): Don\'t override document view and rep types for types that have already been registered.


git-svn-id: svn://svn.chromium.org/blink/trunk@2269 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-07 22:01:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/934d84ea896e7cecf649a38ba3e995986a4be305');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno8ew01lk01l5g4njppx3', 2, e'	Add a port to the background thread\'s run loop so it will not exit
	the run method constantly.

        * Database.subproj/WebFileDatabase.m:
        (+[WebFileDatabase _syncLoop:])


git-svn-id: svn://svn.chromium.org/blink/trunk@2268 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-07 21:06:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c0e5d244889710b8f33e5f30946422b05e17b94c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401jx01l5436169yr', 2, e'	Fixed absurdly high memory usage when looking at pages that use a lot of JavaScript.

        * kjs/collector.cpp:
        (Collector::allocate): Implement a new policy of doing a garbage collect every 1000
	allocations. The old policy was both complicated and misguided.
        (Collector::collect): Zero out the "number of allocations since last collect".


git-svn-id: svn://svn.chromium.org/blink/trunk@2267 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-07 21:06:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/17f48efe511b2b40d5c02208a808c2965ed788ee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401jy01l50w1w2sjd', 2, e'WebCore:

	- fixed 3011025 -- Page up/down is not working when text area has focus

        * kwq/KWQTextArea.mm:
        (-[KWQTextArea needsPanelToBecomeKey]): Return YES so we are considered a
	valid key view even when in normal tabbing mode. This fixes a problem with
	tabbing backwards into a text area.
        (-[KWQTextAreaTextView scrollPageUp:]): Added. Passes a scrollPageUp:
	selector along the responder chain if we are already scrolled to the top.
        (-[KWQTextAreaTextView scrollPageDown:]): Ditto.

        * kwq/KWQNSTextField.mm: Remove unnecessary overrides of textDidEndEditing.
	Turns out the real fix was to override display to do nothing as a workaround
	for bug 2753974.

WebKit:

	WebKit part of the page up/down fix.

        * WebView.subproj/WebHTMLViewPrivate.m: (-[WebHTMLView scrollPoint:]):
	If we are called from the handling of a page up or page down keyboard
	event, then ignore the specific scrolling requested, and do our idea of
	page up and page down. This guarantees that we will get the smarter
	idea of how to page from WebView instead of the one that\'s hardcoded
	into NSTextView.

        * WebView.subproj/WebView.m: (-[WebView keyDown:]): Use scrollPageUp:,
	scrollPageDown:, scrollLineUp:, and scrollLineDown: instead of _pageUp,
	_pageDown, _lineUp, and _lineDown. This lets other classes see and use
	these selectors, which is useful when passing calls up the responder chain.
        * WebView.subproj/WebViewPrivate.h: Remove the private methods that are
	being changed to match the NSResponder keyboard methods.
        * WebView.subproj/WebViewPrivate.m:
        (-[WebView scrollPageUp:]): Rename from _pageUp, and also pass a scrollPageUp:
	selector along the responder chain if we are already scrolled to the top.
        (-[WebView scrollPageDown:]): Ditto.
        (-[WebView scrollLineUp:]): Rename from _lineUp.
        (-[WebView scrollLineDown:]): Rename from _lineDown.


git-svn-id: svn://svn.chromium.org/blink/trunk@2266 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-07 20:29:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a05316cff87b098e82aa0a3d3c7adc2ba10380f3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401jz01l5o9iwjdjh', 2, e'Force build, sorry.  PB doesn\'t seem to be behaving.


git-svn-id: svn://svn.chromium.org/blink/trunk@2265 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-07 20:02:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/260da7b74f5bb1635c5fae04c577e497f5202ce9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401k001l5klpoj8l3', 2, e'        \'Re\'play the delegate messages when an item is loaded from
        the WebCore cache.

        Note that the client will NOT receive a willSendRequest: message.  The client
        presumably already did any request substitution before the object was loaded
        into the cache.  Allowing the delegate to override the request and replace
        the object in the WebCore cache would introduce significant complexity.

        Fixes 3069138.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge objectLoadedFromCache:response:size:]):
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handle:didReceiveResponse:]):

        Added response to WebCore\'s CachedObject.  This allows us to correctly
        emulated the WebResourceLoadDelegate API when \'re\'loading an item
        from the WebCore cache.

        * khtml/misc/loader.cpp:
        (CachedObject::~CachedObject):
        (CachedObject::setResponse):
        (Loader::receivedResponse):
        * khtml/misc/loader.h:
        * kwq/KWQLoaderImpl.h:
        * kwq/KWQLoaderImpl.mm:
        (-[WebCoreResourceLoader receivedResponse:]):
        (KWQCheckCacheObjectStatus):
        (KWQRetainResponse):
        (KWQReleaseResponse):
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreResourceLoader.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2264 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-07 19:38:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/08e5d1cdd3a2892e6e0af7a3e05a83c92b9dbd28');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401k101l5w2dch4hl', 2, e'	Fixed problem in the disk cache where disk writes, once they start, were not being
	preempted by future activity through the cache (as it should). The issue here is
	that the disk cache was simply "borrowing" the thread that was used to call into
	the disk cache to schedule a timer. This turned out to be bad, since that thread
	was raised to maximum priority some time ago.

	I fixed this by giving the disk cache its own (minimum priority) thread to
	write files. This will insulate it from unrelated threading changes in other code.

        * Database.subproj/WebFileDatabase.m:
        (+[WebFileDatabase _syncLoop:])
        (databaseInit)
        (-[WebFileDatabase setTimer])
        (-[WebFileDatabase setObject:forKey:])


git-svn-id: svn://svn.chromium.org/blink/trunk@2263 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-07 18:35:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9d753b2b689832e4fb3623e28a79f5fc352defc7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401k201l51fetyay0', 2, e'	I noticed some broken lists at mapblast.com and tracked it down to this.

        * kjs/array_object.cpp:
        (ArrayInstanceImp::put): Don\'t truncate the list; only extend the length if
	it\'s not already long enough.
        (ArrayProtoFuncImp::call): Fix some ifdef\'d code so it compiles if you turn
	the ifdefs on.


git-svn-id: svn://svn.chromium.org/blink/trunk@2262 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-06 22:17:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9f7395d3c02d55ac8ce5ff80d78236758ce65c62');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401k301l51oqtyxc6', 2, e'	- fixed 3046737 -- infinite loop in font name matching code on some pages

        * kwq/KWQString.mm: (QString::replace): Removed the incorrect early exit if
	the passed in string was the empty string.


git-svn-id: svn://svn.chromium.org/blink/trunk@2261 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-06 19:23:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/676978779983a12d9b8791501dca37656158a9a6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401k401l5s7fsaeqc', 2, e'	- fixed 3068323 -- nil object inserted in dictionary exception on mouse move

        * WebView.subproj/WebHTMLViewPrivate.m: (-[WebHTMLView _elementAtPoint:]):
	Add some assertions in the hope of finding if my assumptions about this are
	wrong, and use the version of the dictionary setter that does nothing if it\'s
	passed nil when putting in the frame found by name.


git-svn-id: svn://svn.chromium.org/blink/trunk@2260 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-05 15:27:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/20d305dc0fead0d140d82f196102aea99669f657');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401k501l5j0geelab', 2, e'Tests:

        * harness.c: (main): Stop using debug versions of frameworks.
	This was causing us problems we\'d see only in the test programs,
	and we didn\'t see the text of the asserts. We can turn this back
	on again if we make it so we can see what\'s wrong.

        * WebFoundation-Misc/ifnsurlextensions-test.chk: Update for new
	expected results that handle "../" properly.

        * kde/kurl-test.chk: Update for canonicalization, which was added
	a while back without updating this test.

WebFoundation:

	- fixed 3064420 -- NSURLExtras function does not resolve "../"
	URLs at top level the way the web expects

        * Misc.subproj/WebNSURLExtras.m:
        (+[NSURL _web_URLWithString:relativeToURL:]): Added code to
	detect URL results that have paths that start with /../ and
	remove the extra levels. Tested with the Tests directory.

        * English.lproj/StringsNotToBeLocalized.txt: Added the string used
	as a localization exception.

WebCore:

        * kwq/KWQKURL.mm: (KURL::parse): Fix code that adds "//" to file URLs.
	The code was including the extra slashes as part of the path, which they are not.
	Verified with the tests in the Tests directory.


git-svn-id: svn://svn.chromium.org/blink/trunk@2259 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-05 05:58:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e1306ebe395dac91a9d7f3d9a3e707d07562312b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401k601l5j55fbjm3', 2, e'WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt: Add a couple more localization
	exceptions for newly added strings.

WebKit:

        * English.lproj/StringsNotToBeLocalized.txt: Add a localization
	exception for the WebKit bundle identifier.


git-svn-id: svn://svn.chromium.org/blink/trunk@2258 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-05 04:34:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c9aed76f83cb129e791c934422010a7d396cf3c5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401k701l5tsr1ty9q', 2, e'WebFoundation:

        * Misc.subproj/WebLocalizableStrings.h: Implement the real version of
	the UI_STRING macro. It uses the FRAMEWORK_NAME preprocessor define to
	find the appropriate bundle global, and passes that along with the
	key into the WebLocalizedString function.
        * Misc.subproj/WebLocalizableStrings.m: Add the definition for the
	WebFoundationLocalizableStrings bundle global.
        (WebLocalizedString): Added. Locates the bundle, then creates a string
	object, then calls localizedStringForKey to find the localized version
	of the string in the bundle\'s localizable strings.
        * WebFoundation.exp: Export WebLocalizedString.

        * WebFoundation.pbproj/project.pbxproj: Add -DFRAMEWORK_NAME=WebFoundation.

WebKit:

        * Misc.subproj/WebKitLocalizableStrings.m: Added.
	Contains the definition of the WebKitLocalizableStringsBundle.
        * WebKit.pbproj/project.pbxproj: Add -DFRAMEWORK_NAME=WebKit.


git-svn-id: svn://svn.chromium.org/blink/trunk@2257 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-05 04:28:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/71d618172da1e4c9c0e94aef17b7587d8c16564d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401k801l5ahg3b2bt', 2, e'	- fixed 2992187 -- Should use curly quotes in status bar messages,
	window titles, and error dialogs

        * BrowserWindowController.m:
        (-[BrowserWindowController performQuickSearch:]):
        (-[BrowserWindowController goToToolbarLocation:]):
	Change the last two straight apostrophes to curly ones.


git-svn-id: svn://svn.chromium.org/blink/trunk@2256 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-05 03:31:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/86799c811cfcf790b28dec4eba0baa002bc59f13');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401k901l5rgwgambi', 2, e'        Stubs for DOM level 2 core API.

        * DOM.subproj/WebDOMDocument.h: Added.
        * DOM.subproj/WebDOMDocument.m: Added.
        * DOM.subproj/WebDOMElement.h: Added.
        * DOM.subproj/WebDOMElement.m: Added.
        * DOM.subproj/WebDOMNamedNodeMap.h: Added.
        * DOM.subproj/WebDOMNamedNodeMap.m: Added.
        * DOM.subproj/WebDOMNode.h: Added.
        * DOM.subproj/WebDOMNode.m: Added.
        * WebKit.pbproj/project.pbxproj:

        * WebView.subproj/WebHTMLViewPrivate.m: tweak.

        Removed import of header that was removed earlier.

        * BookmarksController.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@2255 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-05 02:00:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/06c8c5551a95647df870ac23cd3e53e7b13806ed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401ka01l597ygbupk', 2, e'        * English.lproj/StringsNotToBeLocalized.txt: Add the last few exceptions.
	We now have a completely-clean run of extract-localizable-strings in WebKit!


git-svn-id: svn://svn.chromium.org/blink/trunk@2254 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-05 01:40:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e0dec2ce3703c83a80a88e933d422232b039cb6b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401kb01l5dzd9nnjc', 2, e'	- fixed 3060140 -- REGRESSION: frames of animated gif drawn in wrong position.

	I got the "fromRect" and "toRect" parameters backwards when I made the changes
	to fix bug 3050810.

        * WebCoreSupport.subproj/WebImageRenderer.m: (-[WebImageRenderer nextFrame:]):
	Reverse targetRect and imageRect.

        * WebKit.pbproj/project.pbxproj: Mark some new files as UTF-8 because Project
	Builder asked me to.


git-svn-id: svn://svn.chromium.org/blink/trunk@2253 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-04 23:46:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e275f4bc5883b67e758d6302c90aa2faf75e8518');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401kc01l5g6vbupmi', 2, e'        * Panels.subproj/WebPanelCookieAcceptHandler.h: Removed.
        * Panels.subproj/WebPanelCookieAcceptHandler.m: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@2252 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-04 22:43:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f1a329d11998228eb5779889b78760acecfbe574');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401kd01l5pwe54du3', 2, e'        Danger Will Robinson.  We have to poseAsClass: as early as possible
        so that any NSViews will be created with the appropriate poser.
        This problem manifested itself with SimpleViewer failing
        immediately.  NSViews were created by loading a nib before
        WebHTMLView class initialization occured.  After posing the
        already instantiated instances of NSView had a %NSView class,
        causing many things to break.

        * WebView.subproj/WebHTMLViewPrivate.m:
        (+[WebHTMLView load]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2251 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-04 22:39:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/241ff352ce1b3312cec39bd4ce1bd341c09ad2c0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401ke01l5o2jk0efe', 2, e'        Fixed problems parsing numbers that are larger than a long with parseInt.

        * kjs/config.h: Define HAVE_FUNC_STRTOLL.
        * kjs/function.cpp: (GlobalFuncImp::call):
	Change parseInt to use strtoll if available.


git-svn-id: svn://svn.chromium.org/blink/trunk@2250 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-04 21:27:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fc2b2e80bd7a8c00ac4cb99989eee2c359b37b98');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401kf01l58kh55tee', 2, e'        * kjs/config.h: Define HAVE_FUNC_STRTOLL.
        * kjs/function.cpp: (GlobalFuncImp::call):
	Change parseInt to use strtoll if available.


git-svn-id: svn://svn.chromium.org/blink/trunk@2249 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-04 21:07:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d3453dea9086539db8590655a3750e4be13d4bf5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401kg01l51hjdk4ah', 2, e'        Ensure that we return non-nil request  from handle:willSendRequest:
        even when WK\'s laod delegate is nil.

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handle:willSendRequest:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2248 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-04 21:07:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/befe1071416e9715c1f8517979c643e2965da714');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401kh01l5xokfb0x9', 2, e'Tools:

        * Scripts/extract-localizable-strings: Add dprintf, NSLog, and
	NSException to the list of tokens that introduce non-localizable
	strings, and added handling for square brackets.

WebFoundation:

        * CacheLoader.subproj/WebResourceLoad.m: (_loadSweeper):
        * Database.subproj/WebFileDatabase.m: (-[WebFileReader initWithPath:]):
        * ProtocolHandlers.subproj/WebSimpleHTTPProtocolHandler.m:
        (-[WebSimpleHTTPProtocolHandler createHTTPRequest]):
	Changed logging code to take advantage of the fact that we once-again support %@.

        * ProtocolHandlers.subproj/WebCFNetworkHTTPProtocolHandler.m:
        (-[WebCFNetworkHTTPProtocolHandler addRequestMessageBody:]):
        * ProtocolHandlers.subproj/WebSimpleHTTPProtocolHandler.m:
        (-[WebSimpleHTTPProtocolHandler _addRequestMessageBody:]):
	Fixed logging code to eliminate a leak.

        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler debugStringForCacheAttributeValue:]):
	Changed this code to just call description instead of using string formatting.

        * English.lproj/StringsNotToBeLocalized.txt: Add more exceptions. We now have a
	completely-clean run of extract-localizable-strings in WebFoundation!

        * English.lproj/Localizable.strings: Re-generated.

WebKit:

        * Panels.subproj/WebAuthenticationPanel.m:
        (-[WebAuthenticationPanel loadNib]): Use ERROR instead of NSLog here.
        (-[WebAuthenticationPanel setUpForRequest:]): Mark some strings for localization.

        * WebKit.pbproj/project.pbxproj: Change the encoding on a lot more files to UTF-8.

        * English.lproj/StringsNotToBeLocalized.txt: Added some new exceptions.
        * English.lproj/Localizable.strings: Re-generated.

WebBrowser:

	More progress on localization.

        * English.lproj/StringsNotToBeLocalized.txt: Added a few strings.

        * GlobalHistory.m: (-[GlobalHistory outlineView:objectValueForTableColumn:byItem:]):
	Marked a string for localization.

        * FrameProgressEntry.m: (-[FrameProgressEntry updateKeyFrom:to:dataSource:]):
	Added an assert in case we run into an issue like the one from earlier today.

        * English.lproj/Localizable.strings: Re-generated.


git-svn-id: svn://svn.chromium.org/blink/trunk@2247 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-04 20:43:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/276a52a02f78bc4e8adaf5e8eb18021e056761fe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401ki01l5upndhhcd', 2, e'Actually checkin.


git-svn-id: svn://svn.chromium.org/blink/trunk@2246 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-04 20:32:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/694b4a7b13cc217fb15d0f04c83ff4c59e6a25ce');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401kj01l5srwecfub', 2, e'        Changed WebDOMNode name to WebDebugDOMNode to make room for
        real node.

        * Debug/DOMTree.m:
        (-[DOMTreeDataSource initWithWebView:]):
        (-[DOMTree itemSelected:]):

        Changed WebDOMNode name to WebDebugDOMNode to make room for
        real node.

        * WebKit.exp:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebDOMNode.h: Removed.
        * WebView.subproj/WebDOMNode.m: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@2245 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-04 18:51:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9b1c0ef88fe31654169be1b8e9c765fc67c4bfd9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401kk01l5t56dmhgj', 2, e'        Changed name of controller\'s resourceProgressDelegate methods to resourceLoadDelegate.

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient initWithLoader:dataSource:]):
        (-[WebSubresourceClient handle:didReceiveResponse:]):
        (-[WebSubresourceClient handle:didReceiveData:]):
        (-[WebSubresourceClient handleDidFinishLoading:]):
        (-[WebSubresourceClient handle:didFailLoadingWithError:]):
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController setResourceLoadDelegate:]):
        (-[WebController resourceLoadDelegate]):
        (-[WebController setDownloadDelegate:]):
        (-[WebController downloadDelegate]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient initWithDataSource:]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):

        Changed name of controller\'s resourceProgressDelegate methods to resourceLoadDelegate.

        * BrowserDocument.m:
        (-[BrowserDocument init]):
        (-[BrowserDocument close]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2244 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-04 02:48:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b72153f559a99cf88baef3873e66448b8df6dcaa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401kl01l5fku3k71g', 2, e'        Create the activity entry in resourceRequest:didReceiveResponse:fromDataSource:
        rather than resourceRequest:willSendRequest:fromDataSource:.

        * BrowserWebController.m:
        (-[BrowserWebController resourceRequest:willSendRequest:fromDataSource:]):
        (-[BrowserWebController resourceRequest:didReceiveResponse:fromDataSource:]):

        Always call resourceRequest:willSendRequest: on resourceProgressDelegate.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2243 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-04 02:35:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7c3621eda83b55d04bcf51f9eeaa4b9f723f7869');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401km01l57pujq08r', 2, e'        Add calls to downloadProgressDelegate.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):
        (-[WebMainResourceClient handle:didReceiveData:]):
        (-[WebMainResourceClient handle:didFailLoadingWithError:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2242 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-04 02:11:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4ffa434b1f1d8b22e576ef91721f2d03f55e20da');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401kn01l5djb2ck7t', 2, e'        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge objectLoadedFromCache:size:]):
        Hack to prevent handle creation with nil delegate,
        still perform frame complete check.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient initWithDataSource:]):
        Removed unused code.

        (-[WebMainResourceClient handle:willSendRequest:]):
        Copy the request, ugh.

        * BrowserWebController.m:
        (-[BrowserWebController resourceRequest:willSendRequest:fromDataSource:]):
        (-[BrowserWebController resourceRequest:didReceiveContentLength:fromDataSource:]):
        (-[BrowserWebController resourceRequest:didFinishLoadingFromDataSource:]):
        Clean up activity value changes.

        * FrameProgressEntry.m:
        (-[FrameProgressEntry trackSubresource:withIdentifier:forDataSource:]):
        (-[FrameProgressEntry updateKeyFrom:to:dataSource:]):
        (-[FrameProgressEntry updateSubresource:ofDataSource:withURLString:bytesLoaded:bytesExpected:error:]):
        Update key when request changes.  May be removed if with go with
        opaque identifier.

        * LoadProgressMonitor.h:
        * LoadProgressMonitor.m:
        (-[LoadProgressMonitor entryForKey:dataSource:]):
        Accessor method for ResourceProgressEntry.

        Copy request if a different instance is returned.

        * CacheLoader.subproj/WebResourceHandleInternal.m:
        (-[WebResourceHandle _notifyClientWillSendRequest]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2241 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-04 01:38:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e9897987346bc3bb9b701209fb598bc7d68057e2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401ko01l52njpiwb2', 2, e'	- fixed 3065730 -- Crash loading "My T-Mobile" page (in khtml::Decoder::decode)

        * khtml/misc/decoder.cpp: (Decoder::decode): Fixed a mistake that would cause
	the loop to run off the end of the buffer, introduced back on 2002-08-30.


git-svn-id: svn://svn.chromium.org/blink/trunk@2240 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-04 00:43:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/63cd6b44b25d0e1b405cdb5d6fc3dfade0678980');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401kp01l5b4xmun8h', 2, e'WebCore:

	Add API to execute JavaScript.

        * kwq/WebCoreBridge.h: Add method.
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge executeJavaScriptFromString:]): Call through to
	KHTML. But only if the document is not nil. We need to figure out
	what to do in the case where the document is nil.

WebKit:

	Add API for executing JavaScript.

        * WebView.subproj/WebController.h: Add method.
        * WebView.subproj/WebController.m:
        (-[WebController executeJavaScriptFromString:]): Call through to
	WebCore to do the heavy lifting.

WebBrowser:

	Fixed most of 2980477 -- javascript: URLs don\'t work when typed
	into the page address field or in bookmarks

	They work now, but only if the frontmost window is not empty.

        * BrowserWebBookmarkExtras.m:
        (-[WebBookmark _goToWithWindowPolicy:]): Rename, change to take
	a policy parameter instead of a boolean, and add code for the
	javascript: case.
        (-[WebBookmark goTo]): Pass ReuseAvailableWindow.
        (-[WebBookmark goToInNewWindow]): Pass CreateWindow.
        (-[WebBookmark goToUsingNewWindowAccordingToEvent:]): Choose policy based
	on both the command key and the shift key.

        * BrowserWindowController.m:
        (-[BrowserWindowController goToToolbarLocation:]): Add add code for the
	javascript: case.


git-svn-id: svn://svn.chromium.org/blink/trunk@2239 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-04 00:31:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ba7ccb7e6ff881ddd89627415ceaa5b1982ed90d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno73401kq01l524zi39vk', 2, e'Tools:

        * Scripts/extract-localizable-strings: Do all the remaining TODO
	items for this script.

WebFoundation:

        * English.lproj/Localizable.strings: Added. Generated by script.
        * English.lproj/StringsNotToBeLocalized.txt: Updated with many more entries.

        * Misc.subproj/WebError.m:
        Switch from NSLocalizedStringFromTable to UI_STRING.
        * Misc.subproj/WebNSStringExtras.m:
	Switch from dummy WebLocalizedStringWithKeyAndValue to UI_STRING.

        * Misc.subproj/WebQueue.m: (+[WebQueue newNode]): Just use malloc.

        * English.lproj/WebError.strings: Removed.
        * Misc.subproj/WebMultipartForm.h: Removed.
        * Misc.subproj/WebMultipartForm.m: Removed.

        * WebFoundation.pbproj/project.pbxproj: Changed encoding of many files to UTF-8.
	Removed files. Added Localizable.strings and StringsNotToBeLocalized.txt.

WebKit:

        * English.lproj/Localizable.strings: Generated by the script.
        * English.lproj/StringsNotToBeLocalized.txt: Added many more strings to ignore.
        * English.lproj/WebError.strings: Removed.

        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        * WebView.subproj/WebView.m:
	Use UI_STRING instead of NSLocalizedString.

        * WebKit.pbproj/project.pbxproj: Changed encodings of some files to UTF-8.
	Removed WebError.strings.

WebBrowser:

        * BrowserWebController.m:
        (-[BrowserWebController mouseoverTextForElement:modifierFlags:]): Added.
	Also put in strings for when the control key is down.
        (-[BrowserWebController mouseDidMoveOverElement:modifierFlags:]): Factor
	out the actual string change here. More work on this is required.

        * ABHomePagesController.m:
        * BookmarkToolbarItem.m:
        * BookmarksController.m:
        * BookmarksViewController.m:
        * BookmarksWindowController.m:
        * BrowserWebBookmarkExtras.m:
        * BrowserWebController.m:
        * BrowserWebErrorExtras.m:
        * BrowserWindowController.m:
        * ContextMenuHandler.m:
        * DownloadMonitor.m:
        * DownloadProgressEntry.m:
        * FavoriteButton.m:
        * FindPanelController.m:
        * FrameProgressEntry.m:
        * GlobalHistory.m:
        * HTMLSourceDocument.m:
        * LoadProgressMonitor.m:
        * LocationChangeError.m:
        * RendezvousController.m:
        * Preferences.subproj/AppearancePreferences.m:
	Switch from NSLocalizedString to UI_STRING

        * DateCell.m: Replace the dummy NSLocalizedStringWithKeyAndValue with UI_STRING.
        * ResourceProgressEntry.m: (-[ResourceProgressEntry _committedStatus]):
	Got rid of FIXME: Localize, and put in use of UI_STRING.

        * English.lproj/StringsNotToBeLocalized.txt: Add some more exceptions.
        * English.lproj/Localizable.strings: Check in script-generated file for now.

        * BrowserStrings.h: Removed.

        * WebBrowser.pbproj/project.pbxproj: Changed encodings for many files to UTF-8.
	Also added StringsNotToBeLocalized.txt, although not in any target.


git-svn-id: svn://svn.chromium.org/blink/trunk@2238 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-03 22:53:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd864b1cdb701c52c154e3b03a2c6e3b286e90dc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01j301l5umqbq61b', 2, e'        Renamed WebResourceProgressDelegate.h to WebResourceLoadDelegate.h

        * BrowserWebController.m:

        Renamed WebResourceProgressDelegate.h to WebResourceLoadDelegate.h

        * Misc.subproj/WebKit.h:
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebController.m:
        * WebView.subproj/WebControllerPrivate.m:
        * WebView.subproj/WebMainResourceClient.m:
        * WebView.subproj/WebResourceLoadDelegate.h:
        * WebView.subproj/WebResourceProgressDelegate.h: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@2237 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-03 22:06:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1e6d810a3de468d266ab0e0b09beaf3b2b4107bd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01j401l5l50pkej7', 2, e'        Changed to reflect new WebResourceLoadDelegate API.

        * BrowserWebController.h:
        * BrowserWebController.m:
        (-[BrowserWebController resourceRequest:willSendRequest:fromDataSource:]):
        (-[BrowserWebController resourceRequest:didReceiveContentLength:fromDataSource:]):
        (-[BrowserWebController resourceRequest:didReceiveResponse:fromDataSource:]):
        (-[BrowserWebController resourceRequest:didFinishLoadingFromDataSource:]):
        * DownloadMonitor.h:
        * DownloadMonitor.m:
        (-[DownloadMonitor _monitorDownload:withBytesLoaded:bytesExpected:error:dataSource:complete:]):
        (-[DownloadMonitor resourceRequest:willSendRequest:fromDataSource:]):
        (-[DownloadMonitor resourceRequest:didReceiveContentLength:fromDataSource:]):
        (-[DownloadMonitor resourceRequest:didReceiveResponse:fromDataSource:]):
        (-[DownloadMonitor resourceRequest:didFinishLoadingFromDataSource:]):
        (-[DownloadMonitor resourceRequest:didFailLoadingWithError:fromDataSource:]):
        * FrameProgressEntry.m:
        (-[FrameProgressEntry updateSubresource:ofDataSource:withURLString:bytesLoaded:bytesExpected:error:]):
        * LoadProgressMonitor.m:

        Changed to reflect new WebResourceLoadDelegate API.

        * Misc.subproj/WebIconLoader.m:
        * Misc.subproj/WebKit.h:
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream handle:didReceiveData:]):
        (-[WebNetscapePluginStream handleDidFinishLoading:]):
        (-[WebNetscapePluginStream cancel]):
        (-[WebNetscapePluginStream handle:didFailLoadingWithError:]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge objectLoadedFromCache:size:]):
        (-[WebBridge reportBadURL:]):
        * WebCoreSupport.subproj/WebSubresourceClient.h:
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient initWithLoader:dataSource:]):
        (-[WebSubresourceClient dealloc]):
        (-[WebSubresourceClient receivedProgressWithComplete:]):
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:]):
        (-[WebSubresourceClient receivedError:]):
        (-[WebSubresourceClient handle:willSendRequest:]):
        (-[WebSubresourceClient handle:didReceiveResponse:]):
        (-[WebSubresourceClient handle:didReceiveData:]):
        (-[WebSubresourceClient handleDidFinishLoading:]):
        (-[WebSubresourceClient handle:didFailLoadingWithError:]):
        (-[WebSubresourceClient cancel]):
        * WebKit.exp:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController setResourceProgressDelegate:]):
        (-[WebController resourceProgressDelegate]):
        (-[WebController setDownloadProgressDelegate:]):
        (-[WebController downloadProgressDelegate]):
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _receivedProgressForResourceHandle:fromDataSource:complete:]):
        (-[WebController _mainReceivedProgressForResourceHandle:bytesSoFar:fromDataSource:complete:]):
        (-[WebController _receivedError:forResourceHandle:fromDataSource:]):
        (-[WebController _mainReceivedError:forResourceHandle:fromDataSource:]):
        * WebView.subproj/WebLoadProgress.h: Removed.
        * WebView.subproj/WebLoadProgress.m: Removed.
        * WebView.subproj/WebMainResourceClient.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient initWithDataSource:]):
        (-[WebMainResourceClient dealloc]):
        (-[WebMainResourceClient receivedProgressWithHandle:complete:]):
        (-[WebMainResourceClient receivedError:forHandle:]):
        (-[WebMainResourceClient handleDidFinishLoading:]):
        (-[WebMainResourceClient handle:willSendRequest:]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):
        (-[WebMainResourceClient handle:didReceiveData:]):
        (-[WebMainResourceClient handle:didFailLoadingWithError:]):
        * WebView.subproj/WebResourceProgressDelegate.h:

        Always send a handle:willSendRequest: before sending a request,
        including first time.  This will allow WebKit clients to intervene
        on every load should they so choose.

        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceHandle loadWithDelegate:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2236 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-10-03 21:53:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fe4b781cc08b210a3f4d285fdc70cd028efcc3a2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01j501l5uoqi8m71', 2, e'Alex-26 version


git-svn-id: svn://svn.chromium.org/blink/trunk@2234 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-10-03 19:27:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/74466aa1f565b0eaa46ec394b094bf95f540a9b6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01j601l5ov09x31p', 2, e'	- Added "remember my password" checkbox (underlying feature not
	yet implemented).

	- Fixed a bug that caused a crash when cancelling the auth sheet.

        * Panels.subproj/English.lproj/WebAuthenticationPanel.nib: Added
	"remember this password" checkbox.
        * Panels.subproj/WebAuthenticationPanel.h:
        * Panels.subproj/WebAuthenticationPanel.m:
	(-[WebAuthenticationPanel cancel:]): Make sure the panel gets
	retained a bit longer, so the cleanup that happens after this
	message is sent can use the panel object.
        (-[WebAuthenticationPanel logIn:]): Make sure the panel gets
	retained a bit longer, so the cleanup that happens after this
	message is sent can use the panel object.
        (-[WebAuthenticationPanel runAsModalDialogWithRequest:]): Pass
	proper remembered value with credential.
        (-[WebAuthenticationPanel sheetDidEnd:returnCode:contextInfo:]):
	Pass proper remembered value with credential.
        * WebKit.pbproj/project.pbxproj: Project Builder had its way with
	this file.


git-svn-id: svn://svn.chromium.org/blink/trunk@2233 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-10-03 00:37:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2713f517244ab40db2a9b26c77dbb99d1e019917');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01j701l5tgso6ypq', 2, e'WebCore:

	Moved "overURL" handling out of WebCore into WebKit and Alex.
	Also separated the two levels of the "element dictionary" so they
	don\'t rely on having the same keys.

        * khtml/khtml_part.h: Revert the APPLE_CHANGES to overURL.
        * khtml/khtml_part.cpp:
        (KHTMLPart::overURL): Removed the APPLE_CHANGES and just ifdef\'d out
	the whole thing for our version.
        (KHTMLPart::khtmlMouseMoveEvent): Get rid of the APPLE_CHANGES and
	don\'t do any of the status bar setup.

        * kwq/KWQKHTMLPartImpl.h: Remove overURL.
        * kwq/KWQKHTMLPartImpl.mm: Ditto.

        * kwq/WebCoreBridge.h: Change keys so they don\'t match the WebKit ones so
	we don\'t accidentally rely on that. Add WebCoreElementLinkTarget.

        * kwq/WebCoreBridge.mm: (-[WebCoreBridge elementAtPoint:]): Add code to
	set up WebCoreElementLinkTarget.

WebKit:

	Machinery so we can handle mouseover feedback at the browser level.

        * WebView.subproj/WebWindowOperationsDelegate.h: Added mouseDidMoveOverElement:modifierFlags:.

        * WebKit.exp: Export WebElementLinkTargetFrameKey.
        * WebView.subproj/WebController.h: Add WebElementLinkTargetFrameKey.
        * WebView.subproj/WebController.m: Ditto.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView removeMouseMovedObserver]): Send a callback when we
	stop tracking the mouse altogether.
        (-[WebHTMLView viewDidMoveToWindow]): Only set up the mouse moved
	observer if we are the top-level HTML view.
        (-[WebHTMLView windowDidBecomeMain:]): Ditto.
        (-[WebHTMLView mouseMovedNotification:]): Handle mouse over if we are
	over any subview of the HTML view. Also send the callback.

        * WebView.subproj/WebHTMLViewPrivate.h: Added lastMouseOverElementWasNotNil,
	_mouseOverElement:modifierFlags: and _insideAnotherHTMLView.
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _elementAtPoint:]): Copy over each element separately so
	we don\'t rely on keys matching. Find the target frame given the target string,
	and include it in the dictionary.
        (-[WebHTMLView _mouseOverElement:modifierFlags]): Added. Calls the window
	operations delegate method, but doesn\'t call it over and over again if the
	information is still "nil".
        (-[WebHTMLView _insideAnotherHTMLView]): Added.
        (-[NSMutableDictionary _web_setObjectIfNotNil:forKey:]): Added. Helper for
	the _elementAtPoint method which could be moved to WebNSDictionaryExtras some day.

WebBrowser:

	- fixed 2935687 -- cmd-shift-click should open new window behind
	- fixed 3050456 -- Click modifier actions are decided by WebBrowser,
	but status messages come from WebCore

        * BrowserWebController.m:
        (-[BrowserWebController mouseDidMoveOverElement:modifierFlags:]): Added.
	Contains the same logic that used to be in WebCore for mouseover messages,
	but translated into WebKit-ese as opposed to WebCore-ese.

        * WebBrowser.pbproj/project.pbxproj: Change encoding of BrowserWebController.m
	to UTF-8. Be careful if you open this file without having the project open in
	Project Builder.


git-svn-id: svn://svn.chromium.org/blink/trunk@2232 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-02 23:52:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ef199466ea37f3b51855abc4f944691d8ab28fc0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01j801l5k0zofjok', 2, e'WebFoundation:

	Implemented HTTP-specific subclass for WebResourceResponse.

        * CacheLoader.subproj/IFURLHandleC.h:
        * CacheLoader.subproj/IFURLHandleC.m:
        (IFURLHandleBackgroundLoadFailedWithResultCode):
        (IFURLHandleGetResultCode):
        * CacheLoader.subproj/WebCacheLoaderConstants.h:
        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceHandle cancel]):
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad failedWithResultCode:inDomain:failingURL:]):
        * CacheLoader.subproj/WebResourceResponse.h:
        * CacheLoader.subproj/WebResourceResponse.m:
        (-[WebResourceResponse init]):
        (-[WebResourceResponse initWithCoder:]):
        (-[WebResourceResponse encodeWithCoder:]):
        (-[WebResourceResponse _takePersistentValuesFrom:]):
        (-[WebResourceResponse dealloc]):
        * CacheLoader.subproj/WebResourceResponsePrivate.h:
        * Misc.subproj/WebError.h:
        * ProtocolHandlers.subproj/WebCFNetworkHTTPProtocolHandler.m:
        (-[WebCFNetworkHTTPProtocolHandler performHTTPHeaderRead:andCall:]):
        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler responseClass]):
        (-[WebHTTPProtocolHandler setResponseMetadata:]):
        (-[WebHTTPProtocolHandler shouldCacheResponse:]):
        (-[WebHTTPProtocolHandler cacheableAttributesWithDefaults:]):
        * ProtocolHandlers.subproj/WebHTTPResourceResponse.h:
        * ProtocolHandlers.subproj/WebHTTPResourceResponse.m:
        * ProtocolHandlers.subproj/WebHTTPResourceResponsePrivate.h: Added.
        * ProtocolHandlers.subproj/WebSimpleHTTPProtocolHandler.m:
        (-[WebSimpleHTTPProtocolHandler _examineHeaders]):
        * WebFoundation.exp:
        * WebFoundation.pbproj/project.pbxproj:

WebKit:

	Implemented HTTP-specific subclass for WebResourceResponse.

        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream receivedData:]): Add import for WebHTTPResourceResponse.


git-svn-id: svn://svn.chromium.org/blink/trunk@2231 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-02 23:14:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e9d3d9e0ead8d32eaa6dbfbaa4609aa3003953d2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01j901l5o133yndm', 2, e'WebFoundation:

	Add return value to willSendRequest callback.

        * CacheLoader.subproj/WebResourceHandleDelegate.h: Add return value.

        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceHandle loadWithDelegate:]): Call _notifyClientWillSendRequest to do the work
	of sending the willSendRequest message in the canonical URL case, to avoid duplicate code.

        * CacheLoader.subproj/WebResourceHandleInternal.m:
        (-[WebResourceHandle _notifyClientWillSendRequest]): Keep the returned request.

        * CacheLoader.subproj/WebResourceCallbackClient.m:
        (-[WebResourceCallbackClient handle:willSendRequest:]):
        * CacheLoader.subproj/WebResourceSynchronousDelegate.m:
        (-[WebResourceHandleSynchronousDelegate handle:willSendRequest:]):
	Update to return the request.

WebKit:

	Add return value to willSendRequest callback.

        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader handle:willSendRequest:]):
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream handle:willSendRequest:]):
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handle:willSendRequest:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:willSendRequest:]):
	Update to return the request.


git-svn-id: svn://svn.chromium.org/blink/trunk@2230 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-02 20:53:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/11648d9663b580ea59a03d759a9b73177571423d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01ja01l5lhwp7yex', 2, e'	Use the text encoding name from the response and got rid of
	[WebDataSource encoding]. Also remove the "first chunk" logic since we
	now get a separate callback for the response.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge receivedData:withDataSource:]): Get the encoding name
	from the response, or fall back on the default.

        * WebView.subproj/WebDataSource.h: Removed encoding.
        * WebView.subproj/WebDataSource.m: Ditto.

        * WebView.subproj/WebDataSourcePrivate.h: Removed _setEncoding.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): No need to release encoding any more.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient initWithDataSource:]): No isFirstChunk to initialize.
        (-[WebMainResourceClient handle:didReceiveResponse:]): Moved the response handling
	in here, including the policy logic.
        (-[WebMainResourceClient handle:didReceiveData:]): This has only what\'s left.


git-svn-id: svn://svn.chromium.org/blink/trunk@2229 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-02 19:47:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/db59d49560ae10fe3a60f4a694f3fd0d72ce6ef0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jb01l57wpq81nv', 2, e'WebKit:

	Replaced contentType on WebDataSource to response.

        * Plugins.subproj/WebNetscapePluginDocumentView.m:
        (-[WebNetscapePluginDocumentView setDataSource:]):
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream receivedData:]):
        (-[WebNetscapePluginStream setResponse:]):
        (-[WebNetscapePluginStream setDataSource:]):
        (-[WebNetscapePluginStream receivedData:withDataSource:]):
        (-[WebNetscapePluginStream handle:didReceiveResponse:]):
        (-[WebNetscapePluginStream handle:didReceiveData:]):
        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource response]):
        (-[WebDataSource fileType]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]):
        (-[WebDataSource _representationClass]):
        (-[WebDataSource _setResponse:]):
        (-[WebDataSource _setContentPolicy:]):
        * WebView.subproj/WebMainResourceClient.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient dealloc]):
        (-[WebMainResourceClient handleDidFinishLoading:]):
        (-[WebMainResourceClient handle:didReceiveResponse:]):
        (-[WebMainResourceClient handle:didReceiveData:]):
        * WebView.subproj/WebTextView.m:
        (-[WebTextView dataSourceUpdated:]):
        * WebView.subproj/WebViewPrivate.m:
        (-[WebView _makeDocumentViewForDataSource:]):

WebBrowser:

	Replaced contentType on WebDataSource to response.

        * BrowserWebController.m:
        (-[BrowserWebController receivedProgress:forResourceHandle:fromDataSource:complete:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2228 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-02 19:12:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c6e238d9206842abecfdce345eae8e733b30bf93');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jc01l5u2hwq9uf', 2, e'WebKit:

	More work on "open window behind".

        * WebView.subproj/WebControllerPolicyDelegate.h: Add new OpenNewWindowBehind
	constants to the enums.

        * WebView.subproj/WebWindowOperationsDelegate.h: Add a behind: parameter to
	the openNewWindowWithURL method.

        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _continueAfterClickPolicyForEvent:]): In the new
	WebClickPolicyOpenNewWindowBehind case, pass YES for behind.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge openNewWindowWithURL:referrer:frameName:]):
        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        (-[WebDefaultContextMenuDelegate openNewWindowWithURL:referrer:]):
        * WebView.subproj/WebFrame.m:
        (-[WebFrame frameNamed:]):
	Pass NO for behind.

WebBrowser:

	More work on "open window behind".

        * BrowserWebController.m:
        (-[BrowserWebController openNewWindowWithURL:referrer:behind:]): Add new behind
	parameter to match change to window operations delegate in WebKit.
        (-[BrowserWebController clickPolicyForElement:button:modifierFlags:]): Use the
	WebClickPolicyOpenNewWindowBehind policy if the shift key and command key are down.


git-svn-id: svn://svn.chromium.org/blink/trunk@2227 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-02 18:59:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2031ce98f391a04ce5338a09b0dcc0d0f1549df8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jd01l54tz8703s', 2, e'	Cut down on unnecessary use of WebFoundation private stuff.

        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream startLoad]): Remove unnecessary use of
	[WebResourceHandle _request].
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handleDidFinishLoading:]): Remove assert about
	status code, since status codes are going away.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient didCancelWithHandle:]): Use currentURL for logging.
        (-[WebMainResourceClient handleDidFinishLoading:]): Ditto.
        (-[WebMainResourceClient handle:didReceiveData:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2226 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-02 17:39:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9a0dfe3694210948e65f49b8efc9218079505935');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01je01l5syq972ls', 2, e'WebKit:

        * WebView.subproj/WebControllerPolicyDelegate.h: Change modifierMask to
	modifierFlags to match NSEvent.
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (-[WebDefaultPolicyDelegate clickPolicyForElement:button:modifierFlags:]): Ditto.
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _continueAfterClickPolicyForEvent:]): Ditto.

WebBrowser:

	Start of the "open window behind" feature.

        * BrowserDocument.m:
        (-[BrowserDocument close]): Move a cancel here from the BrowserWebController
	resetDocument method that really didn\'t belong there.
        (-[BrowserDocument _goToURL:referrer:withFallbackURLs:]): Rearrange this
	function so that the part that is just "go to a particular WebResourceRequest"
	is clearly separated, in preparation for using a method in WebController some day.

        * BrowserDocumentController.h: Add URLWindowPolicy enum, and use it as the
	parameter for goToURL and tryMultipleURLs.
        * BrowserDocumentController.m:
        (-[BrowserDocumentController openDocumentWithContentsOfURL:referrer:behind:):
	Remove display: parameter, and add behind: parameter.
        (-[BrowserDocumentController _goToEachURL:referrer:windowPolicy:]): Update to take
	a windowPolicy parameter instead of separate booleans.
        (-[BrowserDocumentController goToEachURL:]): Use windowPolicy.
        (-[BrowserDocumentController openDocument:]): Use windowPolicy.
        (-[BrowserDocumentController goToURL:]): Use windowPolicy.
        (-[BrowserDocumentController goToURL:referrer:windowPolicy:]): Use windowPolicy.
        (-[BrowserDocumentController tryMultipleURLs:windowPolicy:]): Use windowPolicy.

        * BrowserWebController.m:
        (-[BrowserWebController resetDocument]): Move cancel to BrowserDocument close.
        (-[BrowserWebController openNewWindowWithURL:referrer:]): Use windowPolicy.
        (-[BrowserWebController pluginNotFoundSheetEnded:returnCode:contextInfo:]):
	Use windowPolicy.
        (-[BrowserWebController clickPolicyForElement:button:modifierFlags:]):
	Update name to match change in WebKit.

        * ActivityViewer.m: (-[ActivityViewer _goToClickedItem:]):
        * AppController.m:
        (-[AppController application:openFile:]):
        (-[AppController handleGURLEvent:withReplyEvent:]):
        * BrowserWebBookmarkExtras.m: (-[WebBookmark _goToForceNewWindow:]):
        * Test/PageLoadTestRunner.m: (-[PageLoadTestRunner goToPage]):
	Update to use windowPolicy.


git-svn-id: svn://svn.chromium.org/blink/trunk@2225 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-02 17:03:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5e5fe5dbe55ef3d800d592b6fb1f03a92fbf34ac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jf01l5egf4n1pl', 2, e'	Get rid of uses of canonicalURL.

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:]):
	Start with normal URL. The change to the canonical URL will come in as a redirect.
        (-[WebSubresourceClient handle:didReceiveData:]): Remove assert.
        (-[WebSubresourceClient handleDidFinishLoading:]): Ditto.
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource initWithRequest:]):Start with normal URL. The change to the
	canonical URL will come in as a redirect.


git-svn-id: svn://svn.chromium.org/blink/trunk@2224 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-02 16:46:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/19401fa2b1ab63d6383634f726f2316c850a2d39');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jg01l5xwqv5tn0', 2, e'	Added import of WebHTTPResourceRequest.h to get access to methods
	which have moved to the HTTP-sepcific request category.

        * WebView.subproj/WebDataSourcePrivate.m


git-svn-id: svn://svn.chromium.org/blink/trunk@2223 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-02 16:23:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a91292cd9f54688e0c4823ed05b9605eb3cd3216');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jh01l5y0w5t9eg', 2, e'WebKit:

        * WebKit.exp: added .objc_class_name_WebTextRendererFactory
	so I could use it from WebBrowser.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge startLoadingResource:withURL:referrer:]):
	Just changed whitespace so the .exp change would be built.

WebBrowser:

	- finished implementing the "etched text" look in the
	status bar. I had to do some Cocoa API trickery to access
	WebTextRenderer stuff in order to make it fast; I\'ll get this
	cleaned up soon. (Note that this makes a 1-2% speedup in cvs-base)

        * BrowserWindowController.h:
	remove statusField outlet; we always use statusStringView now

        * BrowserWindowController.m:
        (-[BrowserWindowController clearStatus]): remove statusField
        (-[BrowserWindowController setStatus:]): always use statusStringView

        * PreferenceKeys.h: eliminate preference key for etched text
        * Debug/DebugUtilities.m:
        (-[DebugUtilities createDebugMenu]):
	Remove menu item to toggle etched text

        * English.lproj/Browser.nib: reposition string view slightly

        * EtchedStringView.m:
        (+[EtchedStringView textRenderer]):
	new method, get (and lazily create) WebTextRenderer used to draw all
	status bar strings.
        (+[EtchedStringView lightColor]):
	new method, get (and lazily create) the whitish color
        (+[EtchedStringView darkColor]):
	new method, get (and lazily create) the blackish color
        (-[EtchedStringView drawRect:]): use WebTextRenderer drawing code.

	Also removed some old methods used by the AppKit drawing code.


git-svn-id: svn://svn.chromium.org/blink/trunk@2222 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-10-02 00:21:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8a995c79eed9a54c5fb7f46020db33a8955050e1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01ji01l5k02j4ci6', 2, e'	Fixed build breakage.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView setWindow]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2221 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-01 22:42:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bdfbe1fa81a96e19ab130bafdd177ca4ad7335a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jj01l5hgdpwoka', 2, e'	- fixed 3055076 -- window.scroll does a window.scrollby, not a window.scrollto

        * khtml/ecma/kjs_window.cpp: (WindowFunc::tryCall): Moved a case so that the
	scroll code would scroll to, not by.


git-svn-id: svn://svn.chromium.org/blink/trunk@2220 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-10-01 22:28:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fcdc1b564121fe709f7dbf0e93600c4a4b9ecbe1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jk01l5njsrvn18', 2, e'WebFoundation:

	Implemented WebResourceRequest "category" design for extending a
	request with protocol-specific data.

        * CacheLoader.subproj/IFHTTPURLHandleC.m: Now imports WebHTTPResourceRequest.h.
        * CacheLoader.subproj/WebProtocolHandler.h: Added partOfRequest:withClass:createIfDoesNotExist: method.
        * CacheLoader.subproj/WebProtocolHandler.m:
        (+[WebProtocolHandler partOfRequest:withClass:createIfDoesNotExist:]):
        * CacheLoader.subproj/WebResourceLoad.m: Now imports WebHTTPResourceRequest.h.
        * CacheLoader.subproj/WebResourceLoadManager.m: Ditto.
        * CacheLoader.subproj/WebResourceRequest.h: Removed HTTP-protocol-specific fields and methods.
        * CacheLoader.subproj/WebResourceRequest.m: Ditto.
        (-[WebResourceRequest initWithURL:]): Deal with fact that HTTP-protocol-specific fields and methods have been removed.
        (-[WebResourceRequest copyWithZone:]): Ditto. Copy protocol-specific parts.
        (-[WebResourceRequest copyWithURL:]): Ditto. Ditto. :)
        (-[WebResourceRequest _partWithClass:createIfDoesNotExist:]): Added implementation.
        (-[WebResourceRequest dealloc]): Deal with fact that HTTP-protocol-specific fields and methods have been removed.
        * CacheLoader.subproj/WebResourceRequestPrivate.h: Added.
        * Misc.subproj/WebFoundation.h: Now imports WebHTTPResourceRequest.h.
        * ProtocolHandlers.subproj/WebCFNetworkHTTPProtocolHandler.m: Now imports WebHTTPResourceRequest.h.
        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.m: Ditto.
        * ProtocolHandlers.subproj/WebHTTPResourceRequest.h: Added.
        * ProtocolHandlers.subproj/WebHTTPResourceRequest.m: Added.
        * ProtocolHandlers.subproj/WebHTTPResourceRequestParameters.h: Added.
        * ProtocolHandlers.subproj/WebHTTPResourceRequestParameters.m: Added.
        * ProtocolHandlers.subproj/WebSimpleHTTPProtocolHandler.m: Now imports WebHTTPResourceRequest.h.
        * WebFoundation.pbproj/project.pbxproj

WebKit:

        Implemented WebResourceRequest "category" design for extending a
        request with protocol-specific data.

        * WebCoreSupport.subproj/WebBridge.m: Now imports WebHTTPResourceRequest.h.
        * WebCoreSupport.subproj/WebSubresourceClient.m: Ditto.
        * WebView.subproj/WebMainResourceClient.m: Ditto.

WebBrowser:

        * BrowserDocument.m: Now imports WebHTTPResourceRequest.h to get at protocol-specific
	request information.


git-svn-id: svn://svn.chromium.org/blink/trunk@2219 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-01 22:25:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fa0622b69306094dfa138f6fc45e195cb2a70a62');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jl01l5tq8amqz9', 2, e'	- Added debug drawing
	- removed unnecessary ifdef\'ing.

        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView sendActivateEvent:]):
        (-[WebBaseNetscapePluginView becomeFirstResponder]):
        (-[WebBaseNetscapePluginView resignFirstResponder]):
        (-[WebBaseNetscapePluginView mouseDown:]):
        (-[WebBaseNetscapePluginView mouseUp:]):
        (-[WebBaseNetscapePluginView mouseEntered:]):
        (-[WebBaseNetscapePluginView mouseExited:]):
        (-[WebBaseNetscapePluginView menuForEvent:]):
        (-[WebBaseNetscapePluginView setWindow]):
        (-[WebBaseNetscapePluginView start]):
        (-[WebBaseNetscapePluginView drawRect:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2218 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-01 21:49:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9b1837a38cdd6d8b9f026c7e4ac0995ac73007f6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jm01l5gzl4bg8t', 2, e'WebFoundation:

	Reorganization of code in WebResourceResponse. This moves the code to the
	point where the next change will be to break out HTTP-specific response
	information into its own subclass.

        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad initWithRequest:]): Call protocol handler to get the right class
	for the response.
        (-[WebResourceLoad succeeded]):
        * CacheLoader.subproj/WebResourceResponse.h:
        * CacheLoader.subproj/WebResourceResponse.m:
        (-[WebResourceResponse init]):
        (-[WebResourceResponse initWithCoder:]):
        (-[WebResourceResponse encodeWithCoder:]):
        (-[WebResourceResponse textEncodingName]): Changed name from characterSet.
        (-[WebResourceResponse userAgent]):
        (-[WebResourceResponse headers]):
        (-[WebResourceResponse resultCode]):
        (-[WebResourceResponse _resourceData]):
        (-[WebResourceResponse _setTextEncodingName:]): Changed name from _setCharacterSet:.
        (-[WebResourceResponse _takePersistentValuesFrom:]):
        (-[WebResourceResponse dealloc]):
        * CacheLoader.subproj/WebResourceResponsePrivate.h:
        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler setResponseMetadata:]):

WebKit:

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handleDidFinishLoading:]): Fixed Development build breakage. Call to [response statusCode]
	now calls the handle\'s private method to get the status code.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidFinishLoading:]): Ditto.
        (-[WebMainResourceClient handle:didReceiveData:]): Calls new textEncodingName method, replacing call to characterSet.


git-svn-id: svn://svn.chromium.org/blink/trunk@2217 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-01 17:49:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f30cfc9150ddb37fd2576f3976af29fbd2a7dc6d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jn01l5kdd9918y', 2, e'WebFoundation:

	This change focuses on "status codes". Status codes are an enum that describe
	the state of a handle\'s load (e.g. loading, finished, cancelled).

	Removed status code from WebResourceResponse, and moved it to WebResourceHandle.
	The status code is now available as private API on WebResourceHandle. This
	change made it possible to make some nice cleanups and simplifications.

	The great majority of these changes merely move the method calls from the old
	design of calling WebResourceResponse to access the status code to calling
	the WebResourceHandle to get the status code.

        * CacheLoader.subproj/IFURLHandleC.h:
        * CacheLoader.subproj/WebCacheLoaderConstants.h:
        * CacheLoader.subproj/WebResourceHandle.m:
        (+[WebResourceHandle sendSynchronousRequest:])
        (-[WebResourceHandle initWithRequest:])
        (-[WebResourceHandle loadWithDelegate:])
        (-[WebResourceHandle cancel])
        * CacheLoader.subproj/WebResourceHandleInternal.h:
        * CacheLoader.subproj/WebResourceHandlePrivate.h:
        * CacheLoader.subproj/WebResourceHandlePrivate.m:
        (-[WebResourceHandle _didReceiveResponseMetadata:])
        (-[WebResourceHandle _didLoadData:])
        (-[WebResourceHandle _backgroundLoadComplete])
        (-[WebResourceHandle _backgroundLoadFailed])
        (-[WebResourceHandle _didRedirectToURL:])
        (-[WebResourceHandle _load])
        (-[WebResourceHandle _statusCode])
        (-[WebResourceHandle _setStatusCode:])
        * CacheLoader.subproj/WebResourceLoad.h:
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad cancel])
        (-[WebResourceLoad isCancelled])
        (-[WebResourceLoad succeeded])
        (-[WebResourceLoad failedWithResultCode:inDomain:failingURL:])
        (-[WebResourceLoad addHandle:])
        (-[WebResourceLoad _beginLoad])
        (_loadThrottler)
        * CacheLoader.subproj/WebResourceResponse.h:
        * CacheLoader.subproj/WebResourceResponse.m:
        (-[WebResourceResponse _setResourceData:])
        * CacheLoader.subproj/WebResourceResponsePrivate.h:

WebKit:

        * WebView.subproj/WebLoadProgress.m:
        (-[WebLoadProgress initWithResourceHandle:]): Status code moved from WebResourceResponse
	to WebResourceHandle private API.


git-svn-id: svn://svn.chromium.org/blink/trunk@2216 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-01 17:12:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b7d00c098972da055e677a0694b372b5b82e3418');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jo01l5gzpujkhf', 2, e'WebFoundation:

	Changed WebResourceHandle so that the init method no longer starts the
	loading of the request to begin. Added new loadWithDelegate: method which
	is called separatetly from the init method, to start loads.

        * CacheLoader.subproj/WebResourceHandle.h:
        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceHandle initWithRequest:])
        (-[WebResourceHandle loadWithDelegate:])
        * CacheLoader.subproj/WebResourceHandleInternal.h:
        * CacheLoader.subproj/WebResourceHandleInternal.m:
        * CacheLoader.subproj/WebResourceSynchronousDelegate.m:
        (-[WebResourceHandleSynchronousDelegate run:])

WebKit:

        Changed WebResourceHandle so that the init method no longer starts the
        loading of the request to begin. Added new loadWithDelegate: method which
        is called separatetly from the init method, to start loads.

	All of the changes here update code that depends on WebResourceHandle. The
	changes move the code to the modified API.

        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader startLoading])
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream startLoad])
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge objectLoadedFromCache:size:])
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:])
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading])


git-svn-id: svn://svn.chromium.org/blink/trunk@2215 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-01 16:17:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0e76da63df54540f160bc3d3ef7f5895dd4b0fe4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jp01l5ze4ds9g4', 2, e'	Fixed copyright comments.

        * Plugins.subproj/WebBaseNetscapePluginView.h:
        * Plugins.subproj/WebBaseNetscapePluginViewPrivate.h:
        * Plugins.subproj/WebNetscapePluginDocumentView.h:
        * Plugins.subproj/WebNetscapePluginDocumentView.m:
        * Plugins.subproj/WebNetscapePluginEmbeddedView.h:
        * Plugins.subproj/WebNetscapePluginEmbeddedView.m:
        * Plugins.subproj/WebNullPluginView.h:
        * Plugins.subproj/WebNullPluginView.m:
        * Plugins.subproj/WebPlugin.h:
        * Plugins.subproj/WebPlugin.m:
        * Plugins.subproj/WebPluginDatabase.h:
        * Plugins.subproj/WebPluginDatabase.m:
        * Plugins.subproj/WebPluginNullEventSender.h:
        * Plugins.subproj/WebPluginNullEventSender.m:
        * Plugins.subproj/WebPluginStream.h:
        * Plugins.subproj/WebPluginStream.m:
        * Plugins.subproj/npapi.h:
        * Plugins.subproj/npapi.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@2214 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-01 15:41:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6e0743185ac11b9e832c40df2a4f453e0e616d63');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jq01l5f7lk1euy', 2, e'WebFoundation:

	Big set of changes to move the code closer to the proposed WebFoundation API. Major work includes:

	- Implemented new callbacks for WebResourceHandleDelegate. All delegates of WebResourceHandle
	  were updated to reflect this change.

	- Modified the way WebProtocolHandler creates protocol-specific responses.

	- Move WebResourceHandle API much closer to the final proposal. The public API on this class
	  is very thin now. Some private methods are still available to code inside Intrigue (to ease
	  the transition), and the dependencies on these private methods will be reduced over time.

	- WebResourceRequest and WebResourceResponse classes are now closer to their proposed APIs, but
	  work remains to be done with them.

	- Synchronous loading code received a large rewrite.

	And an extra:

	- Sped up implementation of file protocol handler. This protocol handler no longer kicks a thread for each file load.

        * CacheLoader.subproj/IFHTTPURLHandleC.h:
        * CacheLoader.subproj/IFHTTPURLHandleC.m:
        (IFHTTPURLHandleGetRequestMethod)
        (IFHTTPURLHandleGetRequestHeaders)
        * CacheLoader.subproj/IFURLHandleC.m:
        (IFURLHandleBackgroundLoadFailedWithResultCode)
        (IFURLHandleGetURL)
        (IFURLHandleGetCanonicalURL)
        (IFURLHandleGetStatusCode)
        (IFURLHandleGetResultCode)
        (IFURLHandleGetContentType)
        (IFURLHandleGetError)
        (IFURLHandleGetContentLength)
        (IFURLHandleGetContentLengthReceived)
        (IFURLHandleGetPercentComplete)
        * CacheLoader.subproj/WebMemoryCache.m:
        (-[WebMemoryCache _truncateToSizeLimit])
        * CacheLoader.subproj/WebProtocolHandler.h:
        * CacheLoader.subproj/WebProtocolHandler.m:
        (-[WebProtocolHandler responseClass])
        (-[WebProtocolHandler responseMetadataAvailable])
        (-[WebProtocolHandler setResponseMetadata:])
        * CacheLoader.subproj/WebResourceCallbackClient.m:
        (-[WebResourceCallbackClient handle:willSendRequest:])
        (-[WebResourceCallbackClient handle:didReceiveResponse:])
        * CacheLoader.subproj/WebResourceHandle.h:
        * CacheLoader.subproj/WebResourceHandle.m:
        (+[WebResourceHandle sendSynchronousRequest:])
        (-[WebResourceHandle initWithRequest:delegate:])
        * CacheLoader.subproj/WebResourceHandleDelegate.h:
        * CacheLoader.subproj/WebResourceHandleInternal.h:
        * CacheLoader.subproj/WebResourceHandleInternal.m:
        (-[WebResourceHandleInstanceVariables prepareCallbacks])
        (-[WebResourceHandleInstanceVariables dealloc])
        (-[WebResourceHandle _loadInBackground])
        (-[WebResourceHandle _sendCallbacks])
        (-[WebResourceHandle _notifyClientWillSendRequest])
        (-[WebResourceHandle _notifyClientDidReceiveResponse])
        (-[WebResourceHandle _notifyClientDataDidBecomeAvailable])
        (-[WebResourceHandle _notifyClientDidFailLoading])
        (-[WebResourceHandle _notifyClientDidFinishLoading])
        * CacheLoader.subproj/WebResourceHandlePrivate.h:
        * CacheLoader.subproj/WebResourceHandlePrivate.m:
        (-[WebResourceHandle _didReceiveResponseMetadata:])
        (-[WebResourceHandle _backgroundLoadComplete])
        (-[WebResourceHandle _backgroundLoadFailed])
        (-[WebResourceHandle _didRedirectToURL:])
        (-[WebResourceHandle _request])
        (-[WebResourceHandle _response])
        (-[WebResourceHandle _redirectedURL])
        * CacheLoader.subproj/WebResourceLoad.h:
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad initWithRequest:])
        (-[WebResourceLoad didLoadBytes:length:])
        (-[WebResourceLoad succeeded])
        (-[WebResourceLoad failedWithResultCode:inDomain:failingURL:])
        (-[WebResourceLoad addHandle:])
        (-[WebResourceLoad cacheObjectCheckingRedirects:])
        (-[WebResourceLoad didRedirectToURL:permanent:])
        (-[WebResourceLoad originalRequest])
        (-[WebResourceLoad _beginLoad])
        (-[WebResourceLoad _cacheKey])
        (-[WebResourceLoad description])
        (-[WebResourceLoad dealloc])
        * CacheLoader.subproj/WebResourceLoadManager.m:
        (+[WebResourceLoadKey keyWithHandle:])
        (+[WebResourceLoadKey keyWithLoad:])
        (-[WebResourceLoadKey hash])
        (-[WebResourceLoadManager requestWithURLHandle:])
        * CacheLoader.subproj/WebResourceLoadQueue.m:
        (-[WebResourceLoadQueue put:])
        * CacheLoader.subproj/WebResourceRequest.h:
        * CacheLoader.subproj/WebResourceRequest.m:
        (-[WebResourceRequest initWithURL:])
        (-[WebResourceRequest canonicalURL])
        (-[WebResourceRequest protocolHandlerClass])
        (-[WebResourceRequest copyWithZone:])
        (-[WebResourceRequest copyWithURL:])
        * CacheLoader.subproj/WebResourceResponse.m:
        (-[WebResourceResponse contentType])
        * CacheLoader.subproj/WebResourceSynchronousClient.h:
        * CacheLoader.subproj/WebResourceSynchronousClient.m:
        (-[WebResourceHandleSynchronousDelegate initWithRequest:monitor:])
        (-[WebResourceHandleSynchronousDelegate dealloc])
        (-[WebResourceHandleSynchronousDelegate run:])
        (-[WebResourceHandleSynchronousDelegate started])
        (-[WebResourceHandleSynchronousDelegate handle])
        (-[WebResourceHandleSynchronousDelegate response])
        (-[WebResourceHandleSynchronousDelegate result])
        (-[WebResourceHandleSynchronousDelegate handle:willSendRequest:])
        (-[WebResourceHandleSynchronousDelegate handleDidFinishLoading:])
        (-[WebResourceHandleSynchronousDelegate handle:didReceiveResponse:])
        (-[WebResourceHandleSynchronousDelegate handle:didReceiveData:])
        * Misc.subproj/WebFoundation.h:
        * Misc.subproj/WebFoundationLogging.h:
        * Misc.subproj/WebFoundationLogging.m:
        * Misc.subproj/WebNSStringExtras.m:
        (-[NSString _web_isCaseInsensitiveEqualToString:]
        * ProtocolHandlers.subproj/WebAboutProtocolHandler.h:
        * ProtocolHandlers.subproj/WebAboutProtocolHandler.m:
        (-[WebAboutProtocolHandler beginLoad])
        (-[WebAboutProtocolHandler responseClass])
        (-[WebAboutProtocolHandler responseMetadataAvailable])
        (-[WebAboutProtocolHandler setResponseMetadata:])
        * ProtocolHandlers.subproj/WebCFNetworkHTTPProtocolHandler.m:
        (-[WebCFNetworkHTTPProtocolHandler addAuthenticationHeaders:andCall:])
        (-[WebCFNetworkHTTPProtocolHandler continueAfterBytesAvailable])
        (-[WebCFNetworkHTTPProtocolHandler handleReadStreamEvent:event:])
        (-[WebCFNetworkHTTPProtocolHandler performHTTPHeaderRead:andCall:])
        * ProtocolHandlers.subproj/WebFileProtocolHandler.h:
        * ProtocolHandlers.subproj/WebFileProtocolHandler.m:
        (-[WebFileProtocolHandler initWithResourceLoad:])
        (-[WebFileProtocolHandler dealloc])
        (-[WebFileProtocolHandler didLoadData:])
        (-[WebFileProtocolHandler beginLoad])
        (-[WebFileProtocolHandler endLoad])
        (-[WebFileProtocolHandler responseClass])
        (-[WebFileProtocolHandler responseMetadataAvailable])
        (-[WebFileProtocolHandler setResponseMetadata:])
        * ProtocolHandlers.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler responseClass])
        (-[WebHTTPProtocolHandler responseMetadataAvailable])
        (-[WebHTTPProtocolHandler setResponseMetadata:])
        (-[WebHTTPProtocolHandler shouldCacheResponse:])
        (-[WebHTTPProtocolHandler URL])
        (-[WebHTTPProtocolHandler retryWithRedirectedURLAndResultCode:])
        * ProtocolHandlers.subproj/WebSimpleHTTPProtocolHandler.m:
        (-[WebSimpleHTTPProtocolHandler createHTTPRequest])
        (-[WebSimpleHTTPProtocolHandler _examineHeaders])
        * WebFoundation.exp
        * WebFoundation.pbproj/project.pbxproj

WebKit:

	Many changes to coincide with API work in WebFoundation. Most of the modifications
	here have to do with changes for the new callback scheme.

        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader handleDidFinishLoading:])
        (-[WebIconLoader handle:willSendRequest:]): New method. A no-op here.
        (-[WebIconLoader handle:didReceiveResponse:]): Ditto.
        * Plugins.subproj/WebBaseNetscapePluginView.m:
        (-[WebBaseNetscapePluginView stop]): Fix for Deployment build breakage.
        * Plugins.subproj/WebPluginStream.h: Add response ivar.
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream startLoad]): Tweak method name for new API.
        (-[WebNetscapePluginStream receivedData:withHandle:]):
        (-[WebNetscapePluginStream handle:willSendRequest:]): New method. Replaces old redirect callback.
        (-[WebNetscapePluginStream handle:didReceiveResponse:]): New method. Set the response ivar.
        * WebCoreSupport.subproj/WebSubresourceClient.h: Add response ivar.
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient dealloc]): Release response ivar.
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:]): Set the request user agent here.
        (-[WebSubresourceClient handle:willSendRequest:]): New method. Handle like a redirect.
        (-[WebSubresourceClient handle:didReceiveResponse:]): New method. Set the response ivar.
        (-[WebSubresourceClient handle:didReceiveData:]): Tweaks for new WebFoundation API and method names.
        (-[WebSubresourceClient handleDidFinishLoading:]): Ditto.
        (-[WebSubresourceClient handle:didFailLoadingWithError:]): Ditto.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _receivedError:forResourceHandle:partialProgress:fromDataSource:]): Ditto.
        * WebView.subproj/WebDataSourcePrivate.h: Add _setRequest method.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading]): Call didStartLoadingWithURL with request URL instead of handle URL.
        (-[WebDataSource _setRequest:]): Add implementation.
        * WebView.subproj/WebLoadProgress.m:
        (-[WebLoadProgress initWithResourceHandle:]): Tweaks for new WebFoundation API and method names.
        * WebView.subproj/WebMainResourceClient.h: Add response ivar.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient initWithDataSource:]): Set user agent on request here.
        (-[WebMainResourceClient dealloc]): Release response ivar.
        (-[WebMainResourceClient didCancelWithHandle:]): Tweaks for new WebFoundation API and method names.
        (-[WebMainResourceClient handleDidFinishLoading:]): Tweaks for new WebFoundation API and method names.
        (-[WebMainResourceClient handle:willSendRequest:]): New method. Handle like a redirect.
        (-[WebMainResourceClient handle:didReceiveResponse:]): New method. Set the response ivar.
        (-[WebMainResourceClient handle:didReceiveData:]): Tweaks for new WebFoundation API and method names.
        (-[WebMainResourceClient handle:didFailLoadingWithError:]): Ditto.

WebBrowser:

	Updated a couple methods to reflect changes in WebFoundation API names.

        * BrowserWebController.m:
        (-[BrowserWebController receivedProgress:forResourceHandle:fromDataSource:complete:]): Call for the URL on the handles response
	instead of the URL of the handle itself.
        (-[BrowserWebController receivedError:forResourceHandle:partialProgress:fromDataSource:]): Ditto.
        * DownloadMonitor.m:
        (-[DownloadMonitor receivedError:forResourceHandle:partialProgress:fromDataSource:]): Request accessor for handle
	is now private; reflect that in method name (i.e. add an underscore).


git-svn-id: svn://svn.chromium.org/blink/trunk@2213 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-10-01 14:38:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b2ea033e42c58277eb1334e0a16879c606c2dc11');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jr01l5ceyivd7x', 2, e'	A ton o\' plugin view clean-up and arch changes. Turned WebPluginView into WebBaseNetscapePluginView. New classes WebNetscapePluginEmbeddedView and WebNetscapePluginDocumentView are subclasses of WebBaseNetscapePluginView. WebNetscapePluginDocumentView handles non-HTML plug-in content and WebNetscapePluginEmbeddedView is the WebHTMLView subview.

	Found that we leak the world on complex pages with plug-ins such as macromedia.com and marvel.com when closing the window. Still need to figure this out.

        * Plugins.subproj/WebBaseNetscapePluginView.h: Added.
        * Plugins.subproj/WebBaseNetscapePluginView.m: Added.
        (+[WebBaseNetscapePluginView getCarbonEvent:]):
        (-[WebBaseNetscapePluginView getCarbonEvent:]):
        (-[WebBaseNetscapePluginView modifiersForEvent:]):
        (-[WebBaseNetscapePluginView getCarbonEvent:withEvent:]):
        (-[WebBaseNetscapePluginView keyMessageForEvent:]):
        (-[WebBaseNetscapePluginView sendEvent:]):
        (-[WebBaseNetscapePluginView sendActivateEvent:]):
        (-[WebBaseNetscapePluginView sendUpdateEvent]):
        (-[WebBaseNetscapePluginView acceptsFirstResponder]):
        (-[WebBaseNetscapePluginView becomeFirstResponder]):
        (-[WebBaseNetscapePluginView resignFirstResponder]):
        (-[WebBaseNetscapePluginView mouseDown:]):
        (-[WebBaseNetscapePluginView mouseUp:]):
        (-[WebBaseNetscapePluginView mouseEntered:]):
        (-[WebBaseNetscapePluginView mouseExited:]):
        (-[WebBaseNetscapePluginView keyUp:]):
        (-[WebBaseNetscapePluginView keyDown:]):
        (-[WebBaseNetscapePluginView isInResponderChain]):
        (-[WebBaseNetscapePluginView performKeyEquivalent:]):
        (-[WebBaseNetscapePluginView menuForEvent:]):
        (-[WebBaseNetscapePluginView setUpWindowAndPort]):
        (-[WebBaseNetscapePluginView setWindow]):
        (-[WebBaseNetscapePluginView removeTrackingRect]):
        (-[WebBaseNetscapePluginView resetTrackingRect]):
        (-[WebBaseNetscapePluginView start]):
        (-[WebBaseNetscapePluginView stop]):
        (-[WebBaseNetscapePluginView dataSource]):
        (-[WebBaseNetscapePluginView webFrame]):
        (-[WebBaseNetscapePluginView controller]):
        (-[WebBaseNetscapePluginView plugin]):
        (-[WebBaseNetscapePluginView setMIMEType:]):
        (-[WebBaseNetscapePluginView setBaseURL:]):
        (-[WebBaseNetscapePluginView setArguments:]):
        (-[WebBaseNetscapePluginView setMode:]):
        (-[WebBaseNetscapePluginView initWithFrame:]):
        (-[WebBaseNetscapePluginView dealloc]):
        (-[WebBaseNetscapePluginView drawRect:]):
        (-[WebBaseNetscapePluginView isFlipped]):
        (-[WebBaseNetscapePluginView viewWillMoveToWindow:]):
        (-[WebBaseNetscapePluginView viewDidMoveToWindow]):
        (-[WebBaseNetscapePluginView viewHasMoved:]):
        (-[WebBaseNetscapePluginView windowWillClose:]):
        (-[WebBaseNetscapePluginView windowBecameKey:]):
        (-[WebBaseNetscapePluginView windowResignedKey:]):
        (-[WebBaseNetscapePluginView defaultsHaveChanged:]):
        (-[WebBaseNetscapePluginView frameStateChanged:]):
        (-[WebBaseNetscapePluginView pluginInstance]):
        (-[WebBaseNetscapePluginView pluginURLFromCString:]):
        (-[WebBaseNetscapePluginView loadRequest:inTarget:withNotifyData:]):
        (-[WebBaseNetscapePluginView getURLNotify:target:notifyData:]):
        (-[WebBaseNetscapePluginView getURL:target:]):
        (-[WebBaseNetscapePluginView postURLNotify:target:len:buf:file:notifyData:]):
        (-[WebBaseNetscapePluginView postURL:target:len:buf:file:]):
        (-[WebBaseNetscapePluginView newStream:target:stream:]):
        (-[WebBaseNetscapePluginView write:len:buffer:]):
        (-[WebBaseNetscapePluginView destroyStream:reason:]):
        (-[WebBaseNetscapePluginView status:]):
        (-[WebBaseNetscapePluginView invalidateRect:]):
        (-[WebBaseNetscapePluginView invalidateRegion:]):
        (-[WebBaseNetscapePluginView forceRedraw]):
        * Plugins.subproj/WebBaseNetscapePluginViewPrivate.h: Added.
        * Plugins.subproj/WebNetscapePluginDocumentView.h: Added.
        * Plugins.subproj/WebNetscapePluginDocumentView.m: Added.
        (-[WebNetscapePluginDocumentView initWithFrame:]):
        (-[WebNetscapePluginDocumentView dealloc]):
        (-[WebNetscapePluginDocumentView drawRect:]):
        (-[WebNetscapePluginDocumentView dataSource]):
        (-[WebNetscapePluginDocumentView setDataSource:]):
        (-[WebNetscapePluginDocumentView dataSourceUpdated:]):
        (-[WebNetscapePluginDocumentView setNeedsLayout:]):
        (-[WebNetscapePluginDocumentView layout]):
        * Plugins.subproj/WebNetscapePluginEmbeddedView.h: Added.
        * Plugins.subproj/WebNetscapePluginEmbeddedView.m: Added.
        (-[WebNetscapePluginEmbeddedView initWithFrame:plugin:URL:baseURL:mime:arguments:]):
        (-[WebNetscapePluginEmbeddedView dealloc]):
        (-[WebNetscapePluginEmbeddedView viewDidMoveToWindow]):
        (-[WebNetscapePluginEmbeddedView start]):
        (-[WebNetscapePluginEmbeddedView dataSource]):
        * Plugins.subproj/WebNetscapePluginViewPrivate.h: Removed.
        * Plugins.subproj/WebPluginDatabase.m:
        (-[WebNetscapePluginDatabase init]):
        * Plugins.subproj/WebPluginNullEventSender.h:
        * Plugins.subproj/WebPluginNullEventSender.m:
        (-[WebNetscapePluginNullEventSender initWithPluginView:]):
        (-[WebNetscapePluginNullEventSender sendNullEvents]):
        * Plugins.subproj/WebPluginStream.h:
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream getFunctionPointersFromPluginView:]):
        (-[WebNetscapePluginStream initWithURL:pluginPointer:notifyData:]):
        (-[WebNetscapePluginStream dealloc]):
        (-[WebNetscapePluginStream startLoad]):
        (-[WebNetscapePluginStream receivedData:withDataSource:]):
        (-[WebNetscapePluginStream handleWillUseUserAgent:forURL:]):
        (-[WebNetscapePluginStream handle:didReceiveData:]):
        (-[WebNetscapePluginStream handleDidFinishLoading:]):
        (-[WebNetscapePluginStream cancel]):
        (-[WebNetscapePluginStream handle:didFailLoadingWithError:]):
        (-[WebNetscapePluginStream handleDidRedirect:toURL:]):
        * Plugins.subproj/WebPluginView.h: Removed.
        * Plugins.subproj/WebPluginView.m: Removed.
        * Plugins.subproj/npapi.m:
        (NPN_GetURLNotify):
        (NPN_GetURL):
        (NPN_PostURLNotify):
        (NPN_PostURL):
        (NPN_NewStream):
        (NPN_Write):
        (NPN_DestroyStream):
        (NPN_Status):
        (NPN_InvalidateRect):
        (NPN_InvalidateRegion):
        (NPN_ForceRedraw):
        * WebCoreSupport.subproj/WebViewFactory.m:
        (-[WebViewFactory viewForPluginWithURL:serviceType:arguments:baseURL:]):
        (-[WebViewFactory viewForJavaAppletWithFrame:baseURL:parameters:]):
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[NSView _web_stopIfPluginView]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2212 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-10-01 05:30:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7a5bfc53699995e122ce74e9482eb33ef5b4844f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01js01l54oalwjws', 2, e'	Fix the case sensitivity problem with attribute names
	in HTML.  They are now lower-cased when being queried
	from the DOM. Bug 3058145.

        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::attrName):


git-svn-id: svn://svn.chromium.org/blink/trunk@2211 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-30 21:39:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1d16c81feaaa9cf8ee555271d2b25a466b9f0e02');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jt01l5qcqhs7bb', 2, e'	Make sure to keep the fix checked in for 1.18.  That fix is
	good.

        * khtml/rendering/render_table.cpp:
        (RenderTable::addColInfo):


git-svn-id: svn://svn.chromium.org/blink/trunk@2210 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-30 20:25:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/60cd852616862e084ab031732376413b8dc7b4de');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01ju01l5lm7703g1', 2, e'	Backing out change to render_table.cpp.  The original logic
	(in version 1.16) is correct.

        * khtml/rendering/render_table.cpp:
        (RenderTable::addColInfo):


git-svn-id: svn://svn.chromium.org/blink/trunk@2209 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-30 20:03:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d7c83a38a8475160fbc797f52f2eeb26ed909b1a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jv01l5k5hogcpt', 2, e'        * WebView.subproj/WebDataSource.m: (-[WebDataSource initWithRequest:]):
	Remove the ill-advised "don\'t even create a WebDataSource if WebResourceHandle
	can\'t handle this request" code.

        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _startLoading]):
	Rearrange checks so we won\'t get confused if we can\'t create a handle.


git-svn-id: svn://svn.chromium.org/blink/trunk@2208 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-30 18:09:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5e1bcb30c389064b148df4b270de085b00c710f8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno4py01jw01l5lag6h5nm', 2, e'        * kwq/qt/qobject.h: Add the destroyed signal.
        * kwq/KWQObject.mm:
        (QObject::connect): Remove names of parentDestroyed and slotWidgetDestructed
	from the list of "slots OK to fail to connect without complaining".
        (QObject::QObject): Initialize the destroyed signal.

        * kwq/qt/qguardedptr.h:
        * kwq/KWQGuardedPtr.mm:
        * kwq/KWQSignal.h:
        * kwq/KWQSlot.h:
	Rearrange includes so qobject.h can include KWQSignal.h.

        * kwq/KWQSignal.mm: Tweak.

        * kwq/KWQSlot.mm: Added support for the parentDestroyed slot in KJS::WindowQObject
	and the slotWidgetDestructed slot in khtml::RenderWidget.


git-svn-id: svn://svn.chromium.org/blink/trunk@2207 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-30 17:52:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ad47bd21a3bf820ca1763fa681ccd6714a313646');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201i901l5yzeja4n2', 2, e'Tools:

        * Scripts/extract-localizable-strings: Added.

WebFoundation:

        * English.lproj/StringsNotToBeLocalized.txt: Added.

WebKit:

        * English.lproj/StringsNotToBeLocalized.txt: Added.

WebBrowser:

        * English.lproj/StringsNotToBeLocalized.txt: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2206 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-30 17:08:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/22d7cdf951acbdf71d496b5a9512314ad8a67190');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201ia01l58t3kpgvd', 2, e'	- fixed crashing part of 3063517 -- crash loading .png in separate window

        * Plugins.subproj/WebPluginView.m:
        (-[WebNetscapePluginView start]): Don\'t try to start if the NPP_New is 0.
	This indicates the the plugin hasn\'t been loaded.


git-svn-id: svn://svn.chromium.org/blink/trunk@2205 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-30 16:26:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4de328bbd2082a710b320f8cbde06788764932b1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201ib01l5ghmp4v69', 2, e'        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _setLoading:]):
	Remove extra quotes in use of ASSERT_ARG.


git-svn-id: svn://svn.chromium.org/blink/trunk@2204 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-30 15:49:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5a8af336517442c1a9ded28c1b78ab355f68531c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201ic01l59j6d6ft6', 2, e'WebKit:

        * Misc.subproj/WebIconDatabase.m: (-[WebIconDatabase _iconForFileURL:withSize:]):
	Don\'t be case sensitive about filename extensions.

        * Misc.subproj/WebDownloadHandler.m:
        * Misc.subproj/WebIconLoader.m:
        * Plugins.subproj/WebPluginStream.m:
        * WebView.subproj/WebDataSource.m:
        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        * WebView.subproj/WebFrame.m:
        * WebView.subproj/WebFramePrivate.m:
        * WebView.subproj/WebView.m:
	Don\'t use WebFoundation.h -- faster building to just import what we really use.

WebBrowser:

        * ContextMenuHandler.m: (-[ContextMenuHandler contextMenuItemsForElement:defaultMenuItems:]):
	Don\'t be case sensitive about filename extensions.

        * Preferences.subproj/SecurityPreferences.m:
	Don\'t use WebFoundation.h -- faster building to just import what we really use.


git-svn-id: svn://svn.chromium.org/blink/trunk@2203 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-30 05:03:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d820cc46df129d5b2179ffb0e2a76059ca9442d8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201id01l5iw48tjku', 2, e'WebKit:

	Fixed: 2978258 - quake3arena.com sends me to the flash=false site
	The page has a flash plugin that once loaded, requests the flash=true page. If the plugin doesn\'t load, the meta refresh tag to the flash=false page fires after 3 seconds. This is how this site\'s flash detection works.

	The reason this doesn\'t work for us is because the flash movie is at the bottom of the page. Plugins don\'t start until the initial drawRect. Since the movie is at the bottom of the page and out of site, the plugin never gets the drawRect and thus, never starts. We now start plug-ins when they are added to the window.

	Fixed: 3062224 - context menu includes "Download Item to Disk" for mailto links

	- Fixed click then click and drag causes crash.

        * Plugins.subproj/WebPluginView.m:
        (-[WebNetscapePluginView drawRect:]): don\'t start plug-in here
        (-[WebNetscapePluginView viewDidMoveToWindow]): start it here
        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        (-[WebDefaultContextMenuDelegate contextMenuItemsForElement:defaultMenuItems:]): don\'t provide "Download Link To Disk" and "Open Link In New Window" items for URLs we cant handle.
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView dragImage:at:offset:event:pasteboard:source:slideBack:]): clean-up
        (-[WebHTMLView mouseDragged:]): Don\'t allow drag if the frame has a provisional data source because this view may be released and the drag callbacks might reference this released view.

WebBrowser:

	Fixed: 3062224 - context menu includes "Download Item to Disk" for mailto links
	- Added "Open With QuickTime Player" context menu for URLs ending with .mov.
	- Only show "Open With*" items for http URLs.

        * ContextMenuHandler.m:
        (-[ContextMenuHandler contextMenuItemsForElement:defaultMenuItems:]):
        (-[ContextMenuHandler openWithiTunes:]):
        (-[ContextMenuHandler openWithQuickTime:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2202 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-29 17:04:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4abb40102f3a8de06921b49d4a89b40d9d9c1c0f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201ie01l5yd6csa7w', 2, e'	Turn -Werror back on. There must have been some miscommunication
	about the fat build; this was supposed to have been on.

        * WebCore.pbproj/project.pbxproj: Add -Werror back.

        * kwq/WebCoreHistory.h: Add missing method to fix warning.
        * kwq/KWQKHistoryProvider.mm: Tweak.


git-svn-id: svn://svn.chromium.org/blink/trunk@2201 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-28 23:57:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a34f9d58d0e71b0ed200d36eb45c3d49bfba9422');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201if01l51s6syi67', 2, e'	Give the next fat build a better chance of working with the
	new gcc without turning warnings off.

        * khtml/css/cssparser.cpp: Use a macro to disable inlining.
        * khtml/html/htmltokenizer.cpp: Ditto.
        * khtml/misc/htmlhashes.cpp: Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2200 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-28 20:38:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/93ea6d0f28e34123ad0ff2a3bb5a30c4892edf17');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201ig01l5grcae01d', 2, e'        * WebView.subproj/WebDataSource.m: (-[WebDataSource initWithRequest:]):
	Catch a request that we can\'t use here instead of failing later.

        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _startLoading]):
	Added an assert so the failure was less confusing; good idea to leave it in.


git-svn-id: svn://svn.chromium.org/blink/trunk@2199 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-28 19:49:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cd1afdd03393b61fd6e629525424ba93e70113bf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201ih01l56tb6vgv0', 2, e'	Support for latest Flash plug-in. It requests a javascript URL for every plug-in instance. Until javascript URLs work, we return an error to the plug-in.

	Fixed: 3035582 - flash animations don\'t work after upgrading flash
	Fixed: 3021936 - links in flash at foggypetronasracing.com doesn\'t work

        * Plugins.subproj/WebPluginStream.h:
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream initWithURL:pluginPointer:notifyData:]): Make the request here and return nil if we can\'t create a handle with it.
        (-[WebNetscapePluginStream dealloc]): release the request
        (-[WebNetscapePluginStream startLoad]): use the request when creating the handle


git-svn-id: svn://svn.chromium.org/blink/trunk@2198 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-28 19:35:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/808951c39ab5a61fc769b4f5a05a79a7924032f8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201ii01l5zp1ebmhe', 2, e'	- fixed 3022441 -- scroll bar is missing in window created with window.open

        * khtml/ecma/kjs_window.cpp: (WindowFunc::tryCall): The checks for extra
	parameters to window.open were using isNull, which checks for a null ValueImp
	pointer, not an "Undefined".


git-svn-id: svn://svn.chromium.org/blink/trunk@2197 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-28 08:06:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9284bcfc3d8a08998a0b6a78d86c2882776e76c0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201ij01l5b6dt3cr1', 2, e'WebCore:

	- fixed 2886111 -- changing font or size preference causes open
	windows to redraw incorrectly

        * khtml/rendering/render_table.cpp: (RenderTable::addColInfo):
	Fix logic about when a recalc of the minWidth and maxWidth is needed.

	Fixed bug where changing the text size multiplier would cause the
	window to redraw twice -- once with the text size changed, and then
	later with the layout changed.

        * khtml/khtmlview.h: Added unscheduleRelayout.
        * khtml/khtmlview.cpp: (KHTMLView::unscheduleRelayout): Added.

        * kwq/KWQKHTMLPartImpl.h: Added forceLayout.
        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::forceLayout): Call
	both layout and unscheduleRelayout.

        * kwq/WebCoreBridge.h: Add setNeedsLayout.
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge forceLayout]): Call KWQKHTMLPartImpl::forceLayout.
        (-[WebCoreBridge setTextSizeMultiplier:]): Call forceLayout.

WebKit:

        * WebCoreSupport.subproj/WebBridge.m: (-[WebBridge setNeedsLayout]): Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2196 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-28 07:39:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aa1d65f242ecc87a635201d45009816a62701b13');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201ik01l54zbuzxh1', 2, e'	Fixed KJS crasher caused by nil plug-in returned from WebPlugin.
	Got the RealPlayer plug-in loaded, nothing playing yet.

        * Plugins.subproj/WebPlugin.m:
        (-[WebNetscapePlugin getPluginInfo]): check for nil plug-in names/descriptions
        (-[WebNetscapePlugin stringByResolvingSymlinksAndAliasesInPath:]): new, resolves old-style aliases
        (-[WebNetscapePlugin initWithPath:]): call stringByResolvingSymlinksAndAliasesInPath


git-svn-id: svn://svn.chromium.org/blink/trunk@2195 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-28 04:22:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f1b64a75b12cc3da4d3e22b258d6fc9d42f86cf2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201il01l5rnqc0enq', 2, e'        * khtml/rendering/render_table.cpp: (RenderTable::addColInfo):
	Fixed a > that should have been a < that prevented tables from
	changing sizes when table minimum widths changed.


git-svn-id: svn://svn.chromium.org/blink/trunk@2194 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-28 00:45:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/315a8899df1ebdf4b0c49a1d57a68ae92be9aac4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201im01l5w52u1uzf', 2, e'        * LocationChangeError.m:
        (-[LocationChangeHandler displayLocationChangeError:]): Add back the
	WebErrorCodeCancelled case.


git-svn-id: svn://svn.chromium.org/blink/trunk@2193 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-28 00:16:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6cac1191662df2267d68a4fba7daa6929e481af6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201in01l5ggf20o36', 2, e'i        Fix 3058315:  crash in WebHTMLRepresentation receivedData:withDataSource
        http://www.u2.com/lite/ does some whacky things with its framset\'s onLoad
        handler.  The fix ensures that data isn\'t sent to the bridge once
        the bridge has been dealloced.

        * WebKit.pbproj/project.pbxproj: Nothing changed.  PB dorkiness.
        * WebView.subproj/WebHTMLRepresentation.m:
        (-[WebHTMLRepresentation receivedData:withDataSource:]):

        Fix related to 3058315.

        * LoadProgressMonitor.m:
        (-[LoadProgressMonitor receivedUpdateForKey:URLString:bytesLoaded:bytesExpected:error:dataSource:isComplete:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2192 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-27 23:44:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e28dffca15c53576f5066683834a2dd0003d994f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201io01l5htv2v6z0', 2, e'	- fixed 2937198 -- Checkboxes and radiobuttons don\'t align with title control in forms

        * kwq/qt/qcheckbox.h: Add baselinePosition override.
        * kwq/KWQCheckBox.mm: Tweak the size constants.
        (QCheckBox::baselinePosition): Implement this. Line up baseline two pixels
	above the bottom, not at the bottom.

        * kwq/qt/qradiobutton.h: Add baselinePosition override.
        * kwq/KWQRadioButton.mm: Tweak the size constants.
        (QRadioButton::baselinePosition): Implement this. Line up baseline two pixels
	above the bottom, not at the bottom.


git-svn-id: svn://svn.chromium.org/blink/trunk@2191 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-27 21:34:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ea0f3076357c3a5fd0af276822ea406e1ce5623b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201ip01l5zpaaivy5', 2, e'WebCore:

	WebPlugin clean up.

        * kwq/KWQKConfigBase.mm:
        (KConfig::readEntry):
        * kwq/WebCoreViewFactory.h:

WebKit:

	Fixed: 3056559 - QT plugin doesn\'t load (claudius)
	Fixed: 3042850 - Enable Java by default

	Cleaned up WebPlugin and WebPluginDatabase.

        * Plugins.subproj/WebPlugin.h:
        * Plugins.subproj/WebPlugin.m:
        (-[WebNetscapePlugin openResourceFile]):
        (-[WebNetscapePlugin closeResourceFile:]):
        (-[WebNetscapePlugin stringForStringListID:andIndex:]):
        (-[WebNetscapePlugin getPluginInfo]):
        (-[WebNetscapePlugin initWithPath:]):
        (-[WebNetscapePlugin load]):
        (-[WebNetscapePlugin unload]):
        (-[WebNetscapePlugin MIMEToExtensionsDictionary]):
        (-[WebNetscapePlugin extensionToMIMEDictionary]):
        (-[WebNetscapePlugin MIMEToDescriptionDictionary]):
        (-[WebNetscapePlugin description]):
        * Plugins.subproj/WebPluginDatabase.h:
        * Plugins.subproj/WebPluginDatabase.m:
        (-[WebNetscapePluginDatabase pluginForMIMEType:]):
        (-[WebNetscapePluginDatabase pluginForExtension:]):
        (-[WebNetscapePluginDatabase pluginForFilename:]):
        (-[WebNetscapePluginDatabase MIMETypes]):
        (-[WebNetscapePluginDatabase init]):
        * Plugins.subproj/WebPluginView.m:
        (-[WebNetscapePluginView setDataSource:]):
        * WebCoreSupport.subproj/WebViewFactory.m:
        (-[WebViewFactory viewForPluginWithURL:serviceType:arguments:baseURL:]):
        (-[WebViewFactory viewForJavaAppletWithFrame:baseURL:parameters:]):
        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]): Enable Java by default


git-svn-id: svn://svn.chromium.org/blink/trunk@2190 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-27 21:31:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15b19c75f283c210ecebb8a3d1efff03d80a9e67');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201iq01l564gva5fc', 2, e'        WebBrowser no longer responsible for setting page title in history.

        * LocationChangeHandler.m:
        (-[LocationChangeHandler receivedPageTitle:forDataSource:]):

        Fixed 3060158:  REGRESSION: iframes added to session history
        Also moved setting title in history to WebKit.

        * History.subproj/WebHistory.h:
        * History.subproj/WebHistory.m:
        (+[WebHistory sharedHistory]):
        (+[WebHistory webHistoryWithFile:]):
        (-[WebHistory addEntryForURL:]):
        (-[WebHistory addEntries:]):
        * History.subproj/WebHistoryPrivate.h:
        * History.subproj/WebHistoryPrivate.m:
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge requestedURL]):
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setTitle:]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):

        Fixed 3059237:  Visited links do not appear in a different color on yahoo.com
        Fixed 3051288:  visited links are not colored in local files
        Fixed 3060158:  REGRESSION: iframes added to session history
        Always use the canonical originally requested URL as the URL entered in history.

        * khtml/khtml_part.cpp:
        (KHTMLPart::begin):
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::requestedURLString):
        * kwq/KWQKHistoryProvider.mm:
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreHistory.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2189 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-27 20:50:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6c842c2561d534f4577b611bcf7a0c0f35f525ab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201ir01l5o56zmb8g', 2, e'	Fix for 3058119, doctype of HTML docs should be null.

        * khtml/dom/dom_doc.cpp:


git-svn-id: svn://svn.chromium.org/blink/trunk@2188 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-27 19:40:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fc946c110ae9c178eba29f9c31a5e625658e252d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201is01l5rev9k2lf', 2, e'	DOM compliance. Fix for 3058100, hasFeature of HTML returns
	false. Oops.

        * khtml/xml/dom_docimpl.cpp:
        (DOMImplementationImpl::hasFeature):


git-svn-id: svn://svn.chromium.org/blink/trunk@2187 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-27 19:27:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fa72254fdd4e05ef92b5a5ef84f80cdb4428b61b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201it01l5qs00ayst', 2, e'	- fixed 3060487 -- error connecting member slot to signal (KWQObject)

        * kwq/KWQObject.mm: (QObject::connect): Add slotShowDocument to the list of slots that
	we don\'t care about hooking up.


git-svn-id: svn://svn.chromium.org/blink/trunk@2186 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-27 18:35:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e2c25347434cf2b59c443c4fe28c6ed5e06da928');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201iu01l50awelg1o', 2, e'WebKit:

	Added support for dragging links the the dock.
	Created new pasteboard types WebURLPboardType WebURLNamePboardType that the dock requires.

        * Misc.subproj/WebNSPasteboardExtras.h:
        * Misc.subproj/WebNSPasteboardExtras.m:
        (+[NSPasteboard initialize]): set WebURLPboardType and WebURLNamePboardType
        (-[NSPasteboard _web_writeURL:andTitle:withOwner:]): use WebURLPboardType and WebURLNamePboardType
        * WebKit.exp: export WebURLPboardType and WebURLNamePboardType

WebBrowser:

	Added support for dragging links the the dock.
	Created new pasteboard types WebURLPboardType WebURLNamePboardType that the dock requires.

        * BrowserWebBookmarkExtras.m:
        (+[WebBookmark writeBookmarks:toPasteboard:withOwner:]): use WebURLPboardType and WebURLNamePboardType


git-svn-id: svn://svn.chromium.org/blink/trunk@2185 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-27 17:32:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1622da7f9b49ebfcf85f757b3b61db77a74e3b26');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201iv01l5eguwdpp0', 2, e'	- fixed 3033969 -- repro crash (infinite recursion in JavaScript)
	clicking on "screens" option at fsv.sf.net

        * kjs/object.h: Change recursion limit to 100 levels rather than 1000.


git-svn-id: svn://svn.chromium.org/blink/trunk@2184 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-27 17:27:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0176db6b6baec5e96273bd528c82b3c3c531f9fe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201iw01l58om45qbp', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@2183 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-27 15:25:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/904de2a33f2e24c51fbe75386aaaffa230dec9c4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201ix01l50tl9t0wh', 2, e'WebFoundation:

	Put in place all the API changes needed for the "remember
	password" feature and examining stored passwords. The actual
	storing of passwords in Keychain is not implemented yet - that\'s
	the next step.

        * AuthenticationManager.subproj/WebAuthenticatingResource.h: Added.
        * AuthenticationManager.subproj/WebAuthenticatingResource.m: Added. New class that\'s
	the data holder part of WebAuthenticationRequest, the part that describes the resource
	needing authentication.
        (-[WebAuthenticatingResourcePrivate dealloc]):
        (-[WebAuthenticatingResource initWithURL:realm:username:receivesCredentialSecurely:proxyHost:proxyType:]):
        (+[WebAuthenticatingResource resourceWithURL:realm:username:receivesCredentialSecurely:proxyHost:proxyType:]):
        (-[WebAuthenticatingResource init]):
        (-[WebAuthenticatingResource dealloc]):
        (-[WebAuthenticatingResource URL]):
        (-[WebAuthenticatingResource realm]):
        (-[WebAuthenticatingResource username]):
        (-[WebAuthenticatingResource receivesCredentialSecurely]):
        (-[WebAuthenticatingResource isProxy]):
        (-[WebAuthenticatingResource proxyHost]):
        (-[WebAuthenticatingResource proxyType]):
        (-[WebAuthenticatingResource copyWithZone:]):
        * AuthenticationManager.subproj/WebAuthenticationHandler.h:
        * AuthenticationManager.subproj/WebAuthenticationHandlerDispatcher.m:
        (-[WebAuthenticationDispatchState dealloc]):
        (-[WebAuthenticationHandlerDispatcher _dispatchStartAuthentication:]):
        (-[WebAuthenticationHandlerDispatcher WebAuthenticationRequest:useCredential:]):
        (-[WebAuthenticationHandlerDispatcher _dispatchAuthenticationDone:]):
        (-[WebAuthenticationHandlerDispatcher startAuthentication:]):
        * AuthenticationManager.subproj/WebAuthenticationManager.h:
        * AuthenticationManager.subproj/WebAuthenticationManager.m:
        (-[WebAuthenticationManager removeCredentialForResource:]):
        (-[WebAuthenticationManager resourceCredentials]):
        (-[WebAuthenticationManager _invokeHandlersWithURL:realm:forRequest:withCallback:context:]):
        (-[WebAuthenticationManager _invokeHandlersWithURL:proxy:forRequest:withCallback:context:]):
        (-[WebAuthenticationManager _tryRequest:]):
        (-[WebAuthenticationManager WebAuthenticationRequest:useCredential:]):
        * AuthenticationManager.subproj/WebAuthenticationRequest.h:
        * AuthenticationManager.subproj/WebAuthenticationRequest.m:
        (-[WebAuthenticationRequestPrivate initWithResource:previousFailureCount:delegate:]):
        (-[WebAuthenticationRequestPrivate dealloc]):
        (-[WebAuthenticationRequest
	_initWithResource:previousFailureCount:delegate:]): Change to init
	with a WebAuthenticatingResource rather than passing all the data.
        (-[WebAuthenticationRequest _authenticationHandlerBusy]):
        (-[WebAuthenticationRequest resource]): New method
        (-[WebAuthenticationRequest previousFailureCount]): Renamed from previousFailures
        (-[WebAuthenticationRequest useCredential:]): Renamed from authenticationDone:
        (-[WebAuthenticationRequest cancel]): Removed to fix in-band signalling
        * AuthenticationManager.subproj/WebAuthenticationRequestPrivate.h:
        * AuthenticationManager.subproj/WebAuthenticationResult.m: Removed.
        * AuthenticationManager.subproj/WebCredential.h: Added.
        * AuthenticationManager.subproj/WebCredential.m: Added. Renamed from
	WebAuthenticationResult.
        (-[WebCredentialPrivate dealloc]):
        (-[WebCredential initWithUsername:password:remembered:]): Add remembered: parameter
        (+[WebCredential credentialWithUsername:password:remembered:]): Likewise
        (-[WebCredential dealloc]):
        (-[WebCredential username]):
        (-[WebCredential password]):
        (-[WebCredential remembered]): New method
        (-[WebCredential copyWithZone:]):
        * Misc.subproj/WebFoundation.h:
        * WebFoundation.exp: Fix exports.
        * WebFoundation.pbproj/project.pbxproj: Add new files, remove removed ones.

	Mechanical fixes to get C glue to compile:

        * AuthenticationManager.subproj/IFAuthenticationHandlerC.m:
        (-[IFCallBackAuthenticationHandler isReadyToStartAuthentication:]):
        * AuthenticationManager.subproj/IFAuthenticationRequestC.m:
        (IFAuthenticationRequestCopyURL):
        (IFAuthenticationRequestCopyRealm):
        (IFAuthenticationRequestCopyUsername):
        (IFAuthenticationRequestWillPasswordBeSentInClear):
        (IFAuthenticationRequestGetPreviousFailures):
        (IFAuthenticationRequestIsForProxy):
        (IFAuthenticationRequestCopyProxyHost):
        (IFAuthenticationRequestCopyProxyType):
        (IFAuthenticationRequestDone):
        * AuthenticationManager.subproj/IFAuthenticationResultC.m:
        (IFAuthenticationResultCreate):
        (IFAuthenticationResultCopyUsername):
        (IFAuthenticationResultCopyPassword):

WebKit:

        * Panels.subproj/WebAuthenticationPanel.m:
        (-[WebAuthenticationPanel setUpForRequest:]):
        (-[WebAuthenticationPanel runAsModalDialogWithRequest:]):
        (-[WebAuthenticationPanel sheetDidEnd:returnCode:contextInfo:]):
        * Panels.subproj/WebPanelAuthenticationHandler.h:
        * Panels.subproj/WebPanelAuthenticationHandler.m:
        (-[WebPanelAuthenticationHandler isReadyToStartAuthentication:]):
        (-[WebPanelAuthenticationHandler startAuthentication:]):
        (-[WebPanelAuthenticationHandler _authenticationDoneWithRequest:result:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2182 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-27 11:30:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7cdb411cee4227f9050cb05d3212f2db5c04e6c8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201iy01l5p7qq89l5', 2, e'	- fixed 2953256 -- JavaScript window.moveTo() and window.moveBy() methods do not work

        * kwq/KWQWindowWidget.mm: (KWQWindowWidget::frameGeometry): Fix calculation.
	It was returning the bottom left coordinate instead of the top left.


git-svn-id: svn://svn.chromium.org/blink/trunk@2181 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-27 03:25:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/83981312e350b5a39acaa93f347c3d2d50317879');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201iz01l5nu2pvxa5', 2, e'	- fixed 3060459 -- REGRESSION: crash leaving page that sets cookie in JavaScript
	unload handler

        * khtml/khtml_part.cpp: (KHTMLPart::begin): Call updatePolicyBaseURL to set
	the "policy base URL" on the documents so the cookie can be based on the URL
	of the main document.

        * khtml/dom/html_document.h: Add setPolicyBaseURL.
        * khtml/dom/html_document.cpp: (HTMLDocument::setPolicyBaseURL): Call the impl.

        * khtml/html/html_documentimpl.h: Add policyBaseURL, setPolicyBaseURL.
        * khtml/html/html_documentimpl.cpp: (HTMLDocumentImpl::setCookie): Pass the
	base URL that\'s stored here instead of getting at the part through the view,
	since the view will be 0 during the unload event.

        * kwq/KWQKHTMLPartImpl.h: Add updatePolicyBaseURL and setPolicyBaseURL.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::updatePolicyBaseURL): Set the base URL based on the URL
	if this is the topmost part, based on the parent\'s policy base URL if this
	is not the topmost part.
        (KWQKHTMLPartImpl::setPolicyBaseURL): Change the policy base URL for this
	part and all the subparts.


git-svn-id: svn://svn.chromium.org/blink/trunk@2180 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-27 03:06:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/63e29e57aa1a2de946d7d59a043ec31d96ea4916');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201j001l5r996hkht', 2, e'Tools:

        * HotSpotFinder/HotSpotFinder.pbproj/project.pbxproj:
	File encodings.

WebCore:

        * kwq/WebCoreBridge.h: Use NSString for encoding name, not CFStringEncoding.
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge addData:withOverrideEncoding:]): Ditto.

WebKit:

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge receivedData:withDataSource:]): Use NSString for encoding.
        * WebView.subproj/WebController.h: Update names to use separate boolean
	for user agent and strings for text encodings instead of CFStringEncoding.
        * WebView.subproj/WebController.m:
        (-[WebController setCustomUserAgent:]): Name change.
        (-[WebController resetUserAgent]): Added.
        (-[WebController hasCustomUserAgent]): Added.
        (-[WebController customUserAgent]): Name change.
        (-[WebController setCustomTextEncodingName:]): Take NSString.
        (-[WebController resetTextEncoding]): Update for NSString.
        (-[WebController _mainFrameOverrideEncoding]): Ditto.
        (-[WebController hasCustomTextEncoding]): Ditto.
        (-[WebController customTextEncodingName]): Return NSString.

        * WebView.subproj/WebDataSourcePrivate.h: Use NSString instead of
	CFStringEncoding.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate init]): No need to init.
        (-[WebDataSource _setContentType:]): Copy, don\'t retain.
        (-[WebDataSource _setEncoding:]): Copy, don\'t retain.
        (-[WebDataSource _setOverrideEncoding:]): Use NSString.
        (-[WebDataSource _overrideEncoding]): Use NSString.

        * WebView.subproj/WebFramePrivate.h: Use NSString.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _reloadAllowingStaleDataWithOverrideEncoding:]): Use NSString.

        * WebView.subproj/WebPreferences.h: Use NSString instead of
	CFStringEncoding.
        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]): Use NSString.
        (-[WebPreferences defaultTextEncodingName]): Use NSString.
        (-[WebPreferences setDefaultTextEncodingName:]): Use NSString.

WebBrowser:

        * AppController.m:
        (-[AppController updateTextEncodingMenu]): Convert to CFStringEncoding.
        * BrowserWindowController.m:
        (-[BrowserWindowController validateMenuItem:]): Convert to CFStringEncoding.
        (-[BrowserWindowController changeTextEncoding:]): Convert to NSString.
        * Debug/DebugUtilities.m:
        (-[BrowserDocument setUserAgent:]): Update for API change.
        (-[BrowserDocument validate_setUserAgent:]): Ditto.
        (-[BrowserDocument resetUserAgent:]): Ditto.
        (-[BrowserDocument validate_resetUserAgent:]): Ditto.
        * Preferences.subproj/TextPreferences.m:
        (-[TextPreferences updateDefaultCharacterSetPopup]): Convert to CFStringEncoding.
        (-[TextPreferences takeDefaultCharacterSetFrom:]): Convert to NSString.


git-svn-id: svn://svn.chromium.org/blink/trunk@2179 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-27 00:45:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bdd5be0f6d5355e78a397207513eed192a703157');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201j101l5iyozycsi', 2, e'WebKit:

	Made WebTextView super-private.

        * WebKit.pbproj/project.pbxproj:

WebBrowser:

	- Made the view source window
		- larger
		- use Monaco, 10 font
		- respond to makeTextLarger and makeTextSmaller
		- use saveDocumentAs

	Fixed: 3053366 - source window should have file proxy after save

        * BrowserDocument.h:
        * BrowserDocument.m:
        * English.lproj/HTMLSource.nib: made window larger, use WebSearchableTextView
        * HTMLSourceController.h:
        * HTMLSourceController.m:
        (-[HTMLSourceController windowDidLoad]): set the text multiplier
        (-[HTMLSourceController setTextSizeMultiplier:]): new
        (-[HTMLSourceController textSizeMultiplier]): new
        * HTMLSourceDocument.h:
        * HTMLSourceDocument.m:
        (-[HTMLSourceDocument dataRepresentationOfType:]): new saved flag
        (-[HTMLSourceDocument saveDocumentTo:]): call saveDocumentAs
        (-[HTMLSourceDocument displayName]): perform hacks to get window title and saved filename correct
        (-[HTMLSourceDocument controller]): new
        (-[HTMLSourceDocument browserDocumentLoadingFinished:]): don\'t update after save
        (-[HTMLSourceDocument canMakeTextLarger]): new
        (-[HTMLSourceDocument canMakeTextSmaller]): new
        (-[HTMLSourceDocument makeTextLarger:]): new
        (-[HTMLSourceDocument makeTextSmaller:]): new
        (-[HTMLSourceDocument validateUserInterfaceItem:]): new


git-svn-id: svn://svn.chromium.org/blink/trunk@2178 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-26 22:37:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6f2b6a6b14940c5fe2f04b280cf7c21ef4864b24');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno3e201j201l5iyc4guhf', 2, e'i        Use a rectangle with rounded corners for dragged label.
        Put a subtle shadow behind text in label.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2177 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-26 22:11:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/95e1747d79a1f05438fff1a2ba49f050a7992c96');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hf01l5175lvgwy', 2, e'WebCore:

	Added WebCoreElementImageLocationKey to the element dictionary.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge elementAtPoint:]):

WebKit:

	- When dragging an image, use the image itself for the drag image
	- Support promised file and image data drag types for dragged images.

        * Misc.subproj/WebNSImageExtras.h: Added.
        * Misc.subproj/WebNSImageExtras.m: Added.
        (-[NSImage _web_scaleToMaxSize:]): new, scales an image is greater than max
        (-[NSImage _web_dissolveToFraction:]): new, dissolves image in place
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebController.h: Added WebElementImageLocationKey to the element dictionary
        * WebView.subproj/WebController.m: ditto
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView dragImage:at:offset:event:pasteboard:source:slideBack:]): subclassed for only for image drags
        (-[WebHTMLView mouseDragged:]): use the promised file api again.
        (-[WebHTMLView namesOfPromisedFilesDroppedAtDestination:]): use the retained element dictionary instead of the dragged URL which I deleted.
        * WebView.subproj/WebHTMLViewPrivate.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2176 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-26 19:07:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9f7650f061738757e58a04be17d514af139843a7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hg01l5qzykzmz4', 2, e'Alex-25 versions + markers


git-svn-id: svn://svn.chromium.org/blink/trunk@2174 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-09-26 17:20:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15412ef0dfdfe5b1a61a0f87c96887139111ded3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hh01l5f823xqz4', 2, e'	Fix the infinity problem Dave worked around. We didn\'t have the
	configuration flags set right to make infinity work. Setting those
	properly made everything work without changes to min and max.

        * kjs/config.h: Define HAVE_FUNC_ISINF, HAVE_STRING_H, and
	also WORDS_BIGENDIAN (if on ppc).

        * kjs/math_object.cpp: (MathFuncImp::call): Roll out min and max
	changes from yesterday.


git-svn-id: svn://svn.chromium.org/blink/trunk@2173 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-26 15:20:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8cd138a4667370a42d85facaef5cf6e61068745b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hi01l5juiwpzef', 2, e'        API tweaks.
        * Misc.subproj/WebKit.h:
        Added headers.

        * Misc.subproj/WebKitErrors.h:
        Removed #defines.

        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSource.m:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading]):
        (-[WebDataSource _loadIcon]):
        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        (-[WebDefaultContextMenuDelegate contextMenuItemsForElement:defaultMenuItems:]):
        Removed isMainDocument.

        Moved errors string #defines here.
        * WebView.subproj/WebView.m:

        Updated to reflect API tweaks.

        * ContextMenuHandler.m:
        (-[ContextMenuHandler contextMenuItemsForElement:defaultMenuItems:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2172 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-26 02:15:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2ea61aece99a82b248f4fb3059957c03b0f277fe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hj01l5dkvodg7b', 2, e'	- fixed 3060773 -- Wrong title proposed when image link
	dropped on favorites bar

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]): Claim the pasteboard (via
	declareTypes:) before putting data on it.


git-svn-id: svn://svn.chromium.org/blink/trunk@2171 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-09-26 00:57:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/36954a6bb5f6b555cf0c246d3e27e2d813eebf63');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hk01l5ktljc5hr', 2, e'        API and documentation tweaks.

        WebDocumentDragSettings:  canDrag -> acceptsDrag
        WebDataSource:  removed originalURL
        WebStandardPanels:  use -> uses

        * History.subproj/WebBackForwardList.h:
        * Misc.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler initWithDataSource:]):
        * Panels.subproj/WebStandardPanels.h:
        * Panels.subproj/WebStandardPanels.m:
        (-[WebStandardPanels setUsesStandardAuthenticationPanel:]):
        (-[WebStandardPanels usesStandardAuthenticationPanel]):
        * Plugins.subproj/WebPluginView.m:
        (-[WebNetscapePluginView frameStateChanged:]):
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient cancel]):
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _commitIfReady]):
        * WebView.subproj/WebDocument.h:
        * WebView.subproj/WebFrame.m:
        (-[WebFrame setProvisionalDataSource:]):
        (-[WebFrame startLoading]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):
        (-[WebFrame _setState:]):
        (-[WebFrame _goToItem:withFrameLoadType:]):
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView setAcceptsDrags:]):
        (-[WebHTMLView acceptsDrags]):
        (-[WebHTMLView setAcceptsDrops:]):
        (-[WebHTMLView acceptsDrops]):
        * WebView.subproj/WebImageView.m:
        (-[WebImageView setAcceptsDrags:]):
        (-[WebImageView acceptsDrags]):
        (-[WebImageView setAcceptsDrops:]):
        (-[WebImageView acceptsDrops]):
        * WebView.subproj/WebLoadProgress.h:
        * WebView.subproj/WebLocationChangeDelegate.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient didCancelWithHandle:]):
        * WebView.subproj/WebView.h:

        Updated to reflect API tweaks.

        * AppController.m:
        (-[AppController awakeFromNib]):
        * DownloadProgressEntry.m:
        (-[DownloadProgressEntry stop]):
        * LocationChangeHandler.m:
        (-[LocationChangeHandler locationChangeStartedForDataSource:]):
        (-[LocationChangeHandler locationChangeCommittedForDataSource:]):
        (-[LocationChangeHandler locationChangeDone:forDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2170 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-26 00:51:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ca749b6dcf478389acbd740b0bba9d457e634ab5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hl01l5n4k67rva', 2, e'	Implement scrollX and scrollY on the window object.  This
	gets brainjar closer to reality. :)

        * khtml/ecma/kjs_window.cpp:
        (Window::get):
        * khtml/ecma/kjs_window.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2169 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-25 22:47:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b41f02ee0939016331df7fe080fc2260161eb1a2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hm01l50dtunv41', 2, e'	Fix the impls of min/max to not use +inf/-inf when you have
	arguments.  Technically there\'s still a bug here for the no
	argument case, probably caused by a screwup when +inf/-inf are
	converted to doubles.

        * kjs/math_object.cpp:
        (MathFuncImp::call):


git-svn-id: svn://svn.chromium.org/blink/trunk@2168 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-25 22:46:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7a53c714c5e630e625cd676beba3d1a5ad1ca212');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hn01l5uyn4mj0r', 2, e'	- fixed 3057964 -- JS problem performing MD5 script embedded in yahoo login page

        * kjs/simple_number.h: Fix incorrect check for sign bit that was munging numbers
	in the range 0x10000000 to 0x1FFFFFFF.


git-svn-id: svn://svn.chromium.org/blink/trunk@2167 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-25 20:25:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ec86682ffc2f4b8a38f2c84193e4f1ba26cc3c67');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01ho01l5chv5f6o4', 2, e'WebFoundation:

	Changes to move the WebResourceHandle API closer to the
	specified design. This includes:

	- Removed loadInBackground method from the public interface.
	- Start asynchronous loading in WebResourceHandle init method.
	- Remove loadInForeground: from WebResourceHandle interface.
	- Add nice comments to WebResourceHandle header file.
	- Move WebResourceHandle callback deferral methods to SPI header file.
	- Some cleanups in synchronous loading.
	- Change name of WebResourceHandle cancelLoadInBackground method to cancel.
	- Some changes to the C glue (why do I even pretend that I am keeping
	this glue code working?)

        * CacheLoader.subproj/IFURLHandleC.h:
        * CacheLoader.subproj/IFURLHandleC.m:
        (IFURLHandleCancelLoadInBackground)
        (IFURLHandleDidRedirectToURL)
        * CacheLoader.subproj/WebResourceHandle.h:
        * CacheLoader.subproj/WebResourceHandle.m:
        (+[WebResourceHandle canInitWithRequest:])
        (-[WebResourceHandle initWithRequest:delegate:])
        (-[WebResourceHandle cancel])
        (-[WebResourceHandle loadInForeground:])
        (-[WebResourceHandle loadInForeground])
        * CacheLoader.subproj/WebResourceHandleInternal.h:
        * CacheLoader.subproj/WebResourceHandleInternal.m:
        (-[WebResourceHandle _loadInBackground])
        (-[WebResourceHandle _postCallback:])
        (-[WebResourceHandle _sendCallbacks])
        * CacheLoader.subproj/WebResourceHandlePrivate.h:
        * CacheLoader.subproj/WebResourceHandlePrivate.m:
        (-[WebResourceHandle _setDefersCallbacks:])
        (-[WebResourceHandle _defersCallbacks])
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad cancel])
        * CacheLoader.subproj/WebResourceSynchronousClient.m:
        (-[WebResourceHandleSynchronousDelegate run:])
        (-[WebResourceHandleSynchronousDelegate finished])
        * WebFoundation.exp:
        * WebFoundation.pbproj/project.pbxproj:

WebKit:

        Changes to move the WebResourceHandle API closer to the
        specified design. This includes:

        - Removed loadInBackground method from the public interface.
        - Start asynchronous loading in WebResourceHandle init method. This required some
	  code reorganization in callers.
        - Remove loadInForeground: from WebResourceHandle interface.
        - Move WebResourceHandle callback deferral methods to SPI header file.
        - Change name of WebResourceHandle cancelLoadInBackground method to cancel.

        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader startLoading])
        (-[WebIconLoader stopLoading])
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream startLoad])
        (-[WebNetscapePluginStream cancel])
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:])
        (-[WebSubresourceClient cancel])
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading])
        (-[WebDataSource _addSubresourceClient:])
        (-[WebDataSource _stopLoading])
        (-[WebDataSource _defersCallbacksChanged])
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveData:])


git-svn-id: svn://svn.chromium.org/blink/trunk@2166 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-25 18:23:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8eb99f4db767a5e0d7756d4dd5d07c574f3bde7c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hp01l5kqvy0taa', 2, e'	Fixed: 3050665 - REGRESSION: mp3 audio loads and plays, but no progress or play control is visible

        * Plugins.subproj/WebPluginView.h:
        * Plugins.subproj/WebPluginView.m:
        (-[WebNetscapePluginView setNeedsLayout:]):
        (-[WebNetscapePluginView layout]):
        (-[WebNetscapePluginView drawRect:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2165 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-25 18:01:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ed51e295c211b7db7368237cc5d5a0fd73e467b1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hq01l5deq9nf8i', 2, e'	Fix error with the color "indigo".

        * kwq/KWQColor.mm: (getNamedColors): There were some spaces in our
	color table so we wouldn\'t handle indianred or indigo.


git-svn-id: svn://svn.chromium.org/blink/trunk@2164 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-25 16:03:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/09ee811f6cf2e117401cf579235c5cc089f6a86f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hr01l56fwus7jp', 2, e'	Make the "set aside subviews" logic stronger so it can handle a display
	while inside drawRect. But note, this recursive display is most likely
	the cause of the redrawing problems we have while resizing, like bug 2969367.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView drawRect:]): Restore views and then set them aside again, but don\'t
	leave the "views set aside" boolean set.
        * WebView.subproj/WebHTMLViewPrivate.h: Add private _setAsideSubviews and _restoreSubviews methods.
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _setAsideSubviews]): Added.
        (-[WebHTMLView _restoreSubviews]): Added.
        (-[WebHTMLView _recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]):
	Use the new _setAsideSubviews and _restoreSubviews methods.
        (-[WebHTMLView _recursiveDisplayAllDirtyWithLockFocus:visRect:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2163 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-25 15:50:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/af6a8c28d20633ecc533d4c64976971c8e7801a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hs01l59t24d49i', 2, e'WebFoundation:

	Removed this method from WebResourceHandle:

	+(BOOL)canInitWithURL:(NSURL *)theURL;

	replaced with:

	+(BOOL)canInitWithRequest:(WebResourceRequest *)request;

	Also added a convenience method to WebResourceRequest that
	allocates, inits, and returns an autoreleased instance.

        * CacheLoader.subproj/WebResourceHandle.h:
        * CacheLoader.subproj/WebResourceHandle.m:
        (+[WebResourceHandle canInitWithRequest:])
        * CacheLoader.subproj/WebResourceRequest.h:
        * CacheLoader.subproj/WebResourceRequest.m:
        (+[WebResourceRequest requestWithURL:])

WebKit:

        Removed this method from WebResourceHandle:

        +(BOOL)canInitWithURL:(NSURL *)theURL;

        replaced with:

        +(BOOL)canInitWithRequest:(WebResourceRequest *)request;

	Callers have been updated to reflect the change.

        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (+[WebDefaultPolicyDelegate defaultURLPolicyForURL:])
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _shouldShowURL:])


git-svn-id: svn://svn.chromium.org/blink/trunk@2162 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-25 15:32:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aeda50f8886f562f58e4acfff77563231b19d537');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01ht01l5z0cwddsi', 2, e'WebFoundation:

	More moves to the new WebResourceHandleDelegate API.

        This change moves all WebResourceHandleDelegate implementors to:

	-(void)handle:(WebResourceHandle *)handle didReceiveData:(NSData *)data;

        * CacheLoader.subproj/WebResourceCallbackClient.m:
        (-[WebResourceCallbackClient handle:didReceiveData:])
        * CacheLoader.subproj/WebResourceHandleInternal.m:
        (-[WebResourceHandle _notifyClientDataDidBecomeAvailable])
        * CacheLoader.subproj/WebResourceSynchronousClient.m:
        (-[WebResourceHandleSynchronousDelegate handle:didReceiveData:])

WebKit:

        More moves to the new WebResourceHandleDelegate API.

        This change moves all WebResourceHandleDelegate implementors to:

        -(void)handle:(WebResourceHandle *)handle didReceiveData:(NSData *)data;

        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader handle:didReceiveData:])
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream handle:didReceiveData:])
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handle:didReceiveData:])
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didReceiveData:])


git-svn-id: svn://svn.chromium.org/blink/trunk@2161 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-25 14:18:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f24723dd408853def64de31de0475bc639b3766c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hu01l5az12q0fn', 2, e'WebFoundation:

	Moving to the new WebResourceHandleDelegate API.

	This change moves all WebResourceHandleDelegate implementors to:

	- (void)handle:(WebResourceHandle *)handle didFailLoadingWithError:(WebError *)result;

        * CacheLoader.subproj/WebResourceCallbackClient.m:
        * CacheLoader.subproj/WebResourceHandleInternal.m:
        (-[WebResourceHandle _notifyClientDidFailLoading])
        * CacheLoader.subproj/WebResourceSynchronousClient.m:

WebKit:

        Moving to the new WebResourceHandleDelegate API.

        This change moves all WebResourceHandleDelegate implementors to:

        - (void)handle:(WebResourceHandle *)handle didFailLoadingWithError:(WebError *)result;

        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader handle:didFailLoadingWithError:])
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream handle:didFailLoadingWithError:])
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handle:didFailLoadingWithError:])
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handle:didFailLoadingWithError:])


git-svn-id: svn://svn.chromium.org/blink/trunk@2160 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-25 14:02:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/97404078f4e661994fdf22c88a37193496747888');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hv01l5kb3alnpm', 2, e'WebFoundation:

	Begin change from WebResourceClient to WebResourceHandleDelegate.
	In this step, I have just changed the name of the protocol; the
	protocol interface is the same.

	As part of this change, WebResourceSynchronousClient becomes
	WebResourceHandleSynchronousDelegate. Also, the init interface
	for WebResourceHandle assumes the form specified in the new API
	specification:

	-(id)initWithRequest:(WebResourceRequest *)request delegate:(id <WebResourceHandleDelegate>)delegate;

	I also made cosmetic changes to variable names and such.

	Note that I am removing the WebResourceClient.h file, but I
	copied the ,v file in the repository so that the history for WebResourceClient.h
	is preserved in WebResourceHandleDelegate.h.

        * CacheLoader.subproj/WebResourceCallbackClient.h:
        * CacheLoader.subproj/WebResourceClient.h: Removed.
        * CacheLoader.subproj/WebResourceHandle.h:
        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceHandle loadInForeground:])
        (-[WebResourceHandle initWithRequest:delegate:])
        * CacheLoader.subproj/WebResourceHandleInternal.h:
        * CacheLoader.subproj/WebResourceHandleInternal.m:
        (-[WebResourceHandleInstanceVariables dealloc])
        (-[WebResourceHandle _notifyClientDidRedirectToURL])
        (-[WebResourceHandle _notifyClientDataDidBecomeAvailable])
        (-[WebResourceHandle _notifyClientDidFailLoading])
        (-[WebResourceHandle _notifyClientDidFinishLoading])
        * CacheLoader.subproj/WebResourceHandlePrivate.m:
        (-[WebResourceHandle _userAgentForURL:])
        * CacheLoader.subproj/WebResourceResponse.h:
        * CacheLoader.subproj/WebResourceSynchronousClient.h:
        * CacheLoader.subproj/WebResourceSynchronousClient.m:
        (-[WebResourceHandleSynchronousDelegate initWithMonitor:realDelegate:])
        (-[WebResourceHandleSynchronousDelegate dealloc])
        (-[WebResourceHandleSynchronousDelegate handleWillUseUserAgent:forURL:])
        (-[WebResourceHandleSynchronousDelegate handleDidFinishLoading:])
        (-[WebResourceHandleSynchronousDelegate handleDidReceiveData:data:])
        (-[WebResourceHandleSynchronousDelegate handleDidRedirect:toURL:])
        * Misc.subproj/WebFoundation.h:
        * WebFoundation.pbproj/project.pbxproj:

WebKit:

        Begin change from WebResourceClient to WebResourceHandleDelegate.
        In this step, I have just changed the name of the protocol; the
        protocol interface is the same.

	I made other cosmetic changes to variable names and such.

        * Misc.subproj/WebIconLoader.h:
        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader startLoading])
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream startLoad])
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge objectLoadedFromCache:size:])
        * WebCoreSupport.subproj/WebSubresourceClient.h:
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:])
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading])
        * WebView.subproj/WebMainResourceClient.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2159 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-25 13:25:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cb4778291a5113f895ff84de12932db18e39dd02');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hw01l5c3dkuo4c', 2, e'Tests:

        * CookieManager/wkcookiemanager-test.m:
        (main): Adjust for API change.

WebFoundation:

	- fixed 2854536 - New cookie policy: "accept cookies only from the
	same domain as the main page"

        * CacheLoader.subproj/WebResourceRequest.h:
        * CacheLoader.subproj/WebResourceRequest.m:
        (-[WebResourceRequest cookiePolicyBaseURL]):
        (-[WebResourceRequest setCookiePolicyBaseURL:]):
        (-[WebResourceRequest copyWithZone:]):
        * CookieManager.subproj/IFCookieManagerC.m:
        (IFCookieManagerSetCookiesFromResponseHeaders):
        * CookieManager.subproj/WebCookieConstants.h:
        * CookieManager.subproj/WebCookieManager.h:
        * CookieManager.subproj/WebCookieManager.m:
        (-[WebCookieManager _readAcceptCookiesPreference]):
        (-[WebCookieManager _setCookies:forURL:policyBaseURL:]):
        (-[WebCookieManager setCookie:]):
        (-[WebCookieManager setCookiesFromResponseHeaders:forURL:policyBaseURL:]):
        (-[WebCookieManager setAcceptPolicy:]):
        * Misc.subproj/WebNSStringExtras.h:
        * Misc.subproj/WebNSStringExtras.m:
        (-[NSString _web_domainFromHost]):
        * ProtocolHandlers.subproj/WebCFNetworkHTTPProtocolHandler.m:
        (-[WebCFNetworkHTTPProtocolHandler setResponseHeadersUsingHTTPResponse:andCall:context:]):
        * ProtocolHandlers.subproj/WebSimpleHTTPProtocolHandler.m:
        (-[WebSimpleHTTPProtocolHandler _parseHeadersFromData:]):

WebCore:

	- fixed 2854536 - New cookie policy: "accept cookies only from the
	same domain as the main page"

        * khtml/html/html_documentimpl.cpp:
        (HTMLDocumentImpl::setCookie):
        * kwq/KWQKCookieJar.h:
        * kwq/KWQKCookieJar.mm:
        (KWQKCookieJar::setCookie):
        * kwq/WebCoreCookieAdapter.h:
        * kwq/WebCoreCookieAdapter.m:
        (-[WebCoreCookieAdapter setCookies:forURL:policyBaseURL:]):

WebKit:

	- fixed 2854536 - New cookie policy: "accept cookies only from the
	same domain as the main page"

        * WebCoreSupport.subproj/WebCookieAdapter.h:
        * WebCoreSupport.subproj/WebCookieAdapter.m:
        (-[WebCookieAdapter setCookies:forURL:policyBaseURL:]):
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:]):
        (-[WebSubresourceClient handleDidRedirect:toURL:]):
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidRedirect:toURL:]):

WebBrowser:

	- fixed 2854536 - New cookie policy: "accept cookies only from the
	same domain as the main page"

        * Preferences.subproj/English.lproj/SecurityPreferences.nib:
        * Preferences.subproj/SecurityPreferences.h:
        * Preferences.subproj/SecurityPreferences.m:
        (-[SecurityPreferences takeCookiePolicyFrom:]):
        (-[SecurityPreferences updateCookiesViews]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2158 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-25 08:22:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/75fab814d378f289885edb6ff6e1a6abde74a2cf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hx01l5zr8whxsn', 2, e'        More documentation tweaks.

        * History.subproj/WebHistory.h:
        * History.subproj/WebHistoryItem.h:
        * WebView.subproj/WebContextMenuDelegate.h:
        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebLocationChangeDelegate.h:
        * WebView.subproj/WebResourceProgressDelegate.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2157 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-25 01:42:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/625a55e9bdb2f85236848ac832244dd2d8d317e3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hy01l5wqea4wu2', 2, e'	- fixed 3059513 -- REGRESSION: Scrolling to fragment doesn\'t work

	Turns out it was better to just put the extra smarts into the clip view
	that we are already creating. Making WebHTMLView be a second clip view
	was silly and broke things.

        * WebView.subproj/WebView.m: (-[WebView initWithFrame:]): Create a WebClipView
	and use it as the content view rather than the NSClipView created by default.

        * WebKit.pbproj/project.pbxproj: Added WebClipView.
        * WebView.subproj/WebClipView.h: Added.
        * WebView.subproj/WebClipView.m: Added.

        * WebView.subproj/WebHTMLView.h: Don\'t be a subclass of NSClipView any more.
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView drawRect:]): Call setAdditionalClip and resetAdditionalClip on
	the clip view.

        * WebView.subproj/WebHTMLViewPrivate.h: Remove inDrawRect and drawRect.
        * WebView.subproj/WebHTMLViewPrivate.m: Remove visibleRect override. This is
	now in WebClipView.


git-svn-id: svn://svn.chromium.org/blink/trunk@2156 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-25 01:20:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c139f2aa2f3b88ede5a55c7081cd6cfa409feed0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01hz01l5we6q9e8v', 2, e'Tests:

        * harness.c: (runtest): Turn off leak checking. It\'s broken.

        * qt/qdate-test.chk: Update test for changes to QDate.
        * qt/qdate-test.cpp: (main): Ditto.

        * qt/qtime-test.chk: Update test for changes to QTime.
        * qt/qtime-test.cpp: (main): Ditto.

WebCore:

	- fixed 3057928 -- lstat private/etc/localtime repeatedly reported
	by fs_usage when mouse is moved

        * WebCore-tests.exp: Remove now-unneeded external entry points
	for QTime, QDate, QDateTime.

        * kwq/qt/qdatetime.h:
        * kwq/KWQDateTime.mm:
	Redid QDateTime using CoreFoundation instead of time/localtime.
	This avoids constantly hitting the disk when getting the current
	time to stuff into an event.


git-svn-id: svn://svn.chromium.org/blink/trunk@2155 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-25 00:31:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5353e0c4c1bb58e448ce29e68c6629a13b74e669');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01i001l54oi8uxms', 2, e'	More documentation changes.

        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebDefaultContextMenuDelegate.h:
        * WebView.subproj/WebDocument.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2154 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-25 00:30:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/460bb81acbb1e53299592f90a1af846c09977f98');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01i101l5kavdsiwl', 2, e'	Make sure we dispatch both a capturing and a bubbling event
	to target nodes. DOM lvl 2 event compliance.

        * ChangeLog:
        * khtml/xml/dom_nodeimpl.cpp:
        (NodeImpl::dispatchGenericEvent):


git-svn-id: svn://svn.chromium.org/blink/trunk@2153 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-24 23:25:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7d1003178b2a06ecbfb72c25d2f5a11e97595cc2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01i201l59hsv8ltw', 2, e'        Added FIXME not about unresolved issue with CFStringEncoding/NSStringEncoding.

        * WebView.subproj/WebController.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2152 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-24 23:22:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f38a56831c204f692047f8dd35451a0defa4ae6c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01i301l5q2f0hpx9', 2, e'i        Fixed 3055078.  Ensure file: URLs have // before path.

        * kwq/KWQKURL.mm:
        (KURL::parse):

        Documentation for WebDataSource and WebFrame.

        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource frameExists:]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource addFrame:]):
        * WebView.subproj/WebFrame.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2151 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-24 23:20:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e8d779886594fd823b27443aef979f7d0b6f169d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01i401l577mhjy55', 2, e'	Better fix.  Clears the boolean when CLASS has no value.
	This will keep the style system from thinking you have
	a class when you don\'t.

        * khtml/html/html_elementimpl.cpp:
        (HTMLElementImpl::parseAttribute):


git-svn-id: svn://svn.chromium.org/blink/trunk@2150 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-24 22:34:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d81aff452ea6899be28f98a08959cca7869f184c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01i501l5pg5fccbo', 2, e'	Fix updating of the document\'s notion of the focused node
	to happen on mouse down rather than click.  This matches
	the behavior of all other browsers (IE, Gecko, etc.).

	This fixes the drawing of the outline on the brainjar.com
	DHTML menus.

        * khtml/khtmlview.cpp:
        (KHTMLView::dispatchMouseEvent):


git-svn-id: svn://svn.chromium.org/blink/trunk@2149 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-24 22:21:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8e3cf634862a1b2ac84a5499c23959baa324d3a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01i601l5858v550e', 2, e'	- fixed 3059266 -- REGRESSION: clicking in web view when location field is
	focused does not focus web view

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView needsPanelToBecomeKey]):
	Must override this to return YES, because NSClipView makes it return NO
	even though we accept the first responder.


git-svn-id: svn://svn.chromium.org/blink/trunk@2148 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-24 22:20:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c552d01f22831e203b9a4226ef34dbcb6243cdfb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01i701l5gaj5m0zt', 2, e'	Make sure that changes to the CLASS attribute mark the
	element as changed (as if a CSS property were added or
	removed).

	This makes the brainjar.com rollovers work much better.

        * khtml/html/html_elementimpl.cpp:
        (HTMLElementImpl::parseAttribute):


git-svn-id: svn://svn.chromium.org/blink/trunk@2147 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-24 21:45:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e06b513a7d4a384a354344a4eb7c66759353f193');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjno1fx01i801l56me8ksvu', 2, e'	- fixed 3056158 -- REGRESSION: Page up/down should scroll one
	whole contentView minus at least one readable line of text

	This was broken a while back when the keyboard scrolling code
	migrated into WebKit.

        * WebView.subproj/WebViewPrivate.m:
        (-[WebView _verticalKeyboardScrollAmount]),
        (-[WebView _horizontalKeyboardScrollAmount]):
	New private methods, return one arrow key\'s worth of scrolling.
        (-[WebView _scrollLineVertically:]),
        (-[WebView _scrollLineHorizontally:]):
	Now use the broken-out methods.
        (-[WebView _pageVertically:]),
        (-[WebView _pageHorizontally:]):
	overlap by one arrow key\'s worth of scrolling instead of the
	teensy-weensy one click\'s worth.


git-svn-id: svn://svn.chromium.org/blink/trunk@2146 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-09-24 21:26:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd485f2fff454ea97f1f59467871f017cc6c96d3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gl01l5ov90q624', 2, e'	Documentation for WebHTMLView

        * WebView.subproj/WebHTMLView.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2145 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-24 21:02:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3814f85d8b912393a67875c19168b9ce6da29bd2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gm01l5yzkd0jju', 2, e'        Documentation changes.  Removal of imports from
        some headers required modification of .m.

        * Plugins.subproj/WebNullPluginView.m:
        * WebCoreSupport.subproj/WebBridge.m:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        * WebView.subproj/WebDefaultPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        (+[WebDefaultPolicyDelegate defaultURLPolicyForURL:]):
        (-[WebDefaultPolicyDelegate URLPolicyForURL:inFrame:]):
        * WebView.subproj/WebFramePrivate.m:
        * WebView.subproj/WebHTMLViewPrivate.m:

        Documentation changes.  Removal of imports from
        some headers required modification of .m.

        * BrowserDocument.m:
        * BrowserWebController.m:
        (-[BrowserWebController URLPolicyForURL:inFrame:]):
        * DownloadMonitor.m:
        * DownloadProgressEntry.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@2144 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-24 20:05:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/534837ca15e7b631c1f9c10fc829751bed8cacf0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gn01l57qjddt7r', 2, e'WebCore:

	Renamed element info keys to WebElement* instead of WebContextMenuElement*

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge elementAtPoint:]):

WebKit:

	Renamed element info keys to WebElement* instead of WebContextMenuElement*
	Added WebKit API documentation

        * Plugins.subproj/WebPlugin.m:
        (-[WebNetscapePlugin load]): clean-up
        * WebKit.exp:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebContextMenuDelegate.h:
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        * WebView.subproj/WebControllerPolicyDelegate.h:
        * WebView.subproj/WebDefaultContextMenuDelegate.h:
        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        (-[WebDefaultContextMenuDelegate contextMenuItemsForElement:defaultMenuItems:]):
        (-[WebDefaultContextMenuDelegate openNewWindowWithURL:referrer:]):
        (-[WebDefaultContextMenuDelegate downloadURL:]):
        (-[WebDefaultContextMenuDelegate openLinkInNewWindow:]):
        (-[WebDefaultContextMenuDelegate downloadLinkToDisk:]):
        (-[WebDefaultContextMenuDelegate copyLinkToClipboard:]):
        (-[WebDefaultContextMenuDelegate openImageInNewWindow:]):
        (-[WebDefaultContextMenuDelegate downloadImageToDisk:]):
        (-[WebDefaultContextMenuDelegate copyImageToClipboard:]):
        (-[WebDefaultContextMenuDelegate openFrameInNewWindow:]):
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _elementAtPoint:]):

WebBrowser:

	Renamed element info keys to WebElement* instead of WebContextMenuElement*

        * BrowserWebController.m:
        (-[BrowserWebController clickPolicyForElement:button:modifierMask:]):
        * ContextMenuHandler.m:
        (-[ContextMenuHandler contextMenuItemsForElement:defaultMenuItems:]):
        (-[ContextMenuHandler _window]):
        (-[ContextMenuHandler addLinkToBookmarks:]):
        (-[ContextMenuHandler viewSource:]):
        (-[ContextMenuHandler savePageAs:]):
        (-[ContextMenuHandler openWithiTunes:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2143 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-24 18:37:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e74dd884a7ff0a0a873d01b64264afd8e10196fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01go01l5bz8deaii', 2, e'	Cleaned up some loose ends from adding setNeedsLayout to the WebDocumentView
	protocol. Was causing exceptions.

        * Plugins.subproj/WebPluginView.m: (-[WebNetscapePluginView setNeedsLayout:]):
        * WebView.subproj/WebTextView.m: (-[WebTextView setNeedsLayout:]):
	Added missing stubs.

        * WebCoreSupport.subproj/WebBridge.m: (-[WebBridge setNeedsReapplyStyles]):
	Removed unneeded cast.
        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _isLoadComplete]): Remove an
	unneeded cast and call to isDocumentHTML.
        * WebView.subproj/WebHTMLView.h: No need to re-declare setNeedsLayout.
        * WebView.subproj/WebView.m: (-[WebView setFrame:]): Get rid of unneeded check
	of isDocumentHTML.


git-svn-id: svn://svn.chromium.org/blink/trunk@2142 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-24 18:29:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/07fc7076fea2ee019c802b8f416451bfc65068f6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gp01l5kyjgr5j0', 2, e'	- fixed 3056579 -- various crashes at http://www.auspost.com.au/

	Apparently the strings at this site were just the right length to expose a bug
	in our QString implementation, one that I probably introduced when fixing 3032072.
	One nice thing about this is that getting this correct could also result in a
	little bit of a speedup, as the internal buffer is used more.

        * kwq/KWQString.mm:
        (QStringData::makeAscii): Set _maxAscii to QS_INTERNAL_BUFFER_CHARS when using
	the internal buffer instead of leaving it uninitialized.
        (QStringData::makeUnicode): Same for _maxUnicode.


git-svn-id: svn://svn.chromium.org/blink/trunk@2141 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-24 17:48:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/51d27953d806b78a7910835075671feba2747100');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gq01l54lklr2mv', 2, e'	Remove the focus border hack, which was no longer doing us any good.

        * kwq/KWQNSTextField.h: Don\'t define FOCUS_BORDER_SIZE.
        * kwq/KWQNSTextField.mm: Remove KWQTextFieldCell.
        (-[KWQNSTextField updateSecureFieldFrame]): Don\'t inset by FOCUS_BORDER_SIZE.
        * kwq/qt/qlineedit.h: Don\'t override frameGeometry and setFrameGeometry any more.
        * kwq/KWQLineEdit.mm: (QLineEdit::sizeForCharacterWidth): Don\'t subtract
	the focus border size.


git-svn-id: svn://svn.chromium.org/blink/trunk@2140 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-24 17:24:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/996b135bdfa51f510ce376504cb1f8d043dcf29a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gr01l5cwwnxftq', 2, e'	- fixed 3057383 -- focus rectangles are being drawn multiple times
	- fixed 3051025 -- focus ring on password field gets darker and darker

	To make focus rings clip too, we have to do more than just set the clip.
	We also have to set the visible rectangle to make clipping happen, and we
	need to be a subclass of NSClipView so that the focus ring drawing code will
	consult us rather than one of our superviews.

        * WebView.subproj/WebHTMLView.h: Be a subclass of NSClipView.
        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView drawRect:]): Set a inDrawRect
	flag, and a drawRect rectangle. This tells us to clip to this rectangle.
	what we need to clip to.
        * WebView.subproj/WebHTMLViewPrivate.h: Added inDrawRect and drawRect.
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView visibleRect]): Clip the visible rect based on the drawRect while
	inDrawRect is set.


git-svn-id: svn://svn.chromium.org/blink/trunk@2139 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-24 17:17:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7e5ad1eca08a0b85ab9e30b80cc8644466c2fc4f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gs01l5w5d0hjzo', 2, e'        * kwq/mac-encodings.txt: Remove constant for Japanese auto-detect.


git-svn-id: svn://svn.chromium.org/blink/trunk@2138 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-24 17:13:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/133a6206effa1095ca8032b01f181bf4e6ca999c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gt01l5xmj18s0f', 2, e'        * kwq/KWQFileButton.mm: (KWQFileButton::paint): Fix typo.


git-svn-id: svn://svn.chromium.org/blink/trunk@2137 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-24 16:53:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/01cebe241d1071bf15c30f54444f3e4ebcaa5634');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gu01l58c2a3k3j', 2, e'	Some improvements to the file button, including displaying the file without the
	extension if it\'s set that way by the user, and using the system font rather
	than hard-coding "Lucida Grande".

        * kwq/KWQFileButton.h: Add _label field.
        * kwq/KWQFileButton.mm:
        (KWQFileButton::KWQFileButton): Set up label.
        (KWQFileButton::~KWQFileButton): Release label.
        (KWQFileButton::setFilename): Use NSFileManager componentsToDisplayForPath to
	figure out the appropriate label.
        (KWQFileButton::paint): Clip to passed-in rect, get font using systemFontOfSize,
	and use NSString drawing rather than our own.


git-svn-id: svn://svn.chromium.org/blink/trunk@2136 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-24 16:22:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c25019d69f1cb1a3cc03d49f9a3200350e982779');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gv01l57dentqhc', 2, e'WebKit:

	Factored URL pasteboard initialization to 1 place.
	Fixed: 3048924 - regression: drag & drop broken for initial empty page
	Fixed: 3045997 - Dragging a link from one Alex window to another one doesn\'t work

        * Misc.subproj/WebNSPasteboardExtras.h:
        * Misc.subproj/WebNSPasteboardExtras.m:
        (-[NSPasteboard _web_writeURL:andTitle:withOwner:]): new
        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        (-[WebDefaultContextMenuDelegate copyLinkToClipboard:]): call -[NSPasteboard _web_writeURL:andTitle:withOwner:]
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]): call -[NSPasteboard _web_writeURL:andTitle:withOwner:]
        * WebView.subproj/WebView.m:
        (-[WebView draggingEntered:]): handle nil cases

WebBrowser:

        * main.m:
        (main): Fixed comment


git-svn-id: svn://svn.chromium.org/blink/trunk@2135 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-24 04:28:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0923d3d2af77f3c5c849051a4c431bb662adbd1b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gw01l56jttqtez', 2, e'	Added documentation for these two delegate protocols.

        * WebView.subproj/WebLocationChangeDelegate.h:
        * WebView.subproj/WebResourceProgressDelegate.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2134 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-24 01:56:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/55be73d7749b4ee8ca3e97233a090654fd392b43');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gx01l5z9pm969f', 2, e'        Made WebIconLoader and WebIconDatabase SPI.

        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2133 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-24 00:16:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/501db1027b2bdbdc8a1189f0eefc76d4f4ca2a21');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gy01l5oymdidho', 2, e'Put back changes I blew away.


git-svn-id: svn://svn.chromium.org/blink/trunk@2132 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-24 00:13:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/502712ccbb287596ce163fdbca9361c862ea8cab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01gz01l50dl53pcf', 2, e'        WebContextMenuHandler becomes WebContextMenuDelegate
        WebControllerPolicyHandler becomes WebControllerPolicyDelegate
        WebLocationChangeHandler becomes WebLocationChangeDelegate
        WebResourceProgressHandler becomes WebResourceProgressDelegate
        WebWindowContext becomes WebWindowOperationsDelegate

        * Misc.subproj/WebDownloadHandler.m:
        * Plugins.subproj/WebNullPluginView.m:
        (-[WebNullPluginView drawRect:]):
        * Plugins.subproj/WebPluginView.m:
        (-[WebNetscapePluginView loadRequest:inTarget:withNotifyData:]):
        (-[WebNetscapePluginView status:]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge openNewWindowWithURL:referrer:frameName:]):
        (-[WebBridge areToolbarsVisible]):
        (-[WebBridge setToolbarsVisible:]):
        (-[WebBridge isStatusBarVisible]):
        (-[WebBridge setStatusBarVisible:]):
        (-[WebBridge setWindowFrame:]):
        (-[WebBridge window]):
        (-[WebBridge setStatusText:]):
        (-[WebBridge reportClientRedirectTo:delay:fireDate:]):
        (-[WebBridge reportClientRedirectCancelled]):
        * WebKit.exp:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebContextMenuDelegate.h:
        * WebView.subproj/WebContextMenuHandler.h: Removed.
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController setWindowOperationsDelegate:]):
        (-[WebController windowOperationsDelegate]):
        (-[WebController setResourceProgressDelegate:]):
        (-[WebController resourceProgressDelegate]):
        (-[WebController setDownloadProgressDelegate:]):
        (-[WebController downloadProgressDelegate]):
        (-[WebController setContextMenuDelegate:]):
        (-[WebController contextMenuDelegate]):
        (-[WebController setPolicyDelegate:]):
        (-[WebController policyDelegate]):
        (-[WebController setLocationChangeDelegate:]):
        (-[WebController locationChangeDelegate]):
        * WebView.subproj/WebControllerPolicyDelegate.m: Added.
        (-[WebPolicyPrivate dealloc]):
        (-[WebPolicy _setPolicyAction:]):
        (-[WebPolicy policyAction]):
        (-[WebPolicy path]):
        (-[WebPolicy URL]):
        (-[WebPolicy _setPath:]):
        (-[WebPolicy dealloc]):
        (+[WebURLPolicy webPolicyWithURLAction:]):
        (+[WebFileURLPolicy webPolicyWithFileAction:]):
        (+[WebContentPolicy webPolicyWithContentAction:andPath:]):
        * WebView.subproj/WebControllerPolicyDelegatePrivate.h:
        * WebView.subproj/WebControllerPolicyHandler.h: Removed.
        * WebView.subproj/WebControllerPolicyHandler.m: Removed.
        * WebView.subproj/WebControllerPolicyHandlerPrivate.h: Removed.
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate init]):
        (-[WebControllerPrivate dealloc]):
        (-[WebController _defaultContextMenuDelegate]):
        (-[WebController _receivedProgress:forResourceHandle:fromDataSource:complete:]):
        (-[WebController _mainReceivedProgress:forResourceHandle:fromDataSource:complete:]):
        (-[WebController _receivedError:forResourceHandle:partialProgress:fromDataSource:]):
        (-[WebController _mainReceivedError:forResourceHandle:partialProgress:fromDataSource:]):
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading]):
        (-[WebDataSource _setTitle:]):
        (-[WebDataSource _setURL:]):
        (-[WebDataSource _loadIcon]):
        * WebView.subproj/WebDefaultContextMenuDelegate.h:
        * WebView.subproj/WebDefaultContextMenuDelegate.m:
        (-[WebDefaultContextMenuDelegate openNewWindowWithURL:referrer:]):
        (-[WebDefaultContextMenuDelegate downloadURL:]):
        * WebView.subproj/WebDefaultContextMenuHandler.h: Removed.
        * WebView.subproj/WebDefaultContextMenuHandler.m: Removed.
        * WebView.subproj/WebDefaultPolicyDelegate.h:
        * WebView.subproj/WebDefaultPolicyDelegate.m:
        * WebView.subproj/WebDefaultPolicyHandler.h: Removed.
        * WebView.subproj/WebDefaultPolicyHandler.m: Removed.
        * WebView.subproj/WebDocument.h:
        * WebView.subproj/WebFrame.m:
        (-[WebFrame setProvisionalDataSource:]):
        (-[WebFrame frameNamed:]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _timedLayout:]):
        (-[WebFrame _transitionToCommitted]):
        (-[WebFrame _isLoadComplete]):
        (-[WebFrame handleUnimplementablePolicy:errorCode:forURL:]):
        (-[WebFrame _shouldShowURL:]):
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView menuForEvent:]):
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _continueAfterClickPolicyForEvent:]):
        * WebView.subproj/WebImageView.m:
        (-[WebImageView setNeedsLayout:]):
        * WebView.subproj/WebLocationChangeDelegate.h:
        * WebView.subproj/WebLocationChangeDelegate.m:
        * WebView.subproj/WebLocationChangeHandler.h: Removed.
        * WebView.subproj/WebLocationChangeHandler.m: Removed.
        * WebView.subproj/WebMainResourceClient.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient dealloc]):
        (-[WebMainResourceClient receivedProgressWithHandle:complete:]):
        (-[WebMainResourceClient receivedError:forHandle:]):
        (-[WebMainResourceClient handleDidReceiveData:data:]):
        * WebView.subproj/WebResourceProgressDelegate.h:
        * WebView.subproj/WebResourceProgressHandler.h: Removed.
        * WebView.subproj/WebView.m:
        (-[WebView window]):
        * WebView.subproj/WebWindowContext.h: Removed.
        * WebView.subproj/WebWindowOperationsDelegate.h:

        WebContextMenuHandler becomes WebContextMenuDelegate
        WebControllerPolicyHandler becomes WebControllerPolicyDelegate
        WebLocationChangeHandler becomes WebLocationChangeDelegate
        WebResourceProgressHandler becomes WebResourceProgressDelegate
        WebWindowContext becomes WebWindowOperationsDelegate

        * BrowserDocument.h:
        * BrowserDocument.m:
        (-[BrowserDocument init]):
        (-[BrowserDocument dealloc]):
        (-[BrowserDocument close]):
        * BrowserWebController.h:
        * BrowserWebController.m:
        (-[BrowserWebController setFrame:]):
        * ContextMenuHandler.h:
        * ContextMenuHandler.m:
        (-[ContextMenuHandler contextMenuItemsForElement:defaultMenuItems:]):
        * DownloadMonitor.h:
        * LocationChangeHandler.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2131 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-24 00:02:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9d5bc6b3689114f6b173e3acee824731ce6b0bc3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01h001l5k9bxjg4z', 2, e'	Found the problem with the CSS W3C page.

        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::recalcStyleSelector):


git-svn-id: svn://svn.chromium.org/blink/trunk@2130 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-23 23:02:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/243f6de06b362f60406c0a961a5d8e37a6684724');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01h101l5l2wdecr2', 2, e'WebCore:

	WebCore part of fixes for proper layering when drawing subframes.

        * kwq/KWQWidget.mm: (QWidget::paint): Use the parent view in the "WebCoreFrameView"
	case so we update the scroll view too, not just the HTML part. Also use the passed in
	rectangle instead of always using the view bounds.

        * kwq/KWQScrollView.mm: (QScrollView::updateContents): Call setNeedsDisplayInRect
	instead of displayRect.

        * kwq/KWQPainter.mm:
        (QPainter::drawRect): Use NSRectFill and NSFrameRect instead of NSBezierPath.
        (QPainter::fillRect): Ditto.

WebKit:

	- fixed 3052543 -- iframes don\'t work with z-index
	- fixed 3057382 -- code to prevent subviews from drawing not working
	perfectly for subframes

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView isOpaque]): Change this back to always return YES. We handle
	this issue at another level now.
        (-[WebHTMLView drawRect:]): Clip to the passed-in rect. This was the big change
	that fixed most of the trouble.

        * WebView.subproj/WebHTMLViewPrivate.h: Remove _isMainFrame.
        * WebView.subproj/WebHTMLViewPrivate.m:
        (+[WebHTMLView initialize]): Add an imposter for NSView too, so we can make opaqueAncestor
	do what we need it to do. This will only work if the application doesn\'t also poseAsClass
	NSView, but it does work.
        (-[WebNSView opaqueAncestor]): Always return the topmost WebHTMLView if the object is
	inside one, even if there is an intervening opaque object.

        * WebView.subproj/WebView.m:
        (-[WebView setFrame:]): Do the display call at the window level so the topmost WebHTMLView
	always gets involved.
        * WebView.subproj/WebViewPrivate.h: Remove _controller, since we already have a public
	controller method. Add _isMainFrame.
        * WebView.subproj/WebViewPrivate.m: (-[WebView _isMainFrame]): Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2129 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-23 22:43:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a038c805f244c86c1fa57bf9d9040eefd6b9270');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01h201l58sssyhra', 2, e'        * Panels.subproj/WebStandardPanels.h: Added inline header docs.


git-svn-id: svn://svn.chromium.org/blink/trunk@2128 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-23 22:17:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5eeaf9cbd4f3c00fbe1556734d475607ae89fc6d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01h301l5y9nlym6s', 2, e'	Changes to the WebCache interface to bring it closer into line
        with the current API proposal. Changes in other classes have been made to
        keep up with the WebCache changes.

	Added removeCacheObjectForKey method.
	Renamed cacheVars pointer in WebCache header to more "standard" _private.
	Changed names of private methods so that they begin with underscores.

        * CacheLoader.subproj/WebCache.h:
        * CacheLoader.subproj/WebCache.m:
        (-[WebCache initWithSizeLimit:])
        (-[WebCache removeCacheObjectForKey:])
        (-[WebCache sizeLimit])
        (-[WebCache setSizeLimit:])
        (-[WebCache objectSizeLimit])
        (-[WebCache setObjectSizeLimit:])
        (-[WebCache currentUsage])
        (-[WebCache clearCache])
        (-[WebCache dealloc])
        (-[WebCache _syncCache])
        (-[WebCache _setCurrentUsage:])
        (-[WebCache _truncateToSizeLimit:])
        * CacheLoader.subproj/WebCachePrivate.h:
        * CacheLoader.subproj/WebDiskCache.m:
        (-[WebDiskCache removeCacheObjectForKey:])
        (-[WebDiskCache _syncCache])
        (-[WebDiskCache _truncateToSizeLimit:])
        * CacheLoader.subproj/WebMemoryCache.m:
        (-[WebMemoryCache _truncateToSizeLimit])
        (-[WebMemoryCache storeCacheObject:forKey:])
        (-[WebMemoryCache removeCacheObjectForKey:])
        (-[WebMemoryCache clearCache])
        * CacheLoader.subproj/WebResourceLoadManager.m:
        (-[WebResourceLoadManager syncAllCaches])
        * Database.subproj/WebFileDatabase.m:
        (-[WebFileDatabase _truncateToSizeLimit:])
        (-[WebFileDatabase performSetObject:forKey:])
        (-[WebFileDatabase setSizeLimit:])


git-svn-id: svn://svn.chromium.org/blink/trunk@2127 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-23 21:44:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/549d332601eb1dd6f34126c1f0e150d4132032d4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01h401l580ck781u', 2, e'        * WebView.subproj/WebWindowContext.h: Added inline header docs.


git-svn-id: svn://svn.chromium.org/blink/trunk@2126 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-23 21:36:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bccc22da7ed1f934c79d3ecce4309e594169c9a0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01h501l52gtibcoa', 2, e'	Don\'t let alternate stylesheets delay render tree construction.

        * khtml/html/html_headimpl.cpp:
        (HTMLLinkElementImpl::HTMLLinkElementImpl):
        (HTMLLinkElementImpl::process):
        (HTMLLinkElementImpl::setStyleSheet):
        (HTMLLinkElementImpl::sheetLoaded):
        * khtml/html/html_headimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2125 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-23 19:30:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bdcf88ce93b726ba47f6a2d29d799ea5f312155b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01h601l55my9ryhx', 2, e'	Make overflow:auto and scroll map to hidden until we figure
	out something better.

        * khtml/css/cssstyleselector.cpp:


git-svn-id: svn://svn.chromium.org/blink/trunk@2124 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-23 17:56:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6511e20649e4f0ea62f27fd1e642d2d44205dbec');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01h701l5atwcmsml', 2, e'	Fixes for some build problems I missed earlier due to the fact that PB can\'t handle header dependencies,
	and I did not do a clean build of WebKit.

        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream receivedError:withDataSource:]): WebFoundation error constant name change.
        (-[WebNetscapePluginStream cancel]): Ditto.
        * WebCoreSupport.subproj/WebCookieAdapter.m:
        (-[WebCookieAdapter cookiesEnabled]): Modified to use [[WebCookieManager sharedCookieManager] acceptPolicy]
	rather than reaching down into CFPreferences directly.
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:]): WebFoundation error constant name change.
        (-[WebSubresourceClient cancel]): Ditto.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient didCancelWithHandle:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2123 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-23 17:25:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/94aece4c6cbd3f7187839c1dcf42ee69c3252f34');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01h801l5ki3372ec', 2, e'        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]):
	Don\'t special case the top level frame\'s view so much.
        (-[WebHTMLView _recursiveDisplayAllDirtyWithLockFocus:visRect:]): Ditto.
        (-[NSView _web_propagateDirtyRectToAncestor]): Use public method here instead of private.


git-svn-id: svn://svn.chromium.org/blink/trunk@2122 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-23 17:22:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1a8a492f709d5f654242ab2f41c7c43b39a95fd3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01h901l5yyg8anxh', 2, e'	More refinement of the AppKit hackery.

        * khtml/rendering/render_replaced.cpp:
        (RenderWidget::printObject): Pass in the painter and rect.

        * kwq/qt/qwidget.h: Take a painter and rect parameter.
        * kwq/KWQWidget.mm: (QWidget::paint): Use painter; not working yet to use rect.

        * kwq/KWQFileButton.h: Change paint to take painter and rect.
        * kwq/KWQFileButton.mm: (KWQFileButton::paint): Use painter.

        * kwq/qt/qpainter.h: Added paintingDisabled() function.
        * kwq/KWQPainter.mm: (QPainter::paintingDisabled): Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2121 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-23 17:21:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/74dbf1071a2ef3b559e362010c7adbe2b864ee3a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01ha01l59iilwszj', 2, e'WebFoundation:

        Modified code to work with new WebError API. Many changes in that API, including removing terminal errors,
	taking a pass at the error constants, and cleaning up the init methods.

        * AuthenticationManager.subproj/WebAuthenticationManager.m:
        (-[WebAuthenticationManager _checkForAuthenticationFailureInHTTPResponse:withURL:result:]): WebFoundation error code constant name changes
        * AuthenticationManager.subproj/WebAuthenticationManagerPrivate.h: Removed WebResult enumerated type; replace with int
        * CacheLoader.subproj/IFURLHandleC.h: WebError API change
        * CacheLoader.subproj/IFURLHandleC.m: Ditto
        (IFURLHandleBackgroundLoadFailedWithResultCode):
        * CacheLoader.subproj/WebCacheLoaderConstants.h: Removed error constants; moved to WebError.h
        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceHandle cancelLoadInBackground]): WebFoundation error code constant name changes
        * CacheLoader.subproj/WebResourceLoad.h: WebError API change
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad failedWithResultCode:inDomain:failingURL:]): WebError API change
        (-[WebResourceLoad didRedirectToURL:permanent:]): Ditto.
        (-[WebResourceLoad _scheduleOriginLoad]): Ditto.
        (-[WebResourceLoad _beginOriginLoad]): Ditto.
        (_loadSweeper): Ditto.
        * CacheLoader.subproj/WebResourceResponse.m:
        (-[WebResourceResponse init]): WebFoundation error code constant name changes
        * English.lproj/WebError.strings: Updated strings file. This file was way out of date.
        * Misc.subproj/WebError.h: Updated API. Terminal error concept removed. API simplified. Error constants moved into this file.
        * Misc.subproj/WebError.m:
        (classInitialize): Changes to adapt to new API.
        (-[WebError initWithErrorCode:inDomain:failingURL:]): Ditto
        (-[WebError errorDescription]): Ditto
        (+[WebError addErrorsWithCodesAndDescriptions:inDomain:]): Ditto
        * ProtocolHandlers.subproj/WebCFNetworkHTTPProtocolHandler.m:
        (-[WebCFNetworkHTTPProtocolHandler continueBeginLoadInBackgroundAfterCreatingHTTPRequest]): WebFoundation error code constant na

WebKit:

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge reportBadURL:]): WebFoundation error code constant name change
        * WebView.subproj/WebView.m:
        (+[WebView initialize]): WebError addErrorsFromDictionary changed to addErrorsWithCodesAndDescriptions

WebBrowser:

	Modified code to work with new WebError API.

        * DownloadProgressEntry.m:
        (+[DownloadProgressEntry entryWithDictionary:]): Modified for new "no terminal error" WebError API
        (-[DownloadProgressEntry stop]): WebFoundation error code constant name change
        * FrameProgressEntry.m:
        (-[FrameProgressEntry stage]): Ditto
        * LocationChangeError.m:
        (-[LocationChangeHandler specializedTitleForError:]): Ditto
        (-[LocationChangeHandler specializedMessageForError:]): Ditto
        (-[LocationChangeHandler displayLocationChangeError:]): Ditto
        * LocationChangeHandler.m:
        (-[LocationChangeHandler locationChangeDone:forDataSource:]): Modified for new "no terminal error" WebError API
        * Preferences.subproj/SecurityPreferences.m:
        (-[SecurityPreferences updateCookiesViews]): Fixed unitialized variable build breaker I encountered when doing a Deployment build.
        * ResourceProgressEntry.m:
        (-[ResourceProgressEntry stage]): WebFoundation error code constant name change


git-svn-id: svn://svn.chromium.org/blink/trunk@2120 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-23 14:58:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d87ea8cd4a1255d100a3512b3112d6d6fa4d26ad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01hb01l56deuci1o', 2, e'	- fixed 3057380 -- insertion point shows through elements in front of text fields

        * WebView.subproj/WebHTMLViewPrivate.m:
        (+[WebHTMLView initialize]): Make WebNSTextView pose as NSTextView.
        (-[WebNSTextView _web_inHTMLView]): Helper method.
        (-[WebNSTextView isOpaque]): Override to return NO for all text views that are inside
	an WebHTMLView, so they don\'t try to do insertion point caching.
        (-[WebNSTextView drawInsertionPointInRect:color:turnedOn:]): Use setNeedsDisplayInRect
	to trigger insertion point drawing outside drawRect instead of drawing right away.
        (-[WebNSTextView _drawRect:clip:]): Set flag so the above can know when it\'s inside
	drawRect and when it\'s not.


git-svn-id: svn://svn.chromium.org/blink/trunk@2119 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-23 04:31:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ce35057a3e30b884f34581a6526512ff5d485e7b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01hc01l5qgg57cy5', 2, e'	Change code that moves NSViews out of the way to run inside drawRect
	after a layout change rather than running at layout time. This makes
	sure that views are in the right place when propagating dirty rects.

        * kwq/KWQKHTMLPartImpl.h: Add paint method and _needsToSetWidgetsAside flag.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::KWQKHTMLPartImpl): Set _needsToSetWidgetsAside to false.
        (KWQKHTMLPartImpl::layout): Set _needsToSetWidgetsAside to true. Don\'t call
	moveWidgetsAside any more.
        (KWQKHTMLPartImpl::paint): Moved the code here from the bridge, but also call
	moveWidgetsAside if _needsToSetWidgetsAside flag is set.
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge drawRect:withPainter:]): Call KWQKHTMLPartImpl::paint, which
	is where I moved this code.


git-svn-id: svn://svn.chromium.org/blink/trunk@2118 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-23 04:27:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/833e2bcbd64244840da4117331110d8a0ecc084c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01hd01l5jxq6kk6y', 2, e'	- fixed 3057265 -- REGRESSION: Crash loading http://www.undetectables.co.uk/

        * khtml/khtml_part.cpp: (KHTMLPart::processObjectRequest):
	Remove special case for javascript and about:blank that was leading to a crash.


git-svn-id: svn://svn.chromium.org/blink/trunk@2117 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-22 06:01:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/272fa48908c4cd3585d42e554be6fdd821a651e2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnyxb01he01l5g2chvs4m', 2, e'	Fix crashing part of 3057265 -- REGRESSION: Crash loading http://www.undetectables.co.uk/

        * khtml/khtml_part.cpp: (KHTMLPart::processObjectRequest):
	Remove special case for javascript and about:blank that was leading to a crash.


git-svn-id: svn://svn.chromium.org/blink/trunk@2116 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-22 05:52:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/798bb68fc25a1c378fe9bee532fbc0f20aba1afc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01fr01l5dqteqt8i', 2, e'WebCore:

	WebCore part of the new approach to AppKit drawing control.
	Works better than the previous try. Once we fix anomalies with focus rectangles
	and a minor problems with subframes this should work perfectly.

        * kwq/qt/qwidget.h: The paint() method isn\'t virtual any more. Also remove flushDrawing().
        * kwq/KWQWidget.mm: (QWidget::enableFlushDrawing): Do a flushWindowIfNeeded instead
	of requiring a separate flushDrawing() call to do a flushWindow.
        (QWidget::paint): Added. Calls displayRectIgnoringOpacity.

        * kwq/qt/qbutton.h: Remove paint() override.
        * kwq/KWQButton.mm: (QButton::QButton): No need for a subclass any more, so
	drop KWQNSButton. Also remove paint().

        * kwq/qt/qcombobox.h: Remove paint() override.
        * kwq/KWQComboBox.mm: (QComboBox::QComboBox): No need for a subclass any more, so
	drop KWQNSPopUpButton. Also remove paint() method.

        * kwq/qt/qlineedit.h: Remove paint() override.
        * kwq/KWQLineEdit.mm: Remove paint().

        * kwq/KWQFileButton.mm: (KWQFileButton::clicked): Fix typo. Was calling paint
	instead of clicked on the base class.

        * kwq/KWQNSTextField.h: Remove paint method.
        * kwq/KWQNSTextField.mm:
        (-[KWQNSTextField display]): Add a display method that does nothing to work around
	bug 2753974.
        (-[KWQSecureTextField display]): Ditto.

	* khtml/rendering/render_frames.cpp: (RenderFrameSet::userResize): Remove call to flushDrawing.

WebKit:

	WebKit part of the new approach to AppKit drawing control.
	Works better than the previous try. Once we fix anomalies with focus rectangles
	and a some remaining problems with subframes this should work perfectly.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView isOpaque]): Return NO for frames other than the main frame.
        (-[WebHTMLView drawRect:]): Restore the subviews that were set aside.
        * WebView.subproj/WebHTMLViewPrivate.h: Add _isMainFrame. Add savedSubviews and subviewsSetAside.
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _isMainFrame]): Added.
        (-[WebHTMLView _recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]):
	Added. If this is the main frame, get all the dirty rects from the subviews and then set
	them aside so the AppKit machinery won\'t draw them.
        (-[WebHTMLView _recursiveDisplayAllDirtyWithLockFocus:visRect:]): Ditto.
        (-[NSView _web_propagateDirtyRectToAncestor]): Added. Propagates dirty rects the same
	way that AppKit does, but always does it, ignoring the value of isOpaque.


git-svn-id: svn://svn.chromium.org/blink/trunk@2115 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-21 23:54:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d1f29755cb47ec4c03f1609b4f2959ec28911599');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01fs01l5jsifah8s', 2, e'        Don\'t modify selection if no appropriate DOM::Node under
        mouse.

        * khtml/khtml_part.cpp:
        (KHTMLPart::khtmlMouseMoveEvent):


git-svn-id: svn://svn.chromium.org/blink/trunk@2114 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-21 01:58:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3e9325e5c31486dbefd77f8b8eb1915288c6d98e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01ft01l5fhzwfpmj', 2, e'        Assume triple click for selection if click count >= 3,
        not == 3, as in OS X.

        * khtml/khtml_part.cpp:
        (KHTMLPart::khtmlMousePressEvent):


git-svn-id: svn://svn.chromium.org/blink/trunk@2113 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-21 01:44:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/29f601d60e77c6232cb9fa0bb832cc7df205762f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01fu01l5i1gk9pfs', 2, e'        Fixed crasher in findTextSlave.
        * khtml/rendering/render_text.cpp:
        (RenderText::findTextSlave):

        Added error checks.
        * khtml/khtml_part.cpp:
        (startAndEndLineNodesIncludingNode):


git-svn-id: svn://svn.chromium.org/blink/trunk@2112 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-21 01:33:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff5b7c2510b6b2fcccb320da7b364ecb0adab1e0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01fv01l5jhpm43tk', 2, e'Removed debugging.


git-svn-id: svn://svn.chromium.org/blink/trunk@2111 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-21 01:00:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6d0aeea9abb35fb763555c480dabc762b05a367b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01fw01l5awik4nio', 2, e'        Made double and triple click selection behave like
        like other selection in OS X.  That is, selection happens
        on mouse down, not mouse up, and can be extended by
        further dragging.  Triple click followed by dragging extends
        the selection a line at a time.

        * khtml/khtml_events.cpp:
        * khtml/khtml_events.h:
        * khtml/khtml_part.cpp:
        (KHTMLPart::customEvent):
        (firstSlaveAt):
        (lastSlaveAt):
        (startAndEndLineNodesIncludingNode):
        (KHTMLPart::khtmlMousePressEvent):
        (KHTMLPart::khtmlMouseDoubleClickEvent):
        (KHTMLPart::khtmlMouseMoveEvent):
        * khtml/khtml_part.h:
        * khtml/khtmlpart_p.h:
        * khtml/khtmlview.cpp:
        * khtml/khtmlview.h:
        * khtml/xml/dom_elementimpl.cpp:
        (ElementImpl::setAttribute):
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge mouseUp:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2110 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-21 00:58:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8e0be4086b9de209bd3b478f6c5bbe40aae1337a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01fx01l5h86q26s6', 2, e'        * kwq/KWQFileButton.h: Add an icon.
        * kwq/KWQFileButton.mm:
        (KWQFileButton::KWQFileButton): Nil out icon.
        (KWQFileButton::~KWQFileButton): Release icon.
        (KWQFileButton::setFilename): Get icon with [NSWorkspace iconForFile:].
        (KWQFileButton::clicked): Set prompt string to "Choose", and start directory to "~".
        (KWQFileButton::sizeHint): Pad more for icon width.
        (KWQFileButton::frameGeometry): Ditto.
        (KWQFileButton::setFrameGeometry): Ditto.
        (KWQFileButton::paint): Draw icon. Draw "no file selected" if no filename.

        * kwq/KWQKFileItem.mm: Our "nonimplementation" is good enough. Stop complaining.
        * kwq/KWQKnetaccess.mm: Ditto. Also just extract path when asked to download.


git-svn-id: svn://svn.chromium.org/blink/trunk@2109 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-21 00:42:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c1d0da4724634a3c4784143fed1a8ec7fd9e93f4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01fy01l5k3bwgx20', 2, e'	Some first steps toward implementing input=file.

        * khtml/rendering/render_form.cpp:
        (RenderFileButton::RenderFileButton): Create a KWQFileButton as the widget.
        (RenderFileButton::calcMinMaxWidth): Use sizeHint().
        (RenderFileButton::updateFromElement): Call setFilename().
        (RenderFileButton::select): Don\'t try to selectAll() on m_edit.

        * kwq/KWQFileButton.h: Added.
        * kwq/KWQFileButton.mm: Added.
        * kwq/qt/qhbox.h: Emptied.
        * kwq/KWQHBox.mm: Removed.
        * WebCore.pbproj/project.pbxproj: Removed KWQHBox.mm. Added KWQFileButton.


git-svn-id: svn://svn.chromium.org/blink/trunk@2108 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-20 23:45:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/648dd743ff01bfcbd817226cfe6ac30684ffe185');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01fz01l53u4nco6d', 2, e'	- fixed 3056605 -- REGRESSION: blank page at http://www.2ch.net/2ch.html

        * kwq/mac-encodings.txt: When people say ShiftJIS, they really mean
	DOSJapanese. So do what they mean, not what they say.


git-svn-id: svn://svn.chromium.org/blink/trunk@2107 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-20 21:26:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3beb8bfcc51b8c80087c5febc9f65e84c3dad655');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01g001l57juyq083', 2, e'        * History.subproj/WebHistory.m: (-[WebHistory addEntryForURLString:]):
	Use _web_URLWithString so we can handle unusual characters.

        * WebView.subproj/WebDefaultPolicyHandler.m: Remove stray semicolon.


git-svn-id: svn://svn.chromium.org/blink/trunk@2106 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-20 19:23:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/46438044869a1b1968c3f897452f22ce9dc77a8d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01g101l5pzpzblfb', 2, e'	- fixed 3055339 -- repro crash in RenderPartObject::updateWidget()

        * khtml/khtml_part.cpp: (KHTMLPart::processObjectRequest):
	Only create a new part if we have no old part.

        * kwq/KWQtextstream.mm: Remove some of the "not implemented" logging.
	Once we have logged that the stream is not created correctly, there\'s no need
	to continue logging each time something is written out to the non-stream.


git-svn-id: svn://svn.chromium.org/blink/trunk@2105 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-20 17:13:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3d908d634468fec6763dd625c5c445d83f6c4351');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01g201l5i8guhohi', 2, e'	Fixed wasteful memory usage in the WebIconDatabase:
	- Rather than have multiple NSImages with multiple representations at multiple sizes, have 1 NSImage per size
	- Added API to allow client to control memory caching

        * Misc.subproj/WebIconDatabase.h:
        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase iconForSiteURL:withSize:]): call iconForSiteURL:withSize:cache:YES
        (-[WebIconDatabase iconForSiteURL:withSize:cache:]): new, was iconForSiteURL:withSize:
        (-[WebIconDatabase defaultIconWithSize:]): call _iconFromDictionary:forSize:cache:
        (-[WebIconDatabase _updateFileDatabase]): write the largest icon to disk
        (-[WebIconDatabase _hasIconForSiteURL:]): cleaned-up
        (-[WebIconDatabase _iconsForIconURL:]): call _iconFromDictionary:forSize:cache:
        (-[WebIconDatabase _iconForFileURL:withSize:]): call _iconFromDictionary:forSize:cache:
        (-[WebIconDatabase _builtInIconsForHost:]): call _iconFromDictionary:forSize:cache:
        (-[WebIconDatabase _setIcon:forIconURL:]): _iconsBySplittingRepresentationsOfIcon:
        (-[WebIconDatabase _releaseIconForIconURL:]): icons at different sizes are now stored in dictionaries
        (-[WebIconDatabase _largestIconFromDictionary:]): new, scans the icon dictionary
        (-[WebIconDatabase _iconsBySplittingRepresentationsOfIcon:]): creates the icon dictionary
        (-[WebIconDatabase _iconFromDictionary:forSize:cache:]): returns icon from dict, resizes if necessary
        (-[WebIconDatabase _iconByScalingIcon:toSize:]): tweak
        * Misc.subproj/WebIconDatabasePrivate.h:
        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader startLoading]): don\'t call _iconsForIconURL: because it doesn\'t exist.


git-svn-id: svn://svn.chromium.org/blink/trunk@2104 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-20 16:58:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8c2e8d9f2ab00c32c85eeebc135fe4447d05ee35');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01g301l5vnkyleo5', 2, e'WebFoundation:

        * Makefile.am: Make `doc\' target depend on `all\'.

WebKit:

        * Makefile.am: Make `doc\' target depend on `all\'.
        * WebView.subproj/WebContextMenuHandler.h: Fix typo found by `make doc\'.
        * WebView.subproj/WebLocationChangeHandler.h: Likewise.


git-svn-id: svn://svn.chromium.org/blink/trunk@2103 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-20 06:25:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cd270817186c237a7d2d7634bfeeb4fc821e7158');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01g401l5vc66qjpf', 2, e'Tools:

        * Scripts/make-docs: Added. New script to generate html docs.

WebFoundation:

        * Makefile.am: Changed `make doc\' target to use make-docs script (and
	actually work).
	* CacheLoader.subproj/WebProtocolHandler.h: Remove some docs that
	made headerdoc2html barf.
        * CacheLoader.subproj/WebCacheObject.h: Added some docs.
        * CacheLoader.subproj/WebResourceHandle.h: Added some docs.
        * CacheLoader.subproj/WebResourceResponse.h: Added some docs.

WebKit:

        * Makefile.am: Added `make doc\' target.


git-svn-id: svn://svn.chromium.org/blink/trunk@2102 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-20 05:42:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b4222a7a4ce45f017cf05d7762c47a706dfe491b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01g501l5xi3nlfny', 2, e'        Implemented double and triple click selection.

        * khtml/khtml_events.h:
        * khtml/khtml_part.cpp:
        (KHTMLPart::customEvent):
        (KHTMLPart::khtmlMouseDoubleClickEvent):
        (firstSlaveAt):
        (lastSlaveAt):
        (KHTMLPart::khtmlMouseTripleClickEvent):
        * khtml/khtml_part.h:
        * khtml/rendering/render_text.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge mouseUp:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2101 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-20 04:09:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/95f4e6b4aa4e9b4a7952019eac69e9feb030d78b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01g601l5p3jj7qru', 2, e'	- fixed 3045651 -- null-dereference in DOM::CharacterDataImpl constructor
	setting up text area element

        * khtml/xml/dom_textimpl.cpp: (CharacterDataImpl::CharacterDataImpl):
	Set str to an empty DOMStringImpl instead of to 0. This was easier than
	going around finding all the places that don\'t like a str of 0.

        * WebCore.pbproj/project.pbxproj: Let PB sort things as it likes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2100 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-20 01:03:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8c301d1a87b520f619cb380cea9ce820316385db');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01g701l5bdfpye4e', 2, e'WebKit:

	- cleaned up some SPI for handling URLs on pasteboard

        * Misc.subproj/WebNSPasteboardExtras.h: Added.
        * Misc.subproj/WebNSPasteboardExtras.m: Added.
        (+[NSPasteboard _web_dragTypesForURL]): Moved this here; was
	-[NSView _web_acceptableDragTypes]
        (-[NSPasteboard _web_bestURL]): Moved this here; was
	+[NSView _web_bestURLFromPasteboard:]

        * WebView.subproj/WebView.m:
        (-[WebView initWithFrame:]),
        (-[WebView draggingEntered:]),
        (-[WebView concludeDragOperation:]):
	Updated for SPI change; also removed methods now in NSPasteboard.

        * Misc.subproj/WebNSViewExtras.h:
        * Misc.subproj/WebNSViewExtras.m:
        (-[NSView _web_dragOperationForDraggingInfo:]):
	Updated for SPI change.

        * WebKit.pbproj/project.pbxproj: Updated for new files.

WebBrowser:

	- updated to match SPI changes in WebKit

        * BrowserWebBookmarkExtras.m:
        (+[WebBookmark bookmarkPasteboardTypes]):
	Use +[NSPasteboard _web_dragTypesForURL] instead of secret inside
	knowledge about which types are used by [NSPasteboard _web_bestURL]
        (+[WebBookmark anyBookmarksOnPasteboard:]),
        (+[WebBookmark bookmarksFromPasteboard:]):
	replace +[NSView _web_bestURLFromPasteboard:] with
	-[NSPasteboard _web_bestURL]

        * LocationFieldEditor.m:
        (-[LocationFieldEditor acceptableDragTypes]):
        (-[LocationFieldEditor concludeDragOperation:]):
	replace +[NSView _web_bestURLFromPasteboard:] with
	-[NSPasteboard _web_bestURL], and replace -[NSView _web_acceptableDragTypes]
	with +[NSPasteboard _web_dragTypesForURL]

        * LocationTextField.m:
        (-[LocationTextField awakeFromNib]):
        (-[LocationTextField concludeDragOperation:]):
	replace +[NSView _web_bestURLFromPasteboard:] with
	-[NSPasteboard _web_bestURL], and replace -[NSView _web_acceptableDragTypes]
	with +[NSPasteboard _web_dragTypesForURL]


git-svn-id: svn://svn.chromium.org/blink/trunk@2099 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-09-19 18:59:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1e62bf24882b9561fe93aab8d14bd5da7cea3553');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01g801l52ol25s1f', 2, e'Alex-24 version stamp


git-svn-id: svn://svn.chromium.org/blink/trunk@2097 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-09-19 18:17:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9019a2059243fe693fd49abec3252e7073eb0bba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01g901l5oi35xw3m', 2, e'	Fix two problems that led to an assertion now that a bogus
	load progress doesn\'t pass the "bytesReceived == total" test.

        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream handleDidFinishLoading:]): Nil out the
	resource at the start of the function so that a cancel doesn\'t
	do anything if called in the middle when we stop.
        (-[WebNetscapePluginStream cancel]): Send a cancel error instead
	of a _receivedProgress. And make a partial progress rather than
	sending an empty progress.
        (-[WebNetscapePluginStream handleDidFailLoading:withError:]):
	Same as handleDidFinishLoading.


git-svn-id: svn://svn.chromium.org/blink/trunk@2096 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-19 05:50:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c0084a53471d44d437e4d7c99077f9184715496e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01ga01l5y8g60r9z', 2, e'        More documentation stuff.
        Added attributed text API as requested (yuck!).
        Add reconstructedDocumentSource API as requested.
        Removed cruft (stale API, bogus comments).

        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSource.m:
        * WebView.subproj/WebHTMLRepresentation.h:
        * WebView.subproj/WebHTMLRepresentation.m:
        (-[WebHTMLRepresentation reconstructedDocumentSource]):
        (-[WebHTMLRepresentation attributedText]):
        * WebView.subproj/WebHTMLRepresentationPrivate.h:
        * WebView.subproj/WebHTMLView.h:
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView selectedAttributedText]):
        (-[WebHTMLView selectedText]):
        * WebView.subproj/WebView.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2095 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-19 02:23:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b924230dea7f1f1d3a506fafd17f2e28a4993a70');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01gb01l5llhyyk0t', 2, e'        Header file reorg.
        * BrowserWebController.m:
        * ContextMenuHandler.m:

        Get HTML source from rep.
	* WebBrowser/HTMLSourceDocument.m


        Fix compile errors from John\'s last checkin.
        *WebBrowser/LocationFieldEditor.m
	*WebBrowser/LocationTextField.m

        Added document keywords to headers.
        Made bookmark related APIs private.
        * Misc.subproj/WebIconDatabase.h:
        * Misc.subproj/WebIconLoader.h:
        * Misc.subproj/WebKitErrors.h:
        * Panels.subproj/WebStandardPanels.h:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebDefaultContextMenuHandler.h:
        * WebView.subproj/WebLoadProgress.h:
        * WebView.subproj/WebLocationChangeHandler.h:
        * WebView.subproj/WebPreferences.h:

        Made public
        * WebHTMLRepresentation.h
        * WebHTMLRepresentation.m


git-svn-id: svn://svn.chromium.org/blink/trunk@2094 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-19 01:43:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e1d78424d193eb37776d907ab3f003f469fdc853');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01gc01l5g8eepv22', 2, e'WebKit:

	WebKit part of fix for

	- 3000823 -- special-case drag of webloc file to bookmarks
	- 3004466 -- favorites bar doesn\'t accept drops of URL strings
	or webloc files

        * Misc.subproj/WebNSViewExtras.h:
	- make _web_bestURLForDraggingInfo: a class method and have it
	take an NSPasteboard * instead of an NSDraggingInfo *; change
	name to _web_bestURLFromPasteboard:
        * Misc.subproj/WebNSViewExtras.m:
        (+[NSView _web_bestURLFromPasteboard:]):
	- make this a class method and have it take an NSPasteboard *
	instead of an NSDraggingInfo *
        (-[NSView _web_dragOperationForDraggingInfo:]): Updated for
	SPI change.

        * WebView.subproj/WebView.m:
        (-[WebView draggingEntered:]),
        (-[WebView concludeDragOperation:]): Updated for SPI change.

WebBrowser:

	WebBrowser part of fix for

	- 3000823 -- special-case drag of webloc file to bookmarks
	- 3004466 -- favorites bar doesn\'t accept drops of URL strings
	or webloc files

        * BrowserWebBookmarkExtras.h:
        * BrowserWebBookmarkExtras.m:
        (+[WebBookmark defaultTitleFromURL:]):
	New method, broken out of bookmarkFromURL, now handles remote
	as well as file URLs, and URLs ending with /.
        (+[WebBookmark bookmarkFromURL:]): call defaultTitleFromURL:
        (+[WebBookmark bookmarkPasteboardTypes]): include the types
	that _web_bestURLFromPasteboard:
        (+[WebBookmark anyBookmarksOnPasteboard:]):
	New method, faster than getting bookmarksFromPasteboard and
	checking for non-empty array; more accurate than just checking
	bookmarkPasteboardTypes.
        (+[WebBookmark bookmarksFromPasteboard:]):
	Use _web_bestURLFromPasteboard: if all else fails.

        * BookmarksViewController.m:
        (-[BookmarksViewController outlineView:validateDrop:proposedItem:proposedChildIndex:]),
        (-[BookmarksViewController canPaste]):
	Use +[WebBookmark anyBookmarksOnPasteboard] instead of
	just checking types, since NSStringPboardType (e.g.) may
	or may not be convertible to a bookmark


git-svn-id: svn://svn.chromium.org/blink/trunk@2093 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-09-19 00:46:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/99a4ec400d40188b23639ff6b989dec2abe3ae40');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01gd01l5bdq8a71v', 2, e'        Added documentation keywords to header.
        Create seperate files for the protocols
        that were defined in WebController.h.
        Made -[WebController createFrameNamed:for:inParent:allowsScrolling:]):
        private.

        * Plugins.subproj/WebPluginView.m:
        * WebCoreSupport.subproj/WebBridge.m:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebContextMenuHandler.h: Added.
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        * WebView.subproj/WebDefaultContextMenuHandler.m:
        * WebView.subproj/WebFrame.m:
        * WebView.subproj/WebHTMLView.m:
        * WebView.subproj/WebHTMLViewPrivate.m:
        * WebView.subproj/WebMainResourceClient.m:
        * WebView.subproj/WebResourceProgressHandler.h: Added.
        * WebView.subproj/WebView.m:
        * WebView.subproj/WebWindowContext.h: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2092 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-18 23:58:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15bbeb8ec8d330b3a61c1d60e1ee978c93baf4a3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01ge01l5hhva157f', 2, e'        Added documentation keywords to header.

        * WebView.subproj/WebControllerPolicyHandler.h:

        Made WebDynamicScrollBarsView private

        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2091 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-18 22:50:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/05ca6a548cfa7343e4cb743f96ab4e5a398db51d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01gf01l5biss3rzp', 2, e'	- fixed 3053155 -- REGRESSION: Activity Window thinks 0-byte
	images are "complete"

	I thought I had fixed it before, but this is needed too.

        * WebView.subproj/WebLoadProgress.m:
        (-[WebLoadProgress init]): Set "bytes so far" to 0, not -1.
        (-[WebLoadProgress initWithResourceHandle:]): Make sure we set total
	to -1, not 0, when the response is nil.


git-svn-id: svn://svn.chromium.org/blink/trunk@2090 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-18 22:33:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/768506c6d547d5979c521e3ee8f93b983d798f80');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01gg01l55tfgmddi', 2, e'
        Added documentation keywords to header.

        * WebView.subproj/WebDocument.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2089 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-18 22:19:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c93fde8e57ed2c486c2f04bb6bcfe294264a616f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01gh01l5pxd75fo5', 2, e'        Added documentation keywords to headers.
        Made reset a private method.

        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebFrame.h:
        * WebView.subproj/WebFrame.m:
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame reset]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2088 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-18 22:06:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/29da3c84c4ee632909e8ce3bd2dd19b8690dc19a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01gi01l5ol6qg5hc', 2, e'
        Added documentation keywords to headers.

        * WebView.subproj/WebView.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2087 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-18 21:47:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/375b3c4459b3cb5273f9afd8c409645325509bad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01gj01l5fhfxr3d3', 2, e'        Added documentation keywords to headers.

        * WebView.subproj/WebDataSource.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2086 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-18 21:41:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4d4cd26268fbd80055e546ae9001ba846eeee39e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnxbd01gk01l5xfkj3s0u', 2, e'        * WebView.subproj/WebController.h: Fix typo.


git-svn-id: svn://svn.chromium.org/blink/trunk@2085 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-18 19:46:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/db1f90b4d1c4142d0e70ce2410c1180d9f1a8f88');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0u01ex01l5qwe0c4in', 2, e'        * WebView.subproj/WebController.h: Add getters.
        * WebView.subproj/WebController.m:
        (-[WebController applicationNameForUserAgent]): Added.
        (-[WebController userAgent]): Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@2084 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-18 19:27:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/71cea273d6d68104ac18e1bc0768088e58683f22');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0u01ey01l5ezesa8ai', 2, e'Matt Watson\'s approved changes to fix the fat build on gcc-1203


git-svn-id: svn://svn.chromium.org/blink/trunk@2083 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'vicki', '2002-09-18 18:39:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3bcebd5e89657926fb70ad370778c50d4938e9ac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0u01ez01l5fnffywlb', 2, e'	- fixed 3037974 -- successful Find does not deselect text field

        * khtml/khtml_part.cpp: (KHTMLPart::checkCompleted):
	Turn off the code that restores the cursor position because we don\'t
	use the KHTML saveState/restoreState. But we should.

        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::setSelection): Call setFocusNode(0), because on the
	Macintosh, selection and focus are mutually exclusive.
        (DocumentImpl::close): Remove no-longer-needed APPLE_CHANGES.
        (DocumentImpl::setFocusNode): Set focus to the KHTMLView when focus
	is being removed from a particular node. Clear the selection when
	focus is set on a particular node because on the Macintosh, selection
	and focus are mutually exclusive.

        * kwq/KWQKHTMLPartImpl.h: Add set/clearDocumentFocus functions that we can use
	to keep document\'s idea of focused node in sync. with AppKit\'s.
        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::setDocumentFocus): Added.
	(KWQKHTMLPartImpl::clearDocumentFocus): Added.

        * kwq/KWQNSTextField.mm:
        (-[KWQNSTextField becomeFirstResponder]): Call setDocumentFocus.
        (-[KWQSecureTextField becomeFirstResponder]): Call setDocumentFocus.

        * kwq/qt/qwidget.h: Removed endEditing().
        * kwq/KWQWidget.mm: (QWidget::clearFocus): Call clearDocumentFocus.
	(QWidget::endEditing): Removed.

        * khtml/rendering/render_form.h:
        * khtml/rendering/render_form.cpp:
        (RenderImageButton::RenderImageButton): Remove the KWQInvisibleButton
	hack, which is no longer needed.
        * kwq/KWQInvisibleButton.h: Removed.
        * kwq/KWQInvisibleButton.mm: Removed.
        * WebCore.pbproj/project.pbxproj: Removed KWQInvisibleButton.


git-svn-id: svn://svn.chromium.org/blink/trunk@2082 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-18 18:28:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a09bc6c7a695528d9c06f4773494a2a9ebb7bdd1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01f001l5kp31xz6n', 2, e'	- fixed 3027470 -- hitting tab when the google.com text field is selected
	(all bars hidden) makes border flash

        * kwq/KWQNSTextField.mm:
        (-[KWQNSTextField textDidEndEditing:]): Added. Don\'t call super when the next
	valid key view is nil.
        (-[KWQSecureTextField textDidEndEditing:]): Ditto. Too bad we can\'t share code
	here. Maybe I\'ll figure out a way later.


git-svn-id: svn://svn.chromium.org/blink/trunk@2081 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-18 16:15:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bf890a5e8fc6dd793e8a75aa6ad14ebd8261c35f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01f101l564le4mck', 2, e'	- fixed 3025022 -- Crash in KWQKHTMLPartImpl::redirectionTimerStartedOrStopped()

        * kwq/WebCoreBridge.mm: (-[WebCoreBridge dealloc]): Set the bridge on the part to
	nil just in case someone else is holding a reference, so we won\'t try to dispatch
	methods to an already-deallocated bridge.

	- fixed 3028476 -- illegal instruction crash in KWQTimerCallback timerFired

        * khtml/ecma/kjs_window.cpp: (WindowQObject::parentDestroyed):
	Remove APPLE_CHANGES to avoid calling killTimers(); we can call it
	now that we have a working implementation.
        * khtml/khtmlview.cpp:
        (KHTMLView::~KHTMLView): Remove APPLE_CHANGES that kills timers.
	All timers are killed by ~QObject now, just as in Qt.
        (KHTMLView::clear): Remove APPLE_CHANGES to avoid calling killTimers();
	we can call it now that we have a working implementation.

        * kwq/KWQObject.mm:
        (QObject::~QObject): Call killTimers().
        (QObject::startTimer): Keep a dictionary keyed by QObject, with a dictionary
	of timers for each, rather than one global dictionary. This makes it efficient
	to kill all the timers for an object.
        (QObject::killTimer): Update for new level of dictionary.
        (QObject::killTimers): Kill all the timers in this object\'s timer dictionary
	rather than all timers in the world.
        (QObject::inherits): Add an ERROR for the case where the class name is unknown.


git-svn-id: svn://svn.chromium.org/blink/trunk@2080 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-18 05:12:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/763614e9e8410c40df04eeb564556475b9c7f98a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01f201l5b139nrxn', 2, e'	- fixed 3050818 -- Crash in relative-KURL constructor at site with _ in host name

        * kwq/KWQKURL.mm: Change _ so that it\'s allowed in host names.
        (KURL::KURL): If base URL is invalid, make result invalid too.


git-svn-id: svn://svn.chromium.org/blink/trunk@2079 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-17 23:56:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9d1536fa60a7fbf3456a7f05dd6744600d33b86a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01f301l5t8p11xw7', 2, e'        * khtml/khtmlview.cpp:
        (KHTMLView::viewportMouseTripleClickEvent):
        Added implementation.  Same as viewportMouseReleaseEvent
        except dispatches additional MouseTripleClickEvent event.

        (KHTMLView::viewportMouseDoubleClickEvent):
        Send extra release event.  This emulates Qt
        behavior.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge mouseUp:]):
        Don\'t send extra release event here, instead send
        it in viewportMouseDoubleClickEvent and also in
        viewportMouseTripleClickEvent so DOM doesn\'t get
        confused.

        * kwq/KWQColor.mm:
        (QColor::hsv):
        Fixed marklar divide by 0 problemn.


git-svn-id: svn://svn.chromium.org/blink/trunk@2078 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-17 23:38:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e558e445d04f015281436221681b4345c411ce57');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01f401l5ol9tv0tg', 2, e'	Fix bug where image documents were broken.

        * WebCoreSupport.subproj/WebImageRenderer.m:
        (-[WebImageRenderer drawClippedToValidInRect:fromRect:]): loadStatus of 0
	means the whole image is ready, not 0 scan lines; so check > 0, not >= 0.

        * WebKit.pbproj/project.pbxproj: Let Project Builder be the boss of me.


git-svn-id: svn://svn.chromium.org/blink/trunk@2077 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-17 22:50:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cdf824e4fafc618b78050d44f89317514d04b04a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01f501l5gefl41ob', 2, e'WebCore:

	- fixed 2936933 -- Pages that claim to be UTF-8 but contain invalid
	sequences do not render at all

	Misc. speed improvements. Total 2.6% speedup for cvs-base.

	Improvements for signals.

        * kwq/KWQChar.mm:
        (QChar::isSpace): Add fast case for ASCII.
        (QChar::lower): Add fast case for ASCII.
        (QChar::upper): Add fast case for ASCII.

        * kwq/qt/qcolor.h: Just store RGB values, not NSColor objects.
        * kwq/KWQColor.mm:
        (QColor::QColor): No need to set color to nil.
        (QColor::name): Use QString::sprintf instead of NSString.
        (QColor::setNamedColor): Use KWQInvalidColor instead of nil.
        (QColor::getNSColor): Make an autoreleased NSColor.

        * kwq/KWQKHTMLPartImpl.mm:
        (moveWidgetsAside): Use isWidget() instead of dynamic_cast.

        * kwq/KWQSignal.h: use a QValueList instead of a fixed-size array.
        * kwq/KWQSignal.mm:
        (KWQSignal::connect): Append to list.
        (KWQSignal::disconnect): Remove from list.
        (KWQSignal::call): Use the QValueList.

        * kwq/KWQSlot.mm:
        (KWQSlot::call): Use static_cast instead of dynamic_cast where possible.

        * kwq/qt/qstring.h: Add return value to forceUnicode.
        * kwq/KWQString.mm:
        (QString::fromStringWithEncoding): Implemented using the Text Encoding
	Converter instead of CFString.
        (compareIgnoringCaseForASCIIOnly): New function. Faster find.
        (QString::find): Separate case-sensitive from case-insensitive and speed
	up both of them.
        (QString::stripWhiteSpace): Use the new forceUnicode for simplicity.
        (QString::simplifyWhiteSpace): Ditto.
        (QString::insert): Ditto.
        (QString::remove): Ditto.
        (QString::forceUnicode): Return the unicode pointer.
        (QString::fill): Use the new forceUnicode for simplicity.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge mouseUp:]): Fix two bugs. First, don\'t treat a slow
	click as a double click. Second, deliver a mouse release event even for
	a double click, as Qt does.

WebBrowser:

	Don\'t update the tool tip rectangles every time we update the
	background image. This makes things a little faster.

        * TextFieldWithControls.h: Boolean for whether tool tip rectangles
	are up to date.
        * TextFieldWithControls.m:
        (-[TextFieldWithControls updateToolTips]): Do work only if flag is
	NO. Set flag to YES when done.
        (-[TextFieldWithControls backgroundImage]): Don\'t update the tool
	tip rectangles here.
        (-[TextFieldWithControls setFrameOrigin:]): Mark the tool tip rectangles
	as out of date.
        (-[TextFieldWithControls setFrameSize:]): Mark the tool tip rectangles
	as out of date.
        (-[TextFieldWithControls drawRect:]): Update the tool tips if needed.
        (-[TextFieldWithControls showRightButton:]): Mark the tool tip rectangles
	as out of date.
        (-[TextFieldWithControls setLeftButtonImage:withOrigin:]): Ditto.
        (-[TextFieldWithControls setRightButtonImage:withOrigin:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2076 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-17 22:18:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/838fbc6527f07381f46ee2356a66d1f474823574');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01f601l5ofvt9nz6', 2, e'        * History.subproj/WebHistory.h:
        * History.subproj/WebHistory.m:
        (-[WebHistory addEntryForURLString:]):
        (-[WebHistory containsEntryForURLString:]):
        Added URL string API.  We should remove use of
        NSURL from this API.

        * History.subproj/WebHistoryPrivate.h:
        * History.subproj/WebHistoryPrivate.m:
        (-[WebHistoryPrivate _entryForURLString:]):
        (-[WebHistoryPrivate containsEntryForURLString:]):
        Implementation of above.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer drawGlyphs:numGlyphs:fromGlyphPosition:toGlyphPosition:atPoint:withPadding:withTextColor:backgroundColor:]):
        (-[WebTextRenderer slowFloatWidthForCharacters:stringLength:fromCharacterPostion:numberOfCharacters:applyRounding:]):
        Use ((int)(x + (1.0 - FLT_EPSILON))) instead of ceil().

        * khtml/css/cssstyleselector.cpp:
        Fixed bug in KHTML that incorrectly modified \'//\' in fragment part of URL.

        * kwq/KWQKHistoryProvider.mm:
        Use string based API to add entry.  May eventually remove NSURL from
        history entirely.

        * kwq/KWQKURL.mm:
        (KURL::canonicalURL):
        Simply return the urlString.

        (KURL::parse):
        Added "/" to http and https empty path URLs.

        * kwq/KWQString.mm:
        (QString::mid):
        Optimize ascii case.

        * kwq/WebCoreHistory.h:
        * kwq/WebCoreHistory.m:
        (-[WebCoreHistory addEntryForURLString:]):
        Use string based API to add entry.

        * kwq/kdecore/kurl.h:
        Defined methods to access canonical components,
        currently conditionally excluded.

        No longer commit history in the browser, now done in WebKit.

        * BrowserDocument.m:
        * LocationChangeHandler.m:
        (-[LocationChangeHandler locationChangeCommittedForDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2075 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-17 22:10:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/92e294433bf7b49e36419181d524094eab912b74');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01f701l536zugind', 2, e'        * History.subproj/WebHistoryPrivate.m: Do that for real.


git-svn-id: svn://svn.chromium.org/blink/trunk@2074 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-17 01:24:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d5a35a4f052ba164830d1f883c5f559195e327b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01f801l5mcyhrdo6', 2, e'        Remove fix (according to John, partial fix) for 3051288.
        Canonicalizing the URL strings used in the history db
        is very slow!  ~8% slower.

        * History.subproj/WebHistoryPrivate.m:
        (-[WebHistoryPrivate addEntry:]):
        (-[WebHistoryPrivate removeEntry:]):
        (-[WebHistoryPrivate containsURL:]):
        (-[WebHistoryPrivate entryForURL:]):

        * WebView.subproj/WebHTMLView.h:
        Removed cruft from header.


git-svn-id: svn://svn.chromium.org/blink/trunk@2073 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-16 23:23:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/086ddfe0bd60685a3c9c88c06ea0db3fb99e4044');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01f901l5lpaxxswm', 2, e'	Fix the stylesheet loading regression on rubyfruit.

        * khtml/html/html_headimpl.cpp:
        (HTMLStyleElementImpl::HTMLStyleElementImpl):
        (HTMLStyleElementImpl::childrenChanged):
        (HTMLStyleElementImpl::isLoading):
        * khtml/html/html_headimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2072 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-16 19:17:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c3328154245a883dbe6c6bfc022baac53b1c595b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fa01l544c3nqim', 2, e'	- fixed 3050810 -- while an image is loading progressively, it draws
	white rather then page background

        * WebCoreSupport.subproj/WebImageRenderer.m:
        (-[WebImageRenderer drawClippedToValidInRect:fromRect:]): Added. Used instead
	of a direct call to drawInRect:fromRect:operation:fraction:, this only draws
	the part of the image that is valid according to loadStatus.
        (-[WebImageRenderer nextFrame:]): Use drawClippedToValidInRect:fromRect:.
        (-[WebImageRenderer beginAnimationInRect:fromRect:]): Ditto.
        (-[WebImageRenderer tileInRect:fromPoint:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2071 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-16 15:09:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ebfe0631afb5185a76cfe4d18346d54a1d68e999');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fb01l5wjszz3n2', 2, e'       Fixed 3051288.  URLs were not being canonicalized, so matching failed.

        * History.subproj/WebHistoryPrivate.m:
        (-[WebHistoryPrivate addEntry:]):
        (-[WebHistoryPrivate removeEntry:]):
        (-[WebHistoryPrivate containsURL:]):
        (-[WebHistoryPrivate entryForURL:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2070 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-14 04:01:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7fdedd05842e351d48fec53aacd9057d3d50c5c0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fc01l518g5kn1f', 2, e'        Fixed 3050636.  90% solution.  The "Display Images Automatically"
        preference will be used to disallow image draggging.  So if this
        is set after pages have loaded, their images will not be draggable,
        and vice-versa.  Not disastrous as dragging in either case has little
        or no negative consequences.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2069 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-14 03:30:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fda20d81c5ab2255bb3faee9efa86c3aa9ce25f3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fd01l59t39pzz9', 2, e'	Landing code that makes textfields, buttons, checkboxes, radio
	buttons, and dropdown lists all draw correctly with respect to
	z-index.  They all employ the same simple hack (just never paint
	unless KHTML tells them to).

	Unpatched widgets include the password field, the listbox, and the
	textarea.

	The only issue with regards to painting with the widgets I\'ve
	patched is the textfield... its editor floats to the top when the
	field is being edited.

	Event handling will also be incorrect and will need to be patched
	separately.

        * khtml/rendering/render_body.cpp:
        (RenderBody::printBoxDecorations):
        * khtml/rendering/render_replaced.cpp:
        (RenderWidget::printObject):
        * kwq/KWQButton.mm:
        (QButton::QButton):
        (QButton::paint):
        (-[KWQNSButton drawRect:]):
        (-[KWQNSButton paint]):
        * kwq/KWQComboBox.mm:
        (-[KWQNSPopUpButton drawRect:]):
        (-[KWQNSPopUpButton paint]):
        (QComboBox::QComboBox):
        (QComboBox::insertItem):
        (QComboBox::paint):
        * kwq/KWQLineEdit.mm:
        (QLineEdit::paint):
        * kwq/KWQNSTextField.h:
        * kwq/KWQNSTextField.mm:
        (-[KWQNSTextField paint]):
        * kwq/qt/qbutton.h:
        * kwq/qt/qcombobox.h:
        * kwq/qt/qlineedit.h:
        * kwq/qt/qwidget.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2068 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-14 02:05:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e16962b793b5d799634cabc42da80bc48600d860');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fe01l50og7jxgd', 2, e'        Fixed navigation to link on mouse up after drag.

        * khtml/khtmlview.cpp:
        (KHTMLView::viewportMousePressEvent):
        (KHTMLView::viewportMouseDoubleClickEvent):
        Change khtml\'s definition of double click to be based on
        mouse up of second click, not mouse down.

        (KHTMLView::viewportMouseReleaseEvent):

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge mouseUp:]):
        (-[WebCoreBridge mouseDown:]):
        Changed double click to be on mouse up with click count of two.


git-svn-id: svn://svn.chromium.org/blink/trunk@2067 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-14 01:07:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/995a7cbbc0557100eaac7320a1dc14355bdbb2e8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01ff01l5mtpyhmvy', 2, e'WebFoundation:

	WebFoundation changes for:

	- fixed 3032238 - Eliminate "Ask each time" choice for cookies

	I also unwound some now-needless async code paths.

        * CacheLoader.subproj/WebCFNetworkHTTPProtocolHandler.h:
        * CacheLoader.subproj/WebCFNetworkHTTPProtocolHandler.m:
        (-[WebCFNetworkHTTPProtocolHandler endLoadInBackground]):
        (-[WebCFNetworkHTTPProtocolHandler handleReadStreamEvent:event:]):
        (-[WebCFNetworkHTTPProtocolHandler setResponseHeadersUsingHTTPResponse:andCall:context:]):
        (-[WebCFNetworkHTTPProtocolHandler performStreamRead:]):
        * CookieManager.subproj/IFCookieAcceptHandlerC.h: Removed.
        * CookieManager.subproj/IFCookieAcceptHandlerC.m: Removed.
        * CookieManager.subproj/IFCookieAcceptRequestC.h: Removed.
        * CookieManager.subproj/IFCookieAcceptRequestC.m: Removed.
        * CookieManager.subproj/IFCookieManagerC.h:
        * CookieManager.subproj/IFCookieManagerC.m:
        (IFCookieManagerSetCookiesFromResponseHeaders):
        * CookieManager.subproj/WebCookieAcceptHandler.h: Removed.
        * CookieManager.subproj/WebCookieAcceptHandlerDispatcher.h: Removed.
        * CookieManager.subproj/WebCookieAcceptHandlerDispatcher.m: Removed.
        * CookieManager.subproj/WebCookieAcceptRequest.h: Removed.
        * CookieManager.subproj/WebCookieAcceptRequest.m: Removed.
        * CookieManager.subproj/WebCookieAcceptRequestPrivate.h: Removed.
        * CookieManager.subproj/WebCookieConstants.h:
        * CookieManager.subproj/WebCookieManager.h:
        * CookieManager.subproj/WebCookieManager.m:
        (-[WebCookieManagerPrivate init]):
        (-[WebCookieManagerPrivate dealloc]):
        (-[WebCookieManager _readAcceptCookiesPreference]):
        (-[WebCookieManager _setCookies:forURL:]):
        (-[WebCookieManager setCookie:]):
        (-[WebCookieManager setCookiesFromResponseHeaders:forURL:]):
        * Misc.subproj/WebFoundation.h:
        * WebFoundation.exp:
        * WebFoundation.pbproj/project.pbxproj:

WebKit:

	WebKit changes for:

	- fixed 3032238 - Eliminate "Ask each time" choice for cookies

        * Panels.subproj/WebStandardPanels.h:
        * Panels.subproj/WebStandardPanels.m:
        (-[WebStandardPanels useStandardAuthenticationPanel]):
        * WebCoreSupport.subproj/WebCookieAdapter.m:
        (-[WebCookieAdapter cookiesEnabled]):
        * WebKit.pbproj/project.pbxproj:

WebBrowser:

	WebBrowser changes for:

	- fixed 3032238 - Eliminate "Ask each time" choice for cookies

        * AppController.m:
        (-[AppController awakeFromNib]):
        * Preferences.subproj/English.lproj/SecurityPreferences.nib:
        * Preferences.subproj/SecurityPreferences.h:
        * Preferences.subproj/SecurityPreferences.m:
        (-[SecurityPreferences takeCookiePolicyFrom:]):
        (-[SecurityPreferences updateCookiesViews]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2066 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-14 00:53:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/686d0f37872d8d8d6dc2a3052947d514eae6d917');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fg01l5az6ydx92', 2, e'	Fix crash in slot code.

        * kwq/KWQSignal.mm: (KWQSignal::call): Copy the slots before
	calling through in case we are destroyed by the called function.


git-svn-id: svn://svn.chromium.org/blink/trunk@2065 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-14 00:35:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e93d93888095106608b30e3c19ca6880ace93ef9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fh01l5ph6m8mkl', 2, e'WebCore:

	Here\'s the *real* mistake that killed plugins. I accidentally
	stopped creating objects at all! Duh. Fixed now.

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::createPart):
	Make a part for a plugin if we need one. Not a KHTMLPart, but
	a KWQPluginPart.

WebKit:

	Added assertions, and dealt with some breakage I created while
	trying to fix, here, what I broke in WebCore.

        * Plugins.subproj/WebPluginView.m: (-[WebNetscapePluginView start]):
	Do get the dataSource from our parent when we are being used as an
	object in a view rather than a document view.

        * Plugins.subproj/WebPluginStream.m:
        * WebView.subproj/WebDataSource.m:
        * WebView.subproj/WebFrame.m:
	Leave in the assertions I used to debug.


git-svn-id: svn://svn.chromium.org/blink/trunk@2064 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-14 00:02:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/72b56ebb8588e29196e2bab2b85bb56c26326ecd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fi01l56pqhax9p', 2, e'WebKit:

	- fixed 3031685 -- The text encoding setting is not propagated to subframes

        * WebView.subproj/WebDocument.h: Remove old WebDocumentTextEncoding methods,
	add supportsTextEncoding.
        * WebView.subproj/WebController.m:
        (-[WebController supportsTextEncoding]): Check the document view to see if
	it supports WebDocumentTextEncoding and returns YES.
        (-[WebController setCustomTextEncoding:]): Call _reloadAllowingStaleDataWithOverrideEncoding.
        (-[WebController resetTextEncoding]): Ditto.
        (-[WebController _mainFrameOverrideEncoding]): Added. Gets encoding from the data source
	of the main frame; provisional if there, main if not.
        (-[WebController hasCustomTextEncoding]): Call _mainFrameOverrideEncoding.
        (-[WebController customTextEncoding]): Ditto.

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setParent:]): Set the override encoding to the parent\'s.

        * WebView.subproj/WebFrame.m:
        (-[WebFrame reload]): Release request to fix storage leak. Set the override encoding
	on the new data source to match the old.

        * WebView.subproj/WebFramePrivate.h: New name for stale data reload method.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _reloadAllowingStaleDataWithOverrideEncoding:]): Do pretty much the
	same thing reload does with a few differences. Get the encoding from the parameter
	rather than the old data source, and set the policy to the one that uses data from
	the cache, even stale data, if present

        * WebView.subproj/WebHTMLView.m:  (-[WebHTMLView supportsTextEncoding]): Return YES.

WebBrowser:

	WebCore part of text encoding fix.

        * BrowserWindowController.m:
        (-[BrowserWindowController validateMenuItem:]): Call the new WebKit methods.
        (-[BrowserWindowController changeTextEncoding:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2063 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-13 22:57:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9b8d25c6f520b9cebabb34a316823a75c67c549a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fj01l5dynzg81o', 2, e'        Made justified text work correctly in khtml for rendering
        and selection.  Optimized selection point calculation by
        only doing characters measurements once.

        * khtml/rendering/font.cpp:
        (Font::floatCharacterWidths):
        * khtml/rendering/font.h:
        * khtml/rendering/render_text.cpp:
        (TextSlave::checkSelectionPoint):
        (RenderText::position):
        * kwq/KWQFontMetrics.mm:
        (QFontMetrics::width):
        (QFontMetrics::floatWidth):
        (QFontMetrics::floatCharacterWidths):
        * kwq/KWQPainter.mm:
        (QPainter::drawText):
        * kwq/WebCoreTextRenderer.h:
        * kwq/qt/qfontmetrics.h:

        Adding padding and widths buffer to our canonical measurement
        method.  The padding argument is used to \'pad\' measurements in
        that same way that drawing is padded.  The widths parameter
        allows a caller to pass a buffer to get all the individual
        character widths for the run of characters in the string.

        * Misc.subproj/WebStringTruncator.m:
        (+[WebStringTruncator rightTruncateString:toWidth:withFont:]):
        (+[WebStringTruncator centerTruncateString:toWidth:withFont:]):
        * WebCoreSupport.subproj/WebTextRenderer.h:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer widthForCharacters:length:]):
        (-[WebTextRenderer drawGlyphs:numGlyphs:fromGlyphPosition:toGlyphPosition:atPoint:withPadding:withTextColor:backgroundColor:]):
        (-[WebTextRenderer floatWidthForCharacters:stringLength:characterPosition:]):
        (-[WebTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2062 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-13 22:38:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/77bb5cdb12819006f2a7af08efb45856083c36df');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fk01l5anps2hnk', 2, e'	Quiet error messages related to the slot/signal changes.

        * khtml/khtml_part.cpp:
        (KHTMLPart::startAutoScroll): Ifdef this out.
        (KHTMLPart::stopAutoScroll): Ditto.

        * kwq/KWQObject.mm:
        (QObject::connect): Add two more expected members to the list for
	setStatusBarText and slotViewCleared.

        * kwq/KWQSignal.h: Allow 4 slots per signal.
	I don\'t want to make it a variable number, but we can if we have to.
        * kwq/KWQSignal.mm:
        (KWQSignal::connect): Support multiple slots.
        (KWQSignal::disconnect): Support multiple slots.
        (KWQSignal::call): Support multiple slots.


git-svn-id: svn://svn.chromium.org/blink/trunk@2061 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-13 22:26:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/deaae95664da4107ce3d108b17262600bd19ca00');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fl01l541j3cfwz', 2, e'	Fix dataSource-related plugin crash.

        * Plugins.subproj/WebPluginView.m:
        (-[WebNetscapePluginView start]): Don\'t grab dataSource here.
	It\'s too early.
        (-[WebNetscapePluginView setDataSource:]): Grab it here.

        * Plugins.subproj/WebPluginStream.h:
        * Plugins.subproj/WebPluginStream.m:
	Simplified includes and added asserts while debugging.


git-svn-id: svn://svn.chromium.org/blink/trunk@2060 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-13 21:35:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3a9160150922896b4b118ecbdf3a88f91f5fad66');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fm01l5ag9hil8a', 2, e'	Fix assertion that happens on any page that has a non-HTML frame.

	We were sending signals for objects in m_objects that are only supposed
	to be sent for frames in m_frames. The fix is to use actual slot/signal
	connections instead of our hard-coded logic.

        * kwq/KWQKHTMLPartImpl.h: Add signals for started and completed.
        * kwq/KWQKHTMLPartImpl.mm:
        (KHTMLPart::completed): Emit completed signal.
        (KHTMLPart::started): Emit started signal.
        (KWQKHTMLPartImpl::KWQKHTMLPartImpl): Create signals.

        * kwq/KWQObject.mm:
        (QObject::connect): Write out an error message if we see any signal connections
	to signals that aren\'t implemented, with a hardwired exception list for ones we
	either aren\'t ever going to do or just haven\'t gotten around to yet.

        * kwq/KWQSignal.h: Add support for signals that take bool and KIO::Job *.
        * kwq/KWQSignal.mm:
        (KWQSignal::connect): Put in an actual ERROR call for the case where this fails.
        (KWQSignal::disconnect): Put in an actual ERROR call for the case where it fails.
        (KWQSignal::call): Add overloads for bool and KIO::Job *.

        * kwq/KWQSlot.h: Add support for slots that take bool and KIO::Job *.
        * kwq/KWQSlot.mm:
        (KWQSlot::KWQSlot): Add four new members.
        (KWQSlot::call): Add overloads for bool and KIO::Job * and support for the new
	members.


git-svn-id: svn://svn.chromium.org/blink/trunk@2059 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-13 21:32:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3f621c126068067bfef76f1c8330690d533ecc75');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fn01l5ry3vr0d6', 2, e'        Changed drag hysteresis to 5 and disallow selection initiation within
        a link.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2058 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-13 20:06:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/10018d78def34b4688b04d2a5a8d71ad90025c23');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fo01l5pnmsnlws', 2, e'top level:

        * Tests/WebFoundation-Misc/ifnsurlextensions-test.m: Remove uneeded
	include of NSURLPathUtilities.h.

WebCore:

        * kwq/KWQAssertions.h: Update assertions from from the copy in WebFoundation.
        * WebCorePrefix.h: Remove NSURLPathUtilities.h include.

	Use even more of the KHTML code so we get referrers in one more place.

        * kwq/WebCoreBridge.h: Add referrer to createChildFrameNamed.

        * khtml/khtml_part.h: Less APPLE_CHANGES, no substantive change.
        * khtml/khtml_part.cpp:
        (KHTMLPart::requestFrame): Use more of this, less APPLE_CHANGES.
        (KHTMLPart::requestObject): Ditto.
        (KHTMLPart::processObjectRequest): Ditto.

        * khtml/rendering/render_frames.h: Less APPLE_CHANGES.
        * khtml/rendering/render_frames.cpp: Less APPLE_CHANGES.

        * kwq/kparts/browserextension.h: Add lockHistory/setLockHistory and
	openURLNotify.

        * kwq/khtml/khtml_ext.h: Add openURLNotify.
        * kwq/KWQKHTMLPartImpl.h: Add openURLNotify.
        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::openURLNotify): Implement.

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::createPart):
	Changed name from requestFrame. Do less work.

        * kwq/qt/qtimer.h: Add singleShot.
        * kwq/KWQTimer.mm:
        (+[KWQSingleShotTimerTarget targetWithQObject:member:]): Added.
	Used to implement singleShot.
        (-[KWQSingleShotTimerTarget dealloc]): Ditto.
        (-[KWQSingleShotTimerTarget timerFired:]): Ditto.
        (QTimer::singleShot): Added.

        * kwq/qt/qmap.h: Add contains.

        * kwq/qt/qvaluelist.h: Add iterator return value for append and prepend.
        * kwq/KWQValueListImpl.h: Add iterator return value for appendNode
	and prependNode.
        * kwq/KWQValueListImpl.mm:
        (KWQValueListImpl::appendNode): Add iterator.
        (KWQValueListImpl::prependNode): Add iterator.

        * kwq/kparts/part.h: Add openURL.

WebKit:

	Prep work for fixes to the text encoding for subframes.

        * WebCoreSupport.subproj/WebBridge.h: Remove [loadURL:withParent:].
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge createChildFrameNamed:withURL:referrer:renderPart:allowsScrolling:marginWidth:marginHeight:]):
	Added referrer parameter.

        * WebView.subproj/WebController.h: Add new methods, not implemented yet.
        * WebView.subproj/WebController.m:
        (-[WebController supportsTextEncoding]): Here is one.
        (-[WebController setCustomTextEncoding:]): Another.
        (-[WebController resetTextEncoding]): Etc.
        (-[WebController hasCustomTextEncoding]): Etc.
        (-[WebController customTextEncoding]): Etc.

        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource startLoading]): Remove the forceRefresh flag.
	This is now controlled by the WebResourceRequest.
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading]): Same for this private version.
        * WebView.subproj/WebFrame.h:
        * WebView.subproj/WebFrame.m:
        (-[WebFrame startLoading]): Remove the forceRefresh flag.
        (-[WebFrame reload]): Remove the forceRefresh flag.
	A reload without a forceRefresh is only used internally, not requested
	by the caller.

        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]): Add handling for the case where we
	reload, but allow stale data.
        (-[WebFrame _isLoadComplete]): Ditto.
        (-[WebFrame _reloadAllowingStaleData]): Placeholder, not implemented yet.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView setTextEncoding:]): Update for new API, but this is going away.
        (-[WebHTMLView setDefaultTextEncoding]): Ditto.

WebBrowser:

        * BrowserDocument.m: (-[BrowserDocument refresh:]):
	Call the new [reload] instead of the old [reload:].


git-svn-id: svn://svn.chromium.org/blink/trunk@2057 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-13 14:50:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f85548de9246dddea3bb59183d5f73e336f23e15');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fp01l5t7k52qza', 2, e'        Don\'t initiate a drag if an autoscroll happened.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2056 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-13 06:48:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2fbdad4c318909a9ac3b75291a54bd2c79b8db9d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnw0v01fq01l5tesne5vr', 2, e'        Added "Absolute" position to the render tree view.  Useful
        to see how kthml LIES!

        * Debug/RenderTree.m:
        (-[RenderTreeDataSource outlineView:objectValueForTableColumn:byItem:]):
        * Debug/RenderTree.nib:

        Added absolute position column to render node for
        render tree view.

        * WebView.subproj/WebRenderNode.h:
        * WebView.subproj/WebRenderNode.m:
        (-[WebRenderNode initWithName:position:rect:view:children:]):
        (-[WebRenderNode absolutePositionString]):
        (-[WebKitRenderTreeCopier nodeWithName:position:rect:view:children:]):

        Rewrite of khtml selection drawing code.  Now does
        a delta between old and new selection and only
        draw those objects that have changed.  Selection
        drawing is now MUCH faster.

        * khtml/rendering/render_root.cpp:
        (enclosingPositionedRect):
        (RenderRoot::setSelection):
        (RenderRoot::clearSelection):
        * khtml/rendering/render_root.h:

        Added additional absolute position property to render node
        stuff for debug render tree view.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge copyRenderNode:copier:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2055 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-13 03:21:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/899ef3ba7c83c4b65a0912c7a384c5b18ed8ac1c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01e301l55urpmkj3', 2, e'	Add text/xml to our list of MIME types that should use the
	Web view.  With this fix we now render XML and XHTML
	correctly!

        * WebView.subproj/WebDataSourcePrivate.m:
        (+[WebDataSource _repTypes]):
        * WebView.subproj/WebViewPrivate.m:
        (+[WebView _viewTypes]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2054 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-13 01:35:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a5826bbc1e982c4de1b7c3b607905203a79e87ba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01e401l55uy71rb5', 2, e'	KHTML was butchering the laws of background propagation from
	the <body> to the <html>.  This fixes the logical flaws and
	makes some of the geekiest CSS on the planet render correctly. ;)

        * khtml/rendering/render_body.cpp:
        (RenderBody::printBoxDecorations):
        * khtml/rendering/render_html.cpp:
        (RenderHtml::printBoxDecorations):


git-svn-id: svn://svn.chromium.org/blink/trunk@2053 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-13 01:04:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9eefd4f08ed8ccc9dc504a158f3338ce8050f2e1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01e501l5cbnrpg08', 2, e'	Make fixed positioned elements work when you scroll.  We were
	just missing the implementation of a QScrollView method.

        * kwq/KWQScrollView.mm:
        (QScrollView::setStaticBackground):


git-svn-id: svn://svn.chromium.org/blink/trunk@2052 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-13 00:19:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5fac78c51fb25502f6e9d8c8c308cde215c3ef0e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01e601l5mi2jor87', 2, e'	Fix a bug in KHTML that leads it to claim cached @imported stylesheets
	are not loaded (when in fact they are).

	This fixes the W3C CSS page.

        * khtml/css/css_ruleimpl.cpp:
        (CSSImportRuleImpl::init):


git-svn-id: svn://svn.chromium.org/blink/trunk@2051 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-12 22:23:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dad9e7b2ff70bb8c1bb638de1984548be6d154f3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01e701l52wv7zx0i', 2, e'WebFoundation:

	Removed load flags as a design concept. Replaced with new "caching policy" concept
	which are set on a WebResourceRequest. These policies determine how a load will
	be processed with regards to the cache.

        * CacheLoader.subproj/IFURLHandleC.h: Removed obsolete IFURLHandleGetFlags function
        * CacheLoader.subproj/IFURLHandleC.m: Ditto.
        * CacheLoader.subproj/WebCFNetworkHTTPProtocolHandler.m:
        (-[WebCFNetworkHTTPProtocolHandler continueHeaderReadAfter3xxResponseAndCall:]): Temporary hack until new redirect API is available.
        * CacheLoader.subproj/WebCacheLoaderConstants.h: Removed all load flags.
        * CacheLoader.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler determineErrorAndFail]): Removed calls to load flags and replaced with calls to new request policies.
        (-[WebHTTPProtocolHandler testAndSetCacheObjectState:]): Ditto.
        * CacheLoader.subproj/WebResourceHandle.m: Removed flags accessor, and removed calls to load flags and replaced with calls to new request policies.
        (-[WebResourceHandle description]): Removed calls to load flags and replaced with calls to new request policies.
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad _beginLoad]): Ditto.
        (-[WebResourceLoad description]): Ditto.
        * CacheLoader.subproj/WebResourceLoadManager.m:
        (+[WebResourceLoadKey keyWithHandle:]): Ditto.
        (+[WebResourceLoadKey keyWithLoad:]): Ditto.
        (-[WebResourceLoadKey isEqual:]): Ditto.
        (-[WebResourceLoadKey hash]): Ditto.
        (-[WebResourceLoadManager requestWithURLHandle:]): Ditto.
        (-[WebResourceLoadManager loadDidFinish:]): Ditto.
        * CacheLoader.subproj/WebResourceRequest.h: Added new WebRequestCachePolicy and WebResponseCachePolicy enums, and accessor methods to set these values on a request.
        * CacheLoader.subproj/WebResourceRequest.m:
        (-[WebResourceRequest initWithURL:]): Ditto.
        (-[WebResourceRequest requestCachePolicy]): Added.
        (-[WebResourceRequest setRequestCachePolicy:]): Added.
        (-[WebResourceRequest responseCachePolicy]): Added.
        (-[WebResourceRequest setResponseCachePolicy:]): Added
        (-[WebResourceRequest copyWithZone:]): Removed calls to load flags and replaced with calls to new request policies.
        * CacheLoader.subproj/WebSimpleHTTPProtocolHandler.m:
        (WebSimpleHTTPProtocolHandlerInit): Added some initial support for the notion of "specially-handled" headers. This work is not done yet.
        (-[WebSimpleHTTPProtocolHandler createHTTPRequest]): Fixed case where we appended nil if there was no user-agent set.
        (-[WebSimpleHTTPProtocolHandler _examineHeaders]): Removed calls to load flags and replaced with calls to new request policies.
        * Misc.subproj/WebFoundation.h:
        * WebFoundation.exp: Removed obsolete _IFURLHandleGetFlags symbol.

WebKit:

        Removed load flags as a design concept. Replaced with new "caching policy" concept
        which are set on a WebResourceRequest. These policies determine how a load will
        be processed with regards to the cache.

        * WebCoreSupport.subproj/WebBridge.h: Removed flags from loadURL method.
        * WebCoreSupport.subproj/WebBridge.m: Removed calls to load flags and replaced with calls to new request policies.
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]):
        (-[WebBridge isReloading]): Ditto.
        (-[WebBridge loadURL:referrer:]): Ditto.
        (-[WebBridge loadURL:withParent:]): Removed flags from loadURL method.
        (-[WebBridge postWithURL:referrer:data:]): Removed calls to load flags and replaced with calls to new request policies.
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:]): Ditto.
        * WebView.subproj/WebDataSource.h: Removed flags from init method.
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource initWithURL:]): Ditto.
        (-[WebDataSource initWithRequest:]): Ditto.
        * WebView.subproj/WebDataSourcePrivate.h: Removed flags ivar, and dangling attributes ivar.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): Ditto.
        * WebView.subproj/WebFrame.m:
        (-[WebFrame reload:]): Removed calls to load flags and replaced with calls to new request policies.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _goToItem:withFrameLoadType:]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2050 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-12 21:51:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cf3773bbad0397999aa797a0437f4ab1aeff4dd1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01e801l56xa0uj7x', 2, e'	Fixed livepage crash on Marklar. It is naughty to divide by 0 on marklar so we now check before doing that.

        * khtml/rendering/render_box.cpp:
        (RenderBox::printBackground):


git-svn-id: svn://svn.chromium.org/blink/trunk@2049 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-12 20:25:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f1c75b899b45d292f87620a4bd88932c297006e6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01e901l50umfquv1', 2, e'	Fix crash on trekweb.com.  My simplified FOUC code was a little
	bit too simple. ;)

        * khtml/html/html_headimpl.cpp:
        (HTMLLinkElementImpl::setStyleSheet):
        (HTMLStyleElementImpl::childrenChanged):


git-svn-id: svn://svn.chromium.org/blink/trunk@2048 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-12 19:15:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cde77ffbdd1c8a08d6e7fd391b30f4ca9e239af7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01ea01l5uftuxnsd', 2, e'	Fix the Warcraft 3 page on blizzard.com so that the relative
	positioned blocks inside centered tables inside enclosing tables
	with percentage widths work correctly.

	This fix also causes the textfields on mrskin.com to show up
	again.

        * khtml/rendering/render_box.cpp:
        (RenderBox::RenderBox):
        (RenderBox::setPos):
        * khtml/rendering/render_box.h:
        * khtml/rendering/render_container.cpp:
        (RenderContainer::addChild):
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::constructZTree):
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2047 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-12 19:05:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f21a51effeaa626372b9c6ccb06368ce8b7e3ec8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01eb01l5fz1oehns', 2, e'WebKit:

	Make WebTextView private and exported.

        * WebKit.exp:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebTextView.h:

WebBrowser:

	Show HTML source in Alex.

        * BrowserDocument.h:
        * BrowserDocument.m:
        (-[BrowserDocument viewSource:]): create new HTMLSourceDocument
        * BrowserDocumentController.h:
        * BrowserDocumentController.m:
        (-[BrowserDocumentController openHTMLSourceDocumentWithDataSource:]): added
        * ContextMenuHandler.m:
        (-[ContextMenuHandler viewSource:]): create new HTMLSourceDocument
        * English.lproj/HTMLSource.nib: Added.
        * HTMLSourceController.h: Added.
        * HTMLSourceController.m: Added.
        (-[HTMLSourceController windowDidLoad]):
        (-[HTMLSourceController setString:]):
        (-[HTMLSourceController targetForSearch]):
        * HTMLSourceDocument.h: Added.
        * HTMLSourceDocument.m: Added.
        (-[HTMLSourceDocument initWithDataSource:]):
        (-[HTMLSourceDocument dealloc]):
        (-[HTMLSourceDocument makeWindowControllers]):
        (-[HTMLSourceDocument dataRepresentationOfType:]):
        (-[HTMLSourceDocument saveDocumentTo:]):
        (-[HTMLSourceDocument fileName]):
        (-[HTMLSourceDocument fileType]):
        (-[HTMLSourceDocument displayName]):
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@2045 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-12 15:53:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f69578d2686575ea0e62b1ad324bd93d7020b1d4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01ec01l50u6b7tj5', 2, e'WebCore:

	Don\'t show the window here any more, now that WebBrowser will set
	it up to be shown properly itself.

        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::createNewWindow):

WebBrowser:

	Changed new window opening to happen right away instead of waiting
	until the content policy is known. This avoids the horrible lack
	of feedback and feeling of slowness on new window opening, but
	re-introduces the problem that command-clicking on a link that
	downloads leaves around an empty window (Radar 3049296).

	While I was at it, I made goToInitialURL get called right away
	instead of deferring it, since the problems that arose from
	calling it right away before no longer apply.

	- fixed Radar 3017596 - Cmd click on link doesn\'t display new window fast enough
	- fixed Radar 3049291 - Deferring goToInitialURL can cause problems

        * BrowserDocument.h:
        * BrowserDocument.m:
	Remove methods and code related to awaiting the content policy,
	since we no longer wait for it.
        * BrowserDocumentController.m:
        (-[BrowserDocumentController
	openDocumentWithContentsOfURL:referrer:display:]): Show the window
	next time through the event loop.
        (-[BrowserDocumentController
	_createEmptyBrowserDocumentAndDisplay:]): Show the window next
	time through the event loop.
        * BrowserWebController.m:
	(-[BrowserWebController contentPolicyForMIMEType:URL:inFrame:]):
	No more need to show or close window when content policy is
	determined.
        * BrowserWindowController.m:
        (-[BrowserWindowController windowDidLoad]): Go to initial URL
	immediately, not after delay.


git-svn-id: svn://svn.chromium.org/blink/trunk@2044 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-12 06:53:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/45d2a9d145f0fd06c4662d25cb664c4e257fcff8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01ed01l5c9isdjzo', 2, e'	Fix horizontal scrolling.  The HTML render object lies.  It lies,
	I tell you.

        * khtml/rendering/render_layer.cpp:
        (RenderLayer::constructZTree):


git-svn-id: svn://svn.chromium.org/blink/trunk@2043 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-12 01:59:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5aceec87c323b40ed9fdbe031c0b49fa738adb91');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01ee01l5axmhbqpp', 2, e'	Fix clipping to work with layers.  This fixes the marquee
	(once again) on livepage.apple.com.

        * khtml/rendering/render_box.cpp:
        (RenderBox::getClipRect):
        * khtml/rendering/render_box.h:
        * khtml/rendering/render_container.cpp:
        (RenderContainer::addChild):
        (RenderContainer::removeChildNode):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::setStyle):
        (RenderFlow::printObject):
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::enclosingPositionedAncestor):
        (RenderLayer::convertToLayerCoords):
        (RenderLayer::paint):
        (RenderLayer::constructZTree):
        * khtml/rendering/render_layer.h:
        * khtml/rendering/render_object.h:
        * khtml/rendering/render_replaced.cpp:
        (RenderReplaced::print):


git-svn-id: svn://svn.chromium.org/blink/trunk@2042 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-12 01:01:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b25ba139d6215ff8c27b0940803ad987a4578107');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01ef01l5zohmvn0w', 2, e'WebFoundation:

        * Misc.subproj/WebAssertions.h: Changed assertions to use a different
	technique for varargs, which seems to work better on Claudius. Sorry about
        the nearly-full build.

        * CacheLoader.subproj/WebResourceRequest.m:
        (-[WebResourceRequest setMethod:]): Store a copy so we don\'t end up
	retaining a mutable string that the caller then modifies.
        (-[WebResourceRequest setHeaders:]): Allow nil for theHeaders, and make
	an empty dictionary in that case.
        (-[WebResourceRequest setHeader:forKey:]): Store a copy so we don\'t
	end up putting a reference to a mutable string in our dictionary.
        (-[WebResourceRequest addHeader:forKey:]): Ditto.
        (-[WebResourceRequest setExtraCookies:]): Ditto, same applies for NSArray.
        (-[WebResourceRequest setData:]): Ditto, same for NSData.

WebCore:

        * kwq/KWQAssertions.h: Updated copy of the assertions macros (made by script).


git-svn-id: svn://svn.chromium.org/blink/trunk@2041 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-11 23:23:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/630d5d8024bc45b527a273527a4db5671ecda196');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01eg01l5o2fbxeik', 2, e'	Combined provisionalDataSourceChanged: and
	provisionalDataSourceCommitted: methods into a single
	setDataSource:, since they are always called one immediately after
	the other.

        * Plugins.subproj/WebPluginView.m:
        (-[WebNetscapePluginView setDataSource:]):
        (-[WebNetscapePluginView loadRequest:inTarget:withNotifyData:]):
        * WebView.subproj/WebDocument.h:
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView setDataSource:]):
        * WebView.subproj/WebImageView.m:
        (-[WebImageView setDataSource:]):
        * WebView.subproj/WebTextView.m:
        (-[WebTextView setDataSource:]):
        * WebView.subproj/WebViewPrivate.m:
        (-[WebView _makeDocumentViewForDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2040 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-11 23:10:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3943f2be6b184ac519736db435e9271983d220cf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01eh01l5ljqowwkw', 2, e'i        Better fix for previous problem.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:applyRounding:attemptFontSubstitution:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2039 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-11 22:43:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2b10f232fbb05a744f372c21ce775e44f328967c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01ei01l565b2oa7b', 2, e'	- fixed 3047552 -- crash using CFNotification calls on an NSNotification

        * kwq/KWQWindowWidget.mm:
        (KWQWindowWidget::KWQWindowWidget): Create a KWQWindowWidgetDeleter, and
	hook it up to the notification.
        (KWQWindowWidget::~KWQWindowWidget): Disconnect the KWQWindowWidgetDeleter
	and release it.
        (-[KWQWindowWidgetDeleter initWithWindowWidget:]): Store a pointer.
        (-[KWQWindowWidgetDeleter deleteWindowWidget]): Do a delete.


git-svn-id: svn://svn.chromium.org/blink/trunk@2038 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-11 21:05:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0c23afa61e2898c065500d9bc6b98a1bee4c84d6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01ej01l52xzkhs9w', 2, e'        Remove ceiling of text width at end of fragment.  This was screwing up
        intra fragment text measurements.

        Selection of justified text is still screwed up.  This is a fundamental problem
        in khtml and will require  a rewrite of their justification code.  Konq has the
        same problems selecting justified text.  The drawing of code applies the justification
        factor, but checking the selection doesn\'t add the justification factor, so selection
        will be incorrect by the justification amount.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:applyRounding:attemptFontSubstitution:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2037 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-11 20:33:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/01b27b4e2f0eea584cbed1bea7b24b8291e76618');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01ek01l5crzl9gbr', 2, e'        * WebView.subproj/WebFrame.m: (-[WebFrame reload:]): Use the current
	URL, not the original URL, when doing a reload. This prevents the URL from
	changing back and forth when you reload on a page that involved a redirect.


git-svn-id: svn://svn.chromium.org/blink/trunk@2036 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-11 19:26:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/25d2e81ae2a1dd0adba28bd7be6bca8b1f08b86d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01el01l5xoxzn8y3', 2, e'	- fixed 3021137 -- changing font prefs doesn\'t redraw frames
	other than the main frame

        * kwq/WebCoreSettings.m: Renamed to WebCoreSettings.mm.
        * kwq/WebCoreSettings.mm: Renamed from WebCoreSettings.m so I could
	use C++.
        (-[WebCoreSettings _updateAllViews]): Iterate over all KWQKHTMLPartImpl
	instances, calling setNeedsReapplyStyles on each one.
        * WebCore.pbproj/project.pbxproj: Updated for name change.

        * kwq/KWQKHTMLPartImpl.h: Add instances() and mutableInstances().
	Get rid of frameExists(), findFrame(), and frames().
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::KWQKHTMLPartImpl): Add to instance list.
        (KWQKHTMLPartImpl::~KWQKHTMLPartImpl): Remove from instance list.
        (KWQKHTMLPartImpl::requestFrame): Update to not use frameExists().
        (KWQKHTMLPartImpl::overURL): Update to not use frameExists, and improve
	handling of various cases.
        (KWQKHTMLPartImpl::mutableInstances): Create and return instance list.

        * kwq/WebCoreBridge.h: Add setNeedsReapplyStyles; already implemented
	in WebKit.

        * khtml/khtml_part.cpp:
        (KHTMLPart::findFrame): Remove APPLE_CHANGES.
        (KHTMLPart::frameExists): Remove APPLE_CHANGES.
        (KHTMLPart::frames): Remove APPLE_CHANGES.


git-svn-id: svn://svn.chromium.org/blink/trunk@2035 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-11 18:56:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/352a33a45f04f29d05bbac85dabfc31cb29edec5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01em01l5l3mmrahe', 2, e'	Add machinery needed for fix to 3021137, changing font prefs
	doesn\'t redraw frames other than the main frame.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge setNeedsReapplyStyles]): Added. Lets the web views know that they
	need to reapply styles. If we did this over on the WebCore side, we\'d have to do
	it right away. Maybe that would be OK; we can move that that later.

        * WebView.subproj/WebTextView.m: (-[WebTextView setFixedWidthFont]): Use the
	fixed-width size, rather than using the other size with the fixed-width family.


git-svn-id: svn://svn.chromium.org/blink/trunk@2034 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-11 18:52:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6fc05bb24870ea316c12c91f80018a092ecdd791');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01en01l56984a2q4', 2, e'WebFoundation:

	Major change to the API and design of WebFoundation.

	Attributes, as a design concept, are now completely gone. The old usages of
	attributes have been replaced with new API on the WebResourceRequest
	and WebResourceResponse classes.

        * CacheLoader.subproj/IFHTTPURLHandleC.m:
        (IFHTTPURLHandleGetRequestMethod): Removed attribute usage. Replace with calls to new API.
        (IFHTTPURLHandleGetRequestHeaders): Ditto.
        * CacheLoader.subproj/WebCFNetworkHTTPProtocolHandler.m:
        (-[WebCFNetworkHTTPProtocolHandler addUserRequestHeaders:]): Ditto.
        (-[WebCFNetworkHTTPProtocolHandler addUnconditionalUserRequestHeaders:]): Ditto.
        (-[WebCFNetworkHTTPProtocolHandler addAcceptHeaders:]): Ditto.
        (-[WebCFNetworkHTTPProtocolHandler addCookieHeaders:]): Ditto.
        (-[WebCFNetworkHTTPProtocolHandler hasConditionalCustomHeaders]): Ditto.
        * CacheLoader.subproj/WebCacheLoaderConstants.h: Removed newly obsoleted attributes.
        * CacheLoader.subproj/WebCacheLoaderConstants.m: Ditto.
        * CacheLoader.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler shouldAttemptOriginLoad]): Removed attribute usage. Replace with calls to new API.
        (-[WebHTTPProtocolHandler shouldCacheResourceData]): Ditto.
        (-[WebHTTPProtocolHandler requestMethod]): Ditto.
        (-[WebHTTPProtocolHandler requestData]): Ditto.
        (-[WebHTTPProtocolHandler retryWithRedirectedURLAndResultCode:]): Ditto.
        (-[WebHTTPProtocolHandler testAndSetCacheObjectState:]): Ditto.
        * CacheLoader.subproj/WebResourceHandle.h: Removed attributeForKey method.
        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceHandle description]): Removed attribute usage. Replace with calls to new API.
        (-[WebResourceHandle initWithRequest:client:]): WebResourceRequest no longer requires explicit validation.
        * CacheLoader.subproj/WebResourceHandleInternal.h: Removed processedAttributes.
        * CacheLoader.subproj/WebResourceHandleInternal.m:
        (-[WebResourceHandleInstanceVariables dealloc]): Ditto.
        * CacheLoader.subproj/WebResourceHandlePrivate.h: Removed _setAttribute method.
        * CacheLoader.subproj/WebResourceHandlePrivate.m: Ditto.
        * CacheLoader.subproj/WebResourceLoad.h: Removed processedAttributes ivar. Removed attributeForKey and setAttribute:forKey: methods.
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad initWithRequest:]): Ditto.
        (-[WebResourceLoad description]): Ditto.
        (-[WebResourceLoad dealloc]): Ditto.
        * CacheLoader.subproj/WebResourceLoadManager.m:
        (+[WebResourceLoadKey keyWithHandle:]): Removed attributes from cache key. Need to put back some request info soon.
        (+[WebResourceLoadKey keyWithLoad:]): Ditto.
        * CacheLoader.subproj/WebResourceRequest.h: Removed attributes ivar. Added method, headers, extraCookies and data ivars. 		Added getter and setter methods for each of the new ivars.
        * CacheLoader.subproj/WebResourceRequest.m:
        (-[WebResourceRequest initWithURL:]): API and implementation rejiggering to deal with removing attributes from the init methods.
        (-[WebResourceRequest initWithURL:flags:]): Ditto.
        (-[WebResourceRequest initWithURL:userAgent:flags:]): Ditto.
        (-[WebResourceRequest method]): Added.
        (-[WebResourceRequest setMethod:]): Added.
        (-[WebResourceRequest headers]): Added.
        (-[WebResourceRequest setHeaders:]): Added.
        (-[WebResourceRequest referrer]): Added.
        (-[WebResourceRequest setReferrer:]): Added.
        (-[WebResourceRequest extraCookies]): Added.
        (-[WebResourceRequest setExtraCookies:]): Added.
        (-[WebResourceRequest data]): Added.
        (-[WebResourceRequest setData:]): Added.
        (-[WebResourceRequest flags]): Just moved method in the file. No changes.
        (-[WebResourceRequest protocolHandlerClass]): Ditto.
        (-[WebResourceRequest copyWithZone:]): Made sure new ivars get copied.
        (-[WebResourceRequest dealloc]): Added new ivars.
        * CacheLoader.subproj/WebSimpleHTTPProtocolHandler.m:
        (-[WebSimpleHTTPProtocolHandler createHTTPRequest]): Removed attribute usage. Replace with calls to new API.
        * WebFoundation.exp: Removed attribute key exports.

WebKit:

        Major change to the API and design of WebFoundation. WebKit has been modified
	to use the new API.

        WebFoundation attributes, as a design concept, are now completely gone. The old usages of
        attributes have been replaced with new API on the WebResourceRequest
        and WebResourceResponse classes.

        * Plugins.subproj/WebPluginStream.h: Removed attribute usage in init API. No need for replacement.
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream initWithURL:pluginPointer:]): Removed attribute usage in init API.
        (-[WebNetscapePluginStream initWithURL:pluginPointer:notifyData:]): Ditto.
        (-[WebNetscapePluginStream dealloc]): Remove attribute release.
        (-[WebNetscapePluginStream startLoad]): Removed attribute usage. Replace with calls to new API.
        (-[WebNetscapePluginStream receivedData:withHandle:]): Ditto.
        * Plugins.subproj/WebPluginView.m:
        (-[WebNetscapePluginView pluginURLFromCString:]): Added this helper method.
        (-[WebNetscapePluginView loadRequest:inTarget:withNotifyData:]): Added.
        (-[WebNetscapePluginView getURLNotify:target:notifyData:]): Modified to call new loadRequest:inTarget:withNotifyData: method.
        (-[WebNetscapePluginView getURL:target:]): Ditto.
        (-[WebNetscapePluginView postURLNotify:target:len:buf:file:notifyData:]): Ditto.
        * WebCoreSupport.subproj/WebBridge.h: Removed attribute usage in loadURL API. No need for replacement.
        * WebCoreSupport.subproj/WebBridge.m: Added loadRequest:withParent:
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]):
        (-[WebBridge startLoadingResource:withURL:referrer:]): Removed attribute usage. Replace with calls to new API.
        (-[WebBridge isReloading]): Ditto.
        (-[WebBridge loadRequest:withParent:]): Added.
        (-[WebBridge loadURL:]): Modified to use new loadRequest:withParent: API
        (-[WebBridge loadURL:referrer:]): Ditto.
        (-[WebBridge loadURL:flags:withParent:]): Ditto.
        (-[WebBridge postWithURL:data:]): Ditto.
        * WebCoreSupport.subproj/WebSubresourceClient.h: Changed API to use an NSString referrer instead of an attributes dictionary.
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:referrer:forDataSource:]): Removed attribute usage. Replace with calls to new API.
        * WebView.subproj/WebDataSource.h: Added initWithRequest: method.
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource initWithURL:]): Removed attribute usage in init API.
        (-[WebDataSource initWithURL:flags:]): Ditto.
        (-[WebDataSource initWithRequest:]): Added.
        (-[WebDataSource request]): Added.
        * WebView.subproj/WebDataSourcePrivate.h: Added WebResourceRequest ivar.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): Added WebResourceRequest ivar.
        (-[WebDataSource _startLoading:]): Removed attribute usage. Replace with calls to new API.
        * WebView.subproj/WebFrame.m:
        (-[WebFrame reload:]): Removed attribute usage. Replace with calls to new API.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _goToItem:withFrameLoadType:]): Use new WebDataSource init API.

WebBrowser:

	Updated to use new referrer ivar and accessor methods on WebResourceRequest, instead
	of using attributes.

        * BrowserDocument.m:
        (-[BrowserDocument _goToURL:referrer:withFallbackURLs:])


git-svn-id: svn://svn.chromium.org/blink/trunk@2033 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-11 18:14:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1a73acbad82b12bf9c1150f665d3f9e54c6f7172');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01eo01l5o3pyhc6k', 2, e'WebCore:

	WebCore part of support for the "Referer" header.

        * khtml/khtml_part.cpp:
        (KHTMLPart::urlSelected): Use much more of this function.
        (KHTMLPart::submitForm): Use much more of this function.

        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::createNewWindow): Parse the
	referrer out of the URLArgs and pass it along.

        * kwq/KWQKHTMLPartImpl.h: Change parameters to urlSelected
	and submitForm to allow KHTML to do more of the work. Add
	referrer helper function.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::bridgeForFrameName): Pass referrer of nil
	when opening a blank window.
        (KWQKHTMLPartImpl::referrer): Extract referrer from metadata.
        (KWQKHTMLPartImpl::openURLRequest): Pass referrer from args
	through the bridge.
        (KWQKHTMLPartImpl::urlSelected): Remove code that duplicates
	what\'s in KHTMLPart. Also pass referrer from args through the
	bridge as above.
        (KWQKHTMLPartImpl::submitForm): Ditto.

        * kwq/kdeui/kmessagebox.h: Add information member function.
        * kwq/KWQKMessageBox.mm: (KMessageBox::information): Implement.

        * kwq/kdecore/kurl.h: Add encode_string member function.
        * kwq/KWQKURL.mm:
        (KURL::KURL): Fix buffer overflow bug, and add an assert so we
	will notice these overflows even when using the static buffer.
        (KURL::parse): Added a similar assert, even though I didn\'t fix
	any overflow bug here.
        (KURL::encode_string): Implemented this, but didn\'t test it.

        * kwq/KWQLoaderImpl.mm: (KWQServeRequest): Pass referrer through
	the bridge.

        * kwq/WebCoreBridge.h: Add referrer parameters to loadURL, postWithURL,
	openNewWindowWithURL, and startLoadingResource.

        * kwq/kparts/browserextension.h: Implement setDoPost, setContentType,
	const version of metaData().

        * kwq/qt/qstring.h: Implement fromLatin1(const char *, int).

        * WebCore-tests.exp: Not sure why, but I needed to remove isMalformed,
	and the tests seem to still work with it removed.

WebKit:

	WebKit part of support for the "Referer" header.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge openNewWindowWithURL:referrer:frameName:]): Add referrer parameter,
	and pass it on to the window context method.
        (-[WebBridge addAttributeForReferrer:toDictionary:]): Added.
        (-[WebBridge attributesForReferrer:]): Added.
        (-[WebBridge startLoadingResource:withURL:referrer:]): Put the referrer into an
	attributes dictionary and pass it to the WebSubresourceClient method.
        (-[WebBridge loadURL:referrer:]): Put the referrer into an attributes dictionary
	and pass it along.
        (-[WebBridge postWithURL:referrer:data:]): Put the referrer into an attributes
	dictionary and pass it along.

        * WebCoreSupport.subproj/WebSubresourceClient.h: Add an attributes parameter to
	the method that starts loading.
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:attributes:forDataSource:]):
	Put the attributes into the WebResourceRequest.

        * WebView.subproj/WebController.h: Add a referrer parameter to the WebWindowContext
	openNewWindowWithURL method.
        * WebView.subproj/WebDefaultContextMenuHandler.m:
        (-[WebDefaultContextMenuHandler openNewWindowWithURL:referrer:]): Pass the referrer
	on to the window context.
        (-[WebDefaultContextMenuHandler openLinkInNewWindow:]): Pass nil for the referrer
	for now. Not sure if this is best.
        (-[WebDefaultContextMenuHandler openImageInNewWindow:]): Ditto.
        (-[WebDefaultContextMenuHandler openFrameInNewWindow:]): Ditto.

        * WebView.subproj/WebFrame.m: (-[WebFrame frameNamed:]): Pass nil for the referrer
	here where we are creating a new empty window.

        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _continueAfterClickPolicyForEvent:]): Pass nil for the referrer here
	in the WebClickPolicyOpenNewWindow. The policy API doesn\'t provide a way for the
	policy handler to specify the referrer; we might want to change that later.

        * Plugins.subproj/WebPluginView.m:
        (-[WebNetscapePluginView loadURL:inTarget:withNotifyData:andHandleAttributes:]):
	Pass nil for the referrer here. But it seems wrong that this function discards
	the handle attributes that are passed in for the case where it opens a new window.

WebBrowser:

	WebBrowser part of support for the "Referer" header.

        * BrowserWebController.m:
        (-[BrowserWebController openNewWindowWithURL:referrer:]): Add referrer parameter, and
	pass it through to the document controller.
        (-[BrowserWebController pluginNotFoundSheetEnded:returnCode:contextInfo:]):
	Pass nil for referrer.

        * BrowserDocumentController.h: Add referrer parameter to the long version of goToURL.
        * BrowserDocumentController.m:
        (-[BrowserDocumentController openDocumentWithContentsOfURL:referrer:display:]):
	Change to not all makeDocumentWithContentsOfURL and instead create the document
	here, because we need to pass the referrer through.
        (-[BrowserDocumentController openDocumentWithContentsOfURL:display:]): Just call
	the version above that has a referrer, passing a referrer of nil.
        (-[BrowserDocumentController _goToEachURL:referrer:forceNewWindow:orderFront:]):
	Pas referrer to goToURL and to openDocumentWithContentsOfURL.
        (-[BrowserDocumentController goToEachURL:]): Pass nil for referrer.
        (-[BrowserDocumentController goToURL:referrer:forceNewWindow:orderFront:]):
	Add referrer parameter, and pass through to _goToEachURL.

        * BrowserDocument.h: Add _openWithReferrer field, initWithContentsOfURL method
	that takes a referrer, and goToURL method that takes a referrer.
        * BrowserDocument.m:
        (-[BrowserDocument initWithContentsOfURL:referrer:]): Set _openWithReferrer.
        (-[BrowserDocument dealloc]): Release _openWithReferrer.
        (-[BrowserDocument _goToURL:referrer:withFallbackURLs:]): Add referrer parameter.
	Set up attributes dictionary with referrer in it.
        (-[BrowserDocument goToURL:]): Call through to goToURL:referrer:.
        (-[BrowserDocument goToURL:referrer:]): Added. Passes referrer on.
        (-[BrowserDocument goToInitialURL:]): Pass _openWithReferrer.
        (-[BrowserDocument tryMultipleURLs:]): Pass nil for referrer.

        * ActivityViewer.m: (-[ActivityViewer _goToClickedItem:]): Pass nil for referrer.
        * AppController.m:
        (-[AppController application:openFile:]): Ditto.
        (-[AppController handleGURLEvent:withReplyEvent:]): Ditto.
        * BrowserWebBookmarkExtras.m: (-[WebBookmark _goToForceNewWindow:]): Ditto.
        * Test/PageLoadTestRunner.m: (-[PageLoadTestRunner goToPage]): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2032 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-11 16:37:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/869df690895a2baacab2436ef6ca6b6fbe28413c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01ep01l57e3fbiu0', 2, e'	Fixed: 3048158 - Crash at google in _destroyInitializingClassList

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient didCancelWithHandle:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2031 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-11 15:41:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a011b46727ad3147301f13c4e3249aac91531529');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01eq01l5j9zdxma9', 2, e'	This patch fixes a slew of bugs.  It is an implementation
	of the IE extensions offsetLeft, offsetTop, and offsetParent.
	Konqueror actually had implementations for these properties
	that were totally wrong, leading any DHTML that would use
	these properties (like the DHTML on brainjar.com or livepage.apple.com)
	to misposition child elements.

	With these properties now implemented, the menus on brainjar.com
	position correctly, and the marquee on livepage.apple.com once
	again shows up (and now you can see how I\'ve regressed clipping
	by not shoving it into the layer system as well).

	Next up will be fixing the clipping bug on livepage.apple.com.

        * khtml/ecma/kjs_dom.cpp:
        (DOMNode::getValueProperty):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::offsetHeight):
        (RenderFlow::offsetLeft):
        (RenderFlow::offsetTop):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_object.cpp:
        (RenderObject::offsetLeft):
        (RenderObject::offsetTop):
        (RenderObject::offsetParent):
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2030 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-11 10:36:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9d0773c79dab1362bdcf3da322d89accc16e56fc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01er01l5gaclykbq', 2, e'	Get more elements on mrskin painting as well as the menus
	on brainjar.com.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layout):
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::constructZTree):
        * khtml/rendering/render_object.cpp:
        (RenderObject::setLayouted):
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2029 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-11 04:28:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/debe3b7c802ef911609901102f258c3c6b8eafee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01es01l5hdrcnbw0', 2, e'	Fix the CSS clip property.

        * khtml/css/cssparser.cpp:
        (StyleBaseImpl::parseValue):
        * khtml/css/cssstyleselector.cpp:
        * khtml/ecma/kjs_css.cpp:
        (DOMCSSStyleDeclaration::tryPut):
        * khtml/rendering/render_box.cpp:
        (RenderBox::calcClip):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::printObject):
        * khtml/rendering/render_replaced.cpp:
        (RenderReplaced::print):
        * khtml/rendering/render_style.cpp:
        (StyleVisualData::StyleVisualData):
        (RenderStyle::diff):
        * khtml/rendering/render_style.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2028 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-11 03:02:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3a5b399c0761b50ae693c3438787ad50f245ffbf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01et01l5vl4pbcgc', 2, e'Forgot to commit ChangeLog


git-svn-id: svn://svn.chromium.org/blink/trunk@2027 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-11 01:45:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e87d77d8ebaaed98c327372aa547982d731a3798');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01eu01l59s02b3fx', 2, e'        * Tests/html/mousetest.html: Added.

        Fixed broken DOM handling of click count.  DOM click
        events can be tested with Labyrinth/Test/html/mousetest.html.
        Preparation work for double and triple click selection.

        * khtml/khtml_events.cpp:
        * khtml/khtml_events.h:
        * khtml/khtml_part.cpp:
        (KHTMLPart::khtmlMouseTripleClickEvent):
        * khtml/khtml_part.h:
        * khtml/khtmlview.cpp:
        (KHTMLView::viewportMousePressEvent):
        (KHTMLView::viewportMouseTripleClickEvent):
        (KHTMLView::viewportMouseDoubleClickEvent):
        (KHTMLView::viewportMouseReleaseEvent):
        * khtml/khtmlview.h:
        * kwq/KWQEvent.mm:
        (QMouseEvent::QMouseEvent):
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge mouseUp:]):
        (-[WebCoreBridge mouseDown:]):
        * kwq/qt/qevent.h:

        Renamed method.

        * Preferences.subproj/AppearancePreferences.m:
        (-[AppearancePreferences toggleDisplayImages:]):
        (-[AppearancePreferences initializeFromDefaults]):

        Renamed method.

        * WebView.subproj/WebPreferences.h:
        * WebView.subproj/WebPreferences.m:
        (-[WebPreferences _updateWebCoreSettings]):
        (-[WebPreferences setWillLoadImagesAutomatically:]):
        (-[WebPreferences willLoadImagesAutomatically]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2026 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-11 01:43:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2da541d673bd7d4a37a739316ad51e4acdf97a45');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01ev01l5znvpy76b', 2, e'WebFoundation:

	initialize WebError class in all class methods

        * Misc.subproj/WebError.m:
        (+[WebError classInitialize]): added, calls classInitialize()
        (-[WebError initWithErrorCode:inDomain:failingURL:isTerminal:]): call +classInitialize
        (+[WebError addErrorsFromDictionary:]): call +classInitialize

WebKit:

	Report download handler errors
	Renamed error constants
	Added new errors

        * Misc.subproj/WebDownloadHandler.h:
        * Misc.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler errorWithCode:]): added
        (-[WebDownloadHandler receivedData:]): return an error
        (-[WebDownloadHandler finishedLoading]): return an error
        (-[WebDownloadHandler cancel]): return an error
        * Misc.subproj/WebKitErrors.h: added new errors
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _shouldShowURL:]): use renamed error constants
        * WebView.subproj/WebMainResourceClient.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient receivedError:forHandle:]): don\'t send an error when errors are suppressed
        (-[WebMainResourceClient didCancelWithHandle:]): report download handler errors
        (-[WebMainResourceClient handleDidFinishLoading:]): report download handler errors
        (-[WebMainResourceClient handleDidReceiveData:data:]): report download handler errors
        (-[WebMainResourceClient handleDidFailLoading:withError:]): report download handler errors
        * WebView.subproj/WebView.m:
        (+[WebView initialize]): add new errors to WebError

WebBrowser:

	Renamed error constants

        * BrowserWebController.m:
        (-[BrowserWebController unableToImplementPolicy:error:forURL:inFrame:]): use renamed error constants
        * DownloadMonitor.m:
        (-[DownloadMonitor _monitorDownload:withProgress:error:dataSource:complete:]): clean-up
        * DownloadProgressEntry.m:
        (-[DownloadProgressEntry setError:]): handle errors in succession
        (-[DownloadProgressEntry setProgress:]): handle errors in succession


git-svn-id: svn://svn.chromium.org/blink/trunk@2025 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-11 00:24:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ce998b2c94583096c4669f85376452b3738294b9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnunn01ew01l50nvy67nt', 2, e'	Fix FOUC to behave correctly.  I was smoking crack when I
	implemented this the first time (mainly because KHTML had
	a badly named API that didn\'t mean even remotely what
	I thought it should).

        * khtml/html/html_headimpl.cpp:
        (HTMLLinkElementImpl::process):
        (HTMLLinkElementImpl::setStyleSheet):
        (HTMLLinkElementImpl::sheetLoaded):
        (HTMLStyleElementImpl::childrenChanged):
        (HTMLStyleElementImpl::sheetLoaded):


git-svn-id: svn://svn.chromium.org/blink/trunk@2024 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-11 00:07:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/81cb2e2e4f9e024b808dfdcdd5e5ba1900e8dbbb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01d901l588n0valm', 2, e'WebKit:

        * History.subproj/WebHistoryPrivate.m:
        (-[WebHistoryPrivate _loadHistoryGuts:]):
	removed the ERROR message in the case where the history file was
	not found, as this is normal initial-state behavior.

WebBrowser:

	- fixed 3047715 -- "Favorites" should no longer be a special folder
	- fixed 3030996 -- Why can\'t I delete an empty Favorites?
	- some other miscellaneous cleanup

	I haven\'t yet cleaned out all the old favorites-related code; wrote up
	3047885 to represent that work.

        * BookmarksController.m:
        (-[BookmarksController imageForBookmark:]): don\'t special-case _favoritesRoot;
	use "tiny_menu" as the "standard size" image instead of "heart_small".
        (-[BookmarksController awakeFromNib]): remove call to (and method)
	_blessOrCreateFavoritesRoot; this makes _favoritesRoot always nil, so the
	other code that special-cases it will never do anything interesting.
        (-[BookmarksController _newBookmarkSheetDidEnd:returnCode:contextInfo:]):
	find toolbar item in pop-up menu a different way.
        (-[BookmarksController _addToolbarToMenu:]): new method, adds item to pop-up
	menu that represents toolbar (needs an image though -- see 3047876)
        (-[BookmarksController _setUpPopUpMenuForNewBookmarksController:]):
	add toolbar item to pop-up menu	instead of coopting "Favorites" item.

        * BrowserWindowController.h,
        * BrowserWindowController.m:
        (-[BrowserWindowController windowDidLoad]),
        (-[BrowserWindowController dealloc]): removed all references to favorites bar.
        (-[BrowserWindowController toggleLocationBarWithAnimation:]): fixed comment.

        * Defaults.plist: changed default "Add Bookmarks" location to "Toolbar"
        * English.lproj/Browser.nib: not sure what I changed, perhaps nothing.

        * PreferenceKeys.h: realphabetized.

        * Resources/Images/heart_small.tiff: Removed.
        * WebBrowser.pbproj/project.pbxproj: Updated for removed file.


git-svn-id: svn://svn.chromium.org/blink/trunk@2023 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-09-10 23:36:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd4989eaf5e7183c5c702cadedc41bdf7d10424c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01da01l5sedy9myz', 2, e'WebCore:

	WebCore part of fix for:

	2952837 - Slide shows on homepage.mac.com don\'t show pictures, captions
	2942073 - Deferring [BrowserDocument goToInitialURL] can cause problems
	3021360 - second window pops up on \'Search\' at chrysler.com
	3030485 - Unexpected new window created with no scroll bars at sony.com

	* kwq/KWQKHTMLPartBrowserExtension.mm:
	(KHTMLPartBrowserExtension::createNewWindow): Reuse existing
	frame if possible. Pass frame name when opening a new window.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::bridgeForFrameName): Don\'t warn when opening a
	new window. Check non-descendant frames too.
        (KWQKHTMLPartImpl::urlSelected): Pass frame name when opening window.
        * kwq/WebCoreBridge.h: Add frameName argument to openNewWindowWithURL:.

WebKit:

	WebKit part of fix for:

	2952837 - Slide shows on homepage.mac.com don\'t show pictures, captions
	2942073 - Deferring [BrowserDocument goToInitialURL] can cause problems
	3021360 - second window pops up on \'Search\' at chrysler.com
	3030485 - Unexpected new window created with no scroll bars at sony.com

	This is done by adding a concept of named controller sets, so that
	less browser-like uses of WebKit won\'t be affected.

        * WebCoreSupport.subproj/WebBridge.m:
	(-[WebBridge openNewWindowWithURL:frameName:]): Pass frameName
	parameter to controller initializer.

        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController init]): Pass nil for controllerSetName.

        (-[WebController dealloc]):
        (-[WebController frameNamed:]): Check other windows in the same set too.
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate dealloc]):
        (-[WebController _setDefersCallbacks:]):
        (-[WebController _setTopLevelFrameName:]):
        (-[WebController _frameInThisWindowNamed:]):
        * WebView.subproj/WebControllerSets.h: Added.
        * WebView.subproj/WebControllerSets.m: Added.
	(+[WebControllerSets addController:toSetNamed:]): Method to
	maintain controller sets.
        (+[WebControllerSets removeController:fromSetNamed:]): Likewise.
        * WebKit.pbproj/project.pbxproj: Add new files.

WebBrowser:

	WebBrowser part of fix for:

	2952837 - Slide shows on homepage.mac.com don\'t show pictures, captions
	2942073 - Deferring [BrowserDocument goToInitialURL] can cause problems
	3021360 - second window pops up on \'Search\' at chrysler.com
	3030485 - Unexpected new window created with no scroll bars at sony.com

        * BrowserWebController.m:
        (-[BrowserWebController initWithBrowserDocument:]): Pass
	controller set name when creating WebController.


git-svn-id: svn://svn.chromium.org/blink/trunk@2022 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-10 23:07:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e379737697957a1744b96956374b86586854fac0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01db01l5al07s60i', 2, e'WebFoundation:

	Changed API for setting the WebResourceClient for a request/load.

	This has been removed from WebResourceRequest, and has been moved to
	WebResourceHandle. The result is that the init method for a WebResourceHandle
	now takes a WebResourceRequest and a WebResourceClient.

	All of the changes below are simple code modifications to use the new API.

        * CacheLoader.subproj/WebResourceHandle.h:
        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceHandle loadInForeground:])
        (-[WebResourceHandle client])
        (-[WebResourceHandle initWithRequest:client:])
        * CacheLoader.subproj/WebResourceHandleInternal.h:
        * CacheLoader.subproj/WebResourceHandleInternal.m:
        (-[WebResourceHandleInstanceVariables dealloc])
        (-[WebResourceHandle _notifyClientDidRedirectToURL])
        (-[WebResourceHandle _notifyClientDataDidBecomeAvailable])
        (-[WebResourceHandle _notifyClientDidFailLoading])
        (-[WebResourceHandle _notifyClientDidFinishLoading])
        * CacheLoader.subproj/WebResourceHandlePrivate.m:
        (-[WebResourceHandle _userAgentForURL:])
        * CacheLoader.subproj/WebResourceRequest.h:
        * CacheLoader.subproj/WebResourceRequest.m:
        (-[WebResourceRequest initWithURL:])
        (-[WebResourceRequest initWithURL:attributes:flags:])
        (-[WebResourceRequest initWithURL:userAgent:attributes:flags:])
        (-[WebResourceRequest copyWithZone:])
        (-[WebResourceRequest dealloc])
        * CacheLoader.subproj/WebResourceResponse.h:

WebKit:

        Changed API for setting the WebResourceClient for a request/load.

        This has been removed from WebResourceRequest, and has been moved to
        WebResourceHandle. The result is that the init method for a WebResourceHandle
        now takes a WebResourceRequest and a WebResourceClient.

        All of the changes below are simple code modifications to use the new API.

        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader startLoading])
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream startLoad])
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge objectLoadedFromCache:size:])
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:dataSource:])
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading:])


git-svn-id: svn://svn.chromium.org/blink/trunk@2021 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-10 21:29:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2f3bb6b37b9e482b651145fcaab6544371d34e0b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dc01l5qecdzz95', 2, e'WebKit:

        * History.subproj/WebHistory.h:
        * History.subproj/WebHistory.m:
        (-[WebHistory entryForURL:]): added
        * History.subproj/WebHistoryPrivate.h:
        * History.subproj/WebHistoryPrivate.m:
        (-[WebHistoryPrivate entryForURL:]): added
        * Misc.subproj/WebIconDatabase.h: added WebIconLargeSize
        * Misc.subproj/WebIconDatabase.m: added WebIconLargeSize
        * WebKit.exp: export link label key and WebIconLargeSize

WebBrowser:

	Check history and the link\'s label when suggesting a bookmark title.

        * ContextMenuHandler.m:
        (-[ContextMenuHandler addLinkToBookmarks:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2020 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-10 18:47:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/113c789f5a58cbde91684b248e7aea15f32c9e30');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dd01l521biwp3d', 2, e'	Add back the APPLE_CHANGES for a few frame cases. We need to do some real testing
	before we remove our alternate versions of these (but I still hope we do remove them).

        * khtml/khtml_part.cpp:
        (KHTMLPart::findFrame): Back to the old way.
        (KHTMLPart::frameExists): Ditto.
        (KHTMLPart::frames): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@2019 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-10 16:01:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/777757bc6d6ef31c870dbe551c45eb579487657b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01de01l56daz6hqs', 2, e'WebCore:

	- fixed 2942809 -- remove all direct access to "WebKit" defaults from WebCore

        * kwq/WebCoreSettings.h: Add willLoadImagesAutomatically and userStyleSheetLocation.
        * kwq/WebCoreSettings.m:
        (-[WebCoreSettings _updateAllViews]): Added. Placeholder for a function that will
	cause all views to update styles and layout.
        (-[WebCoreSettings setStandardFontFamily:]): Call _updateAllViews if a change happened.
        (-[WebCoreSettings setFixedFontFamily:]): Ditto.
        (-[WebCoreSettings setSerifFontFamily:]): Ditto.
        (-[WebCoreSettings setSansSerifFontFamily:]): Ditto.
        (-[WebCoreSettings setCursiveFontFamily:]): Ditto.
        (-[WebCoreSettings setFantasyFontFamily:]): Ditto.
        (-[WebCoreSettings setMinimumFontSize:]): Ditto.
        (-[WebCoreSettings setDefaultFontSize:]): Ditto.
        (-[WebCoreSettings setDefaultFixedFontSize:]): Ditto.
        (-[WebCoreSettings setWillLoadImagesAutomatically:]): Added.
        (-[WebCoreSettings willLoadImagesAutomatically]): Added.
        (-[WebCoreSettings setUserStyleSheetLocation:]): Added. Call _updateAllViews if a change happened.
        (-[WebCoreSettings userStyleSheetLocation]): Added.

        * WebCore.exp: Add WebCoreSettings to the exported class list.

        * kwq/KWQKHTMLSettings.mm: Get settings from WebCoreSettings rather than going
	directly at WebKit user defaults.
        * kwq/KWQKConfigBase.mm:
        (KConfig::readNumEntry): Check key.
        (KConfig::readUnsignedNumEntry): Use WebCoreSettings to get the value of the
	"JavaScript can open windows automatically" setting, rather than going directly
	at a WebKit user default.
        (KConfig::readColorEntry): Remove log message. This is implemented well enough.

	- fixed 3015877 -- either wean WebCore from _web_URLFromString, or make it public API in WebFoundation

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::redirectionTimerStartedOrStopped):
	Use KURL to make an NSURL rather than using [NSURL _web_URLWithString:].
        * kwq/KWQKJavaAppletWidget.mm: (KJavaAppletWidget::setBaseURL): Ditto.
        * kwq/WebCoreBridge.mm: (-[WebCoreBridge completeURLForDOMString:]): Ditto.

	After fixing the above bugs, I noticed that I could remove the WebFoundation dependency.

        * WebCore.pbproj/project.pbxproj: Remove WebFoundation framework.

        * kwq/WebCoreBridge.h: Replace reportError with reportBadURL.
        * kwq/KWQLoaderImpl.mm: (KWQServeRequest): Use reportBadURL instead of reportError.
	This was the last bit of direct dependency on WebFoundation.

	Do some preparation work for implementing "referrer".

        * khtml/khtml_part.cpp: Remove lots of APPLE_CHANGES and compile more
	original code. This in preparation for using the "referrer" code from KHTML.
        * khtml/khtmlview.h: Ditto.
        * khtml/misc/loader.cpp: Ditto.

        * kwq/kdecore/kurl.h: Add things needed by code formerly inside APPLE_CHANGES.
        * kwq/KWQKURL.mm: (KURL::hasRef): Ditto.
        (urlcmp): Implement in a simple-minded way. Needed by some code formerly inside
	APPLE_CHANGES. We can make a more full-featured version when and if we need it.
        * kwq/kio/global.h: Ditto.
        * kwq/kio/job.h: Ditto.
        * kwq/kio/jobclasses.h: Ditto.
        * kwq/KWQKjobclasses.mm: Ditto.
        * kwq/kparts/browserextension.h:
        * kwq/kparts/part.h: Ditto.
        * kwq/qt/qstringlist.h: Ditto.
        * kwq/KWQStringList.mm: (QStringList::pop_front): Ditto.
        * kwq/qt/qvaluelist.h: Ditto.
        * kwq/KWQValueListImpl.h: Ditto.
        * kwq/KWQValueListImpl.mm: (KWQValueListImpl::isEqual): Ditto.

	Other changes.

        * kwq/KWQApplication.mm:
        (QApplication::setOverrideCursor): Don\'t report an error for this, it\'s OK
	to do nothing.
        (QApplication::restoreOverrideCursor): Ditto.

WebKit:

	WebKit part of weaning WebCore from getting directly at WebKit defaults.

        * WebView.subproj/WebPreferences.h:
        * WebView.subproj/WebPreferences.m:
        (-[WebPreferences _updateWebCoreSettings]): Added. Propagates all preferences
	to WebCore. This way WebCore doesn\'t have to actively ask for the values
	of preferences using defaults keys that are WebKit secrets.
        (+[WebPreferences load]): Set up an observer that calls _updateWebCoreSettings
	whenever NSUserDefaultsDidChangeNotification is posted.
        (-[WebPreferences setStandardFontFamily:]): Call _updateWebCoreSettings right
	away, don\'t wait for NSUserDefaultsDidChangeNotification.
        (-[WebPreferences setFixedFontFamily:]): Ditto.
        (-[WebPreferences setSerifFontFamily:]): Ditto.
        (-[WebPreferences setSansSerifFontFamily:]): Ditto.
        (-[WebPreferences setCursiveFontFamily:]): Ditto.
        (-[WebPreferences setFantasyFontFamily:]): Ditto.
        (-[WebPreferences setDefaultFontSize:]): Ditto.
        (-[WebPreferences setDefaultFixedFontSize:]): Ditto.
        (-[WebPreferences setMinimumFontSize:]): Ditto.
        (-[WebPreferences setUserStyleSheetEnabled:]): Ditto.
        (-[WebPreferences setUserStyleSheetLocation:]): Ditto.
        (-[WebPreferences setJavaEnabled:]): Ditto.
        (-[WebPreferences setJavaScriptEnabled:]): Ditto.
        (-[WebPreferences setJavaScriptCanOpenWindowsAutomatically:]): Ditto.
        (-[WebPreferences setPluginsEnabled:]): Ditto.
        (-[WebPreferences setDisplayImages:]): Ditto.

        * WebCoreSupport.subproj/WebBridge.m: (-[WebBridge reportBadURL:]):
	Add this method, which replaces reportError. Now WebCore doesn\'t use
	WebFoundation directly at all! Pretty neat.

WebBrowser:

        * Preferences.subproj/ActiveContentPreferences.m: WebKit now calls it "Java",
	not "java".


git-svn-id: svn://svn.chromium.org/blink/trunk@2018 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-10 15:52:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7fbce73522e60b361717034fbe521c790a0fa3ba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01df01l52v8zmmqk', 2, e'        Implemented  disable images automatically (2896319).

        * Preferences.subproj/AppearancePreferences.m:
        (-[AppearancePreferences toggleDisplayImages:]):
        (-[AppearancePreferences initializeFromDefaults]):

        Implemented  disable images automatically (2896319).

        * WebView.subproj/WebPreferences.h:
        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]):
        (-[WebPreferences setDisplayImages:]):
        (-[WebPreferences displayImages]):

        Implemented  disable images automatically (2896319).

        * kwq/KWQKHTMLSettings.mm:
        (KHTMLSettings::autoLoadImages):


git-svn-id: svn://svn.chromium.org/blink/trunk@2017 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-10 00:59:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3507e10bc5171a9e6e348e5f66e810a018dbe127');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dg01l5dglh26hu', 2, e'	- fixed 3003605 -- Leaking 1 WebView after second run of static PLT

	Fixing this should also help with footprint.

        * WebView.subproj/WebFrame.m:
        (-[WebFrame dealloc]): Remove old workaround for problem where we
	always deallocated the frames from timer cleanup. I found a better
	fix for this.
        (-[WebFrame stopLoading]): Explicitly fire the scheduled layout
	timer if any when we stop loading, rather than leaving it hanging.

        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _setState:]):
	Explicitly fire the scheduled layout timer if any.

        * WebView.subproj/WebDataSource.m: (-[WebDataSource isLoading]):
	Use an autorelease pool here so we don\'t end up putting all the
	frames in the main event loop\'s autorelease pool.

        * Bookmarks.subproj/WebBookmark.m:
        (-[WebBookmark init]): Use copy instead of retain.
        (-[WebBookmark identifier]): Use copy instead of retain.


git-svn-id: svn://svn.chromium.org/blink/trunk@2016 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-10 00:33:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f292fd57e304be70752428fec81dc4d6f5ce123c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dh01l5vt9alor3', 2, e'        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::nextKeyView):
	Remove stray printf.


git-svn-id: svn://svn.chromium.org/blink/trunk@2015 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-10 00:19:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5ea79c2ca4e85cd96bc96949bd9aa3d82c98c5f2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01di01l5pqo0oaji', 2, e'	Switching over to the layer system for the handling of mouse
	events.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::nodeAtPoint):
        * khtml/rendering/render_image.cpp:
        (RenderImage::nodeAtPoint):
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::paint):
        (RenderLayer::nodeAtPoint):
        (RenderLayer::constructZTree):
        * khtml/rendering/render_layer.h:
        * khtml/rendering/render_object.cpp:
        (RenderObject::nodeAtPoint):
        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::prepareMouseEvent):
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge drawRect:withPainter:]):
        (-[WebCoreBridge elementAtPoint:]):
        * kwq/qt/qrect.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@2014 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-09 23:56:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d89e07d35c6b8a68950710d5d6b9c8247a074e6b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dj01l5vijjkga8', 2, e'	Missed one call through asking WebResourceHandle for contentLength
	instead of WebResourceResponse.

        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream receivedData:withHandle:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2013 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-09 21:52:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c1e324fdf0dcd0c3f4b5f834833dc3d769752bd8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dk01l5xomr4ock', 2, e'	Content length information now accessible via WebResourceResponse object,
        rather than from WebResourceHandle.

        * WebView.subproj/WebLoadProgress.m:
        (-[WebLoadProgress initWithResourceHandle:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidReceiveData:data:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2012 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-09 21:24:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/75c955512ec060abdc4ae81021ea10b52ee9c8c9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dl01l5styuvfwh', 2, e'        Make both calls to adjust CG font cache dynamic.
        The new CGFontCacheSetMaxSize() adds a font cache
        parameter.  Ugh!  This is needed so we can compile
        w/o warnings on stock Jag.

        * WebCoreSupport.subproj/WebTextRendererFactory.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@2011 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-09 21:20:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/42002700715b46e470673e442253ae28bd3ce59e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dm01l5sukbhcye', 2, e'	Character set information now accessible via WebResourceResponse object,
	rather than from WebResourceHandle.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidReceiveData:data:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2010 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-09 21:03:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f7d8725e510056b81808f3368a141afb8760abd0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dn01l5d9mhh5k8', 2, e'WebKit:

	Re-enable wizzy scaling.

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase _iconByScalingIcon:toSize:]):

WebBrowser:

        * LoadProgressMonitor.m:
        (-[LoadProgressMonitor _incrementProgressBarWithProgress:previousProgress:isMainResource:]): renamed
        (-[LoadProgressMonitor monitorResource:withProgress:error:dataSource:]): _incrementProgressBarWithProgress:previousProgress:isMainResource:
        (-[LoadProgressMonitor finishedLoadingFrame:]): stop progress bar only if data was received


git-svn-id: svn://svn.chromium.org/blink/trunk@2009 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-09 18:47:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0d378d760756872b9ab2affcd487b91930a19e7a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01do01l5on5stabi', 2, e'        * khtml/rendering/render_layer.h: Add a call to delete to fix a storage leak.


git-svn-id: svn://svn.chromium.org/blink/trunk@2008 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-09 18:32:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2852b44483d1d484a6d38afcd83891db03c571c1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dp01l560w7197l', 2, e'	I removed WebCacheLoaderConstantsPrivate.h, but did not check for who
	was importing that file. Duh!

	Includes now fixed.

        * CacheLoader.subproj/WebCacheObject.m:
        * CacheLoader.subproj/WebDiskCache.m:
        * CacheLoader.subproj/WebMemoryCache.m:
        * CacheLoader.subproj/WebResourceHandle.m:
        * CacheLoader.subproj/WebResourceHandleInternal.h:
        * CacheLoader.subproj/WebResourceHandlePrivate.h:
        * CacheLoader.subproj/WebResourceLoad.h:
        * Database.subproj/WebFileDatabase.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@2007 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-09 17:47:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/66df244b2e1c32657a462c1f6c2a1f2bf4122340');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dq01l50znjdv8d', 2, e'        * khtml/misc/helper.cpp: (khtml::setNamedColor): Add a missing return I spotted.

        * kwq/KWQApplication.mm:
        * kwq/KWQChar.mm:
        * kwq/KWQCompletion.mm:
        * kwq/KWQCursor.mm:
        * kwq/KWQEvent.mm:
        * kwq/KWQFontInfo.mm:
        * kwq/KWQFontMetrics.mm:
        * kwq/KWQInputDialog.mm:
        * kwq/KWQKConfigBase.mm:
        * kwq/KWQKFileDialog.mm:
        * kwq/KWQKFileItem.mm:
        * kwq/KWQKGlobalSettings.mm:
        * kwq/KWQKHTMLSettings.mm:
        * kwq/KWQKIconLoader.mm:
        * kwq/KWQKMimeType.mm:
        * kwq/KWQKSimpleConfig.mm:
        * kwq/KWQKjobclasses.mm:
        * kwq/KWQKnetaccess.mm:
        * kwq/KWQLineEdit.mm:
        * kwq/KWQScrollView.mm:
        * kwq/KWQString.mm:
        * kwq/KWQWidget.mm:
        * kwq/KWQbrowserinterface.mm:
        * kwq/KWQtextstream.mm:
        * kwq/KWQxml.mm:
	Change various LOG(NotYetImplemented) to ERROR, FATAL, or removed them entirely.
	This will help us with the task of getting every last one either "not implemented
	on purpose" or implemented. I\'m not sure the NotYetImplemented log channel is
	useful, because it\'s chock full of continuous "direction not implemented" messages.

        * kwq/KWQLogging.h:
        * kwq/KWQLogging.m:
	Removed the NeverImplemented logging channel. The distinction is no longer worth
	keeping around. We use NotYetImplemented instead.


git-svn-id: svn://svn.chromium.org/blink/trunk@2006 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-09 17:22:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3aabf71f00d12345eb7425790245113d20e6dc09');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dr01l5ko5vf779', 2, e'	WebResourcehandle no longer has a contentType method.
	Call through to WebResourceResponse object to get content type.

        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream receivedData:withHandle:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidReceiveData:data:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@2005 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-09 16:38:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4d618099d53cd2b6b5d0ec40d22101f00c52cb8b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01ds01l5rxrkggci', 2, e'	Fixed lifetime problems happening due to new cancel mechanism.

        * WebCoreSupport.subproj/WebSubresourceClient.m: Add comments explaining why
	retain/release is needed.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _recursiveStopLoading]): Add a retain/release so that we don\'t
	run into problems if _stopLoading causes the data source to go away.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient didCancelWithHandle:]): Add retain/release for similar reasons,
	with comment explaining why.
        (-[WebMainResourceClient handleDidFinishLoading:]): Ditto.
        (-[WebMainResourceClient handleDidFailLoading:withError:]): Ditto.

	Fixed the problem that was leading to the NSImage exception, but didn\'t turn on
	the whizzy scaling -- leaving that to Chris.

        * Misc.subproj/WebIconDatabase.m: (-[WebIconDatabase iconForSiteURL:withSize:]):
	Eliminate the "size 0x0" feature. It was only implemented in one place, and tons
	of other places would actually make a size 0x0 icon. But also, we don\'t need it any more.
        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource iconLoader: receivedPageIcon:),
	(-[WebDataSource _loadIcon]): Don\'t bother actually passing the icon to
	[WebLocationChangeHandler receivedPageIcon:forDataSource:]. We should probably eventually
	either just get rid of this method, or remove the icon parameter.


git-svn-id: svn://svn.chromium.org/blink/trunk@2004 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-09 16:03:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4742864f77612e44a5652b60e390783f0e977ec4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dt01l5wcya8b79', 2, e'WebKit:

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase _iconByScalingIcon:toSize:]): Commented out wizzy scaling as it was causing an NSImage exception to be raised.
        * Plugins.subproj/WebPlugin.m:
        (-[WebNetscapePlugin _getPluginInfo]): Check Resource Manager errors

WebBrowser:

        * BrowserWindowController.m:
        (-[BrowserWindowController textFieldWithProgressBar]): renamed, simplified
        (-[BrowserWindowController setProgressBarValue:]): call textFieldWithProgressBar
        (-[BrowserWindowController incrementProgressBarBy:]): call textFieldWithProgressBar
        * TextFieldWithControls.m:
        (-[TextFieldWithControls selectText:]): remove progress bar here


git-svn-id: svn://svn.chromium.org/blink/trunk@2003 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-09 15:35:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b20d6c91c1b56c64b9075b1d30a3b96641b6e7f7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01du01l577srv73g', 2, e'WebFoundation:

        * Misc.subproj/WebAssertions.h: Use 0 instead of undefined
	for the XXX_DISABLED macros to be more consistent with the
	case where they are explicitly defined on purpose.

        * CacheLoader.subproj/WebHTTPProtocolHandler.m:
	Use #if ! rather than #ifndef with LOG_DISABLED, since it
	is set to 0 rather than not defined when LOG is enabled.

        * CacheLoader.subproj/WebResourceLoad.m:
	Same, but for ERROR, rather than LOG.

WebKit:

        * Plugins.subproj/WebPluginStream.m:
        * Plugins.subproj/WebPluginView.m:
	Use #if ! rather than #ifndef with LOG_DISABLED, since it
	is set to 0 rather than not defined when LOG is enabled.

WebBrowser:

        * BookmarksController.m:
        * GlobalHistory.m:
	Use #if ! rather than #ifndef with LOG_DISABLED, since it
	is set to 0 rather than not defined when LOG is enabled.


git-svn-id: svn://svn.chromium.org/blink/trunk@2002 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-09 06:25:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/300d45e2b023adbcc17a79d78fb813ed9744f8c3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dv01l5c8e4filb', 2, e'Tools:

        * Scripts/update-kwq-assert: Added. Script to keep the KWQ version
	of the assert macros in sync. with the WebFoundation version. Just
	update the WebFoundation one and run this script.

        * wftool/WFTool.m: Remove obsolete include.

WebCore:

	Switch over to new assertion/logging scheme.

        * kwq/KWQAssertions.h: Added.
        * kwq/KWQAssertions.m: Added.
        * kwq/KWQLogging.h: Added.
        * kwq/KWQLogging.m: Added.
        * kwq/kwqdebug.h: Removed.
        * kwq/kwqdebug.mm: Removed.
        * WebCore.pbproj/project.pbxproj: Update to reflect above changes.

        * kwq/KWQApplication.mm:
        * kwq/KWQChar.mm:
        * kwq/KWQColor.mm:
        * kwq/KWQComboBox.mm:
        * kwq/KWQCompletion.mm:
        * kwq/KWQCursor.mm:
        * kwq/KWQDrawUtil.mm:
        * kwq/KWQEvent.mm:
        * kwq/KWQFontInfo.mm:
        * kwq/KWQFontMetrics.mm:
        * kwq/KWQFrame.mm:
        * kwq/KWQHBox.mm:
        * kwq/KWQInputDialog.mm:
        * kwq/KWQInvisibleButton.mm:
        * kwq/KWQKConfigBase.mm:
        * kwq/KWQKFileDialog.mm:
        * kwq/KWQKFileItem.mm:
        * kwq/KWQKGlobalSettings.mm:
        * kwq/KWQKHTMLPartImpl.mm:
        * kwq/KWQKHTMLSettings.mm:
        * kwq/KWQKIconLoader.mm:
        * kwq/KWQKJob.mm:
        * kwq/KWQKLocale.mm:
        * kwq/KWQKMimeType.mm:
        * kwq/KWQKPartsEvent.mm:
        * kwq/KWQKSimpleConfig.mm:
        * kwq/KWQKURL.mm:
        * kwq/KWQKWin.mm:
        * kwq/KWQKWinModule.mm:
        * kwq/KWQKjobclasses.mm:
        * kwq/KWQKnetaccess.mm:
        * kwq/KWQLabel.mm:
        * kwq/KWQLineEdit.mm:
        * kwq/KWQListBox.mm:
        * kwq/KWQListImpl.mm:
        * kwq/KWQLoaderImpl.mm:
        * kwq/KWQObject.mm:
        * kwq/KWQPaintDeviceMetrics.mm:
        * kwq/KWQPainter.mm:
        * kwq/KWQPixmap.mm:
        * kwq/KWQRegion.mm:
        * kwq/KWQScrollView.mm:
        * kwq/KWQSlot.mm:
        * kwq/KWQString.mm:
        * kwq/KWQTimer.mm:
        * kwq/KWQWidget.mm:
        * kwq/KWQbrowserinterface.mm:
        * kwq/KWQtextcodec.mm:
        * kwq/KWQtextstream.mm:
        * kwq/KWQxml.mm:
        * kwq/WebCoreBridge.mm:
        * kwq/WebCoreCookieAdapter.m:
        * kwq/WebCoreHistory.m:
        * kwq/WebCoreImageRendererFactory.m:
        * kwq/WebCoreTextRendererFactory.m:
        * kwq/WebCoreViewFactory.m:
	Update to use new assertions and logging macros.
	In some cases, just removed unneeded includes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2001 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-09 06:11:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/478890427ee03fd88e6f0f58ee8220512044bed9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dw01l5szzpf7gr', 2, e'        * Bookmarks.subproj/WebBookmarkGroup.m:
        * History.subproj/WebHistoryPrivate.m:
        * History.subproj/WebURLsWithTitles.m:
        * Misc.subproj/WebDownloadHandler.m:
        * Misc.subproj/WebIconDatabase.m:
        * Misc.subproj/WebIconLoader.m:
        * WebView.subproj/WebController.m:
        * WebView.subproj/WebDataSourcePrivate.m:
        * WebView.subproj/WebFrame.m:
        * WebView.subproj/WebFramePrivate.m:
        * WebView.subproj/WebHTMLView.m:
        * WebView.subproj/WebHTMLViewPrivate.m:
        * WebView.subproj/WebMainResourceClient.m:
        * WebView.subproj/WebPreferences.m:
        * WebView.subproj/WebViewPrivate.m:
	Remove unnecessary includes.


git-svn-id: svn://svn.chromium.org/blink/trunk@2000 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-09 06:06:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7d6a1e94b9e1ac3ce0081d79965457529f9878b0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dx01l5twjtpfhr', 2, e'        * CacheLoader.subproj/WebCFNetworkHTTPProtocolHandler.m:
        * CacheLoader.subproj/WebCacheObject.m:
        * CacheLoader.subproj/WebDiskCache.m:
        * CacheLoader.subproj/WebHTTPProtocolHandler.m:
        * CacheLoader.subproj/WebMemoryCache.m:
        * CacheLoader.subproj/WebResourceHandle.m:
        * CacheLoader.subproj/WebResourceHandleInternal.m:
        * CacheLoader.subproj/WebResourceHandlePrivate.m:
        * CacheLoader.subproj/WebResourceLoad.m:
        * CacheLoader.subproj/WebSimpleHTTPProtocolHandler.m:
        * CookieManager.subproj/WebCookie.m:
        * CookieManager.subproj/WebCookieManager.m:
        * CookieManager.subproj/WebCookieStorage.m:
        * Database.subproj/WebFileDatabase.m:
        * Misc.subproj/WebBinaryHeap.m:
        * Misc.subproj/WebReadWriteLock.m:
        * Misc.subproj/WebRecursiveReadWriteLock.m:
	Remove some unnecessary includes.

        * CacheLoader.subproj/WebHTTPProtocolHandlerPrivate.h: Removed.
        * CacheLoader.subproj/WebHTTPProtocolHandlerPrivate.m: Removed.
        * CacheLoader.subproj/WebHTTPResourceLoader.h: Removed.
        * CacheLoader.subproj/WebHTTPResourceLoader.m: Removed.
	Removed these files. The ChangeLog says they were removed a long time
	ago, but cvs doesn\'t agree.


git-svn-id: svn://svn.chromium.org/blink/trunk@1999 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-09 06:04:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/637ef682a289f77890b5d5661a39fa4ba7bb0849');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dy01l5d9vly4lk', 2, e'	Update logging to use new implementation. Remove old.

        * Misc.subproj/WebKitDebug.h: Removed.
        * Misc.subproj/WebKitDebug.m: Removed.
        * Misc.subproj/WebKitLogging.h: Added.
        * Misc.subproj/WebKitLogging.m: Added.
        * Misc.subproj/WebKitReallyPrivate.h: Removed.
        * WebKit.pbproj/project.pbxproj: Update for above changes.

        * WebKit-tests.exp: Now empty.

        * History.subproj/WebHistoryItem.m: Remove unneeded include.

        * Bookmarks.subproj/WebBookmarkGroup.m:
        * History.subproj/WebHistoryPrivate.m:
        * Misc.subproj/WebDownloadHandler.m:
        * Misc.subproj/WebIconDatabase.m:
        * Plugins.subproj/WebPlugin.m:
        * Plugins.subproj/WebPluginDatabase.m:
        * Plugins.subproj/WebPluginNullEventSender.m:
        * Plugins.subproj/WebPluginStream.m:
        * Plugins.subproj/WebPluginView.m:
        * Plugins.subproj/npapi.m:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        * WebView.subproj/WebDataSourcePrivate.m:
        * WebView.subproj/WebFrame.m:
        * WebView.subproj/WebFramePrivate.m:
        * WebView.subproj/WebHTMLView.m:
        * WebView.subproj/WebMainResourceClient.m:
	Change to use new log channels.


git-svn-id: svn://svn.chromium.org/blink/trunk@1998 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-09 00:22:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f87d7cfb032af041e957e03f2981f93d8a46ce7a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01dz01l5r5oll8h4', 2, e'top level:

        * Tests/WebFoundationC/ifurlhandlec-test.c:
        (run): Remove begin and cancel testing.

WebKit:

	Remove empty handleDidBeginLoading and handleDidCancelLoading
	methods, now that they will never be called.

        * Misc.subproj/WebIconLoader.m:
        * Plugins.subproj/WebPluginStream.m:
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        * WebView.subproj/WebMainResourceClient.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@1997 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-08 23:18:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3ac96737ea808c68a28b57325811b6e3e3222831');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01e001l5w6i0itfu', 2, e'	Forgot to save out files from the editor in my last change.

        * WebView.subproj/WebDataSource.m:
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
	Oops.


git-svn-id: svn://svn.chromium.org/blink/trunk@1996 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-08 23:07:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2cb560d57399ed26532db4939c0ce83f3e865b2f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01e101l52s2i3s6q', 2, e'	Finished weaning us from handleDidCancelLoading. Now I will remove both
	handleDidBeginLoading and handleDidCancelLoading.

        * WebCoreSupport.subproj/WebSubresourceClient.h: Add a handle method.
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handleDidCancelLoading:]): Remove guts, move to cancel.
        (-[WebSubresourceClient handleDidFinishLoading:]): Remove the client from the
	data source now, not the handle.
        (-[WebSubresourceClient handleDidFailLoading:withError:]): Ditto.
        (-[WebSubresourceClient cancel]): Move guts here, also make the above change.
        (-[WebSubresourceClient handle]): Added.

        * WebView.subproj/WebDataSource.m: Use clients list, not handles list.
        * WebView.subproj/WebDataSourcePrivate.h: Keep a list of subresource clients rather
	than a list of handles for the subresources.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): Update to match new field names.
        (-[WebDataSource _updateLoading]): Use clients, not handles.
        (-[WebDataSource _startLoading:]): Move line about starting loading out of the if
	statement. I suspect the if statement is always true, though.
        (-[WebDataSource _addSubresourceClient:]): New name. Keep client pointer instead of
	handle now.
        (-[WebDataSource _removeSubresourceClient:]): Ditto.
        (-[WebDataSource _stopLoading]): Move download handler line into WebMainResourceClient
	since the "not sent when application is quitting" issue is gone now. Stop the subresource
	clients using the cancel call, not by cancelling the handle directly.
        (-[WebDataSource _defersCallbacksChanged]): Update for clients list, not handles list.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient didCancelWithHandle:]): Cancel the download handler here.
        (-[WebMainResourceClient handleDidReceiveData:data:]): Call didCancelWithHandle here.
	A loose end from the previous change.


git-svn-id: svn://svn.chromium.org/blink/trunk@1995 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-08 22:53:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3014a6a52bd58155ee8cfb52797b04b93d27fc07');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnnay01e201l5j6b0yty3', 2, e'	Landing the new layer system and turning it on for painting of
	all types of positioned blocks (and for painting the root
	and HTML layers as well).

	Event handling is not yet using the new layer system, so you
	may see oddities like DHTML menus now displaying correctly but
	events not working (since the event code may still be stacking
	incorrectly and think the DHTML is behind other content).

        * khtml/css/cssstyleselector.cpp:
        * khtml/rendering/render_box.cpp:
        (RenderBox::setStyle):
        (RenderBox::calcHeight):
        (RenderBox::calcAbsoluteHorizontal):
        * khtml/rendering/render_container.cpp:
        (RenderContainer::addChild):
        (RenderContainer::removeChildNode):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::setStyle):
        (RenderFlow::printObject):
        (RenderFlow::printSpecialObjects):
        (RenderFlow::layout):
        (RenderFlow::layoutSpecialObjects):
        (RenderFlow::layoutBlockChildren):
        (RenderFlow::insertSpecialObject):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_html.cpp:
        (RenderHtml::layout):
        * khtml/rendering/render_image.cpp:
        (RenderImage::printObject):
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::updateLayerPosition):
        (RenderLayer::enclosingAncestor):
        (RenderLayer::addChild):
        (RenderLayer::convertToLayerCoords):
        (RenderLayer::paint):
        (RenderLayer::constructZTree):
        (RenderLayer::RenderZTreeNode::constructLayerList):
        * khtml/rendering/render_layer.h:
        * khtml/rendering/render_replaced.cpp:
        (RenderReplaced::print):
        (RenderWidget::printObject):
        * khtml/rendering/render_root.cpp:
        (RenderRoot::calcHeight):
        (RenderRoot::layout):
        (RenderRoot::printObject):
        * khtml/rendering/render_root.h:
        * khtml/rendering/render_style.cpp:
        (StyleBoxData::StyleBoxData):
        (StyleBoxData::operator==):
        * khtml/rendering/render_style.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge drawRect:withPainter:]):
        * kwq/qt/qrect.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1994 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-08 09:48:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/03ecc8c1c7094f528a9f7b8694df72a8f378e762');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cf01l5ei4bzgck', 2, e'WebKit:

	Made the wizzy scaling an experiment.

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase _iconByScalingIcon:toSize:]):

WebBrowser:

	- Text field/location bar combo
	- Added a defaults key "Experiments" as a way to toggle experimental features, behaviors etc.
	- Added an "Experiments" debug menu item. Vague, but couldn\'t think of a better title.
	- The text field/location bar combo is an "Experiment".

	"Experiments" is off by default.

        * AppController.m:
        (-[AppController enableExperiments:]): toggle the default
        * BrowserWindowController.h:
        * BrowserWindowController.m:
        (-[BrowserWindowController setActivity:]): set _previousActivity so we know if we were searching or loading
        (-[BrowserWindowController textFieldToUpdateProgress]): added, returns the current text field that is showing a progress bar
        (-[BrowserWindowController setProgressBarValue:]): added, calls setProgressBarValue on current text field
        (-[BrowserWindowController incrementProgressBarBy:]): added, calls incrementProgressBarBy on current text field
        * Debug/DebugUtilities.m:
        (-[DebugUtilities createDebugMenu]):
        * LoadProgressMonitor.h:
        * LoadProgressMonitor.m:
        (-[LoadProgressMonitor initWithBrowserDocument:]): set _maxIncrement to the default
        (-[LoadProgressMonitor _setProgressBarValueToZero]): added
        (-[LoadProgressMonitor _stopProgressBar]): added
        (-[LoadProgressMonitor _incrementProgressBarWithProgress:previousProgress:isFrame:]): added, progress algorithm here
        (-[LoadProgressMonitor monitorResource:withProgress:error:dataSource:]): call _incrementProgressBarWithProgress:previousProgress:isFrame:
        (-[LoadProgressMonitor finishedLoadingFrame:]): call _stopProgressBar
        * LocationTextField.m:
        (-[LocationTextField setDisplayAttributes]): set progress images
        * PreferenceKeys.h:
        * Resources/Images/Location_Left_Progress.tif: Added.
        * Resources/Images/Location_Middle_Progress.tif: Added.
        * Resources/Images/Location_Right_Progress.tif: Added.
        * Resources/Images/Search_Left_Progress.tif: Added.
        * Resources/Images/Search_Middle_Progress.tif: Added.
        * Resources/Images/Search_Right_Progress.tif: Added.
        * SearchTextField.m:
        (-[SearchTextField setDisplayAttributes]): set progress images
        * TextFieldWithControls.h:
        * TextFieldWithControls.m:
        (-[TextFieldWithControls becomeFirstResponder]): call setIsShowingProgressBar:NO
        (-[TextFieldWithControls textDidEndEditing:]):	call setIsShowingProgressBar:YES
        (-[TextFieldWithControls dealloc]): release progress images
        (-[TextFieldWithControls backgroundImage]): added logic for showing progress bar
        (-[TextFieldWithControls setLeftProgressImage:]): added
        (-[TextFieldWithControls setRightProgressImage:]): added
        (-[TextFieldWithControls setMiddleProgressImage:]): added
        (-[TextFieldWithControls isShowingProgressBar]): added
        (-[TextFieldWithControls setIsShowingProgressBar:]): added
        (-[TextFieldWithControls setProgressBarValue:]): added
        (-[TextFieldWithControls incrementProgressBarBy:]): added
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1993 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-07 23:55:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d3bd5bf8a1ca1726435285c9030f3510fa8fa6bb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cg01l520uizpfk', 2, e'        Fix another instance of the same problem:

	* kwq/KWQString.mm:
        (QString::detach):


git-svn-id: svn://svn.chromium.org/blink/trunk@1992 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-07 01:06:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/883c869b0b8c5d14c08aa69077f7260e407ea383');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01ch01l5ha8wm3bb', 2, e'	Fix optimized build:

        * kwq/KWQString.mm:
        (QString::detachInternal): Uselessly Initialize newData to NULL
	since the compiler can\'t tell that FATAL won\'t return.


git-svn-id: svn://svn.chromium.org/blink/trunk@1991 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-07 01:04:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/14d2e5cdaece81cf148bf9133712adf152d27f58');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01ci01l5un6mk7w6', 2, e'WebCore:

        * kwq/WebCoreResourceLoader.h:
	Define WebCoreResourceHandle protocol.

        * kwq/kio/jobclasses.h:
        * kwq/KWQKjobclasses.mm:
        * kwq/KWQLoaderImpl.mm: (KWQServeRequest):
        * kwq/WebCoreBridge.h:
	Use WebCoreResourceHandle instead of WebResourceHandle.

        * kwq/KWQString.mm: (QString::fill): Fix case where the new string
	is going to be empty, but the old string was not. Before, it leaked
	a handle.

        * kwq/character-sets.txt: Updated to 2002-06-14 version from 2001-08-23 version.
        * kwq/mac-encodings.txt: Updated encoding names to include ones gleaned from
	the I18N-Charset-1.17 Perl module.

        * kwq/KWQCharsets.mm: Formatting tweaks.

WebKit:

	Almost weaned WebKit entirely from the handleDidBeginLoading and handleDidCancelLoading
	loading callbacks. We are planning to remove both of them.

        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream startLoad]): Call _didStartLoading here so we don\'t need
	to rely on handleDidBeginLoading any more.
        (-[WebNetscapePluginStream stop]): Call cancel here so we don\'t need to rely on
	handleDidCancelLoading any more.
        (-[WebNetscapePluginStream handleDidBeginLoading:]): Empty out.
        (-[WebNetscapePluginStream handleDidFinishLoading:]): Nil out resource here.
        (-[WebNetscapePluginStream handleDidCancelLoading:]): Empty out.
        (-[WebNetscapePluginStream cancel]): Put cancel code here.
        (-[WebNetscapePluginStream handleDidFailLoading:withError:]): Nil out resource here.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge startLoadingResource:withURL:]): Change to use WebCoreResourceHandle.

        * WebCoreSupport.subproj/WebSubresourceClient.h: Change to use WebCoreResourceHandle.
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient dealloc]): Release handle too, now that we have it.
        (-[WebSubresourceClient receivedProgressWithComplete:]): Moved up here and removed handle
	parameter.
        (+[WebSubresourceClient startLoadingResource:withURL:dataSource:]): Do work here so
	we don\'t need to rely on handleDidBeginLoading any more.
        (-[WebSubresourceClient receivedError:]): Removed handle parameter.
        (-[WebSubresourceClient handleWillUseUserAgent:forURL:]):
        (-[WebSubresourceClient handleDidBeginLoading:]): Emptied out.
        (-[WebSubresourceClient handleDidCancelLoading:]): Updated, still needs to be emptied out.
        (-[WebSubresourceClient handleDidFinishLoading:]): Nil out handle.
        (-[WebSubresourceClient handleDidFailLoading:withError:]): Nil out handle.
        (-[WebSubresourceClient cancel]): New method, used by WebCore.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer widthForCharacters:length:]): Moved up in the file to fix build failure.

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading:]): Call didStartLoadingWithURL so we don\'t have to
	rely on handleDidBeginLoading.
        (-[WebDataSource _stopLoading]): Call didCancelWithHandle so we don\'t have to rely
	on handleDidCancelLoading.

        * WebView.subproj/WebMainResourceClient.h: Add didStartLoadingWithURL and
	didCancelWithHandle to the public methods.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient initWithDataSource:]):
        (-[WebMainResourceClient handleDidBeginLoading:]): Empty out.
        (-[WebMainResourceClient didCancelWithHandle:]): Move the bulk of handleDidCancelLoading here.
        (-[WebMainResourceClient handleDidCancelLoading:]): Empty out.

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView mouseDragged:]): Move the mouse up a little
	bit so it\'s "on" the dragged area, but not over the text.


git-svn-id: svn://svn.chromium.org/blink/trunk@1990 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-07 00:45:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bf4efc6fdbf739057f8bb2d73b885c9f9b449323');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cj01l5l85glt9e', 2, e'        Added support for khtml\'s justified text drawing.  Additional padding is distributed
        to space widths.  (Sites like www.osnews.com now render correctly.)

        Change word end rounding hack to use ceil of word width.  I\'m still noticing a spacing anomaly
        that is fixed by a reload.  Occasionally text runs are still crammed together, but a reload uses
        correct spacing.  This anomaly is often visible on www.arstechnica.com.  Still investigating.

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer drawGlyphs:numGlyphs:fromGlyphPosition:toGlyphPosition:atPoint:withPadding:withTextColor:backgroundColor:]):
        (-[WebTextRenderer slowDrawCharacters:length:fromCharacterPosition:toCharacterPosition:atPoint:withPadding:withTextColor:backgroundColor:attemptFontSubstitution:]):
        (-[WebTextRenderer _drawCharacters:length:fromCharacterPosition:toCharacterPosition:atPoint:withPadding:withTextColor:backgroundColor:]):
        (-[WebTextRenderer drawCharacters:stringLength:fromCharacterPosition:toCharacterPosition:atPoint:withPadding:withTextColor:backgroundColor:]):
        (-[WebTextRenderer slowFloatWidthForCharacters:stringLength:fromCharacterPostion:numberOfCharacters:applyRounding:]):
        (-[WebTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:applyRounding:attemptFontSubstitution:]):

        Tweaks to dragged image.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):

        Start using khtml\'s \'toAdd\' parameter to justify text.

        * khtml/rendering/font.cpp:
        (Font::drawText):

        Normalize all calls to get width to minimize use of
        ObjC.  Will make it easier to use IMPL cache later.

        * kwq/KWQFontMetrics.mm:
        (QFontMetrics::width):
        (QFontMetrics::floatWidth):
        (QFontMetrics::floatCharacterWidth):

        Pass additional \'toAdd\' parameter.

        * kwq/KWQPainter.mm:
        (QPainter::drawText):
        * kwq/qt/qpainter.h:

        Remove methods now that width calls are normalized to single
        method.
        * kwq/WebCoreTextRenderer.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1989 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-06 23:22:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/142b917d1b2ced8d32920121adf075bc2af6d24f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01ck01l5j8zwih74', 2, e'        Fixed symbol lookup problem.  NSLookupAndBindSymbol() dies horribly
        if symbol is missing.  Use NSIsSymbolNameDefined() first to check if
        symbol is present.

        * WebCoreSupport.subproj/WebTextRendererFactory.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@1987 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-06 23:12:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c41ba8a7de2e7aceb8708ed07c7978e10d237294');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cl01l503fuip2k', 2, e'	Leak fixes and other related changes.

        * CacheLoader.subproj/WebResourceHandleInternal.m:
        (-[WebResourceHandleInstanceVariables prepareCallbacks]): Retain the
	callbackData to give it a more normal lifetime.
        (-[WebResourceHandleInstanceVariables dealloc]): Release response to fix
	a leak, and callbackData to match the change above.
        (-[WebResourceHandle _sendCallbacks]): Handle fail in a way that is parallel
	to finish, rather than parallel to cancel. And put the rule about not delivering
	any more callbacks after the end state at this level instead of in each function.
        (-[WebResourceHandle _notifyClientDidBeginLoading]): Remove unnecessary locking.
        (-[WebResourceHandle _notifyClientDidCancelLoading]): Ditto.
        (-[WebResourceHandle _notifyClientDidRedirectToURL]): Ditto.
        (-[WebResourceHandle _notifyClientDataDidBecomeAvailable]): Ditto.
        (-[WebResourceHandle _notifyClientDidFailLoading]): Ditto.
        (-[WebResourceHandle _notifyClientDidFinishLoading]): Ditto.
        * CacheLoader.subproj/WebSimpleHTTPProtocolHandler.m:
        (-[WebSimpleHTTPProtocolHandler dealloc]): Release responseDataGuard to fix a leak.

        * Misc.subproj/WebQueue.m:
        (-[WebQueue take]): Rewrite the wait loop for clarity. Add code to update tail when
	taking the last element from the queue; fixes a bug.
        (-[WebQueue remove:]): Add code to update tail when removing the last element.

        * CacheLoader.subproj/WebResourceLoadQueue.m: -[WebResourceLoadQueue put:]): Tweak.

        * CacheLoader.subproj/WebResourceLoad.m:
        (_loadBegin): Add an autorelease pool.
        (_loadSweeper): Add an autorelease pool.

        * Database.subproj/WebFileDatabase.m:
        (-[WebFileDatabaseOp initWithCode:key:object:]): Remove unneeded release of nil.
        (-[WebFileDatabase objectForKey:]): Tweak and remove an unnecessary "volatile".

        * Misc.subproj/WebSystemBits.m: (WebSetThreadPriority): Use FATAL instead of printf.


git-svn-id: svn://svn.chromium.org/blink/trunk@1986 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-06 22:56:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3249cfe57837c9f40b1981856b070f6af7cbad81');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cm01l55xufr9f1', 2, e'	Fix some minor anomalies and leaks.

        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem initWithURL:target:parent:title:]): Use copy, not retain.
        (-[WebHistoryItem dealloc]): Release the anchor, fix leak.
        (-[WebHistoryItem setURL:]): Check for URLs that are equal, not just ==.
        (-[WebHistoryItem setTitle:]): Copy, not retain.
        (-[WebHistoryItem setTarget:]): Copy, not retain.
        (-[WebHistoryItem setParent:]): Copy, not retain.
        (-[WebHistoryItem setDisplayTitle:]): Copy, not retain.
        (-[WebHistoryItem setAnchor:]): Copy, not retain.
        * WebView.subproj/WebControllerPolicyHandler.m:
        (-[WebPolicyPrivate dealloc]): Release the URL, call super, fix leaks.
        (-[WebPolicy _setPath:]): Use copy, not retain.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate dealloc]): Release downloadProgressHandler,
	contextMenuHandler, locationChangeHandler, fix leaks.

	Some fun with Richard\'s new code.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]): Center image around mouse instead of
	putting it up and to the right. Add more X space than Y space.


git-svn-id: svn://svn.chromium.org/blink/trunk@1985 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-06 20:34:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/81faa2077580217416b8bc80937aeeb2600f20ed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cn01l5pcklxv3k', 2, e'i        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):

        More fun and games with dragged links.
        Draw both a label and url (in a smaller font)
        into the dragged image.

        * Misc.subproj/WebStringTruncator.h:
        * Misc.subproj/WebStringTruncator.m:
        (+[WebStringTruncator rightTruncateString:toWidth:withFont:]):

        Added right string truncator.  Not optimized, but not used
        very often.  Currently just for dragged link experiment.


git-svn-id: svn://svn.chromium.org/blink/trunk@1984 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-06 20:21:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6ff2acfd7de1c31a76609dffd7510003d47d9d97');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01co01l5yxcv7f4v', 2, e'Alex-22 markers & version


git-svn-id: svn://svn.chromium.org/blink/trunk@1982 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-09-06 18:57:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0448c076bc2ad33d6a2a7d0ca7878b8f598967cc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cp01l5f6qee0x1', 2, e'	Declaration and initialization of variable on one line caused unused variable
	warning when building under deployment since the only use of the variable was
	in a debug statement.

        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream receivedError:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1981 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-06 14:17:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/40775d3d4066d09d2c8adeb60255219479cd8929');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cq01l5fuzm4v93', 2, e'        Change all logging to use the new logging.

        * Misc.subproj/WebAssertions.h: Add real definition of WebLogChannel.
        * Misc.subproj/WebAssertions.m: (WebLog): Implement.

        * Misc.subproj/WebFoundationDebug.h: Removed.
        * Misc.subproj/WebFoundationDebug.m: Removed.
        * Misc.subproj/WebFoundationLogging.h: Added.
        * Misc.subproj/WebFoundationLogging.m: Added.
        * Misc.subproj/WebFoundationPrivate.h: Removed WebFoundationDebug.h.
        * WebFoundation.pbproj/project.pbxproj: Removed and added files.

        * AuthenticationManager.subproj/WebAuthenticationHandlerDispatcher.m:
        * CacheLoader.subproj/WebCFNetworkHTTPProtocolHandler.m:
        * CacheLoader.subproj/WebCacheObject.m:
        * CacheLoader.subproj/WebDiskCache.m:
        * CacheLoader.subproj/WebFileProtocolHandler.m:
        * CacheLoader.subproj/WebHTTPProtocolHandler.m:
        * CacheLoader.subproj/WebMemoryCache.m:
        * CacheLoader.subproj/WebProtocolHandler.m:
        * CacheLoader.subproj/WebResourceData.m:
        * CacheLoader.subproj/WebResourceHandle.m:
        * CacheLoader.subproj/WebResourceHandleInternal.m:
        * CacheLoader.subproj/WebResourceHandlePrivate.m:
        * CacheLoader.subproj/WebResourceLoad.m:
        * CacheLoader.subproj/WebResourceLoadManager.m:
        * CacheLoader.subproj/WebResourceLoadQueue.m:
        * CacheLoader.subproj/WebSimpleHTTPProtocolHandler.m:
        * CookieManager.subproj/WebCookie.m:
        * CookieManager.subproj/WebCookieAcceptHandlerDispatcher.m:
        * CookieManager.subproj/WebCookieManager.m:
        * CookieManager.subproj/WebCookieStorage.m:
        * Database.subproj/WebFileDatabase.m:
        * Misc.subproj/WebBinaryHeap.m:
        * Misc.subproj/WebHostNameResolver.m:
        * Misc.subproj/WebNSStringExtras.m:
        * Misc.subproj/WebQueue.m:
        * Misc.subproj/WebReadWriteLock.m:
        * Misc.subproj/WebRecursiveReadWriteLock.m:
        Update to use new log macro.


git-svn-id: svn://svn.chromium.org/blink/trunk@1980 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-06 06:15:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f6e1efbe2534cbd40e2fb14b43eaf74662d25133');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cr01l50opt1o50', 2, e'        Experiment w/ dragging link label as drag image.
        Needs some visual tweaking, but good concept, I think.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1979 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-06 03:10:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6083a44e98f4223363e6448d4cca0fe623db0bef');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cs01l5nyzpqx0f', 2, e'        Add the first child text node of the element to the
        element dictionary.  This will be used as a link \'label\'.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge elementAtPoint:]):

        Use the first text child node of the link element
        as the title for a dragged link.  We\'ll use this for
        the dragged image later too.

        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _elementAtPoint:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1978 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-06 02:29:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/486721185f18a58a8de25f679d178e3b9a7e4d50');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01ct01l5nz0enxsc', 2, e'	First baby step towards moving List away from garbage collection.

        * kjs/types.h: Add needsMarking boolean and make List inherit from
	Value privately instead of publicly.


git-svn-id: svn://svn.chromium.org/blink/trunk@1977 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-09-06 01:22:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/43bf3b69696a8a725d37d01b6c35f2ce486e15d0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cu01l5u67kje5u', 2, e'        Correctly save of document state in current
        document when going back.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge saveDocumentState:]):
        (-[WebBridge documentState]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1976 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-06 00:58:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/99043dc24bd3fdb8abe168cbb56d77761c59fb2c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cv01l5orq980ep', 2, e'        Fixed 3043505.  Disallows drag drops on originating view.

        * WebView.subproj/WebView.m:
        (-[WebView draggingEntered:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1975 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-06 00:11:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7c196644fa62777dd499b74422820cbe12f3141c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cw01l55jwo2dvj', 2, e'	Update to use the new style of assertions.
	A few places still use the WebKitDebug.h, for logging.

        * Bookmarks.subproj/WebBookmark.m:
        * Bookmarks.subproj/WebBookmarkGroup.m:
        * Bookmarks.subproj/WebBookmarkLeaf.m:
        * Bookmarks.subproj/WebBookmarkList.m:
        * Bookmarks.subproj/WebBookmarkSeparator.m:
        * History.subproj/WebHistory.m:
        * History.subproj/WebHistoryList.m:
        * History.subproj/WebHistoryPrivate.m:
        * History.subproj/WebURLsWithTitles.m:
        * Misc.subproj/WebDownloadHandler.m:
        * Misc.subproj/WebIconDatabase.m:
        * Misc.subproj/WebIconLoader.m:
        * Misc.subproj/WebKitDebug.h:
        * Misc.subproj/WebStringTruncator.m:
        * Panels.subproj/WebAuthenticationPanel.m:
        * Plugins.subproj/WebPlugin.m:
        * Plugins.subproj/WebPluginDatabase.m:
        * Plugins.subproj/WebPluginNullEventSender.m:
        * Plugins.subproj/WebPluginStream.m:
        * Plugins.subproj/WebPluginView.m:
        * Plugins.subproj/npapi.m:
        * WebCoreSupport.subproj/WebBridge.m:
        * WebCoreSupport.subproj/WebCookieAdapter.m:
        * WebCoreSupport.subproj/WebImageRenderer.m:
        * WebCoreSupport.subproj/WebImageRendererFactory.m:
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        * WebCoreSupport.subproj/WebTextRendererFactory.m:
        * WebCoreSupport.subproj/WebViewFactory.m:
        * WebView.subproj/WebController.m:
        * WebView.subproj/WebControllerPrivate.m:
        * WebView.subproj/WebDataSource.m:
        * WebView.subproj/WebDataSourcePrivate.m:
        * WebView.subproj/WebDefaultPolicyHandler.m:
        * WebView.subproj/WebFrame.m:
        * WebView.subproj/WebFramePrivate.m:
        * WebView.subproj/WebHTMLView.m:
        * WebView.subproj/WebHTMLViewPrivate.m:
        * WebView.subproj/WebMainResourceClient.m:
        * WebView.subproj/WebPreferences.m:
        * WebView.subproj/WebViewPrivate.m:
	Use new assertions.


git-svn-id: svn://svn.chromium.org/blink/trunk@1974 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-05 23:56:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2af1cc4ea5edd032b8229b8f9f5a4c6f5d5f3220');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cx01l5tt2j4r75', 2, e'
        Removed debugging.

        * khtml/khtml_part.cpp:
        (KHTMLPart::closeURL):

        Removed debugging.

        * History.subproj/WebBackForwardList.m:
        (-[WebBackForwardList addEntry:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1973 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-05 23:35:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/53fbeea69b3b8dfc6fb8b9b4238e4a309478e7ac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cy01l5aqhl6p5i', 2, e'        Added support for saving/restoring document state
        in back/forward list.

        * History.subproj/WebBackForwardList.m:
        (-[WebBackForwardList addEntry:]):
        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem dealloc]):
        (-[WebHistoryItem setLastVisitedDate:]):
        (-[WebHistoryItem documentState]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge saveDocumentState:]):
        (-[WebBridge documentState]):
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading:]):


        Lookup post Jaguar CG SPI.  Can now run and build
        w/o patched CG.

        * WebCoreSupport.subproj/WebTextRendererFactory.m:

        Changed image links to drag file contents.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):


        Always call KHTMLPart::closeURL when a new document is loaded.

        Added support for saving and restoring document state in
        the back/forward list.  Document state includes form data.

        * khtml/khtml_part.cpp:
        (KHTMLPart::openURL):
        (KHTMLPart::closeURL):
        (KHTMLPart::begin):
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::saveDocumentState):
        (KWQKHTMLPartImpl::restoreDocumentState):
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge saveDocumentState]):
        (-[WebCoreBridge restoreDocumentState]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1972 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-05 23:18:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b2b142e648718eaba7f09927a449d874fa155002');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01cz01l52s7632wi', 2, e'WebFoundation:

	Another change likes the ones I have been doing.

	This time the WebError object has been removed from WebResourceHandle and WebResourceLoad.
	They now rely on the WebError object in WebResourceResponse. All WebFoundation code
	has been updated accordingly.

        * CacheLoader.subproj/IFURLHandleC.m:
        (IFURLHandleBackgroundLoadFailedWithResultCode)
        (IFURLHandleGetError)
        * CacheLoader.subproj/WebCFNetworkHTTPProtocolHandler.m:
        (-[WebCFNetworkHTTPProtocolHandler continueHeaderReadAfterFailureResponseAndCall:])
        * CacheLoader.subproj/WebResourceHandle.h:
        * CacheLoader.subproj/WebResourceHandle.m:
        * CacheLoader.subproj/WebResourceHandleInternal.h:
        * CacheLoader.subproj/WebResourceHandleInternal.m:
        (-[WebResourceHandleInstanceVariables dealloc])
        (-[WebResourceHandle _notifyClientDidFailLoading])
        * CacheLoader.subproj/WebResourceHandlePrivate.h:
        * CacheLoader.subproj/WebResourceHandlePrivate.m:
        * CacheLoader.subproj/WebResourceLoad.h:
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad succeeded])
        (-[WebResourceLoad failedWithResultCode:inDomain:failingURL:isTerminal:])
        (-[WebResourceLoad dealloc])
        * CacheLoader.subproj/WebSimpleHTTPProtocolHandler.m:
        (-[WebSimpleHTTPProtocolHandler _examineHeaders])

WebKit:

	The WebError object has been removed from WebResourceHandle.
        Objects of that class now rely on the WebError object in WebResourceResponse.

	This code has been updated to ask WebResourceResponse for it WebError object,
	rather than asking WebResourceHandle.

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handleDidFinishLoading:])
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidFinishLoading:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1971 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-05 21:04:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e6708607ee4dc23fbe4ad7a98e4b97e5ecd3a5ba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01d001l5e0f4u9jq', 2, e'	Fixed 3021365 - Crash failing to load plugin from local file

        * Plugins.subproj/WebPluginStream.h:
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream receivedData:withHandle:]):
        (-[WebNetscapePluginStream receivedError:]):
        (-[WebNetscapePluginStream receivedData:withDataSource:]):
        (-[WebNetscapePluginStream handleDidReceiveData:data:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1970 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-05 20:38:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3e5cc644c0539bca174fbf4d418a198657ff242c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01d101l5bpv64acf', 2, e'WebFoundation:

	The first use of the WebResourceResponse object. This is just a baby step, though.
	I only use one variable in the new class, the statusCode, but all the code in
	the framework has been updated to use the statusCode from the response object.
	All other references to status codes, be they in WebResourceHandle, or
	WebResourceLoad, have been eliminated. More changes like this, where I rely
	more and more on WebResourceResponse are to come.

        * CacheLoader.subproj/IFURLHandleC.m:
        (IFURLHandleGetStatusCode): Call through to response object to get status code.
        * CacheLoader.subproj/WebCFNetworkHTTPProtocolHandler.m: Ditto.
        (-[WebCFNetworkHTTPProtocolHandler continueAfterBytesAvailable]):Ditto.
        (-[WebCFNetworkHTTPProtocolHandler handleReadStreamEvent:event:]):Ditto.
        * CacheLoader.subproj/WebResourceHandle.h: Added accessor for WebResourceResponse ivar.
        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceHandle cancelLoadInBackground]): Call through to response object to get status code.
        (-[WebResourceHandle loadInForeground:]): Ditto.
        (-[WebResourceHandle response]): Added.
        * CacheLoader.subproj/WebResourceHandleInternal.h: Add WebResourceResponse ivar. Remove statusCode ivar.
        * CacheLoader.subproj/WebResourceHandleInternal.m: Remove handle support for its own status code ivar.
        (-[WebResourceHandleInstanceVariables initWithHandle:]):
        (+[WebResourceHandle _registerDefaults]):
        * CacheLoader.subproj/WebResourceHandlePrivate.h: Declare method to set a WebResourceResponse on a handle.
        * CacheLoader.subproj/WebResourceHandlePrivate.m:
        (-[WebResourceHandle _didLoadData:]): Call through to response object to get status code.
        (-[WebResourceHandle _backgroundLoadComplete]): Ditto.
        (-[WebResourceHandle _backgroundLoadFailed]): Ditto.
        (-[WebResourceHandle _didRedirectToURL:]): Ditto.
        (-[WebResourceHandle _setResponse:]): Added
        * CacheLoader.subproj/WebResourceLoad.h: Remove load support for its own status code ivar. Add WebResourceResponse ivar.
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad initWithRequest:]): Create new WebResourceResponse ivar.
        (-[WebResourceLoad cancel]): Call through to response object to get status code.
        (-[WebResourceLoad succeeded]): Ditto.
        (-[WebResourceLoad failedWithResultCode:inDomain:failingURL:isTerminal:]): Ditto.
        (-[WebResourceLoad addHandle:]): Set WebResourceResponse on the handle when it is added.
        (-[WebResourceLoad _beginLoad]): Call through to response object to get status code.
        (-[WebResourceLoad _beginOriginLoad]): Ditto.
        (-[WebResourceLoad dealloc]): Release new WebResourceResponse instance.
        (_loadThrottler): Call through to response object to get status code.
        * CacheLoader.subproj/WebResourceResponse.m:
        (-[WebResourceResponse init]): Added
        (-[WebResourceResponse contentLength]): Implementation does not work yet, but nobody relies on it yet.
        * CacheLoader.subproj/WebResourceResponsePrivate.h: Removed life-cycle methods I am going to try to do without.
        * WebFoundation.pbproj/project.pbxproj:

WebKit:

        The first use of the WebResourceResponse object. This is just a baby step, though.
        I only use one variable in the new class, the statusCode, but all the code in
        the framework has been updated to use the statusCode from the response object.

	Each of these methods was modified to call through to a WebResourceResponse to get
	the status code.

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handleDidFinishLoading:])
        * WebView.subproj/WebLoadProgress.m:
        (-[WebLoadProgress initWithResourceHandle:])
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidFinishLoading:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1969 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-05 19:39:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a732a9553bb7a9cef65049eac71bcdcbd8ec846');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01d201l5vdqvciku', 2, e'        Only disable timed expiration of CG glyph cache if SPI is available.
        (per Bertrand\'s request)

        * WebCoreSupport.subproj/WebTextRendererFactory.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@1968 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-09-05 19:34:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/be1400ff285617a2c85a7bd6e85a1e25354bd8dd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01d301l5m54ieuhh', 2, e'WebKit:

        * Resources/url_icon.tiff: New generic icon from Steve Lemay.
	The @ sign lives, but does not spring.

WebBrowser:

	- new art from Steve Lemay
	- removed all unused images from Alexander

        * LocationTextField.m:
        (-[LocationTextField setDisplayAttributes]):
        * SearchTextField.m:
        (-[SearchTextField setDisplayAttributes]):
	Updated to use new names for left/middle/right images, so I don\'t
	have to keep changing the names of the incoming art.

        * Resources/Images/Back.tif:
        * Resources/Images/BackPressed.tif:
        * Resources/Images/Go.tif:
        * Resources/Images/GoPressed.tif:
        * Resources/Images/Search_SnapBack.tif:
        * Resources/Images/Search_SnapBackPressed.tif:
        * Resources/Images/ShowFavorites.tif:
        * Resources/Images/Stop.tif:
        * Resources/Images/StopPressed.tif:
        * Resources/Images/Reload.tif:
        * Resources/Images/ReloadPressed.tif:
	New and improved.

        * Resources/Images/Location_Left.tif: Added.
        * Resources/Images/Location_Middle.tif: Added.
        * Resources/Images/Location_Right.tif: Added.
        * Resources/Images/Search_Left.tif: Added.
        * Resources/Images/Search_Middle.tif: Added.
        * Resources/Images/Search_Right.tif: Added.
	New names for left/middle/right text field images; note
	that the search middle is now different than the location
	field middle (different shadowing)

        * Resources/Images/RightCapBack.tiff: Removed.
        * Resources/Images/favoritesCaret.tiff: Removed.
        * Resources/Images/find.tiff: Removed.
        * Resources/Images/find2_green.gif: Removed.
        * Resources/Images/find_go.tiff: Removed.
        * Resources/Images/find_green.gif: Removed.
        * Resources/Images/find_red_0.gif: Removed.
        * Resources/Images/find_red_1.gif: Removed.
        * Resources/Images/find_red_2.gif: Removed.
        * Resources/Images/find_red_3.gif: Removed.
        * Resources/Images/find_red_4.gif: Removed.
        * Resources/Images/find_red_5.gif: Removed.
        * Resources/Images/find_red_6.gif: Removed.
        * Resources/Images/find_red_7.gif: Removed.
        * Resources/Images/leftCapFlat.tiff: Removed.
        * Resources/Images/leftCapRound.tiff: Removed.
        * Resources/Images/leftCapRoundWithGlass.tiff: Removed.
        * Resources/Images/leftCapRoundWithGlassAndMenu.tiff: Removed.
        * Resources/Images/middleTextField.tiff: Removed.
        * Resources/Images/rightCapFlat.tiff: Removed.
        * Resources/Images/rightCapRound.tiff: Removed.
        * Resources/Images/spin_0.tiff: Removed.
        * Resources/Images/spin_1.tiff: Removed.
        * Resources/Images/spin_10.tiff: Removed.
        * Resources/Images/spin_11.tiff: Removed.
        * Resources/Images/spin_2.tiff: Removed.
        * Resources/Images/spin_3.tiff: Removed.
        * Resources/Images/spin_4.tiff: Removed.
        * Resources/Images/spin_5.tiff: Removed.
        * Resources/Images/spin_6.tiff: Removed.
        * Resources/Images/spin_7.tiff: Removed.
        * Resources/Images/spin_8.tiff: Removed.
        * Resources/Images/spin_9.tiff: Removed.
        * Resources/Images/stopSquare.tiff: Removed.
        * Resources/Images/web2_green.gif: Removed.
        * Resources/Images/web2_red_0.gif: Removed.
        * Resources/Images/web2_red_1.gif: Removed.
        * Resources/Images/web2_red_10.gif: Removed.
        * Resources/Images/web2_red_11.gif: Removed.
        * Resources/Images/web2_red_2.gif: Removed.
        * Resources/Images/web2_red_3.gif: Removed.
        * Resources/Images/web2_red_4.gif: Removed.
        * Resources/Images/web2_red_5.gif: Removed.
        * Resources/Images/web2_red_6.gif: Removed.
        * Resources/Images/web2_red_7.gif: Removed.
        * Resources/Images/web2_red_8.gif: Removed.
        * Resources/Images/web2_red_9.gif: Removed.
        * Resources/Images/web_go.tiff: Removed.
        * Resources/Images/web_green.gif: Removed.
        * Resources/Images/web_red_0.gif: Removed.
        * Resources/Images/web_red_1.gif: Removed.
        * Resources/Images/web_red_2.gif: Removed.
        * Resources/Images/web_red_3.gif: Removed.
        * Resources/Images/web_red_4.gif: Removed.
        * Resources/Images/web_red_5.gif: Removed.
        * Resources/Images/web_red_6.gif: Removed.
        * Resources/Images/web_red_7.gif: Removed.
	Out with the old unused images.

        * WebBrowser.pbproj/project.pbxproj: Updated for file changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1967 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-09-05 14:13:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e7b3d43c71b93beeac8fecde4ac12993ab48f597');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01d401l5lr62nx3u', 2, e'	One more pass of refinement on that last change.

        * History.subproj/WebBackForwardList.m: (-[WebBackForwardList addEntry:]):
	Replace the last entry instead of just ignoring if this one matches.

        * History.subproj/WebHistoryList.h: Add replaceEntryAtIndex. Remove addURL: and removeURL:.

        * History.subproj/WebHistoryList.m:
        (-[WebHistoryList addEntry:]): Call removeEntry: rather than using an entire pasted copy here.
        (-[WebHistoryList removeEntry:]): Use a hash of the URL and the URL rather than relying on the
	fact that WebHistoryItem hashes and does isEqual based on the URL only.
        (-[WebHistoryList replaceEntryAtIndex:withEntry:]): Added. Used by the code above.


git-svn-id: svn://svn.chromium.org/blink/trunk@1966 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-05 06:24:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/773513b8ddc89dc5a1719d8a6b4436c487fefec1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01d501l5fwuzig6l', 2, e'	Fix bug where doing a reload adds an entry to the back/forward list.

        * History.subproj/WebBackForwardList.m: (-[WebBackForwardList addEntry:]):
	If URL, target, and parent all match, then don\'t add an entry.

        * WebKit.pbproj/project.pbxproj: Let Project Builder be the boss; I guess
	this means Chris is still using the old version.


git-svn-id: svn://svn.chromium.org/blink/trunk@1965 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-05 06:05:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7a13dd25d8325b3c6078219efea1b89ce62c1254');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01d601l5ql7dg3um', 2, e'	- don\'t set nil data on the web file db
	- store absolute URLs in the db, not base URL/path combination URLs
	- support for multiple hosts with the same built-in icon

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase init]): renamed some dictionaries
        (-[WebIconDatabase iconForSiteURL:withSize:]): call _builtInIconsForHost
        (-[WebIconDatabase _updateFileDatabase]): check for nil
        (-[WebIconDatabase _hasIconForSiteURL:]): call _pathForBuiltInIconForHost
        (-[WebIconDatabase _pathForBuiltInIconForHost:]): new
        (-[WebIconDatabase _builtInIconsForHost:]): call _pathForBuiltInIconForHost
        * Misc.subproj/WebIconDatabasePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _loadIcon]): use absolute URL


git-svn-id: svn://svn.chromium.org/blink/trunk@1964 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-05 01:56:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/994ed8007e4481c5e093834a652ddf71ce1ac68c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01d701l5gihzix2j', 2, e'WebKit:

	Made the icon DB take a a path for built-in icons so that we only load them when necessary.

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase init]):
        (-[WebIconDatabase iconForSiteURL:withSize:]):
        (-[WebIconDatabase _hasIconForSiteURL:]):
        (-[WebIconDatabase _builtInIconsForHost:]):
        (-[WebIconDatabase _setBuiltInIconAtPath:forHost:]):
        * Misc.subproj/WebIconDatabasePrivate.h:
        * WebKit.pbproj/project.pbxproj:

WebBrowser:

	Added the built-in site icons to the Alexander.app package.

        * AppController.m:
        (-[AppController _installBuiltInIcons]):
        * Resources/SiteIcons/Icons.plist: Added.
        * Resources/SiteIcons/amazon.tiff: Added.
        * Resources/SiteIcons/apple.tiff: Added.
        * Resources/SiteIcons/cnet.tiff: Added.
        * Resources/SiteIcons/cnn.tiff: Added.
        * Resources/SiteIcons/ebay.tiff: Added.
        * Resources/SiteIcons/espn.tiff: Added.
        * Resources/SiteIcons/msn.tiff: Added.
        * Resources/SiteIcons/nyt.tiff: Added.
        * Resources/SiteIcons/pbskids.tiff: Added.
        * Resources/SiteIcons/yahoo.tiff: Added.
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1963 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-05 00:02:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a84b08f2e4c26f72448d576272df44047d326ce1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnlxu01d801l54u15xxgi', 2, e'	Fix unused variable warnings for deployment builds.

        * Plugins.subproj/WebPluginView.m: Add ifndef NDEBUG around variable
	used only in log statements.


git-svn-id: svn://svn.chromium.org/blink/trunk@1962 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-04 21:42:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/595e42a7222d9ef8072544a91b0dbb8c8911bb22');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bl01l5gk01abbg', 2, e'WebKit:

	Removed the now-unnecessary iconURL from bookmarks and history.

        * Bookmarks.subproj/WebBookmark.h:
        * Bookmarks.subproj/WebBookmark.m:
        * Bookmarks.subproj/WebBookmarkGroup.h:
        * Bookmarks.subproj/WebBookmarkGroup.m:
        * Bookmarks.subproj/WebBookmarkLeaf.h:
        * Bookmarks.subproj/WebBookmarkLeaf.m:
        * History.subproj/WebHistory.h:
        * History.subproj/WebHistory.m:
        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        * History.subproj/WebHistoryPrivate.h:
        * History.subproj/WebHistoryPrivate.m:
	Removed iconURL instance variables, methods, and parameters.

WebBrowser:

	Update users of bookmark or history APIs from WebKit that no longer take an iconURL.

        * BookmarksController.m:
        (-[BookmarksController _blessOrCreateFavoritesRoot]):
        * BookmarksViewController.m:
        (-[BookmarksViewController newItemWithTitle:URLString:type:positionIgnoresSelection:]):
        * LocationChangeHandler.m:
        (-[LocationChangeHandler receivedPageTitle:forDataSource:]):
	Removed iconURL parameters.


git-svn-id: svn://svn.chromium.org/blink/trunk@1961 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-04 20:50:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9838fd713b9aea5cd0641f84b0b0749b695e98af');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bm01l5smegnkar', 2, e'	Did some minor plugin cleanup, mostly to make sure we don\'t
	change pages while a plugin is tracking.

        * Plugins.subproj/WebPluginView.h: Add sendEvent and sendUpdateEvent.
	Remove the NPP_HandleEvent method.
        * Plugins.subproj/WebPluginView.m:
        (-[WebNetscapePluginView sendEvent:]): Sets up the "defersCallbacks"
	state, then sends the event.

        * Plugins.subproj/WebNetscapePluginViewPrivate.h: Added.
	This stuff was shared in a different way before, and it
	hadn\'t even been renamed.
        * WebKit.pbproj/project.pbxproj: Added file.
        * Plugins.subproj/npapi.m: Use the new private header.

        * Plugins.subproj/WebPluginNullEventSender.h: Hold a reference
	to the view.
        * Plugins.subproj/WebPluginNullEventSender.m:
        (-[WebNetscapePluginNullEventSender initWithPluginView:]):
	Retain the view.
        (-[WebNetscapePluginNullEventSender dealloc]): Release the view.
        (-[WebNetscapePluginNullEventSender sendNullEvents]): Use sendEvent:.
        (-[WebNetscapePluginNullEventSender stop]): No need for shouldStop.

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate init]): Don\'t set contentPolicy to an enum value,
	when it\'s an object reference.
        (-[WebDataSourcePrivate dealloc]): Release contentPolicy to fix a leak.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]): Set draggedURL to nil in the else case,
	it was uninitialized before. Also center the icon better when dragging,
	but shouldn\'t we be dragging something more than the icon here?

        * Misc.subproj/WebIconDatabase.m: (-[WebIconDatabase defaultIconWithSize:]):
	Add a call to release. Doesn\'t really plug a leak, but cleaner this way.

        * Plugins.subproj/WebPlugin.m: Tweaks.
        * WebView.subproj/WebMainResourceClient.m: Tweaks only.


git-svn-id: svn://svn.chromium.org/blink/trunk@1960 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-04 20:42:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5562b2c38b1756b714c7d4a768b0b6ac3645ea5c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bn01l502ht0xgu', 2, e'WebFoundation:

	Modified API and behavior so that WebResourceHandle objects no longer
	buffer data as it is loaded. The responsibility to buffer data is now
	passed to WebResourceClient objects, and I modified the code to
	perform that buffering where necessary.

	There was also an API change to the WebResourceClient protoccol.

	- (void)handleDidFinishLoading:(WebResourceHandle *)handle data:(NSData *)data;

	has become

	- (void)handleDidFinishLoading:(WebResourceHandle *)handle;

	This reflects the fact that WebResourceHandle no longer has the data to pass
	in this callback (and may not be able to ask other objects in the framework to
	provide the data so that it may be presented in the callback).

	I also added a new WebResourceResponse class, although it is not wired up
	to anything yet.

        * CacheLoader.subproj/IFURLHandleC.h:
        * CacheLoader.subproj/IFURLHandleC.m:
        * CacheLoader.subproj/WebResourceCallbackClient.m:
        (-[WebResourceCallbackClient handleDidFinishLoading:])
        * CacheLoader.subproj/WebResourceClient.h:
        * CacheLoader.subproj/WebResourceHandle.h:
        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceHandle loadInForeground:])
        (-[WebResourceHandle contentLengthReceived])
        * CacheLoader.subproj/WebResourceHandleInternal.h:
        * CacheLoader.subproj/WebResourceHandleInternal.m:
        (-[WebResourceHandleInstanceVariables initWithHandle:])
        (-[WebResourceHandleInstanceVariables dealloc])
        (-[WebResourceHandle _notifyClientDataDidBecomeAvailable])
        (-[WebResourceHandle _notifyClientDidFinishLoading])
        * CacheLoader.subproj/WebResourceHandlePrivate.m:
        (-[WebResourceHandle _didLoadData:])
        * CacheLoader.subproj/WebResourceResponse.h: Added.
        * CacheLoader.subproj/WebResourceResponse.m: Added.
        * CacheLoader.subproj/WebResourceResponsePrivate.h: Added.
        * CacheLoader.subproj/WebResourceSynchronousClient.h:
        * CacheLoader.subproj/WebResourceSynchronousClient.m:
        (-[WebResourceSynchronousClient initWithMonitor:realClient:])
        (-[WebResourceSynchronousClient dealloc])
        (-[WebResourceSynchronousClient resourceData])
        (-[WebResourceSynchronousClient handleDidFinishLoading:])
        (-[WebResourceSynchronousClient handleDidReceiveData:data:])
        * WebFoundation.exp:
        * WebFoundation.pbproj/project.pbxproj:

WebKit:

	Made more adjustments for API and behavior change that occurred in WebFoundation,
	now that WebResourceHandle objects no buffer resource data as it is loaded. Where
	necessary, the WebKit objects now do their own buffering, however, in many cases,
	buffering is not necessary to maintain correct behavior.

        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoaderPrivate dealloc]): Release new buffered resource data object.
        (-[WebIconLoader initWithURL:]): Allocate new buffered resource data object.
        (-[WebIconLoader handleDidFinishLoading:]): Modify API to remove data parameter.
        (-[WebIconLoader handleDidReceiveData:data:]): Buffer data as it is received.
        * Plugins.subproj/WebPluginStream.h: Added new buffered resource data object.
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream initWithURL:pluginPointer:notifyData:attributes:]): Allocate new buffered resource data object.
        (-[WebNetscapePluginStream dealloc]): Release new buffered resource data object.
        (-[WebNetscapePluginStream receivedData:]): Buffer data as it is received (when necessary maintain correct behavior).
        (-[WebNetscapePluginStream handleDidFinishLoading:]): Modify API to remove data parameter.
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient handleDidFinishLoading:]): Modify API to remove data parameter.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidFinishLoading:]): Modify API to remove data parameter.
        (-[WebMainResourceClient handleDidReceiveData:data:]): Buffer data as it is received (when necessary maintain correct behavior).


git-svn-id: svn://svn.chromium.org/blink/trunk@1959 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-04 17:04:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8199602354105964f8886cf0a085ab7a03ce7698');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bo01l5dbu8tnez', 2, e'WebKit:

	Fixed: 3043024 - Built-in icons should match on *whatever.com or *whatever.whatever
	implemented wizzy scaling, but ifdef\'d it out

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase iconForSiteURL:withSize:]): call _builtItIconsForHost
        (-[WebIconDatabase _hasIconForSiteURL:]): call _builtItIconsForHost
        (-[WebIconDatabase _iconForFileURL:withSize:]): call _iconByScalingIcon:toSize:
        (-[WebIconDatabase _builtItIconsForHost:]): use better host matching
        (-[WebIconDatabase _cachedIconFromArray:withSize:]): call _iconByScalingIcon:toSize:
        (-[WebIconDatabase _iconByScalingIcon:toSize:]): renamed, ifdef\'d out wizzy scaling

WebBrowser:

	Release alloc\'d image.

        * AppController.m:
        (-[AppController _installBuiltItIcons]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1958 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-04 16:08:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8fd4d79c753b970c9cb78c0c4c55237f011ceac5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bp01l5e7bit5ec', 2, e'	Changed WebKit so that it no longer relies on WebResourceHandle to buffer
	resource data as it is loaded. Instead, this buffering task has been moved
	out to the WebResourceClient, WebMainResourceClient in this case. This
	change is a "proof of concept" for the upcoming change where the API in
	WebFoundation for buffering resource data in WebResourceHandle will be
	removed altogether.

        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource data]): Changed to call WebMainResourceClient when resource data is needed.
        * WebView.subproj/WebMainResourceClient.h: Added mutable data ivar.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient initWithDataSource:]): Added mutable data ivar.
        (-[WebMainResourceClient dealloc]): Release new mutable data ivar.
        (-[WebMainResourceClient resourceData]): Added accessor method.
        (-[WebMainResourceClient handleDidReceiveData:data:]): Append received data to the new mutable data object.


git-svn-id: svn://svn.chromium.org/blink/trunk@1957 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-04 15:32:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/278240b09f5ade650054f0e0ebac7e6da7c62cc8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bq01l537k2sz34', 2, e'        * WebCore.pbproj/project.pbxproj:
        * kwq/KWQObject.mm:
        * kwq/KWQPainter.mm:
        * kwq/KWQTimer.mm:
        * kwq/WebCoreCookieAdapter.h:
        * kwq/WebCoreImageRenderer.h:
        * kwq/WebCoreImageRendererFactory.h:
	Tweaks, no substantive changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1956 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-04 15:04:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/df177b35211aa15913a940a284bf5a6af8a58493');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01br01l5u1qscoj5', 2, e'        * Resources/url_icon.tiff: New image (still a placeholder)
	from HI. For the moment the default page icon is the legendary
	@-sign-on-a-spring. I\'ve been promised a replacement by
	tomorrow sometime.


git-svn-id: svn://svn.chromium.org/blink/trunk@1955 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-09-03 22:37:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/64e802a04ff23046a0bdf7e86a0a0c231eccea16');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bs01l52ggi6pgd', 2, e'WebKit:

	- removed small folder image used for bookmark lists; it is now
	up to clients to display an icon for bookmark lists.

        * Bookmarks.subproj/WebBookmarkList.h: Removed _icon ivar
        * Bookmarks.subproj/WebBookmarkList.m:
        (-[WebBookmarkList dealloc]): Don\'t release _icon
        (-[WebBookmarkList icon]): just return nil
        * Resources/bookmark_folder.tiff: Removed.
        * WebKit.pbproj/project.pbxproj: Updated for removed file.

WebBrowser:

	- made Favorites bar handle folder icons
	- made bookmarks view start with all top-level folders expanded
	- fixed bug where bookmarks outline would sometimes have horizontal
	scroll bar (which you couldn\'t get rid of)
	- fixed bug where bookmarks window (Debug menu) wouldn\'t start
	with outline view focused (so some menu items were disabled)

        * Resources/Images/folder16.tiff: Added. Small folder icon.
        * Resources/Images/folder32.tiff: Added. Bigger folder icon.
        * WebBrowser.pbproj/project.pbxproj: Updated for new images.

        * BookmarksController.m:
        (-[BookmarksController imageForBookmark:]): return small folder icon

        * BookmarksViewController.m:
        (-[BookmarksViewController expandTopLevelItems]): New method.
        (-[BookmarksViewController awakeFromNib]): Call expandTopLevelItems.

        * BookmarksWindowController.m:
        (-[BookmarksWindowController windowDidLoad]): set outline view as first responder;
	this handled in the mode-switching code in the bookmarks-in-browser-window case.

        * FavoriteButton.m:
        (-[FavoriteButton buttonImageFromBookmark]): New method, extracted from setBookmark
	and updated to handle large folder icons (will probably be consolidated with
	[BookmarksController imageForBookmark:] soon)
        (-[FavoriteButton setBookmark:]): call buttonImageFromBookmark


git-svn-id: svn://svn.chromium.org/blink/trunk@1954 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-09-03 19:41:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/562ee85161cf2b6bc6e38f988e02daeb81c8f066');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bt01l5p9vxp4ih', 2, e'WebKit:

	- Moved the default icon method to WebIconDatabase
	- Removed "icon URL" from the location change handler API

        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem icon]): don\'t worry about iconForSiteURL:withSize: returning nil
        * Misc.subproj/WebIconDatabase.h:
        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase iconForSiteURL:withSize:]): return defaultIconWithSize if none found
        (-[WebIconDatabase defaultIconWithSize:]): added, loads, caches default icon
        (-[WebIconDatabase _hasIconForSiteURL:]): added, called by webdatasource to determine if icon is necessary
        * Misc.subproj/WebIconDatabasePrivate.h: added _hasIconForSiteURL
        * Misc.subproj/WebIconLoader.h: removed default icon method
        * Misc.subproj/WebIconLoader.m: removed default icon method
        * Resources/url_icon.tiff: resized to 32 x 32
        * WebKit.exp: export symbol for a dictionary key
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _loadIcon]): call _hasIconForSiteURL
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]): call defaultIconWithSize
        * WebView.subproj/WebLocationChangeHandler.h:
        * WebView.subproj/WebLocationChangeHandler.m:
        (-[WebLocationChangeHandler receivedPageIcon:forDataSource:]): renamed

WebBrowser:

	- Moved the default icon method to WebIconDatabase
	- Removed "icon URL" from the location change handler API

        * ABHomePagesController.m:
        (-[ABHomePagesController tableView:willDisplayCell:forTableColumn:row:]): call defaultIconWithSize
        * BrowserWindowController.m:
        (-[BrowserWindowController frameLoadCommitted:]): call defaultIconWithSize
        (-[BrowserWindowController setUpFavoritesBar]): call defaultIconWithSize
        * LocationChangeHandler.m:
        (-[LocationChangeHandler receivedPageIcon:forDataSource:]): renamed, don\'t use icon URL anymore
        * LocationTextField.m:
        (-[LocationTextField setDisplayAttributes]): call defaultIconWithSize
        (-[LocationTextField textDidChange:]): call defaultIconWithSize
        * RendezvousController.m:
        (-[RendezvousController _iconForServiceDictionary:]): call defaultIconWithSize
        * TitleBarButton.m:
        (-[TitleBarButton initWithFrame:]): call defaultIconWithSize
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1953 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-03 19:01:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0b53c25f0752eff1997742a5c590bef91a928b8a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bu01l54pxvnt9u', 2, e'WebFoundation:

	More work on WebFoundation refactoring. This change concentrates on two
	major areas:

	1) Cleaning up the WebResourceHandle class by separating out the methods
	   of this class into separate files based on method visibility.

	2) Added a new WebResourceRequest class that serves to collect the
	   information about a load request instead of having this information
	   sprinkled through the WebResourceHandle class.

	With this initial WebResourceRequest revision, there isn\'t very much extra or
	different about the API or the way clients use WebFoundation. Further changes
	are planned very soon. These upcoming changes and will modify and enhance the API.

	Note that these changes, while they touch a lot of code, should not break any
	functionality of the framework or of Alexander.

WebKit:

	Modify calls into WebFoundation to use the new WebResourceRequest class,
	and the modified API that kicks off load requests using WebResourceHandle.
	More changes are planned for this code as the WebFoundation API modifications
	progress.

        * Misc.subproj/WebIconDatabase.m:
        (-[WebIconDatabase _iconForFileURL:withSize:])
        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader startLoading])
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream startLoad])
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge objectLoadedFromCache:size:])
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:dataSource:])
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _receivedError:forResourceHandle:partialProgress:fromDataSource:])
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _startLoading:])

WebBrowser:

	Small tweaks to use new WebFoundation WebResourceRequest object when requesting
	the "original URL" for a load.

        * BrowserWebController.m:
        (-[BrowserWebController receivedProgress:forResourceHandle:fromDataSource:complete:])
        (-[BrowserWebController receivedError:forResourceHandle:partialProgress:fromDataSource:])
        * WebBrowser.pbproj/project.pbxproj


git-svn-id: svn://svn.chromium.org/blink/trunk@1952 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-09-03 16:50:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2431e51cb250c4c9428580a28ff0decbe3c10c89');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bv01l5n9iuhuvg', 2, e'	Fix a reproducible crash pulling down the Go menu.

        * Misc.subproj/WebIconDatabase.m: (-[WebIconDatabase _iconForFileURL:withSize:]):
	Add a missing retain.

        * WebKit.pbproj/project.pbxproj: Project Builder wants what it wants.


git-svn-id: svn://svn.chromium.org/blink/trunk@1951 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-09-03 16:30:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/60dd82138ff27be18f330002bf118aef25ba1c1d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bw01l5863fp3i7', 2, e'WebKit:

	First implementation of the icon DB.

        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem _retainIconInDatabase:]): calls retainIconForSiteURL: or releaseIconForSiteURL:
        (-[WebHistoryItem initWithURL:target:parent:title:]): call _retainIconInDatabase:
        (-[WebHistoryItem dealloc]): call _retainIconInDatabase:
        (-[WebHistoryItem icon]): call iconForSiteURL:withSize:
        (-[WebHistoryItem setURL:]): call _retainIconInDatabase:
        (-[WebHistoryItem initFromDictionaryRepresentation:]): call _retainIconInDatabase:
        * Misc.subproj/WebIconDatabase.h: Added.
        * Misc.subproj/WebIconDatabase.m: Added.
        (+[WebIconDatabase sharedIconDatabase]):
        (-[WebIconDatabase init]):
        (-[WebIconDatabase iconForSiteURL:withSize:]):
        (-[WebIconDatabase setIcon:forSiteURL:]):
        (-[WebIconDatabase setIcon:forHost:]):
        (-[WebIconDatabase retainIconForSiteURL:]):
        (-[WebIconDatabase releaseIconForSiteURL:]):
        (-[WebIconDatabase delayDatabaseCleanup]):
        (-[WebIconDatabase allowDatabaseCleanup]):
        (-[WebIconDatabase applicationWillTerminate:]):
        (-[WebIconDatabase _createFileDatabase]):
        (-[WebIconDatabase _loadIconDictionaries]):
        (-[WebIconDatabase _updateFileDatabase]):
        (-[WebIconDatabase _iconForIconURL:]):
        (-[WebIconDatabase _iconsForIconURL:]):
        (-[WebIconDatabase _iconForFileURL:withSize:]):
        (-[WebIconDatabase _setIcon:forIconURL:]):
        (-[WebIconDatabase _setIconURL:forSiteURL:]):
        (-[WebIconDatabase _setBuiltInIcon:forHost:]):
        (-[WebIconDatabase _retainIconForIconURL:]):
        (-[WebIconDatabase _releaseIconForIconURL:]):
        (-[WebIconDatabase _retainFutureIconForSiteURL:]):
        (-[WebIconDatabase _releaseFutureIconForSiteURL:]):
        (-[WebIconDatabase _retainOriginalIconsOnDisk]):
        (-[WebIconDatabase _releaseOriginalIconsOnDisk]):
        (-[WebIconDatabase _sendNotificationForSiteURL:]):
        (-[WebIconDatabase _addObject:toSetForKey:inDictionary:]):
        (-[WebIconDatabase _uniqueIconURL]):
        (-[WebIconDatabase _cachedIconFromArray:withSize:]):
        (-[WebIconDatabase _scaleIcon:toSize:]):
        * Misc.subproj/WebIconDatabasePrivate.h: Added.
        * Misc.subproj/WebIconLoader.h:
        * Misc.subproj/WebIconLoader.m:
        (+[WebIconLoader iconForFileAtPath:]):
        (-[WebIconLoader startLoading]):
        (-[WebIconLoader handleDidFinishLoading:data:]):
        * WebKit.exp:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _loadIcon]):

WebBrowser:

	Start using the icon DB.

        * AppController.m:
        (-[AppController _installBuiltItIcons]):
        (-[AppController awakeFromNib]): call _installBuiltItIcons, there might be a better place for this.
        * LocationChangeHandler.m:
        (-[LocationChangeHandler receivedPageIcon:fromURL:forDataSource:]): use the icon db instead of the passed icon
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1950 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-09-03 06:28:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/98f4780894edcf44e9301b0e427ff574c9aefc16');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bx01l5hb1i65cu', 2, e'	Tweak the damage rect testing to account for the fact that a child
	layer may fall entirely outside the bounds of its parent layer.

        * khtml/rendering/render_layer.cpp:
        (RenderLayer::constructZTree):


git-svn-id: svn://svn.chromium.org/blink/trunk@1949 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-09-02 23:35:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8463354246142c1ffdfbbfe2c57f417f5acaa1a0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01by01l5zjknhxh0', 2, e'	- fixed 3038336 -- repro crash in QTextDecoder trying to display UTF-16 file

        * kwq/mac-encodings.txt: Hook up the UTF-16 encoding to the name iso-10646-ucs-2.
	We have a long way to go to get this right. There are almost certainly going to
	be other bugs with 16-bit character pages.

        * kwq/KWQKHTMLSettings.mm: (KHTMLSettings::encoding): Just return "latin1",
	not "NSISOLatin1StringEncoding".

        * kwq/KWQString.mm: (QString::fromStringWithEncoding): Pass true for the
	"pay attention to BOM" flag.

        * khtml/rendering/render_object.cpp: Take out unneeded APPLE_CHANGES.


git-svn-id: svn://svn.chromium.org/blink/trunk@1948 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-31 16:44:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15d5f9d710a20fdd9d19f16c625a72f104c9965a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01bz01l5lful80xb', 2, e'	Removed one last reference to the now-removed WebDefaultMIMEType symbol.
	I missed it earlier.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidReceiveData:data:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1947 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-08-30 21:52:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/32b99779eb94bd0da4bcd3ccb3e4babc98c41130');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01c001l5y2v17pb6', 2, e'	Fixed a problem in this function where broken UTF-8 would cause a crash.

        * WebCore.pbproj/project.pbxproj:
        * kwq/KWQString.mm:
        (QString::fromStringWithEncoding)


git-svn-id: svn://svn.chromium.org/blink/trunk@1946 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-08-30 21:24:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/14119cf9cb676f9184c68426fd49de2c3cd9ab50');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01c101l585243f1g', 2, e'WebFoundation:

	Failed to remove debugging spam before my last checkin. Sorry.

        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceHandle contentType])
        * CacheLoader.subproj/WebResourceLoadManager.m:
        (-[WebResourceLoadManager requestWithURLHandle:])
        * Misc.subproj/WebFileTypeMappings.m:
        (-[WebFileTypeMappings MIMETypeForExtension:])

WebKit:

	Failed to remove debugging spam before my last checkin. Sorry.

        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebControllerPrivate.m:
        (+[WebController _MIMETypeForFile:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1945 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-08-30 20:13:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f9050bc042f980bddba6336f699d1c88d62d1da3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01c201l5a3dcnl3w', 2, e'WebFoundation:

	Begin to refactor WebFoundation in preparation for some planned API changes.
	This change removes all WebResourceHandle subclasses, pushing the functionality
	that was contained in those classes to the corresponding WebProtocolHandler
	subclasses. To make this work, I also did a small amount of mime type cleanup, and
	as a bonus, I (unintentionally) managed to fix these two bugs:

	Radar 3034795 (README fiel displays as HTML even though it\'s plain text)
	Radar 3035320 (iana.org character sets page displays as HTML even though it\'s MIME type text/plain)

	Bonus! :-)

	Removed:

	* CacheLoader.subproj/WebAboutResource.h
	* CacheLoader.subproj/WebAboutResource.m
	* CacheLoader.subproj/WebFileResourceHandle.h
	* CacheLoader.subproj/WebFileResourceHandle.m
	* CacheLoader.subproj/WebHTTPResourceHandle.h
	* CacheLoader.subproj/WebHTTPResourceHandle.m

WebKit:

        * WebView.subproj/WebControllerPrivate.m:
        (+[WebController _MIMETypeForFile:]): Small tweak to account for change
	in behavior of a WebFoundation method upon which this method depends.
	The WebFoundation now returns nil when it cannot find a suitable mime
	type rather than returning a default. This function now checks for a nil
	return value and sets @"application/octet-stream" in that case.


git-svn-id: svn://svn.chromium.org/blink/trunk@1944 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-08-30 20:08:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2e10ce084c945f125b193039fff07601fd129eda');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01c301l5cvrslq93', 2, e'Force clean for decoder.h buffer class change.


git-svn-id: svn://svn.chromium.org/blink/trunk@1943 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-30 19:03:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bc00fb942b40b5f2f0dce0bea42a51a055a3aa0d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01c401l5zixnvpcm', 2, e'        Removed debugging log.

        * kwq/KWQString.mm:
        (QString::fromStringWithEncoding):


git-svn-id: svn://svn.chromium.org/blink/trunk@1942 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-30 18:51:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd45c179e21df90d02d002bd237c81adbb5e7954');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01c501l5ad33i1tz', 2, e'        Made decoder more robust wrt nulls in content.  Changed use
        of QCString to null safe QString rather than modify
        content.

        * khtml/misc/decoder.cpp:
        (Decoder::decode):
        (Decoder::flush):
        * khtml/misc/decoder.h:
        * kwq/KWQString.mm:
        (QString::fromStringWithEncoding):

        Change link dragging behavior.  Drags URL, not URL contents.
        Still need to generate better image for dragging, will copy OmniWeb
        and drag link text.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1941 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-30 18:45:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e58092b6d41e9db768a36ef67776f1e8b629e401');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01c601l5mkieiyto', 2, e'	- fixed 3027407 -- Console error refers to closed bug

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::bridgeForFrameName):
	Update bug number from 2959902 to 2942073.

	- fixed 3027532 -- can\'t tab into or out of textareas

        * kwq/KWQTextArea.h: Add setFont:.
        * kwq/KWQTextArea.mm:
        (-[KWQTextArea _createTextView]): Make a KWQTextAreaTextView.
        (-[KWQTextArea textDidChange:]): Send text changed messages when the text
	is changed, not when done editing. I did this for KWQNSTextField a while ago;
	it\'s tragic that AppKit leads us to have two separate classes for these nearly
	identical purposes.
        (-[KWQTextArea setFont:]): Call setFont on the text view.
        (-[KWQTextArea becomeFirstResponder]): Call makeFirstResponder on the text view.
        (-[KWQTextArea nextKeyView]): Do that voodoo, just like KWQNSTextField.
        (-[KWQTextArea previousKeyView]): Ditto.
        (-[KWQTextArea nextValidKeyView]): Ditto.
        (-[KWQTextArea previousValidKeyView]): Ditto.
        (-[KWQTextAreaTextView insertTab:]): Select the next key view. We don\'t get this
	automatically because this is not a field editor. But being a field editor leads
	to other unwanted behavior.
        (-[KWQTextAreaTextView insertBacktab:]): Ditto.
        (-[KWQTextAreaTextView becomeFirstResponder]): Select all on entry.
        (-[KWQTextAreaTextView shouldDrawInsertionPoint]): Don\'t draw insertion point
	when we are not the first responder.
        (-[KWQTextAreaTextView selectedTextAttributes]): Don\'t draw the selection when
	we are not the first responder.

        * kwq/qt/qtextedit.h:
        * kwq/KWQTextEdit.mm: (QTextEdit::setFont): Call -[KWQTextArea setFont:].
        (QTextEdit::focusPolicy): Always return TabFocus, because the top level widget
	is not an NSControl so QWidget::focusPolicy does not suffice.

        * kwq/qt/qwidget.h: Make focusPolicy virtual.

        * kwq/qt/qfont.h:
        * kwq/KWQFont.mm: (QFont::getNSFont): Add this helper function
	so we don\'t have to repeat this in multiple places.

        * kwq/KWQLineEdit.mm: (QLineEdit::setFont): Use QFont::getNSFont.

        * force-clean-timestamp: For you poor bastards who aren\'t using the new
	Project Builder yet.


git-svn-id: svn://svn.chromium.org/blink/trunk@1940 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-30 17:50:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/81ec75f10b5ea7256d3a384c871e042b30431b7e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01c701l51p619z7i', 2, e'JavaScriptCore:

        * JavaScriptCore.pbproj/project.pbxproj: Allowed the new Project Builder to put in
	encodings for each file.

WebFoundation:

        * WebFoundation.pbproj/project.pbxproj: Allowed the new Project Builder to put in
	encodings for each file.

WebCore:

        * WebCore.pbproj/project.pbxproj: Allowed the new Project Builder to put in
	encodings for each file.

WebKit:

        * WebKit.pbproj/project.pbxproj: Allowed the new Project Builder to put in
	encodings for each file.

WebBrowser:

        * WebBrowser.pbproj/project.pbxproj: Allowed the new Project Builder to put in
	encodings for each file.


git-svn-id: svn://svn.chromium.org/blink/trunk@1939 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-30 17:21:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a7ae5f1e458e8183ea882db600823e56772297c5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01c801l556t6sy1w', 2, e'	Begin connecting the layer system.  The root box and the <html>
	box now construct layers for themselves.  Those layers are
	connected in a layer tree properly and they correctly update
	their positions.

	Implemented all the code for layer construction and for keeping
	the layer tree in sync with the render object tree.

	The goal is to get the layer tree fully constructed and correct
	(with lots of testing) before actually switching over to it for
	painting.

	This change requires a clean of WebCore.

        * force-clean-timestamp:
        * khtml/rendering/render_box.cpp:
        (RenderBox::RenderBox):
        (RenderBox::~RenderBox):
        (RenderBox::setPos):
        (RenderBox::positionChildLayers):
        * khtml/rendering/render_box.h:
        * khtml/rendering/render_container.cpp:
        (RenderContainer::~RenderContainer):
        (RenderContainer::addChild):
        (RenderContainer::removeChildNode):
        * khtml/rendering/render_container.h:
        * khtml/rendering/render_html.cpp:
        (RenderHtml::RenderHtml):
        * khtml/rendering/render_layer.cpp:
        (RenderLayer::updateLayerPosition):
        * khtml/rendering/render_layer.h:
        * khtml/rendering/render_object.h:
        * khtml/rendering/render_root.cpp:
        (RenderRoot::RenderRoot):


git-svn-id: svn://svn.chromium.org/blink/trunk@1938 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-29 23:43:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bde02c2e51bfdfce589a5a0b86098c1b464d7200');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01c901l5wdgs4ci6', 2, e'Alex-21 versions & markers


git-svn-id: svn://svn.chromium.org/blink/trunk@1936 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-08-29 19:17:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/014da24e44a727d1a1ba88080b45ee41c6af366e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01ca01l5vdiuczpm', 2, e'	Implement the flattening algorithm that walks the layer
	hierarchy and produces the correct layer list for back
	to front painting.  (Still under construction.  Not used yet.)

        * khtml/rendering/render_layer.cpp:
        (sortByZOrder):
        (RenderLayer::RenderZTreeNode::constructLayerList):
        * khtml/rendering/render_layer.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1935 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-29 06:32:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0aa1fe4b9376ea8dd7a8a15dd1dd0109f15485a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01cb01l5eb96jgj0', 2, e'	- fixed 3036440 -- Crash running PLT with "Check for \'world leaks\'" enabled

        * WebView.subproj/WebDataSourcePrivate.h: Add defersCallbacks boolean.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setController:]): Don\'t try to look at the controller before,
	it might already be deallocated.
        (-[WebDataSource _defersCallbacksChanged]): Use a boolean to record whether the
	"defers callbacks" state changed since last time and do no work if it didn\'t.
	This replaces the check in _setController:.


git-svn-id: svn://svn.chromium.org/blink/trunk@1934 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-29 05:37:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/212bc56c7e2ef5638c4fc913db3874c2cf7af098');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01cc01l5eemlysmh', 2, e'        More tweaks to ccs.
        Added underline to visited links.
        Made outline for active normal and visited links gray.

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@1933 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-29 01:00:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a166421425b9515f95537f2c9f52385673503b48');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01cd01l5io0brwau', 2, e'        Tell CG to not use time expiration of glyph cache and increase it\'s
        size.

        THIS CHANGE REQUIRES THAT YOU INSTALL THE CG ROOT.

        * WebCoreSupport.subproj/WebTextRendererFactory.m:

        Fixed outline of for active link style.

        * khtml/css/html4.css:
        * kwq/KWQPainter.mm:
        (QPainter::drawLine):


git-svn-id: svn://svn.chromium.org/blink/trunk@1932 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-29 00:05:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7834fc1b7564a6bd37e3972c5205641b2904413a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnkmv01ce01l55q0t17qn', 2, e'	Adding knowledge to the style system of auto z-indices.  The old
	code doesn\'t use this yet, but the new layering code will.

	Also wrote the ztree construction function (not used yet) and
	stubbed out the display list flattening routines.

        * khtml/rendering/render_layer.cpp:
        (RenderLayer::convertToLayerCoords):
        (RenderLayer::constructZTree):
        (RenderLayer::constructLayerList):
        * khtml/rendering/render_layer.h:
        * khtml/rendering/render_style.cpp:
        (StyleBoxData::StyleBoxData):
        * khtml/rendering/render_style.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1931 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-28 22:32:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7cef414da64d4b817f2a85e82174d8e79a827f32');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01ar01l5gfl2tkbv', 2, e'	- fixed 2977587 -- JavaScript code that reads the values of text areas
	misses the last line if no trailing CR

        * kwq/KWQTextArea.mm: (-[KWQTextArea paragraphs]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1930 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-28 18:02:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/83270ec558ff7e9423b84b112db9a5bd0302ff2b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01as01l545zbmf39', 2, e'        Fixed selection horkage I introduced with drag
        fix yesterday.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDragged:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1929 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-28 17:42:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e302fe554caeab546ebc1ca5d8ebc9cd69d625fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01at01l54khlu4tk', 2, e'	Putting design notes and API details for the layering system
	into the header file.

        * khtml/rendering/render_layer.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1928 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-28 08:54:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ce156c6801e37a53f0dbc19a46ea64a57313bd55');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01au01l5966zwwbo', 2, e'        * kwq/mac-encodings.txt: Sort all the character set names alphabetically, and use all lower case.
        * kwq/make-charset-table.pl: Require lower-case sorted lists of character set names.


git-svn-id: svn://svn.chromium.org/blink/trunk@1927 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-28 07:30:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/802105890a238235e3c4e16873d833c5e5356d21');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01av01l5l9o0wzg1', 2, e'	- fixed 3032148 -- Button not disabled in page

        * kwq/KWQWidget.mm: (QWidget::setEnabled): Call setEnabled:
	on the NSView if it implements it.


git-svn-id: svn://svn.chromium.org/blink/trunk@1926 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-28 07:09:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8f32de210a7c60828bdf0bcb5a8d27205cb8d175');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01aw01l5e3zfxvfs', 2, e'	- fixed 3030212 -- Problems rendering pages that specify "x-mac-roman" character
	set (like our Danish help pages)

        * kwq/mac-encodings.txt: Added x-mac-roman as an alias for macintosh.


git-svn-id: svn://svn.chromium.org/blink/trunk@1925 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-28 07:04:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/87eec118bcbb5dfff4041c8541f1cafd3561c007');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01ax01l5fm4nmdb7', 2, e'        * force-clean-timestamp: Dave\'s changes require a full build. I found out the
	hard way, by debugging for a while.


git-svn-id: svn://svn.chromium.org/blink/trunk@1924 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-28 04:17:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/be3cb7a8c38b20e280ff1ccfb3462e330019dc02');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01ay01l52yko0jst', 2, e'i
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDown:]):
        (-[WebHTMLView mouseDragged:]):
        (-[WebHTMLView mouseMovedNotification:]):
        * WebView.subproj/WebHTMLViewPrivate.h:
        * WebView.subproj/WebHTMLViewPrivate.m:

        Fixed active link style.  Cleaned up and fixed drag initiation
        for links and images.  Dotted lines not drawing correcly, but
        other styles are applied correctly.

        * WebKit.exp:
        * History.subproj/WebHistory.h:
        * History.subproj/WebHistory.m:

        Added some constants.

        * WebCoreSupport.subproj/WebTextRendererFactory.m:

        Code to change CG caching policy.  Not enabled until
        we receive a root from CG team.

        * kwq/WebCoreBridge.h:

        Fixed constants to conform to WebKit.  These need to be shared.


git-svn-id: svn://svn.chromium.org/blink/trunk@1923 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-28 01:37:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c45be3448b55bde47698f119a536af3bcc84f9ed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01az01l5wmcavv6t', 2, e'	Change relative positioned blocks so that they are treated as special objects and
	painted last along with absolutely positioned blocks and floaters.  Note that the
	entire special object system is fundamentally flawed, and it needs to be replaced
	with a real layering subsystem.

	This checkin at least gets relatively positioned divs painting correctly some of
	the time (in the cases where the containing blocks of absolute and relative positioned
	divs happen to be the same).  It does not, however, deal with the problem of ensuring
	correct stacking of positioned elements with different containing blocks.

	render_layer.h and .cpp include a new implementation (not used yet, just the beginnings)
	of a layering subsystem that I am going to be working on over the next few days
	that will eventually be responsible for handling event dispatching and painting and that
	will also understand how to deal with form controls and other objects that have Cocoa
	views.

        * WebCore.pbproj/project.pbxproj:
        * khtml/rendering/render_box.cpp:
        (RenderBox::RenderBox):
        * khtml/rendering/render_box.h:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::printObject):
        (RenderFlow::printSpecialObjects):
        (RenderFlow::layoutSpecialObjects):
        (RenderFlow::layoutBlockChildren):
        (RenderFlow::insertSpecialObject):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_layer.cpp: Added.
        (RenderLayer::RenderLayer):
        (RenderLayer::~RenderLayer):
        (RenderLayer::addChild):
        (RenderLayer::removeChild):
        * khtml/rendering/render_layer.h: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@1922 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-28 01:35:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6a041b90e175025305dc6912604e531309d4955d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01b001l5f4l9qxd9', 2, e'	- fixed 3031952 -- null-dereference in dispatchToUInt32 closing window

        * khtml/ecma/kjs_window.cpp: (History::getValueProperty):
	Use Undefined(), not Value() for an error result. Value() is pure evil.


git-svn-id: svn://svn.chromium.org/blink/trunk@1921 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-28 00:14:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c9415570a304c50930518768f7961e9a0a75e82f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01b101l5g607ufyx', 2, e'	- fixed 3021018 -- Crash selecting from popup just after choosing radio button

        * kwq/KWQComboBox.mm:
        (QComboBox::QComboBox): Pass the widget in when creating the cell.
        (-[KWQPopUpButtonCell initWithWidget:]): Store a widget pointer.
        (-[KWQPopUpButtonCell trackMouse:inRect:ofView:untilMouseUp:]): Get to the bridge
	and tell it to defer loading while we track the mouse.

        * kwq/KWQKHTMLPartImpl.h: Add bridgeForWidget.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::nextKeyViewForWidget): Use nodeForWidget and partForNode.
        (KWQKHTMLPartImpl::bridgeForWidget): Added. Use nodeForWidget and partForNode.
        (KWQKHTMLPartImpl::partForNode): Move code here from nextKeyViewForWidget.
        (KWQKHTMLPartImpl::nodeForWidget): Move code here from nextKeyViewForWidget.

        * kwq/WebCoreBridge.h: Add defersLoading and setDefersLoading. Both are already
	in WebKit.


git-svn-id: svn://svn.chromium.org/blink/trunk@1920 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-27 23:25:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a0d2cee0a6f381edadc265a8fabaa9468c9f205');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01b201l501ubh939', 2, e'	- fixed 3031583 -- directory.apple.com now gives "unsupported" redirect

        * WebView.subproj/WebDataSource.m: (-[WebDataSource initWithURL:attributes:flags:]):
	Don\'t create the resource handle here. It\'s a bit too early.
        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _startLoading:]):
	Create the resource handle here, now that we have a controller to get a user agent from.

        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleWillUseUserAgent:forURL:]): Add an assert that will catch
	any future problems of this kind.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge defersLoading]): Added. New call for use in WebCore.
        (-[WebBridge setDefersLoading:]): Added. New call for use in WebCore.


git-svn-id: svn://svn.chromium.org/blink/trunk@1919 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-27 22:52:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/07dc7a8ad322bd64d8a7a1b0082f4f3de7d09fd0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01b301l5uyp33ahx', 2, e'	Fix for 3026006.  Ensure that TABLES inside <div>s with align="right"
	are properly positioned.  <div align="right"> was completely
	unimplemented.  This patch implements it for the common cases
	(nested divs, tables within divs, and paragraphs).

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@1918 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-27 00:19:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c1927c725c025a78eb99e6e79230f8a5bce4c294');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01b401l52yqfwqk8', 2, e'	Add machinery for deferring callbacks. Not used yet.

        * WebView.subproj/WebControllerPrivate.h: Add methods.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _defersCallbacks]): Returns old state.
        (-[WebController _setDefersCallbacks:]): Changes state and calls _defersCallbacksChanged
	on the main frame.

        * WebView.subproj/WebFramePrivate.h: Add _defersCallbacksChanged.
        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _defersCallbacksChanged]):
	Calls _defersCallbacksChanged on both data sources.

        * WebView.subproj/WebDataSourcePrivate.h: Add _defersCallbacksChanged.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setController:]): Call _defersCallbacksChanged if changing the controller
	changes the state.
        (-[WebDataSource _addResourceHandle:]): Call setDefersCallbacks:YES on the new handle if
	we are already attached to a controller that defers callbacks.
        (-[WebDataSource _defersCallbacksChanged]): Call setDefersCallbacks on all the handles, and
	call _defersCallbacksChanged on the child frames as well.

        * WebView.subproj/WebDataSource.m: (-[WebDataSource controller]):
	We need to know about all controller changes, so it\'s unacceptable to consult our
	parent about the controller. But we already do know about it and this code was unnecessary.
	Leave the old code around as an assert only.


git-svn-id: svn://svn.chromium.org/blink/trunk@1917 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-26 21:33:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/32af9c86564c98d9c9dda4b59f1b68af40edbe6b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01b501l5buitj8zh', 2, e'        * khtml/rendering/render_list.cpp:
	Make file match the original KDE more closely (no substantive change).


git-svn-id: svn://svn.chromium.org/blink/trunk@1916 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-26 21:21:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/988a50a084553fd1755c75e1f6409cdf4754a0c9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01b601l5r9yw19yk', 2, e'WebBrowser:

        * History.subproj/WebHistory.h:
        * History.subproj/WebHistory.m:
        (+[WebHistory webHistoryWithFile:]):
        Stage 1, set the shared history instance.  This\'ll move to
        WebKit soon.

        * WebView.subproj/WebView.m:
        (-[WebView setFrame:]):
        Only force display if in live resize.

WebKit
        Fixed for 2883623 (visited links only).  Will change
        w/ stage 2 of history move to webkit.

        * GlobalHistory.m:
        (-[GlobalHistory awakeFromNib]):

WebCore:

        * WebCore.exp:

        Added WebCoreHistory

        * WebCore.pbproj/project.pbxproj:

        Added WebCoreHistory

        * kwq/KWQKHistoryProvider.mm:
        Use WebCoreHistory to determine visited link.

        * kwq/WebCoreHistory.h: Added.
        * kwq/WebCoreHistory.m: Added.

        Stage 1.  Use WebKit\'s WebHistory.  Writing
        of history and initialization still handled
        by Alex until stage 2.

        (+[WebCoreHistory setSharedHistory:]):
        (+[WebCoreHistory sharedHistory]):
        (-[WebCoreHistory containsURL:]):

        * kwq/KWQString.mm:
        (QString::compare):

        Optimization, use strcmp when both src and dst have valid ascii.


git-svn-id: svn://svn.chromium.org/blink/trunk@1915 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-26 20:50:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/643916f14ff72dab3be622be0efdb68ff0dbec09');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01b701l5tes8anxg', 2, e'	- Patch drawText to understand right-aligned drawing.
	- Fixed <ul> bullets so that they position properly.
	- Fixed bugs with horizontal and vertical positioning of
	  <ol> bullets.

        * khtml/rendering/render_list.cpp:
        (RenderListMarker::printObject):
        * kwq/KWQPainter.mm:
        (QPainter::drawText):


git-svn-id: svn://svn.chromium.org/blink/trunk@1914 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-26 20:35:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c21a689060d936cca92e840ae93da0431c297b9b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01b801l59kiwcvwa', 2, e'WebKit:

	- fixed bug where dragging a separator in the Bookmarks window
	would hit an assertion.

        * Bookmarks.subproj/WebBookmarkSeparator.m:
        (-[WebBookmarkSeparator initWithGroup:]): Removed obsolete
	assertion that group is not nil.
        * Bookmarks.subproj/WebBookmarkLeaf.m:
        (-[WebBookmarkLeaf initWithTitle:group:]):
	Removed a similar obsolete assertion here.
        * Bookmarks.subproj/WebBookmarkList.m:
        (-[WebBookmarkList initWithTitle:group:]):
	Removed a similar obsolete assertion here.

WebBrowser:

	- fixed bug where new separator would not be scrolled
	into view if necessary.

        * BookmarksController.m:
        (-[BookmarksController _focusOnNewlyCreatedBookmark:]):
	Scroll to reveal new item.


git-svn-id: svn://svn.chromium.org/blink/trunk@1913 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-26 14:27:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f687e71387c4527c7cf832dd4c7b8924baf4b8a4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01b901l5soyeuqlp', 2, e'	- fixed 3032072 -- Crash on reload in DOM::DocumentImpl::~DocumentImpl [unified]()

	This was a tough one to debug.
	Turned out to be a subtle bug in our new QConstString implementation.

        * kwq/KWQString.mm:
        (QStringData::makeAscii): Don\'t invalidate the Unicode buffer unless the ASCII
	buffer is taking over the internal buffer from the Unicode. In other cases, it\'s
	important not to invalidate the Unicode because it can result in the Unicode being
	freed and re-created when unicode() is called, which is disastrous in the QConstString
	case because we can\'t free the Unicode.
        (QStringData::makeUnicode): Make the corresponding change for ASCII too. In this
	case, it\'s just an optimization, not a bug fix.
        (QString::insert), (QString::remove), (QString::fill), (QString::operator+=):
	Mark the other string invalid whenever we modify either the ASCII or the Unicode
	string. This was handled correctly for some operations before, but not all, and it
	now matters because makeAscii and makeUnicode will now allow this state.

	Fixed a separate QString problem; I think I may have introduced this one.

        * kwq/KWQString.mm:
        (QString::getNSString): Since by ASCII, we actually mean ISO Latin 1, we can\'t use
	[NSString stringWithCString:]. Use CFStringCreateWithCString instead, pass
	CFStringCreateWithCString as the encoding, and use autorelease. We shouldn\'t really
	use the term ASCII in this class for the 8-bit-per-character buffer. Something more
	like Latin1 would be a more accurate way to refer to it. Maybe I\'ll do that renaming
	after talking to Richard about it on Monday.

	Fixed a small storage leak.

        * khtml/css/css_valueimpl.cpp: (CSSPrimitiveValueImpl::cleanup): Added braces to
	fix obviously-incorrect if/else grouping.


git-svn-id: svn://svn.chromium.org/blink/trunk@1912 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-25 06:41:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4cb372dc2a44eb9c535c9a3eda54fe6f94928af2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01ba01l5v28xx1sy', 2, e'WebKit:

        * WebView.subproj/WebFrame.m: (-[WebFrame reset]): Remove unneeded call to _reset.

        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _setDataSource:]): Add code that
	removes the KHTML stuff from the frame when switching to another type of view.
	It would be better to do this at some other level, but without this code, we end
	up leaving the entire KHTMLView behind when we switch to a non-HTML page.

WebBrowser:

	Debugging tool to make it easy to reproduce problems like 3021018, where
	a page transition happens while you are holding a menu down.

        * Debug/DebugUtilities.m:
        (-[DebugUtilities createDebugMenu]): Add "Go to about:blank Soon menu item".
        (-[BrowserDocument goToAboutBlankSoon:]): Implementation.


git-svn-id: svn://svn.chromium.org/blink/trunk@1911 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-23 21:25:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b8926ba8c0394e92f310651c921fae3c9163a92b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01bb01l5hbj2vhwh', 2, e'	Got the kurl-test in the Tests directory working again.

        * kwq/KWQKURL.mm: (KURL::KURL): Fixed problem where relative path resolution code
	for "../" could eat up the host name too, treating it as part of the path.


git-svn-id: svn://svn.chromium.org/blink/trunk@1910 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-23 17:28:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/759b44a0bdf34059e5bfdc5810744c0e8158a8a9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01bc01l5bk2uc13s', 2, e'	- fixed 3032058 -- Links on local developer doc pages all broken (all local files?)

        * kwq/KWQKURL.mm: (KURL::getNSURL): Re-added a workaround for CFURL bug 2908969.
	We have to hack to make NSURL take "file:/" URLs.

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::nextKeyViewInFrame): Add a nil check.
	I ran into this because my frame failed to load.


git-svn-id: svn://svn.chromium.org/blink/trunk@1909 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-23 17:16:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e61853639ed11202b1854b5b3b2e1325b591b173');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01bd01l5911dkdhy', 2, e'	A few more KURL changes that reduce it down to background noise
	level.

	For me this gave another 1-2% improvement on cvs-base.

        * kwq/kdecore/kurl.h:
        * kwq/KWQKURL.mm:
        (KURL::KURL): In the relative constructor, do all work in a char
	array for the relative path case, and leave it up to ::parse to
	create a QString.
        (KURL::parse): Do all work in a char array, only creating a
	QString at the end if needed. Also, take an optional pointer to
	the QString that the char * was created from, and if the final
	processed URL is the same as the original, assign the original
	instead of creating a new QString.
        (KURL::setProtocol): Adjust for prase() interface change.
        (KURL::setHost): Likewise.
        (KURL::setPort): Likewise.
        (KURL::setRef): Likewise.
        (KURL::setQuery): Likewise.
        (KURL::setPath): Likewise.
        (appendEscapingBadChars): Instead of taking and returning
	a QString like the old escapeBadChars, copy from and write into
	existing C string buffers.


git-svn-id: svn://svn.chromium.org/blink/trunk@1908 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-23 10:24:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6e6b0266812257a462b2f710cdc6f7e361f1b04e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01be01l5m8kva0rw', 2, e'        * force-clean-timestamp: Without this, I crash on startup.


git-svn-id: svn://svn.chromium.org/blink/trunk@1907 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-23 06:14:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7e8c230c5a7efca45617bdd50cdae94d16021931');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01bf01l51vyq2h06', 2, e'top level:

	Fix test results to no longer reflect KURL or CFURL oddities that
	we are not emulating.

        * Tests/kde/kurl-test.chk:
        * Tests/kde/kurl-test.cpp:
        (testURL): Replay mistaken n with \\n.

WebCore:

	Brand new KURL implementation which avoids CFURL, CFString, and
	all that other allocation-happy goodness and instead does as much
	work as possible with raw ASCII buffers.

	For me this gave a ~5% performance improvement on cvs-base.

        * kwq/KWQKURL.mm:
        (KURL::KURL):
        (KURL::hasPath):
        (KURL::protocol):
        (KURL::host):
        (KURL::port):
        (KURL::pass):
        (KURL::user):
        (KURL::ref):
        (KURL::query):
        (KURL::path):
        (KURL::setProtocol):
        (KURL::setHost):
        (KURL::setPort):
        (KURL::setRef):
        (KURL::setQuery):
        (KURL::setPath):
        (KURL::prettyURL):
        (KURL::decode_string):
        (escapeBadChars):
        (KURL::parse):
        (KURL::getNSURL):
        * kwq/kdecore/kurl.h:
        * khtml/khtml_part.cpp:
        (KHTMLPart::end): Don\'t call KURL::clearCaches() any more.


git-svn-id: svn://svn.chromium.org/blink/trunk@1906 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-23 03:39:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3d58ee7e3f5e3ef97c31b3f15786778f572797ae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01bg01l5kp4ujwrk', 2, e'        * kwq/KWQButton.mm: (QButton::~QButton): Disconnect the view
	from the widget by doing setTarget:nil.
        * kwq/KWQComboBox.mm: (QComboBox::~QComboBox): Ditto.


git-svn-id: svn://svn.chromium.org/blink/trunk@1905 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-23 00:11:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5b94bba419bbe8e2528cc9943e34ae0388244a73');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01bh01l55uh0djgl', 2, e'	Add vertical margins for checkboxes and radios.  A later rule
	in the file was overriding my earlier attempt to set up these margins.

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@1904 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-22 23:57:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/428a9bc9ccb2b9c0c181f3b5aef1f6a94d86932b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01bi01l58rv4zhdh', 2, e'        New faster char * append (actually insert) for mjs.

        * kwq/KWQString.mm:
        (QString::insert):
        * kwq/qt/qstring.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1903 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-22 23:50:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/04e4e1f30221d0efb818cd8a8ca4d66a1f263c24');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01bj01l5doztgir2', 2, e'i        Changed public string from #define to extern NSString.

        * WebKit.exp:
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        * WebView.subproj/WebDefaultContextMenuHandler.m:
        (-[WebDefaultContextMenuHandler contextMenuItemsForElement:defaultMenuItems:]):
        (-[WebDefaultContextMenuHandler openNewWindowWithURL:]):
        (-[WebDefaultContextMenuHandler downloadURL:]):
        (-[WebDefaultContextMenuHandler openLinkInNewWindow:]):
        (-[WebDefaultContextMenuHandler downloadLinkToDisk:]):
        (-[WebDefaultContextMenuHandler copyLinkToClipboard:]):
        (-[WebDefaultContextMenuHandler openImageInNewWindow:]):
        (-[WebDefaultContextMenuHandler downloadImageToDisk:]):
        (-[WebDefaultContextMenuHandler copyImageToClipboard:]):
        (-[WebDefaultContextMenuHandler openFrameInNewWindow:]):
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _elementAtPoint:]):
        (-[WebHTMLView _continueAfterCheckingDragForEvent:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1902 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-22 22:37:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff4a7a699c5fb9717afea81c4fd686128cedb57e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnjae01bk01l5s13b68ku', 2, e'	Some small QString improvements.

        * kwq/qt/qstring.h: Add printf attribute to sprintf member function.
        * kwq/KWQString.mm:
	Remove extra \\n characters from QSTRING_FAILURE calls. Change some
	fprintf to QSTRING_FAILURE. Change some QSTRING_FAILURE to KWQ_ASSERT.
        (QStringData::makeAscii): Fix bug where it would update _maxAscii
	with a new size even when it didn\'t allocate a new buffer.
        (QStringData::makeUnicode): Fix bug where it would update _maxUnicode
	with a new size even when it didn\'t allocate a new buffer.
        (QString::utf8): Fix bug where it assumed the UTF-8 form of a string
	has the same length as the Unicode version. Also save one allocation
	by doing it right into the QCString.
        (QString::local8Bit): Just call utf8().
        (QString::setNum): Have all these call our sprintf.
        (QString::sprintf): Format once to get the length. Then do the second
	format right into the string buffer. This way we don\'t have to do
	any allocation at all, nor use CFString.


git-svn-id: svn://svn.chromium.org/blink/trunk@1901 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-22 19:14:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e3eb3f0354534e62ba9451c0b21b712f7e845f98');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a019x01l5tntk9fsh', 2, e'	Passing the main load\'s attributes to the subresource loads causes
	breakage (most visible when we POST).

	Right now, we just rely on flags to handle "back/forward" loads, so
	the attributes were not actually being used.

	A better fix needs to be put in place when the soon-to-be-done
	attributes/flags rework is done.

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:dataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1900 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-08-22 18:22:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/77e0231ec75d5afa9cdb6e0721996fba58ba1d1b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a019y01l5fvmfb489', 2, e'
Alex-20


git-svn-id: svn://svn.chromium.org/blink/trunk@1898 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'vicki', '2002-08-22 17:52:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/433b1976d9ade384de255e74a86fe330fb2da668');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a019z01l5r7kuuioy', 2, e'	Fixed a one-click crasher that Ken and Don told me about.

        * kwq/KWQObject.mm: (QObject::QObject): Initialize m_eventFilterObject.


git-svn-id: svn://svn.chromium.org/blink/trunk@1897 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-22 15:01:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/237c17204f1a14f9f36bcac256c8925fab7d3f5e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01a001l5s8y3qplq', 2, e'        Simple name change.  Plugin -> NetscapePlugin in anticipation
        of other plugin related API.

        Removed vestigal WebDocumentLoading.

        * Plugins.subproj/WebPlugin.h:
        * Plugins.subproj/WebPlugin.m:
        (-[WebNetscapePlugin load]):
        * Plugins.subproj/WebPluginDatabase.h:
        * Plugins.subproj/WebPluginDatabase.m:
        (+[WebNetscapePluginDatabase installedPlugins]):
        (-[WebNetscapePluginDatabase pluginForMimeType:]):
        (-[WebNetscapePluginDatabase pluginForExtension:]):
        (-[WebNetscapePluginDatabase pluginWithFilename:]):
        (-[WebNetscapePluginDatabase MIMETypes]):
        (-[WebNetscapePluginDatabase init]):
        * Plugins.subproj/WebPluginNullEventSender.h:
        * Plugins.subproj/WebPluginNullEventSender.m:
        (-[WebNetscapePluginNullEventSender initWithPluginView:]):
        (-[WebNetscapePluginNullEventSender sendNullEvents]):
        * Plugins.subproj/WebPluginStream.h:
        * Plugins.subproj/WebPluginStream.m:
        (-[WebNetscapePluginStream getFunctionPointersFromPluginView:]):
        (-[WebNetscapePluginStream initWithURL:pluginPointer:notifyData:attributes:]):
        * Plugins.subproj/WebPluginView.h:
        * Plugins.subproj/WebPluginView.m:
        (-[WebNetscapePluginView initWithFrame:plugin:URL:baseURL:mime:arguments:]):
        (-[WebNetscapePluginView start]):
        (-[WebNetscapePluginView provisionalDataSourceChanged:]):
        (-[WebNetscapePluginView loadURL:inTarget:withNotifyData:andHandleAttributes:]):
        (-[WebNetscapePluginView destroyStream:reason:]):
        * WebCoreSupport.subproj/WebViewFactory.m:
        (-[WebViewFactory viewForPluginWithURL:serviceType:arguments:baseURL:]):
        (-[WebViewFactory pluginsInfo]):
        (-[WebViewFactory viewForJavaAppletWithFrame:baseURL:parameters:]):
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (+[WebController canShowMIMEType:]):
        * WebView.subproj/WebDocument.h:
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView provisionalDataSourceChanged:]):
        (-[WebHTMLView provisionalDataSourceCommitted:]):
        (-[WebHTMLView dataSourceUpdated:]):
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[NSView _web_stopIfPluginView]):
        * WebView.subproj/WebImageView.h:
        * WebView.subproj/WebTextView.h:
        * WebView.subproj/WebView.h:
        * WebView.subproj/WebViewPrivate.h:
        * WebView.subproj/WebViewPrivate.m:
        (-[WebView _makeDocumentViewForDataSource:]):

        Still need to muck with cvs server to change file names.


git-svn-id: svn://svn.chromium.org/blink/trunk@1896 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-22 01:21:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/de5e5084b5123d9c1e960bb1fe9291566528a3d6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01a101l5pwbe9i45', 2, e'	- fixed 3021908 -- text areas should be plain text only

        * kwq/KWQTextArea.mm:
        (-[KWQTextArea _createTextView]): setRichText:NO
        (-[KWQTextArea dealloc]): Release the text view so we don\'t leak.


git-svn-id: svn://svn.chromium.org/blink/trunk@1895 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-21 23:37:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9cbac8cc2d4518cb83e28e7e6e090834ba34a8ae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01a201l583r5o67d', 2, e'        * kwq/KWQNSViewExtras.m: (-[NSClipView _KWQ_scrollRectToVisible:inView:]):
	Use bounds, not visibleRect. Seems to work better.


git-svn-id: svn://svn.chromium.org/blink/trunk@1894 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-21 23:31:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a3db60fd41cf81c8f519da6d7e6a9ba888f52991');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01a301l5sci0xl33', 2, e'	- commented out (with FIXME 2935687) the code that was advertising in
	the status bar that shift-command would open a link behind the
	current window, since it doesn\'t.

        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::overURL):


git-svn-id: svn://svn.chromium.org/blink/trunk@1893 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-21 22:11:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ba47b1720f312e9fed7050bd896dd5e261c99e0d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01a401l573dzqfzo', 2, e'	Fix for two problems with password fields.

	   1) Return wasn\'t working.
 	   2) They were wrapping instead of scrolling.

        * kwq/KWQNSTextField.mm:
        (-[KWQNSTextField setUpTextField:]): Shared initialization, needed by both
	the text field and the secure field. This includes the two things we needed
	for the password text field; wiring up action properly and setScrollable:YES.
        (-[KWQNSTextField initWithFrame:]): Use setUpTextField.
	(-[KWQNSTextField setPasswordMode:]): Use setUpTextField.


git-svn-id: svn://svn.chromium.org/blink/trunk@1892 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-21 21:02:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7c520703becc43b72a96f0c8be3eaf360a6eb2c1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01a501l52kp9octv', 2, e'	Fix for 3015372, tables and blocks nested inside other tables
	don\'t center.  This fixes a lot of sites, from the forum
	sites to the www.ve3d.com voodooextreme site.

        * khtml/html/html_tableimpl.cpp:
        (HTMLTablePartElementImpl::parseAttribute):


git-svn-id: svn://svn.chromium.org/blink/trunk@1891 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-21 20:36:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7308629641f292816e8871bce3bedb42640c7240');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01a601l54tj14tm1', 2, e'	- fixed 3027927 -- selected text fields do not cause the web view to scroll to reveal them

        * kwq/KWQNSTextField.mm:
        (-[KWQNSTextField becomeFirstResponder]): Call [self _KWQ_scrollFrameToVisible].
        (-[KWQSecureTextField becomeFirstResponder]): Call [self _KWQ_scrollFrameToVisible].

        * kwq/KWQNSViewExtras.h: Added. New scrolling functions.
        * kwq/KWQNSViewExtras.m: Added. New scrolling functions.
        * WebCore.pbproj/project.pbxproj: Added KWQNSViewExtras.

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::nextKeyViewInFrame):
	Make sure superview and position is set up properly before we try to tab to something.
        * kwq/KWQWidget.mm: (QWidget::setFocus):
	Make sure superview and position is set up properly before we try to focus something.

	Unrelated change.

        * kwq/KWQInvisibleButton.h:
        * kwq/KWQInvisibleButton.mm:
	Add KWQ prefix to the name of the private Objective C class to avoid potential conflicts.


git-svn-id: svn://svn.chromium.org/blink/trunk@1890 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-21 19:51:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ab1f5b15e86873e6d38b4c45109198a8e53ff0bb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01a701l5s2zc5cz4', 2, e'	Implemented baseline alignment for form elements. We decided that this was better
	than what we\'re currently doing. But it will look even better when the font of the
	text field matches the font of the surrounding text, so we should consider that.

	I also nudged the text down one pixel in popup menus, to match buttons. I think we
	probably should suggest that this be done in Aqua by default (buttons and popup menus
	already match in the normal size; this is the small size).

        * khtml/rendering/render_form.h: Remove some APPLE_CHANGES.
        * khtml/rendering/render_form.cpp:
        (RenderFormElement::baselinePosition): Use the widget\'s concept of the baseline
	position (the new QWidget::baselinePosition function).
        (RenderButton::baselinePosition): Just call the inherited version.
        (RenderSubmitButton::baselinePosition): Remove our ifdef because we want what the
	original code said, which was just calling the inherited version.
	(RenderLineEdit::baselinePosition): Removed our added method since we want to just
	call the inherited version.
        (RenderSelect::baselinePosition): Just call the inherited version for the pop up
	menu case. For the list box, just left the old code alone until someone can take
	a look at it.

        * kwq/qt/qwidget.h: Added new virtual baselinePosition function.
        * kwq/KWQWidget.mm: (QWidget::baselinePosition): Default for baseline is the bottom.

        * kwq/qt/qlineedit.h:
        * kwq/KWQLineEdit.mm:
        (QLineEdit::baselinePosition): Compute the baseline based on how NSTextField does it.
	Compared to the other widgets this was easy, because the cell\'s drawingRectForBounds
	gives you the place where the top of the line is. It does use defaultLineHeightForFont,
	which is not used by other widgets, but that\'s no real problem.

        * kwq/qt/qbutton.h:
        * kwq/KWQButton.mm: Moved all the code that\'s push-button specific into QPushButton.

        * kwq/qt/qpushbutton.h:
        * kwq/KWQPushButton.mm:
        (QPushButton::QPushButton): Set the bezel style of the button.
        (QPushButton::sizeHint): Moved here from QButton.
        (QPushButton::frameGeometry): Moved here from QButton.
        (QPushButton::setFrameGeometry): Moved here from QButton.
        (QPushButton::baselinePosition): Compute the baseline based on how NSButton does it.
	The rule for the style of button we use is "centered vertically in the available space,
	offset by kThemePushButtonSmallTextOffset", so I had to hardcode the value of
	kThemePushButtonSmallTextOffset; I called it VERTICAL_FUDGE_FACTOR (2).

        * kwq/qt/qcombobox.h:
        * kwq/KWQComboBox.mm:
        (-[KWQPopUpButtonCell drawInteriorWithFrame:inView:]): Custom cell class that nudges
	the text down one pixel.
        (QComboBox::QComboBox): Attach the custom cell class.
        (QComboBox::baselinePosition): Compute the baseline based on how NSPopUpButton does it.
	The rule for the style of pop-up button we use is "CELLOFFSET pixels down from the top",
	so I had to hardcode the value of CELLOFFSET; I called it VERTICAL_FUDGE_FACTOR (2).

        * force-clean-timestamp: Yes, again.


git-svn-id: svn://svn.chromium.org/blink/trunk@1889 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-21 17:15:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3f4ecc33d57589615379831e9f885d367cfd3e7e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01a801l5l171jmoq', 2, e'	Raising the layout delay from 0.75 to 1.00.  This should be
	a little more conservative and matches the value used by Gecko.

        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1888 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-21 07:47:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6ae037978bd4930bcf5287718d1b02666f532a1a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01a901l5ek2lthmg', 2, e'	Three small changes to things that showed up in the sample.

	5% speed increase on cvs-js-performance test.

        * kjs/simple_number.h: Check if double is an integer with d == (double)(int)d
	instead of remainder(d, 1) == 0, saving a function call each time.

        * kjs/ustring.cpp:
        (UString::find): Compare the first character before calling memcmp for the rest.
        (UString::rfind): Ditto.
        (KJS::operator==): Don\'t do a strlen before starting to compare the characters.


git-svn-id: svn://svn.chromium.org/blink/trunk@1887 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-21 05:23:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/539c8bfebb9576e82aaa30f585b2842fbd38fdc6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01aa01l5rzk4e0xr', 2, e'	Lower the paint/layout delay from 1.85 to 0.75, since we\'ve
	gotten a lot faster.

        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1886 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-21 00:16:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/99ce42fa3d2c7545fe8135772d9cb2d92f521986');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01ab01l5f703xxw0', 2, e'	- fix 3028936 -- fields are not submitting the correct data if they are selected
	when you submit

        * kwq/KWQNSTextField.mm: (-[KWQNSTextField controlTextDidChange:]):
	Call widget->textChanged and set edited to true here. The old code had two problems.
	First, it only sent textChanged from controlTextDidEndEditing. Second, it overrode
	textDidChange without calling super, preventing controlTextDidChange from being
	sent to the delegate.


git-svn-id: svn://svn.chromium.org/blink/trunk@1885 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-20 23:03:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a7c635532bc6ec7e53fbc4a1f6c6cf9ef67db21');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01ac01l5qoslcj9h', 2, e'Fix log typos.


git-svn-id: svn://svn.chromium.org/blink/trunk@1884 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-20 22:56:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/04a2ec2d5627b5d1364531c352ff0a48333ce8a4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01ad01l5jehxctsx', 2, e'        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidReceiveData:data:]):
	Fixed uninitialized variable that Maciej\'s deployment build found.


git-svn-id: svn://svn.chromium.org/blink/trunk@1883 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-20 22:27:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7900181d4fcf66d665312959065bbb73fd62e073');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01ae01l5ov6yfpje', 2, e'	Fixed problem with previous checkin that was causing
	drag-and-drop for files to fail (at least).

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _shouldShowURL:]): pass isDirectory, not YES,
	to fileURLPolicyForMIMEType:inFrame:isDirectory:


git-svn-id: svn://svn.chromium.org/blink/trunk@1882 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-20 21:58:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4bdd91ef2f72f8460a6ce0dc330953f1e19e873c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01af01l5ufxyqox8', 2, e'        * kjs/object.cpp: Don\'t reference other ValueImps in the
	destructor, they may ha ve already been destroyed, and will have
	GC_ALLOWED set already in any case.


git-svn-id: svn://svn.chromium.org/blink/trunk@1881 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-20 21:53:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/228f32f4cd485644c210a957c624320918c27d63');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01ag01l5kgzzqrph', 2, e'WebKit:

	WebKit part of fixes for:
	- 3027491 -- failure loading frame\'s resource leads to misbehaving panel
	- 3027494 -- failure loading frame\'s resource leads to error message in Alex, silence in IE
	- 3027697 -- alert box for missing file covered by browser window; should be a sheet
	- 3014123 -- error sheet when iframe has URL with bad path

	Cleaned up the WebPolicy APIs to pass frames and URLs consistently. Also cleaned
	up _shouldShowURL: (formerly _shouldShowDataSource:) method quite a bit.

        * WebView.subproj/WebControllerPolicyHandler.h:
        * WebView.subproj/WebDefaultContextMenuHandler.m:
        (-[WebDefaultContextMenuHandler downloadURL:]):
        * WebView.subproj/WebDefaultPolicyHandler.m:
        (-[WebDefaultPolicyHandler URLPolicyForURL:inFrame:]):
        (-[WebDefaultPolicyHandler fileURLPolicyForMIMEType:inFrame:isDirectory:]):
        (-[WebDefaultPolicyHandler unableToImplementPolicy:error:forURL:inFrame:]):
        * WebView.subproj/WebFrame.m:
        (-[WebFrame setProvisionalDataSource:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient handleDidReceiveData:data:]):
	Made various Policy-related methods pass the frame and when necessary the
	URL instead of the dataSource (or not even that in some broken cases).
	Collapsed the three unableToImplementXXXPolicy: methods into one.

        * WebView.subproj/WebFramePrivate.h: Change _shouldShowDataSource: to
	_shouldShowURL:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame handleUnimplementablePolicy:errorCode:forURL:]): New helper method.
        (-[WebFrame _shouldShowURL:]): use case statements instead of nested ifs;
	use handleUnimplementablePolicy: to reduce duplicated code; update for API
	changes; eliminate non-useful local variables.

WebBrowser:

	WebBrowser part of fixes for:
	- 3027491 -- failure loading frame\'s resource leads to misbehaving panel
	- 3027494 -- failure loading frame\'s resource leads to error message in Alex, silence in IE
	- 3027697 -- alert box for missing file covered by browser window; should be a sheet
	- 3014123 -- error sheet when iframe has URL with bad path

        * BrowserDocument.m:
        (-[BrowserDocument _goToURL:withFrameLoadType:fallbackURLs:]): now pass frame
	to URLPolicyForURL:inFrame:

        * BrowserWebController.m:
        (-[BrowserWebController URLPolicyForURL:inFrame:]): add frame parameter to match changed API
        (-[BrowserWebController unableToImplementPolicy:error:forURL:inFrame:]): New method, replaces
	unableToImplementURLPolicy:error:forURL:, unableToImplementFileURLPolicy:error:forDataSource:,
	and unableToImplementContentPolicy:error:forDataSource:. Don\'t display error to user if it\'s
	not in the main frame. This matches the behavior of other browsers, and matches what Alexander
	does when a non-main-frame page fails to load.

        (-[BrowserWebController fileURLPolicyForMIMEType:inFrame:isDirectory:]):
        (-[BrowserWebController contentPolicyForMIMEType:URL:inFrame:]):
	Updated signatures to match WebKit API changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1880 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-20 21:16:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c800a4b70b626a46a690d6a49e8b11a86903e46e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01ah01l5161g5srs', 2, e'	Fix background positioning so that it works with table cells.
	This fixes the tabs on www.msn.com.

        * khtml/rendering/render_box.cpp:
        (RenderBox::printBackground):
        * khtml/rendering/render_table.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1879 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-20 19:55:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2531277602cbbad5eeabef9e3638ed4b27dc57c3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01ai01l5cmgvl62e', 2, e'	- fixed 3023076 -- Strange font chosen, widths screwed up, when text includes 007F characters

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer convertCharacters:length:toGlyphs:skipControlCharacters:]):
        (-[WebTextRenderer _drawCharacters:length:fromCharacterPosition:toCharacterPosition:atPoint:withTextColor:backgroundColor:]):
        (-[WebTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:applyRounding:attemptFontSubstitution:]):
	Treat 007F as a control character, skipping it just as we do other control characters.


git-svn-id: svn://svn.chromium.org/blink/trunk@1878 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-20 19:51:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ba2be348cfaac782f18862cf0337da379d38b517');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01aj01l53uovy733', 2, e'WebKit:

        * WebView.subproj/WebController.m:
        (-[WebController setApplicationNameForUserAgent:]):
	Lock in here, in anticipation of actually using the name in the
	user agent string.

WebBrowser:

        * BrowserWebController.m: (-[BrowserWebController initWithBrowserDocument:]):
	Set up the application name to be used in the user agent string. For now, there
	is a dummy string in there.


git-svn-id: svn://svn.chromium.org/blink/trunk@1877 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-20 19:32:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/405f211bfd29999b5147d9b74f00ac1acc6fdb7e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01ak01l5cr9vaqls', 2, e'WebCore:

	WebCore part of support for tabbing into and out of the toolbar.

        * kwq/KWQKHTMLPartImpl.h: Renamed static nextKeyView to nextKeyViewForWidget.
	Added nextKeyViewInFrameHierarchy.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::nextKeyViewInFrameHierarchy): New name for the old nextKeyView.
        (KWQKHTMLPartImpl::nextKeyView): Added. Does all the logic for handling views outside
	the frame hierarchy that used to be only in the static nextKeyView.
        (KWQKHTMLPartImpl::nextKeyViewForWidget): New name for the static nextKeyView, which
	now just does the widget-specific bits. Removed null check in here that\'s no longer needed.

        * kwq/KWQNSTextField.mm: Update to call nextKeyViewForWidget.

        * kwq/WebCoreBridge.h: Added nextKeyViewInsideWebViews, previousKeyViewInsideWebViews,
	nextKeyViewOutsideWebViews, and previousKeyViewOutsideWebViews.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge nextKeyViewInsideWebViews]): Call nextKeyViewInFrameHierarchy.
        (-[WebCoreBridge previousKeyViewInsideWebViews]): Call nextKeyViewInFrameHierarchy.

	Introduced QString to sprong. See <http://www.goat.demon.co.uk/sprong.html>.
	A few other tweaks to QString API; wean it from mutable strings.

        * kwq/qt/qstring.h:
        * kwq/KWQString.mm: Sprongify it.
        (QString::setBufferFromCFString): Add a fixed-size buffer to avoid malloc.
        (QString::getCFString): Replace getCFMutableString with this.
        (QString::getNSString): Use NSString directly.

        * kwq/KWQDictImpl.mm:
        * kwq/KWQKURL.mm:
        * kwq/KWQStringList.mm:
        * kwq/KWQtextcodec.mm:
        * kwq/WebCoreBridge.mm:
	Use getCFString, not getCFMutableString.

WebKit:

	WebKit part of support for tabbing into and out of the toolbar.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge nextKeyViewOutsideWebViews]): Ask the main WebView for its
	nextKeyView on behalf of WebCore.
        (-[WebBridge previousKeyViewOutsideWebViews]): Ask the main WebView for its
	previousKeyView on behalf of WebCore.

        * WebView.subproj/WebHTMLView.m: (-[WebHTMLView becomeFirstResponder]):
	When we are being tabbed-into, make the first or last view in the bridge
	first responder, instead of taking it ourselves.

        * WebView.subproj/WebView.m: (-[WebView becomeFirstResponder]):
	Always make the document view the first responder instead of taking it
	ourselves.

WebBrowser:

	- fixed 2868093 -- Can\'t tab between toolbar items and main view

        * BrowserWindowController.m:
        (-[BrowserWindowController dealloc]): Cancel lingering perform requests.
	Good for the new one I added, but also for the status one.
        (-[BrowserWindowController clearStatus]): Don\'t bother calling centerTruncateString on @"".
        (-[BrowserWindowController leftmostToolbarKeyboardLoopItem]): Added. part of hack to make
	the toolbar loop stitch together with the rest of the views.
        (-[BrowserWindowController rebuildKeyboardLoop]): Added. Adds the web view into the keyboard
	loop along with the toolbar.
        (-[BrowserWindowController windowShouldRebuildKeyboardLoopSoon:]): Schedules a call to
	rebuildKeyboardLoop. We don\'t do the work right away because we need to wait until the toolbar
	is done with its loop calculations.

        * TextField.h: New methods for the window delegate.
        * TextField.m:
        (-[TextField windowShouldRebuildKeyboardLoopSoon]): Call windowShouldRebuildKeyboardLoopSoon
	on the window delegate.
        (-[TextField setNextKeyView:]): Call windowShouldRebuildKeyboardLoopSoon because a change in
	our next key view means that the toolbar is wiring up the keyboard loop.
        (-[TextField viewDidMoveToWindow]): Call windowShouldRebuildKeyboardLoopSoon because we are
	going back on screen, which means that the toolbar is likely coming back.


git-svn-id: svn://svn.chromium.org/blink/trunk@1876 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-20 19:15:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/147f3cd16af8f12d49542ee715332ea322cf3000');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01al01l5v7jcrl0s', 2, e'        * force-clean-timestamp: Richard\'s changes require a clean build.


git-svn-id: svn://svn.chromium.org/blink/trunk@1875 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-20 02:53:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e742ecb35479818080d53e50bc97ad5484e1d10e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01am01l5woh5l5fh', 2, e'        QString rewrite.  Much faster now.
        QString has an inline rep, QStringData, which
        has an inline character buffer.  reps are
        referenced indirectly via a handle.  inline
        reps are detached when necessary.  Typical
        stack based usage requires no allocations
        for small string.  Attempts are made to avoid
        costly conversions between ascii and unicode.
        Extensive diagnostics can be enable by
        defining QSTRING_DEBUG_ALLOCATIONS and calling
        _printQStringAllocationStatistics().

        There appear to be a few small lingering leaks
        that I need to track down.

        * WebCore-tests.exp:

        Added symbols for qstring-test.cpp.

        * khtml/css/cssstyleselector.cpp:

        Removed old string optimization hack.

        * kwq/KWQString.mm:

        Rewrite.
        (_isOnStack):
        (countInstance):
        (allocatedBuffers):
        (ALLOC_CHAR):
        (REALLOC_CHAR):
        (DELETE_CHAR):
        (ALLOC_QCHAR):
        (REALLOC_QCHAR):
        (DELETE_QCHAR):
        (_printQStringAllocationStatistics):
        (ucstrcmp):
        (ucstrncmp):
        (ucstrnicmp):
        (ok_in_base):
        (QStringData::QStringData):
        (QStringData::initialize):
        (QStringData::operator new):
        (QStringData::operator delete):
        (QString::makeSharedNullHandle):
        (QString::makeSharedNull):
        (QStringData::~QStringData):
        (QStringData::ascii):
        (QStringData::increaseAsciiSize):
        (QStringData::unicode):
        (QStringData::increaseUnicodeSize):
        (QStringData::makeAscii):
        (QStringData::makeUnicode):
        (QString::setBufferFromCFString):
        (QString::fromStringWithEncoding):
        (QString::fromCFMutableString):
        (QString::fromCFString):
        (QString::fromNSString):
        (QString::getCFMutableString):
        (QString::getNSString):
        (QString::~QString):
        (QString::QString):
        (QString::operator=):
        (QString::at):
        (QString::unicode):
        (QString::compare):
        (QString::startsWith):
        (QString::endsWith):
        (QString::latin1):
        (QString::isNull):
        (QString::find):
        (QString::findRev):
        (QString::contains):
        (QString::toShort):
        (QString::toUShort):
        (QString::toInt):
        (QString::toUInt):
        (QString::toLong):
        (QString::toULong):
        (QString::toDouble):
        (QString::findArg):
        (QString::arg):
        (QString::left):
        (QString::right):
        (QString::mid):
        (QString::copy):
        (QString::lower):
        (QString::stripWhiteSpace):
        (QString::simplifyWhiteSpace):
        (QString::deref):
        (QString::setUnicode):
        (QString::setLatin1):
        (QString::sprintf):
        (QString::append):
        (QString::insert):
        (QString::detachInternal):
        (QString::detach):
        (QString::remove):
        (QString::replace):
        (QString::forceUnicode):
        (QString::setLength):
        (QString::truncate):
        (QString::fill):
        (QString::operator+=):
        (QString::convertToQCString):
        (operator==):
        (QConstString::QConstString):
        (QConstString::~QConstString):
        (_initializeHandleNodeBlock):
        (_allocatePageNode):
        (_initializeHandleNodes):
        (_allocateNode):
        (allocateHandle):
        (freeHandle):

        * kwq/qt/qstring.h:
        Rewrite


git-svn-id: svn://svn.chromium.org/blink/trunk@1874 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-20 02:11:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e5486c9f81ab2f71231a399801fc6410824e723c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01an01l5cq5c6w7o', 2, e'        * Makefile.am: Added new mechanism to clean only the objects that
	depend on JavaScript.
	* force-js-clean-timestamp: Touched since I changed JSC just now.
        * .cvsignore: Ignore previous-js-clean-timestamp.


git-svn-id: svn://svn.chromium.org/blink/trunk@1873 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-19 21:59:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c24d98ab21af92d22fb46d2212aa0d6944d56a9f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01ao01l5dn7v62d6', 2, e'	Fixed tab cycle on slashdot.org and elsewhere by being stricter about what is
	included in the tab cycle.

        * kwq/KWQWidget.mm: (QWidget::focusPolicy): Use the same rule as AppKit.


git-svn-id: svn://svn.chromium.org/blink/trunk@1872 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-19 21:54:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7459fa4504b4f57d9a95266038080e1fc119276b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01ap01l5372la1p3', 2, e'	Tweak baselines to look a little better for form controls.
	This will be redone by Darin to really baseline align... this
	is just temporary.

	Also adding 3px margins to <input> and <textarea> and <select>.

        * khtml/css/html4.css:
        * khtml/rendering/render_form.cpp:
        (RenderButton::baselinePosition):
        (RenderSelect::baselinePosition):


git-svn-id: svn://svn.chromium.org/blink/trunk@1871 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-19 21:36:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f7d08720e023c95a9cc5854cf1a270e580ae2f99');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnni0a01aq01l5yt3siw0k', 2, e'	- fixed 3027791 -- Crash when pressing "tab" after going to http://slashdot.org/

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::nextKeyViewInFrame): Add null check.


git-svn-id: svn://svn.chromium.org/blink/trunk@1870 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-19 21:29:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/25ad927ccf06529355a896c250ef34927e9bc637');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019301l5ozqvjqmv', 2, e'	Fixed the bug that made sony.com menus come out wrong and made
	aa.com crash (Radar 3027762).

	Mode most methods inline.

        * kjs/completion.cpp:
        * kjs/completion.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1869 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-19 21:14:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/77e58abea2bbc488472cdf89ec7ae01e37f22b76');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019401l5ct0zpndu', 2, e'	Fixed 3025019: "only-if-cached" attribute fetches data from network if cached but expired

        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader iconFromCache]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1868 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-08-19 20:46:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3ba8d948be6b29de7830745df0af94198da5d6f1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019501l5k7q6qp78', 2, e'	Put in more robust version of the next/previous key view checking
	that matches what I did in WebHTMLView.

        * kwq/KWQNSTextField.h: Add inNextValidKeyView instance variable.
        * kwq/KWQNSTextField.mm:
        (-[KWQNSTextField dealloc]): No need to nil out widget.
        (-[KWQNSTextField nextKeyView]): Only do the computation when called from nextValidKeyView.
        (-[KWQNSTextField previousKeyView]): Only do the computation when called from previousValidKeyView.
        (-[KWQNSTextField nextValidKeyView]): Set boolean.
        (-[KWQNSTextField previousValidKeyView]): Set boolean.
        (-[KWQSecureTextField nextKeyView]): Only do the computation when called from nextValidKeyView.
        (-[KWQSecureTextField previousKeyView]): Only do the computation when called from nextValidKeyView.
        (-[KWQSecureTextField nextValidKeyView]): Set boolean.
        (-[KWQSecureTextField previousValidKeyView]): Set boolean.

	Unrelated change.

        * kwq/mac-encodings.txt: Add an encoding name of gb18030, since I saw mention of it in bug 3002016.


git-svn-id: svn://svn.chromium.org/blink/trunk@1867 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-19 20:11:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cf616b12b9ae61927b7f51f9fc8bd83dd3e65bf1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019601l5vfwjs2ml', 2, e'WebCore:

	Support so that WebKit can tab into a web view\'s fields.

        * kwq/KWQKHTMLPartImpl.h: Made another nextKeyView() version public.
        * kwq/WebCoreBridge.h: Add new methods, change parameters to one existing one.
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge createKHTMLViewWithNSView:marginWidth:marginHeight:]):
	Remove width and height parameters. The passed-in view already has the correct
	width and height.
        (-[WebCoreBridge nextKeyView]): Call nextKeyView() with node == 0.
        (-[WebCoreBridge previousKeyView]): Call nextKeyView() with node == 0.

WebKit:

	- fixed 2863025 -- Need to implement TABing between widgets in forms

	Implemented tabbing into a web view\'s fields. I now consider the task of
	tabbing between widgets done. But there are many loose ends, each with its
	own bug report.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView dealloc]): Set _private to nil so we can properly handle calls
	that come from NSView dealloc.
        (-[WebHTMLView provisionalDataSourceChanged:]): No need to pass width and height
	to createKHTMLViewWithNSView any more. Also, just pass self rather than making
	the roung trip to the WebFrame and the WebView back here.
        (-[WebHTMLView nextKeyView]): Added. Calls the bridge version when we are called
	from nextValidKeyView, the normal version the rest of the time.
        (-[WebHTMLView previousKeyView]): Added. Calls the bridge version when we are called
	from nextValidKeyView, the normal version the rest of the time.
        (-[WebHTMLView nextValidKeyView]): Set inNextValidKeyView and call super.
        (-[WebHTMLView previousValidKeyView]): Set inNextValidKeyView and call super.
        * WebView.subproj/WebHTMLViewPrivate.h: Add inNextValidKeyView flag.


git-svn-id: svn://svn.chromium.org/blink/trunk@1866 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-19 18:59:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b66462e84993ee3e9e7fb26bf81f1470e9a7a377');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019701l50oaujsj7', 2, e'	First cut at implementation of "tab to change focus": Lots of loose ends, but it\'s
	going well.

        * kwq/KWQNSTextField.h: Change initWithWidget to initWithQLineEdit.
        * kwq/KWQNSTextField.mm:
        (-[KWQNSTextField initWithQLineEdit:]): Keep a QLineEdit pointer so we don\'t cast later.
        (-[KWQNSTextField dealloc]): Sets widget to 0 to make nextKeyView and previousKeyView
	return nil while deallocating.
        (-[KWQNSTextField setPasswordMode:]): Pass widget when creating secure text field so it
	can handle the next/previous links properly.
        (-[KWQNSTextField nextKeyView]): Added. Calls KWQKHTMLPartImpl::nextKeyView.
        (-[KWQNSTextField previousKeyView]): Added. Calls KWQKHTMLPartImpl::nextKeyView.
        (-[KWQTextFieldCell isOpaque]): Added. Returns NO; fixes focus rectangle updating.
        (-[KWQSecureTextField initWithQWidget:]): Added.
        (-[KWQSecureTextField dealloc]): Added. Sets widget to 0 to make nextKeyView and
	previousKeyView return nil while deallocating.
        (-[KWQSecureTextField nextKeyView]): Added. Calls KWQKHTMLPartImpl::nextKeyView.
        (-[KWQSecureTextField previousKeyView]): Added. Calls KWQKHTMLPartImpl::nextKeyView.

        * kwq/KWQKHTMLPartImpl.h: Add KWQSelectionDirection. Change name of getBridge() to
	bridge(), getDocument() to document(), getRenderer() to renderer(), getBridgeForFrameName()
	to bridgeForFrameName(). Also added nextKeyView family of member functions.

        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::nextKeyViewInFrame): Added.
        (KWQKHTMLPartImpl::nextKeyView): Added.

        * kwq/qt/qwidget.h: Remove unneeded parameters from constructor. Also added a
	constructor that takes an NSView.
        * kwq/KWQWidget.mm:
        (QWidget::QWidget): Don\'t store focus policy (it was uninitialized before).
        (QWidget::focusPolicy): Return TabFocus for any widget that has a view with a first
	responder, NoFocus for any other.
        (QWidget::setFocusPolicy): Do nothing.
        (QWidget::setFocusProxy): Do nothing.

        * kwq/qt/qobject.h: Store the event filter object when installEventFilter is called.
	This is used to find the RenderWidget for a QWidget by the new tabbing code.
        * kwq/KWQObject.mm: Removed event-filter functions. Two are now inlines, one deleted.

	Other changes related to KWQKHTMLPartImpl improvements.

        * kwq/KWQKHTMLPartBrowserExtension.mm:
        * kwq/KWQKHTMLPartImpl.mm:
        * kwq/KWQLoaderImpl.mm:
        * kwq/WebCoreBridge.mm:
	Update for KWQKHTMLPartImpl member name changes.

	Various improvements for other widget implementations.

        * kwq/qt/qbutton.h:
        * kwq/KWQButton.mm: Stop using KWQNSButton. Instead just use a button adapter
	object, and a plain old NSButton.
        (QButton::QButton): Put all the NSButton setup in here.
        (QButton::~QButton): Release the adapter here.
        (QButton::clicked): Move this in here because it\'s virtual now so that QCheckBox
	can override it.
        (-[KWQButtonAdapter initWithQButton:]): Added.
        (-[KWQButtonAdapter action:]): Just call clicked().

        * kwq/qt/qpushbutton.h: Don\'t pass unused parent pointer to QButton constructor.
        * kwq/KWQPushButton.mm: (QPushButton::QPushButton): Don\'t pass unused parent pointer to
	QButton contructor.

        * kwq/qt/qcheckbox.h:
        * kwq/KWQCheckBox.mm: Just use NSButton, not KWQNSButton.
        (QCheckBox::clicked): Move the state-changed logic here; used to be in KWQNSButton.

        * kwq/KWQRadioButton.mm:
        (QRadioButton::QRadioButton): Don\'t pass unused parent pointer to
	QButton contructor.

        * kwq/qt/qcombobox.h:
        * kwq/KWQComboBox.mm:
        (QComboBox::QComboBox): Removed extra constructor. Make a plain NSPopUpButton,
	and use an adapter object, rather than having a KWQNSComboBox.
        (QComboBox::~QComboBox): Release the adapter.
        (QComboBox::insertItem): New implementation. No need to keep an items array around,
	because the menu does that just fine.
        (QComboBox::clear): Remove the items from the pop-up button directly.
        (-[KWQComboBoxAdapter initWithQComboBox:]): Added.
        (-[KWQComboBoxAdapter action:]): Just call activated().

        * kwq/kdeui/kcombobox.h: Empty this out and make it use only inlines.

        * khtml/rendering/render_form.cpp: (RenderSelect::updateFromElement):
	Remove the setSize()/doneLoading() optimization for QComboBox because the new
	simpler QComboBox implementation obviates the speed problem this was originally
	intended to fix.

        * kwq/qt/qlineedit.h:
        * kwq/KWQLineEdit.mm: (QLineEdit::QLineEdit): Call initWithQLineEdit instead of
	initWithWidget. Also don\'t take an unused parent pointer parameter.

        * kwq/kdeui/klineedit.h: Empty this out and make it use only inlines.

        * kwq/qt/qframe.h: Remove unused parent pointer from constructor.
        * kwq/KWQFrame.mm: Remove unneeded constructor.
        * kwq/KWQHBox.mm: (QHBox::QHBox): Don\'t pass unused parent pointer to QFrame.
        * kwq/KWQLabel.mm: (QLabel::QLabel): Don\'t pass unused parent pointer to QFrame.
        * kwq/qt/qscrollview.h: Make constructor inline.
        * kwq/KWQScrollView.mm: Remove unneeded constructor.
        * kwq/KWQWindowWidget.h: Remove unneeded constructor.

        * WebCore.pbproj/project.pbxproj: Remove KWQKComboBox.mm, KWQKLineEdit.mm,
	and KWQScrollBar.h.
        * kwq/KWQKComboBox.mm: Removed.
        * kwq/KWQKLineEdit.mm: Removed.
        * kwq/KWQScrollBar.h: Removed. Unused.

        * kwq/KWQTextArea.h: Change initWithWidget to initWithQTextEdit.
        * kwq/KWQTextArea.mm: (-[KWQTextArea initWithQTextEdit:]): Changed name.
        * kwq/KWQTextEdit.mm: (QTextEdit::QTextEdit): Call initWithQTextEdit instead of
	initWithWidget.

        * kwq/KWQView.h: Eliminated KWQNSButton, KWQNSComboBox, and KWQNSScrollView.
        * kwq/KWQView.mm: Ditto.

	Housekeeping.

        * force-clean-timestamp: Yes, again.

        * khtml/khtml_part.h: Rearrange APPLE_CHANGES a bit.

        * kwq/qt/qvaluelist.h: Added -- as well as ++ for the const iterator, and fixed some
	minor const issues. At one point I needed this for the focus changes, but not any more.


git-svn-id: svn://svn.chromium.org/blink/trunk@1865 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-19 16:53:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/154c5a477c4411b0b498972ae6bde5c4335e8fc7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019801l5ubm6wz9t', 2, e'	Maintain stack of old "arguments" property values for functions
	implicitly on the system stack instead of explicitly in the
	FunctionImp. This eliminates only a trivial number of GC
	allocations (less than 200) but eliminates one of the two cases
	where a ListImp * is stored directly, paving the way to separate
	List from Value.

        * kjs/function.h: Remove argStack, pushArgs and popArgs.
        * kjs/function.cpp:
        (FunctionImp::FunctionImp): Don\'t initalize argStack.
        (FunctionImp::~FunctionImp): Remove comment about argStack.
        (FunctionImp::mark): Don\'t mark the argStack.
        (FunctionImp::call): Save old "arguments" property in a Value,
	where it will be GC-protected, rather than keeping a list, and
	restore the old value when done executing.


git-svn-id: svn://svn.chromium.org/blink/trunk@1864 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-19 08:54:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f8bb966ffdccd9e37e47bafc34815fda9eb9156a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019901l5m6oepker', 2, e'        * kjs/internal.cpp: (KJS::printInfo): Remove one more CompletionType
	that Maciej missed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1863 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-19 00:31:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/942d4dfa9868aeba129bea111990155900c9616f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019a01l56wqh8081', 2, e'WebFoundation:

	Step 5 of adding user-agent API.

	Add API to pass user agent into WebFoundation when creating a WebResourceHandle,
	or to compute the user agent for each URL in a WebResourceClient method.

	Also renamed the WebResourceClient methods to be more like delegate methods in AppKit.

        * CacheLoader.subproj/WebHTTPResourceLoader.m:
        (-[WebHTTPProtocolHandler addUserAgentHeader:]): Treat nil for user agent as "no user-agent header".
        (-[WebHTTPProtocolHandler createWFLoadRequest]): Treat nil for user agent as "no user-agent header".
        * CacheLoader.subproj/WebResourceCallbackClient.m: Updated methods for new names. Added nil-returning
	handleWillUseUserAgent:forURL:.
        * CacheLoader.subproj/WebResourceClient.h: New names.
        * CacheLoader.subproj/WebResourceHandle.h: Added userAgent parameter to init function.
        * CacheLoader.subproj/WebResourceHandle.m: Updated method for new names.
        (-[WebResourceHandleInstanceVariables dealloc]): Store originalUserAgent so we don\'t ask the handle
	twice about that same URL. Could do a bit more of this if needed.
        (-[WebResourceHandle _originalCanonicalURL]): Renamed canonicalURL to this for clarity.
        (-[WebResourceHandle _originalUserAgent]): Added.
        (-[WebResourceHandle _userAgentForURL:]): Made this actually call handleWillUseUserAgent:forURL:.
	Now we have no hard-coded user-agent string in WebFoundation at all.
        * CacheLoader.subproj/WebResourceHandlePrivate.h: Added _originalUserAgent.
        * CacheLoader.subproj/WebResourceLoad.h: Added userAgent, originalUserAgent.
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad userAgent]): Return this rather than recomputing it.
        (-[WebResourceLoad dealloc]): Release this.
        (-[WebResourceLoad _originalUserAgent]): Return this rather than recomputing it.
        (-[WebResourceLoad didRedirectToURL:cacheRedirect:]): Store userAgent when we update URL.
        (-[WebResourceLoad _cacheKey]): Allow userAgent of nil.
        * CacheLoader.subproj/WebResourceLoadManager.m:
        (+[WebResourceLoadKey keyWithHandle:]): Allow userAgent of nil, and get it, don\'t compute it.
        (-[WebResourceLoadKey isEqual:]): Handle userAgent of nil properly.

WebKit:

	Update WebResourceClient instances for new API, including adding
	the handleWillUseUserAgent:forURL: method.

        * Misc.subproj/WebIconLoader.m:
        * Plugins.subproj/WebPluginStream.m:
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        * WebView.subproj/WebMainResourceClient.m:
	These were all the clients that needed updating.

        * WebView.subproj/WebController.m:
        (-[WebController setUserAgent:]): Lock so that we can set the user agent
	even though another thread could be calling userAgentForURL:.
        (-[WebController userAgentForURL:]): Ditto.

        * WebView.subproj/WebControllerPrivate.h: Add lock.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate init]): Create lock.
        (-[WebControllerPrivate dealloc]): Release lock.

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _stopLoading]): Improve comment.


git-svn-id: svn://svn.chromium.org/blink/trunk@1862 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-19 00:20:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d7a3c680bb5f58f461aef9dbab85e0c7b4fe9300');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019b01l5a5cx8bba', 2, e'	Remove stray references to CompletionType and CompletionImp.

        * kjs/completion.h:
        * kjs/object.cpp:
        * kjs/value.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1861 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-19 00:11:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3da963280f7812ec861b4fdcabafe0d2d2c43b4d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019c01l5l2un8lkj', 2, e'        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader iconFromCache]):
        (-[WebIconLoader WebResourceHandleDidFinishLoading:data:]):
	Don\'t process each icon twice. We need to have the loader as a client even for the
	synchronous case because of the user agent issue, but that causes double work.


git-svn-id: svn://svn.chromium.org/blink/trunk@1860 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-18 22:57:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/91e58e05d353d80e4f9ef0b084b714454ca296e9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019d01l5gxrh07wl', 2, e'	Separated Completion from Value and made it a pure stack
	object. This removed another 160,000 of the remaining 580,000
	garbage collected object allocations.

	6% speed increas on cvs-js-performance test.

        * kjs/completion.cpp: Added. New implementation that doesn\'t
	require a ValueImp *.
        (Completion::Completion):
        (Completion::complType):
        (Completion::value):
        (Completion::target):
        (Completion::isValueCompletion):
        * kjs/completion.h: Added.
        * kjs/function.cpp:
	(GlobalFuncImp::call): Removed some (apparently mistaken) uses of
	Completion as a Value.
        * kjs/internal.cpp:
        * kjs/internal.h:
        * kjs/types.cpp: Removed Completion stuff.
        * kjs/types.h: Removed Completion stuff.
        * JavaScriptCore.pbproj/project.pbxproj: Added new header.


git-svn-id: svn://svn.chromium.org/blink/trunk@1859 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-18 07:21:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7b7cda0194eba6de337da2348bf28e4c550ecdd8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019e01l5umpjr7tw', 2, e'WebCore:

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::userAgent):
	Call bridge\'s userAgentForURL: method.
        * kwq/WebCoreBridge.h: Added userAgentForURL: to the protocol

WebKit:

	Step 3 in adding user agent API to WebKit and WebFoundation.
	Add the calls to WebKit to configure the user-agent string.
	Change WebCore to get the user-agent from WebKit via the bridge.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge userAgentForURL:]): Added. Calls [WebController userAgentForURL:].

        * WebView.subproj/WebController.h: Add three new methods.
        * WebView.subproj/WebController.m:
        (-[WebController setApplicationNameForUserAgent:]): Store an application name that
	will be used to build up the user-agent string.
        (-[WebController setUserAgent:]): Set an override user agent; mainly useful for
	testing user-agent strings different from the one WebKit supplies.
        (-[WebController userAgentForURL:]): Public API for getting the user agent string
	that the WebController will use for a particular URL.

        * WebView.subproj/WebControllerPrivate.h: Add fields for the user-agent parameters.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate dealloc]): Release both strings when the controller goes away.


git-svn-id: svn://svn.chromium.org/blink/trunk@1858 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-17 03:30:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0fa8d6217f83900d91918b68684c3f8230917bc2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019f01l5qv465i4r', 2, e'	Missed one call to [WebResourceHandle initWithURL:].
        * WebCoreSupport.subproj/WebBridge.m: (-[WebBridge objectLoadedFromCache:size:]):
        Change to call [WebResourceHandle initWithClient:URL:] with nil for the client.


git-svn-id: svn://svn.chromium.org/blink/trunk@1857 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-17 03:08:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/98796e61ab77f38004a68086667a801e6d0d9061');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019g01l5fsxw9ju1', 2, e'	Oops. Forgot to save in Project Builder before committing.

        * Plugins.subproj/WebPluginStream.m:
        * WebView.subproj/WebDataSource.m:
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@1856 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-17 03:04:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/476c2a8b9cd735d3c3b871c53e6c2266010aa752');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019h01l5ot65i0xb', 2, e'	Step 2 in adding user agent API to WebKit and WebFoundation.
	In this step, I change WebCore so that it the KWQKHTMLPartImpl
	is responsible for fetching the user agent. Later it will
	get the user agent from WebKit via the bridge.

        * khtml/ecma/kjs_navigator.cpp: (Navigator::getValueProperty):
	Get the user agent from the part, not KProtocolManager.
        * khtml/ecma/kjs_proxy.cpp: (KJSProxyImpl::initScript):
	Get the user agent from the part, not KProtocolManager.

        * kwq/KWQKHTMLPartImpl.h: Add userAgent member function.
        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::userAgent): Added.

        * WebCore.pbproj/project.pbxproj: Removed KWQKProtocolManager.mm.
        * kwq/KWQKProtocolManager.mm: Removed.
        * kwq/kio/kprotocolmanager.h: Made empty.


git-svn-id: svn://svn.chromium.org/blink/trunk@1855 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-17 03:02:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fa780551b5ba2fe4f8be6c6f7ae1e8fc6bd68c53');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019i01l5pn4frbdm', 2, e'top level:

        * Tests/WebFoundationC/ifurlhandlec-test.c: (run):
	Keep this test compiling. It won\'t run any more, though.

WebFoundation:

	Step 1 in adding user agent API to WebKit and WebFoundation.
	In this step, I change WebResourceHandle\'s API so that there\'s only
	one client per handle, passed in at init time. I haven\'t changed the
	internals of WebResourceHandle yet.

        * CacheLoader.subproj/IFHTTPURLHandleC.m: Remove IFHTTPURLHandleCreate.
        * CacheLoader.subproj/IFURLHandleC.m: Remove IFURLHandleCreate.

        * CacheLoader.subproj/WebHTTPResourceHandle.m: Remove unneeded init methods that
	just did the same thing the superclass would have.

        * CacheLoader.subproj/WebResourceHandle.h: Remove addClient and removeClient methods.
	Add client parameter to all the init methods.
        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceSynchronousClient run:]): Don\'t addClient here. Caller is responsible for that.
        (-[WebResourceHandle loadInForeground:]): Add client to the clients list.
        (-[WebResourceHandle initWithClient:URL:]): Pass client parameter through.
        (-[WebResourceHandle initWithClient:URL:cached:]): Pass client parameter through.
        (-[WebResourceHandle initWithClient:URL:attributes:flags:]): Rearrange the function. The
	only substantive change is that the passed-in client is added to the clients list.

        * WebFoundation.exp: Don\'t export _IFHTTPURLHandleCreate and _IFURLHandleCreate
	any more.

WebKit:

	Update for change to the WebResourceHandle API where the client is
	passed in at init time.

        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader iconFromCache]): Pass self as client when creating handle for
	foreground "only if cached" load. Also don\'t put the handle into the class\'s
	data structure in this case.
        (-[WebIconLoader startLoading]): Pass self as client when creating handle
	instead of making a separate addClient call. Also fix potential leak if this
	is called when we are already loading.
        (-[WebIconLoader stopLoading]): Release the handle and nil it out right here.
        * Plugins.subproj/WebPluginStream.m:
        (-[WebPluginStream startLoad]): Pass client when creating handle rather than
	doing an addClient afterward.
        (-[WebPluginStream stop]): Don\'t do a removeClient.
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:dataSource:]):
        * WebView.subproj/WebDataSource.m:
	(-[WebDataSource initWithURL:attributes:flags:]): Pass client when creating handle.
        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _startLoading:]):
	Since client is not created in init, don\'t bother creating it here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1854 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-17 03:01:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3b640e756d2d532549f7458c9279b822eea9cde4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019j01l5ieri7myi', 2, e'WebKit:

	Split searchability out from WebTextView so it could be used
	elsewhere (specifically, in DOM window).

        * Misc.subproj/WebSearchableTextView.h: Added.
        * Misc.subproj/WebSearchableTextView.m: Added.
        (-[WebSearchableTextView searchFor:direction:caseSensitive:]):
        (-[NSString findString:selectedRange:options:wrap:]):
	New class, split out from WebTextView, which now inherits from it.

        * WebView.subproj/WebTextView.h:
        * WebView.subproj/WebTextView.m:
	Took out the searching stuff and put it in WebSearchableTextView;
	made WebTextView inherit from WebSearchableTextView.

        * WebKit.pbproj/project.pbxproj: Added new files, made
	WebSearchableTextView.h be Private.

WebBrowser:

	Made Find on Page work in DOM window; useful for debugging.

        * Debug/DOMTree.h: Turned DOMTree into an NSWindowController, and
	implement protocol ProvidesSearchTarget
        * Debug/DOMTree.m:
        (-[DOMTree windowNibName]): standard NSWindowController stuff.
        (-[DOMTree targetForSearch]): return the textview
        (-[DOMTree awakeFromNib]): set properties of the textview; for some
	reason, Interface Builder won\'t let you make an NSTextView be a custom
	subview class in the nib, so you have to use a custom class, so you can\'t
	set the standard NSTextView settings in the nib.
        (-[DOMTree itemSelected:]): Fixed typo, removed unnecessary return value.

        * Debug/DebugUtilities.m:
        (-[BrowserDocument showDOMTree:]): removed nib-loading line since
	NSWindowControllers do this automatically.

        * Debug/DOMTree.nib: Made text view be a WebSearchableTextView;
	also tweaked layout just a little (so "#document" doesn\'t clip by
	default, e.g.)


git-svn-id: svn://svn.chromium.org/blink/trunk@1853 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-16 22:29:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a095c32dc2cbc9883f1a863019d56a06ae1a7725');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019k01l56hdoosha', 2, e'	Fix the Development build.

        * kjs/object.cpp: Take out a use of ReferenceType.

        * kjs/ustring.h: Added a bit more inlining.
        * kjs/ustring.cpp: Moved the function out of here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1852 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-16 19:21:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2f7d3215416eed11bebb637c85b34df711e19cc0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019l01l581cb9sn0', 2, e'        * force-clean-timestamp: Need to rebuild for JavaScriptCore changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1851 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-16 19:10:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4b4c5d46253a9b86107bdeb15278585f307b9533');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019m01l5roa6imxu', 2, e'	Final step of the Reference change. Completely separate Reference
	from Value, and eliminate ReferenceImp.

	18% speedup on cvs-js-performance test.

        * kjs/internal.cpp, kjs/internal.h: Remove ReferenceImp.
        * kjs/nodes.cpp:
        (Node::evaluateReference): Use Reference::makeValueReference(),
	not ConstReference.
        * kjs/reference.cpp:
        (Reference::Reference): New implementation, handles both regular
	and value references.
        (Reference::makeValueReference): Incorporate functionality of ConstReference
	into this class.
        (Reference::getBase): New implementation (incorporates error vase
	for value references).
	(Reference::getPropertyName): New implementation (incorporates error case
	for value references).
        (Reference::putValue): New implementation (incorporates error case
	for value references).
        (Reference::deleteValue): New implementation (incorporates error case
	for value references).
        (Reference::getValue): New implementation (incorporates special case
	for value references).
        (Reference::isMutable): New implementation.
	* kjs/reference.h: New implementation that merges ReferenceImp
	into the stack object.
        * kjs/value.h, kjs/value.cpp: Removed all reference-related method.


git-svn-id: svn://svn.chromium.org/blink/trunk@1850 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-16 19:07:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a56af2eb932479823e7701c0f89aa135f6e89af');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019n01l5e602cfm7', 2, e'WebKit:

	- fixed 3025394 -- Bookmarks & History items do not remember their icons
	across launches
	- fixed 3025421 -- Dragging from location field proxy icon to favorites bar
	loses page icon
	- part of fix for 3026279 -- Bookmarks should lose their favIcons when the
	URL is edited

        * Bookmarks.subproj/WebBookmarkLeaf.m:
        (-[WebBookmarkLeaf initFromDictionaryRepresentation:withGroup:]):
        (-[WebBookmarkLeaf dictionaryRepresentation]):
	Removed the #ifdeffed-out code for storing iconURL in dictionary; this was
	unnecessary because it is also done by the lower-level WebHistoryItem.

        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem _setIcon:]): New method, extracted from -icon for clarity.
        (-[WebHistoryItem icon]): Fixed problem where once an icon was set it would
	never be changed, even if the iconURL is changed. Also, use _setIcon for
	clarity and to fix retainCount bugs.
        (-[WebHistoryItem dictionaryRepresentation]):
	Removed the #ifdef around the line that stores the URL in the dictionary.
	Gramps decided that this architecture is OK after all.

WebBrowser:

	- part of fix for 3026279 -- Bookmarks should lose their favIcons when the
	URL is edited

        * BookmarksController.m:
        (-[BookmarksController _changeAddressForBookmark:to:withIconURL:]):
	Added iconURL parameter to this method; use new iconURL and remember
	old one in Undo info.
        (-[BookmarksController _undoAddressChange:]): Now resets the iconURL
	as well as the address.
        (-[BookmarksController outlineView:setObjectValue:forTableColumn:byItem:]):
	pass nil for new iconURL when address is changed. Also canonicalize URL
	if possible to minimize clobbering favIcons with insignificant address
	changes; this has the nice side benefit of instantly displaying the
	URL-ized form of the user-entered text in the Bookmarks window, a feature
	that Maciej has long thought would be useful.

        * OutlineViewPlus.m:
        (-[OutlineViewPlus textDidEndEditing:]): Revert change I made yesterday
	that broke the tabbing case; added comment.


git-svn-id: svn://svn.chromium.org/blink/trunk@1849 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-16 18:15:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c7cc0acdc4a56a2a77b39acc31d2aa27bef32c1b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019o01l5lrv4cqy9', 2, e'	- fixed 3023851 -- screen garbage created by scrolling text

	Our implementation of clipRegion didn\'t reflect the clip that was
	already set for the view, so we drew outside the view. To fix it,
	I eliminated the clipRegion call and changed clients to use a new
	addClip call instead that doesn\'t require getting the clip in the
	form of a region (which is not really possible with CoreGraphics).

        * khtml/rendering/render_box.cpp: (RenderBox::calcClip):
	Call addClip instead of clipRegion(), intersect(), setClipRegion().

        * kwq/qt/qpainter.h: Added addClip(), removed clipRegion(), setClipRegion().
        * kwq/KWQPainter.mm: (QPainter::addClip): Calls [NSBezierPath clipRect:].

        * kwq/qt/qregion.h: Went back to a single-path implementation, since
	we don\'t need intersect() any more. Also removed isNull() and setClip().
        * kwq/KWQRegion.mm:
        (QRegion::QRegion): New simpler versions.
        (QRegion::~QRegion): Release the path.
        (QRegion::operator=): Copy the other path.
        (QRegion::contains): Call [containsPoint:].
        (QRegion::translate): Call [transformUsingAffineTransform:].
        (QRegion::boundingRect): Call [bounds].


git-svn-id: svn://svn.chromium.org/blink/trunk@1848 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-16 18:04:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d882e7c2885d01c1741184a04ca0131fa995e7a0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019p01l5j3ythmm9', 2, e'	Fixed broken build.

        * Misc.subproj/WebTestController.m: Added empty placeholder methods.


git-svn-id: svn://svn.chromium.org/blink/trunk@1847 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-16 17:29:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/daedf32016a2986780b7c3435b6f2bbe219efa9a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019q01l5k3sgem8r', 2, e'	- fixed 3026184 -- Hang going to http://aa.com/ while executing JavaScript

        * kjs/simple_number.h: (SimpleNumber::value): Fixed conversion to a negative
	number. The technique of using division was no good. Instead, or in the sign
	bits as needed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1846 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-16 16:51:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e21e57a14d0fb66b28ecaaaf48fe5137ad56a369');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019r01l5u7dxokt0', 2, e'	- fixed 3026042 -- hide frames button at developer documentation doesn\'t work

	This regression was introduced by the anchor changes we made just after
	the Alexander-15 release.

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::urlSelected):
	Make decisions about special handling for links with anchors based
	on the target frame, not the current frame.


git-svn-id: svn://svn.chromium.org/blink/trunk@1845 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-16 15:47:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/686371a0cefb54c92631de223261675cf343c1a6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019s01l56dhrazdb', 2, e'        * kjs/reference_list.h: Must include headers with "", not
	<>. D\'oh!


git-svn-id: svn://svn.chromium.org/blink/trunk@1844 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-16 12:31:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/49efa8899df1d7c74d4e889856021c514d4f0f12');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019t01l5grg3llvi', 2, e'        * force-clean-timestamp: rebuild for JavaScriptCore changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1843 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-16 12:04:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7d2bc91fa2acd19e5b054816c702f3b93462add0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019u01l5okwebwin', 2, e'        * JavaScriptCore.pbproj/project.pbxproj: Install reference.h and
	reference_list.h so WebCore compiles (duh).


git-svn-id: svn://svn.chromium.org/blink/trunk@1842 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-16 12:01:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/052496e5e0714afe19e4df12802b11eb77e7f605');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019v01l53cjvc8ey', 2, e'	Next step: reimplement ReferenceList from scratch, and store it as
	an actual Reference object, so ReferenceList no longer depends on
	Reference being a Value or having a ReferenceImp. A resizing
	vector might be even better the way this is used.

	Also moved Reference to its own header and implementation file in
	preparation for reimplementing it.

        * JavaScriptCore.pbproj/project.pbxproj:
        * kjs/nodes.cpp:
        (ForInNode::execute):
        * kjs/reference.cpp: Added.
        (Reference::Reference):
        (Reference::dynamicCast):
        (ConstReference::ConstReference):
        * kjs/reference.h: Added.
        * kjs/reference_list.cpp: Added.
        (ReferenceList::ReferenceList):
        (ReferenceList::operator=):
        (ReferenceList::swap):
        (ReferenceList::append):
        (ReferenceList::~ReferenceList):
        (ReferenceList::begin):
        (ReferenceList::end):
        (ReferenceListIterator::ReferenceListIterator):
        (ReferenceListIterator::operator!=):
        (ReferenceListIterator::operator->):
        (ReferenceListIterator::operator++):
        * kjs/reference_list.h:
        * kjs/types.cpp:
        * kjs/types.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1841 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-16 10:25:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b032e544967007e394a90297e1eccae4af672e6c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnngre019w01l5ly69brw0', 2, e'	Fix Development build - some NDEBUG code had to be changed for the
	Value/Reference split.

        * kjs/internal.cpp:
        (KJS::printInfo):
        * kjs/nodes.cpp:
        (FunctionCallNode::evaluate):


git-svn-id: svn://svn.chromium.org/blink/trunk@1840 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-16 10:17:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4678f358c79957ef70644c5cd4bfbad48f95ecff');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018901l58qltiknx', 2, e'	Fix for the intuit.com and eweek.com <form><tr> bgcolor problem.
	Improve the error handling of the parser so that it doesn\'t
	lose attributes when errors like this occur in a page.

        * khtml/html/htmlparser.cpp:
        (KHTMLParser::~KHTMLParser):
        (KHTMLParser::reset):
        (KHTMLParser::parseToken):
        (KHTMLParser::insertNode):
        * khtml/html/htmlparser.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1839 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-16 08:20:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8dc5ebb658a7f9ef6cb3d383d15105b6670ec593');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018a01l5hdg0zudf', 2, e'        * kjs/reference_list.h: Added file I forgot to check in last time.


git-svn-id: svn://svn.chromium.org/blink/trunk@1838 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-16 07:48:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ae9e83db522e47a87188a1c0424c5c76712bfb23');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018b01l50d4t67r5', 2, e'	Phase 1 of optimization to stop allocating references through the
	collector. This step clearly splits evaluating to a reference and
	evaluating to a value, and moves all of the reference-specific
	operations from Value to Reference. A special ConstReference class
	helps out for the one case where you need special reference
	operations if the result is a reference, and not otherwise.

	Also, Reference now inherits privately from Value, and there is a
	new ReferenceList class that inherits privately from List, so the
	uses of Reference and Value are now completely orthogonal. This
	means that as the next step, their implementations can be
	completely disentangled.

	This step has no actual performance impact.

        * kjs/collector.cpp:
        (Collector::collect):
        * kjs/nodes.cpp:
        (Node::evaluateReference):
        (ResolveNode::evaluate):
        (ResolveNode::evaluateReference):
        (ElementNode::evaluate):
        (PropertyValueNode::evaluate):
        (AccessorNode1::evaluate):
        (AccessorNode1::evaluateReference):
        (AccessorNode2::evaluate):
        (AccessorNode2::evaluateReference):
        (ArgumentListNode::evaluateList):
        (NewExprNode::evaluate):
        (FunctionCallNode::evaluate):
        (PostfixNode::evaluate):
        (DeleteNode::evaluate):
        (VoidNode::evaluate):
        (TypeOfNode::evaluate):
        (PrefixNode::evaluate):
        (UnaryPlusNode::evaluate):
        (NegateNode::evaluate):
        (BitwiseNotNode::evaluate):
        (LogicalNotNode::evaluate):
        (MultNode::evaluate):
        (AddNode::evaluate):
        (ShiftNode::evaluate):
        (RelationalNode::evaluate):
        (EqualNode::evaluate):
        (BitOperNode::evaluate):
        (BinaryLogicalNode::evaluate):
        (ConditionalNode::evaluate):
        (AssignNode::evaluate):
        (CommaNode::evaluate):
        (VarDeclNode::evaluate):
        (ExprStatementNode::execute):
        (IfNode::execute):
        (DoWhileNode::execute):
        (WhileNode::execute):
        (ForNode::execute):
        (ForInNode::execute):
        (ReturnNode::execute):
        (WithNode::execute):
        (CaseClauseNode::evaluate):
        (SwitchNode::execute):
        (ThrowNode::execute):
        * kjs/nodes.h:
        * kjs/types.cpp:
        (ConstReference::ConstReference):
        * kjs/types.h:
        * kjs/value.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1837 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-16 07:43:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3fba335abd4c141e4793fcc17c730c49a2c0a4fe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018c01l5eom4t2gh', 2, e'	- fixed 2983959 -- pages that try to use JavaScript to focus fail to do so

        * kwq/KWQWidget.mm: (QWidget::setFocus): Call makeFirstResponder.


git-svn-id: svn://svn.chromium.org/blink/trunk@1836 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-16 06:11:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e735601208add324ab0e42150e80063f96682c4d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018d01l53jkjndyv', 2, e'	Give the same good loving to the check boxes and radio buttons.
	I\'m not saying our rules for where to position them are great, but
	the rules are implemented cleanly and thus easier to tweak.

	Got rid of the old Action system altogether, using signals now.

        * khtml/rendering/render_form.h: Remove now-unneeded APPLE_CHANGES.
        * khtml/rendering/render_form.cpp:
        (RenderButton::baselinePosition): All the buttons now share a single
	version of this call, since none need any special baseline hacking at
	the moment.
        (RenderSubmitButton::baselinePosition): Just call the RenderButton version.

        * kwq/KWQCheckBox.mm:
        (QCheckBox::sizeHint): Use 12x12, not 22x22.
        (QCheckBox::frameGeometry): Adjust for margins.
        (QCheckBox::setFrameGeometry): Adjust for margins.
        * kwq/KWQRadioButton.mm:
        (QRadioButton::sizeHint): Use 12x12, not 22x22.
        (QRadioButton::frameGeometry): Adjust for margins.
        (QRadioButton::setFrameGeometry): Adjust for margins.

        * kwq/qt/qcombobox.h:
        * kwq/KWQComboBox.mm: (QComboBox::QComboBox): Set up the activated signal.
        * kwq/KWQView.mm: (-[KWQNSComboBox action:]): Emit the activated signal.

        * kwq/KWQListBox.h:
        * kwq/KWQListBox.mm:
        (-[KWQBrowserDelegate browserSingleClick:]): Send a selectionChanged signal
	and a clicked signal instead of a ACTION_LISTBOX_CLICKED.
        (QListBox::QListBox): Set up the clicked and selectionChanged signals.

        * kwq/qt/qobject.h: Remove Actions, ACTION_TEXT_AREA_END_EDITING,
	ACTION_LISTBOX_CLICKED, ACTION_COMBOBOX_CLICKED, emitAction, performAction,
	and target.
        * kwq/KWQObject.mm:
        (QObject::connect): Remove the target hack, no longer needed.
        (QObject::QObject): Remove target initialization.

        * kwq/KWQSlot.mm: (KWQSlot::KWQSlot), (KWQSlot::call):
	Added selected and selectionChanged slots.

        * kwq/KWQTextArea.mm:
        (-[KWQTextArea textDidEndEditing:]): Removed code to emit the
	ACTION_TEXT_AREA_END_EDITING action, which was no longer used.

        * force-clean-timestamp: Yes, again.


git-svn-id: svn://svn.chromium.org/blink/trunk@1835 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-16 05:35:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a4d7318d397df07507475870420b476d3b5c08b6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018e01l5x259o2pf', 2, e'	- fixed 3017376 -- button height is too tall

	Reworked how widget sizing and positioning is done for a few of the most important
	widget types.

        * khtml/rendering/render_form.h: Remove more of the performAction hackery.
        * khtml/rendering/render_form.cpp:
        (RenderCheckBox::calcMinMaxWidth): Get size from widget.
        (RenderRadioButton::calcMinMaxWidth): Get size from widget.
        (RenderSubmitButton::RenderSubmitButton): Remove old unneeded APPLE_CHANGES.
        (RenderSubmitButton::baselinePosition): Put the bottom of the button on the
	baseline without any magic numbers.
        (RenderLineEdit::baselinePosition): Put the bottom of the text field two pixels
	below the baseline without any other magic numbers.
        (RenderLineEdit::calcMinMaxWidth): Get size from widget.
        (RenderSelect::baselinePosition): Put the bottom of the menu on the
	baseline without any magic numbers. List box case is untouched for now.

        * kwq/qt/qbutton.h:
        * kwq/KWQButton.mm:
        (QButton::QButton): Move most of the setup into KWQNSButton.
        (QButton::sizeHint): Use cellSize, account for margins.
        (QButton::frameGeometry): Adjust for margins.
        (QButton::setFrameGeometry): Adjust for margins.
        * kwq/qt/qcheckbox.h:
        * kwq/KWQCheckBox.mm:
        (QCheckBox::QCheckBox): QButton takes care of most of the setup now.
        (QCheckBox::sizeHint): Added.
        (QCheckBox::frameGeometry): Adjust for margins.
        (QCheckBox::setFrameGeometry): Adjust for margins.
        * kwq/qt/qcombobox.h:
        * kwq/KWQComboBox.mm:
        (QComboBox::init): KWQNSComboBox takes care of most of the setup now.
        (QComboBox::sizeHint): Adjust for margins.
        (QComboBox::frameGeometry): Adjust for margins.
        (QComboBox::setFrameGeometry): Adjust for margins.
        * kwq/qt/qlineedit.h:
        * kwq/KWQLineEdit.mm:
        (QLineEdit::sizeForCharacterWidth): Added.
        (QLineEdit::frameGeometry): Adjust for margins.
        (QLineEdit::setFrameGeometry): Adjust for margins.
        * kwq/qt/qradiobutton.h:
        * kwq/KWQRadioButton.mm:
        (QRadioButton::QRadioButton): QButton takes care of most of the setup now.
        (QRadioButton::sizeHint): Added.
        (QRadioButton::frameGeometry): Adjust for margins.
        (QRadioButton::setFrameGeometry): Adjust for margins.

        * kwq/qt/qwidget.h:
        * kwq/KWQWidget.mm:
        (QWidget::setFrameGeometry): New name for internalSetGeometry, now public.

	- fixed 3010695 -- Slashdot.org starts with password field focused, but shouldn\'t

	Added KWQSecureTextField to work around the bug.

        * kwq/KWQNSTextField.h: Made formatter and other details private.
        * kwq/KWQNSTextField.mm:
        (+[KWQNSTextField initialize]): Set up custom cell class that works around focus border.
        (-[KWQNSTextField initWithFrame:]): Put the work in here, since this is NSView\'s designated
	initializer.
        (-[KWQNSTextField initWithWidget:]): Now just calls [init] which calls [initWithFrame],
	and then sets the widget.
        (-[KWQNSTextField action:]): Use the returnPressed signal instead of ACTION_TEXT_FIELD.
        (-[KWQNSTextField controlTextDidEndEditing:]): Use textChanged signal instead of
	ACTION_TEXT_FIELD_END_EDITING.
        (-[KWQNSTextField dealloc]): Release the secureField (was a leak).
        (-[KWQNSTextField updateSecureFieldFrame]): Added. Used to keep secure field in the right
	place.
        (-[KWQNSTextField setFrameSize:]): Added. Calls updateSecureFieldFrame.
        (-[KWQNSTextField setPasswordMode:]): Change all the details, but this does the same
	thing it used to.
        (-[KWQNSTextField selectText:]): Only call selectText on one of the two field, since it
	causes the field to grab focus and we don\'t want to do that twice.
        (-[KWQNSTextField setStringValue:]): Set the string value in both fields any time someone
	gives us a new value.
        (-[KWQNSTextField setFont:]): Set the font in both fields any time someone gives us a new
	font.
        (-[KWQTextFieldCell cellSizeForBounds:]): Add space for focus border.
        (-[KWQTextFieldCell drawWithFrame:inView:]): Inset by focus border.
        (-[KWQTextFieldCell editWithFrame:inView:editor:delegate:event:]): Inset by focus border.
        (-[KWQTextFieldCell selectWithFrame:inView:editor:delegate:start:length:]): Inset by focus border.
        (-[KWQSecureTextField selectText:]): Override to do nothing while in setFrameSize to work around
	bug in AppKit.
        (-[KWQSecureTextField setFrameSize:]): Set flag to trigger selectText check.

	- fixed 3025166 -- check boxes and radio buttons on google.com\'s preferences pages
	are not "linked"

	We were not emitting onClicked for check boxes.

        * kwq/KWQView.h: No need to pass frames any more. Default is empty.
        * kwq/KWQView.mm:
        (-[KWQView initWithFrame:]): Do most of the work in here.
        (-[KWQView initWithWidget:]): Just call [init] and set up widget.
        (-[KWQNSButton initWithFrame:]): Do most of the work in here. Remove the special
	cell class, and always use a small control with the small system font.
        (-[KWQNSButton initWithWidget:]): Just call [init] and set up widget.
        (-[KWQNSButton action:]): Call the clicked() signal instead of ACTION_BUTTON_CLICKED.
        (-[KWQNSButton stateChanged:]): Call the stateChanged() signal instead of
	ACTION_CHECKBOX_CLICKED.
        (-[KWQNSComboBox initWithFrame:]): Do most of the work in here.
        (-[KWQNSComboBox initWithWidget:]): Just call [init] and set up widget.
        (-[KWQNSScrollView initWithWidget:]): Just call [init] and set up widget.

	- fixed 3025211 -- find person in Apple directory never displays person information

	When I enabled the code to wait and not redirect until loads are complete, that
	broke this case, because we didn\'t have enough hooked up to notice loads completing.
	I hooked everything up and its working now.

        * khtml/khtml_part.h: Add started().
        * khtml/khtml_part.cpp:
        (KHTMLPart::restoreURL): Un-ifdef emission of started().
        (KHTMLPart::openURL): Un-ifdef emission of started().
        (KHTMLPart::end): Don\'t do an explicit call to slotFinishedParsing().
	We actually hook up a signal for this now.
        (KHTMLPart::slotChildCompleted): Un-ifdef the rest of the code here.

        * khtml/xml/dom_docimpl.h:
        * khtml/xml/dom_docimpl.cpp: (DocumentImpl::DocumentImpl):
        * khtml/xml/xml_tokenizer.h:
	Do the necessary setup so we can use KWQSignal for finishedParsing.

        * kwq/KWQKHTMLPartImpl.mm:
        (KHTMLPart::started): Added. Calls slotChildStarted on parent.
        (KHTMLPart::completed): Added slotParentCompleted calls.

        * kwq/qt/qobject.h: Add sender() and KWQObjectSenderScope.
        * kwq/KWQObject.mm:
        (KWQObjectSenderScope::KWQObjectSenderScope): Added. Sets sender() and saves the old value.
        (KWQObjectSenderScope::~KWQObjectSenderScope): Added. Resets sender().

        * kwq/KWQSignal.h:
        * kwq/KWQSlot.h:
        * kwq/KWQSignal.mm: (KWQSignal::call): Added overloads for calling signals with int and
	QString parameters. Also set up sender() using KWQObjectSenderScope.

        * kwq/KWQSlot.mm: (KWQSlot::KWQSlot), (KWQSlot::call): Add support for one signal
	(calls through to whatever is connected to that signal\'s slot) and six new slots.

        * kwq/KWQsignals.mm:
        (Tokenizer::Tokenizer): Construct the finishedParsing signal.
        (Tokenizer::finishedParsing): Emit the finishedParsing signal.

	- fixed 3025170 -- right sides of borders placed incorrectly around table cells

	There was some silly code that I just removed.

        * khtml/rendering/render_table.cpp:
        (RenderTable::addColInfo): Turn off the half-assed collapse borders stuff here.

	- other changes

        * force-clean-timestamp: Big changes; full rebuild needed.

        * khtml/khtmlview.cpp: (KHTMLView::~KHTMLView): Make the code to kill
	the timers be unconditional, just in case.

        * kwq/KWQCharsets.mm: (buildDictionaries): Remove UTF-16 special case since it\'s now
	in the character sets table.

        * kwq/qt/qpoint.h:
        * kwq/KWQPoint.mm:
        (QPoint::QPoint): Converts from NSPoint.
        (QPoint::operator NSPoint): Converts to NSPoint.
        * kwq/qt/qrect.h:
        * kwq/KWQRect.mm:
        (QRect::QRect): Converts from NSRect.
        (QRect::isEmpty): Fix backwards logic.
        (QRect::operator NSRect): Converts to NSRect.
        * kwq/qt/qsize.h:
        * kwq/KWQSize.mm:
        (QSize::QSize): Converts from NSSize.
        (QSize::operator NSSize): Converts to NSSize.

        * kwq/qt/qpushbutton.h:
        * kwq/KWQPushButton.mm: Removed unused methods.

        * kwq/KWQRegion.mm: Use new QPoint/NSPoint/QRect/NSRect functions.

        * kwq/KWQScrollView.mm: (QScrollView::addChild): Update comment.

        * kwq/KWQTextArea.h:
        * kwq/KWQTextArea.mm:
        (-[KWQTextArea initWithFrame:]): Do most of the work in here.
        (-[KWQTextArea initWithWidget:]): Just call [init] and set up widget.

        * kwq/KWQTextEdit.mm: (QTextEdit::QTextEdit): Don\'t pass an empty frame any more.

        * kwq/KWQWindowWidget.h:
        * kwq/KWQWindowWidget.mm: Update for name change.

        * kwq/WebCoreTestController.h: Placeholder for the feature I should be working on.


git-svn-id: svn://svn.chromium.org/blink/trunk@1834 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-16 00:09:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7eee4d238d955ccf9a7d9b2b51a3036e0a107b61');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018f01l586cnevtc', 2, e'WebKit:

	- fixed 3025770 -- "New Bookmark" button hits assertion and crashes

        * Bookmarks.subproj/WebBookmarkLeaf.m:
        (-[WebBookmarkLeaf setURLString:]): Instead of asserting that parameter
	is not nil, handle the nil case by converting to empty string. This was
	another regression from yesterday\'s favIcon changes.

WebBrowser:

	- fixed remaining case in 3015942 -- Using Bookmarks New Separator button causes
	loss of keyboard focus
	- fixed 3023789 -- Find dialog should hide on deactivate to match Mail/TextEdit

        * BookmarksController.m:
        (-[BookmarksController _focusOnNewlyCreatedBookmark:]): Make outline view
	first responder here.

        * OutlineViewPlus.m:
        (-[OutlineViewPlus textDidEndEditing:]): restructured a little.

	* English.pbproj/Find.nib: checked "Hide on deactivate" checkbox;
	actually I checked this in accidentally with my previous checkin, so
	this comment is late.


git-svn-id: svn://svn.chromium.org/blink/trunk@1833 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-15 23:14:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f5eb4511b46660c548831b5cba539cc72168b6e1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018g01l57lctrpcb', 2, e'	Tweaks and small bug fixes to Maciej\'s excellent new fixnum optimization.
	Also updated or removed comments that call it "fixnum" instead of "simple number".

        * kjs/simple_number.h: Change constant names so they don\'t SHOUT the way macro
	names do. Added constants for shift, min, and max. Fixed off-by-1 error that
	prevented us from using the extreme values on either end. Base the range of
	numbers on a fixed 32 bits constant rather than the size of a long, because
	code elsewhere depends on positive numbers fitting into both "unsigned" and
	"UInt32" while assuming it doesn\'t need to check; we can easily change this
	later. Used int types rather than long for essentially the same reason.
	Fixed the value-extraction function so it will work for negative numbers even
        if the shift is logical, not arithmetic, by using division instead.
	Renamed functions to be quite terse since they are inside a class.

        * kjs/value.h:
        * kjs/value.cpp:
        (ValueImp::dispatchToObject): Call NumberImp::toObject in a "non-virtual"
	way rather than repeating the code here.
        (ValueImp::dispatchToUInt32): Handle the negative number case correctly.
        (ValueImp::dispatchGetBase): Call ValueImp::getBase in a "non-virtual"
	way rather than repeating the code here.
        (ValueImp::dispatchGetPropertyName): Call ValueImp::getPropertyName in a
	"non-virtual" way rather than repeating the code here.
        (ValueImp::dispatchPutValue): Call ValueImp::putValue in a "non-virtual"
	way rather than repeating the code here.
        (ValueImp::dispatchDeleteValue): Call ValueImp::deleteValue in a "non-virtual"
	way rather than repeating the code here.
        (Number::Number): Fixed a bug where the double-based constructor was casting
	to long, so wouldn\'t do the "remainder" check.


git-svn-id: svn://svn.chromium.org/blink/trunk@1832 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-15 19:51:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d1c6681be22d977b176353cde1c52b0901540650');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018h01l5528xvdlb', 2, e'alex-19 versions


git-svn-id: svn://svn.chromium.org/blink/trunk@1830 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-08-15 18:17:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8fd3e355964e6798f182cf5260355adf88bf2d52');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018i01l5t9egqjfb', 2, e'WebKit:

	Disabled support for storing favIcon URLs in bookmarks; Gramps realized
	this is an architecture problem that needs a better solution, and he
	didn\'t want to ship Alex-18 with this problem.

        * Bookmarks.subproj/WebBookmarkLeaf.m:
        (-[WebBookmarkLeaf dictionaryRepresentation]):
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem dictionaryRepresentation]):
	Commented out the code that added the iconURLString in the dictionary used
	for writing out file. This dictionary is also used on the pasteboard, so this
	change causes the favIcon not to be remembered when you drag from proxy icon
	to favorites bar.

WebBrowser:

	Fixed some of the brokenness with favIcons caused by yesterday\'s
	favIcon checkin. I\'m going to change the API for the bookmark
	sheet to make this cleaner, but this is the quick fix so that
	Alex-18 won\'t be too broken.

        * BookmarksController.h:
        * BookmarksController.m:
        (-[BookmarksController displayNewBookmarksSheetForURLs:titles:iconURLStrings:inWindow:]):
	Change iconURLs parameter to iconURLStrings so there\'s an easy way to represent nil URLs
	(with empty strings).

        (-[BookmarksController _newBookmarkSheetDidEnd:returnCode:contextInfo:]): Convert from URL
	strings back to URLs for the purpose of creating bookmarks.

        * BrowserDocument.m:
        (-[BrowserDocument _mainDataSourceHasChanged]): Set the iconURL to nil here. Formerly it
	was only set when the incoming page specified one, which meant that future pages that
	don\'t specify an iconURL (favIcon) would use the leftover one for some purposes, like
	when creating a new bookmark.

        (-[BrowserDocument addBookmark:]): Pass non-nil iconURLStrings even when iconURL is nil,
	since the API demands three parallel arrays.

        * ContextMenuHandler.m:
        (-[ContextMenuHandler addLinkToBookmarks:]): Pass an array of strings instead of URLs
	for the titles (did this ever work?); pass non-nil iconURLStrings even when iconURL is
	nil, since the API demands three parallel arrays.

        * GlobalHistory.m:
        (-[GlobalHistory addSelectedItemsToBookmarks:]): pass always non-nil iconURLStrings instead
	of adding sometimes-nil iconURLs to array; this would have failed in any case where the
	favIcon was nil.

        * NewBookmarksController.h:
        * NewBookmarksController.m:
        (-[NewBookmarksController initWithURLs:titles:iconURLStrings:]):
	Change array from URLs to strings, assert that iconURLStrings is same length as
	other two arrays.


git-svn-id: svn://svn.chromium.org/blink/trunk@1829 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-15 17:01:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/32af44ed67424866a24f380e349ef15a250ae617');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018j01l5rsaak9qi', 2, e'Alex-18 versions


git-svn-id: svn://svn.chromium.org/blink/trunk@1827 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-08-15 15:41:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1197d8b710b5e369c50b711c95d0af7bde81ea9a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018k01l577u01c9d', 2, e'        * force-clean-timestamp: Need to rebuild for JavaScriptCore
	changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1826 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-15 12:05:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f0dc8d28ff09b0f44c318ee00b16966459fb256c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018l01l5em3un5fu', 2, e'	Phase 2 of fixnum optimization. Store any integral number that
	will fit in two bits less than a long inside the ValueImp *
	itself, thus avoiding the need to deal with the garbage collector
	at all for these types. Such numbers comprised .5 million of the
	1.7 million ValueImps created during the cvs-js-performance test,
	so traffic through the garbage collector should be

	20% improvement on cvs-js-performance. This may also show up on
	cvs-base, but I did not compare and I am too lazy to make clean in
	WebCore yet again.

	This also significantly reduces memory footprint on
	JavaScript-heavy pages. Size after going through
	cvs-js-performance suite is now down from 22 MB to 17.5 MB.

        * JavaScriptCore.pbproj/project.pbxproj:
        * kjs/simple_number.h: Added. Some inline static methods for handling
	simple numbers that are stored in the pointer.
        * kjs/ustring.h:
        * kjs/ustring.cpp:
        (UString::from): Added new overload for long.
        * kjs/value.cpp:
        (ValueImp::marked): Add special case for simple numbers.
        (ValueImp::setGcAllowed): Likewise.
	(ValueImp::toInteger): Call dispatch version of
	toUInt32(unsigned&), not the real method.
        (ValueImp::toInt32): Likewise.
        (ValueImp::toUInt32): Likewise.
        (ValueImp::toUInt16): Likewise.
        (ValueImp::dispatchType): Add special case for simple numbers.
        (ValueImp::dispatchToPrimitive): Likewise.
        (ValueImp::dispatchToBoolean): Likewise.
        (ValueImp::dispatchToNumber): Likewise.
        (ValueImp::dispatchToString): Likewise.
        (ValueImp::dispatchToObject): Likewise.
        (ValueImp::dispatchToUInt32): Likewise.
        (ValueImp::dispatchGetBase): Likewise.
        (ValueImp::dispatchGetPropertyName): Likewise.
        (ValueImp::dispatchPutValue): Likewise.
        (ValueImp::dispatchDeleteValue): Likewise.
        (Number::Number): Create a simple number instead of a full-blown
	ValueImp when possible.
        (Number::value): Likewise.
        * kjs/value.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1825 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-15 12:02:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a97c457d3209b98e7e8093259f6020aa1eddc557');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018m01l5q53lxj6q', 2, e'	Phase one of the "fixnum" optimization (storing small enough
	integers in the pointer). This just paves the way for the change
	by making all the virtual functions of ValueImp private and adding
	non-virtual dispatchers which can call the virtual function or
	handle fixnums specially.

	Also, I marked every place that should need a special case with a
	FIXNUM comment.

        * kjs/bool_object.cpp:
        (BooleanObjectImp::construct): Call dispatch method not the real method.
        * kjs/internal.h: Make toUInt32 private to make sure no one calls it directly
	on a NumberImp*.
        * kjs/nodes.cpp:
        (ForInNode::execute): Call dispatch method not the real method.
        * kjs/object.cpp:
	(ObjectImp::propList): Call dispatch method not the real method.
        * kjs/object.h:
        * kjs/string_object.cpp:
        (StringProtoFuncImp::call): Call dispatch method not the real method.
        (StringObjectImp::construct): Call dispatch method not the real method.
        * kjs/value.h:
        * kjs/value.cpp:
        (ValueImp::marked): Put a comment about required FIXNUM change.
        (ValueImp::setGcAllowed): Likewise.
        (ValueImp::dispatchType): Just call the virtual method for now.
        (ValueImp::dispatchToPrimitive): Likewise.
        (ValueImp::dispatchToBoolean): Likewise.
        (ValueImp::dispatchToNumber): Likewise.
        (ValueImp::dispatchToString): Likewise.
        (ValueImp::dispatchToObject): Likewise.
        (ValueImp::dispatchToUInt32): Likewise.
        (ValueImp::dispatchGetBase): Likewise.
        (ValueImp::dispatchGetPropertyName): Likewise.
        (ValueImp::dispatchGetValue): Likewise.
        (ValueImp::dispatchPutValue): Likewise.
        (ValueImp::dispatchDeleteValue): Likewise.


git-svn-id: svn://svn.chromium.org/blink/trunk@1824 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-15 10:08:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6adb3aeb189784bbc03efc69c54213fc9f27e728');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018n01l563dcomom', 2, e'	Another pass of tweaks, including one bug fix.

        * kjs/array_object.cpp:
        (ArrayInstanceImp::ArrayInstanceImp): Use malloc, not new.
        (ArrayInstanceImp::get): Use a local variable so we don\'t rely on the optimizer
	to avoid indexing twice.
        (ArrayInstanceImp::hasProperty): Use a local variable, and also check against
	UndefinedImp::staticUndefined rather than doing type() != UndefinedType.


git-svn-id: svn://svn.chromium.org/blink/trunk@1823 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-15 04:32:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b3d35b546a0d50d6f81f99b55bb55cb42f861abe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018o01l58264fuc1', 2, e'        Simplified array handling by using NULL to represent empty cells
	instead of the Undefined object, so we can use calloc, realloc and
	memset instead of loops. Inspired by a suggestion of Darin\'s.

	* kjs/array_object.cpp:
        (ArrayInstanceImp::ArrayInstanceImp):
        (ArrayInstanceImp::~ArrayInstanceImp):
        (ArrayInstanceImp::get):
        (ArrayInstanceImp::hasProperty):
        (ArrayInstanceImp::deleteProperty):
        (ArrayInstanceImp::setLength):
        (ArrayInstanceImp::mark):


git-svn-id: svn://svn.chromium.org/blink/trunk@1822 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-15 03:19:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/19c0d49f82a7bb965bbbf0f7793af3150f1a5e62');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018p01l5gtphmijx', 2, e'        Fix major JavaScript memory leak. run-plt says cvs-base improved
	by 2% and cvs-js-performance improved by 7%. However, this was
	within the possible noise level in each case.

	The fix was to store ValueImp *\'s in the array instead of Value
	objects, since the Value wrapper will keep a ref and make the
	object immortal.

	* kjs/array_object.cpp:
        (ArrayInstanceImp::ArrayInstanceImp):
        (ArrayInstanceImp::get):
        (ArrayInstanceImp::put):
        (ArrayInstanceImp::hasProperty):
        (ArrayInstanceImp::deleteProperty):
        (ArrayInstanceImp::setLength):
        (ArrayInstanceImp::mark):
        * kjs/array_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1821 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-15 00:59:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aaf6ec550bbaf611f0456458181b60701c304272');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018q01l59bcr8xuw', 2, e'WebKit:

	Support for showing favicons in bookmarks and history.

	Renamed "image" to "icon" in all places.

	Made history and bookmarks take and save an icon URL

        * Bookmarks.subproj/WebBookmark.h:
        * Bookmarks.subproj/WebBookmark.m:
        (-[WebBookmark icon]):
        (-[WebBookmark iconURL]):
        (-[WebBookmark setIconURL:]):
        * Bookmarks.subproj/WebBookmarkGroup.h:
        * Bookmarks.subproj/WebBookmarkGroup.m:
        (-[WebBookmarkGroup _setTopBookmark:]):
        (-[WebBookmarkGroup addNewBookmarkToBookmark:withTitle:iconURL:URLString:type:]):
        (-[WebBookmarkGroup insertNewBookmarkAtIndex:ofBookmark:withTitle:iconURL:URLString:type:]):
        * Bookmarks.subproj/WebBookmarkLeaf.h:
        * Bookmarks.subproj/WebBookmarkLeaf.m:
        (-[WebBookmarkLeaf initFromDictionaryRepresentation:withGroup:]):
        (-[WebBookmarkLeaf dictionaryRepresentation]):
        (-[WebBookmarkLeaf copyWithZone:]):
        (-[WebBookmarkLeaf icon]):
        (-[WebBookmarkLeaf iconURL]):
        (-[WebBookmarkLeaf setIconURL:]):
        (-[WebBookmarkLeaf setURLString:]):
        * Bookmarks.subproj/WebBookmarkList.h:
        * Bookmarks.subproj/WebBookmarkList.m:
        (-[WebBookmarkList initWithTitle:group:]):
        (-[WebBookmarkList dealloc]):
        (-[WebBookmarkList copyWithZone:]):
        (-[WebBookmarkList icon]):
        * Bookmarks.subproj/WebBookmarkSeparator.m:
        (-[WebBookmarkSeparator icon]):
        * History.subproj/WebHistory.h:
        * History.subproj/WebHistory.m:
        (-[WebHistory updateURL:title:displayTitle:iconURL:forURL:]):
        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem init]):
        (-[WebHistoryItem initWithURL:title:]):
        (-[WebHistoryItem initWithURL:target:parent:title:]):
        (-[WebHistoryItem dealloc]):
        (-[WebHistoryItem iconURL]):
        (-[WebHistoryItem icon]):
        (-[WebHistoryItem setIconURL:]):
        (-[WebHistoryItem dictionaryRepresentation]):
        (-[WebHistoryItem initFromDictionaryRepresentation:]):
        * History.subproj/WebHistoryPrivate.h:
        * History.subproj/WebHistoryPrivate.m:
        (-[WebHistoryPrivate updateURL:title:displayTitle:iconURL:forURL:]):
        * Misc.subproj/WebIconLoader.h:
        * Misc.subproj/WebIconLoader.m:
        (+[WebIconLoader iconLoaderWithURL:]):
        (-[WebIconLoader initWithURL:]):
        (-[WebIconLoader URL]):
        (-[WebIconLoader _icons]):
        (-[WebIconLoader delegate]):
        (-[WebIconLoader iconFromCache]):
        (-[WebIconLoader startLoading]):
        (-[WebIconLoader WebResourceHandleDidFinishLoading:data:]):
        * WebCoreSupport.subproj/WebBridge.m:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _loadIcon]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):
        * WebView.subproj/WebLocationChangeHandler.h:
        * WebView.subproj/WebLocationChangeHandler.m:
        (-[WebLocationChangeHandler receivedPageIcon:fromURL:forDataSource:]):

WebBrowser:

	Support for showing favicons in bookmarks and history.

	Renamed "image" to "icon" in all places.

	Made history and bookmarks take and save an icon URL

        * BookmarksController.h:
        * BookmarksController.m:
        (-[BookmarksController imageForBookmark:]):
        (-[BookmarksController _newItemWithTitle:iconURL:URLString:type:positionIgnoresSelection:]):
        (-[BookmarksController _newFolder:]):
        (-[BookmarksController _newSeparator:]):
        (-[BookmarksController _newBookmark:]):
        (-[BookmarksController _blessOrCreateFavoritesRoot]):
        (-[BookmarksController _newBookmarkSheetDidEnd:returnCode:contextInfo:]):
        (-[BookmarksController displayNewBookmarksSheetForURLs:titles:iconURLs:inWindow:]):
        * BrowserDocument.h:
        * BrowserDocument.m:
        (-[BrowserDocument dealloc]):
        (-[BrowserDocument addBookmark:]):
        (-[BrowserDocument _setInstantRedirectPending:]):
        (-[BrowserDocument setIcon:]):
        (-[BrowserDocument iconURL]):
        (-[BrowserDocument setIconURL:]):
        * BrowserWindow.h:
        * BrowserWindowController.m:
        (-[BrowserWindowController windowIconURL]):
        (-[BrowserWindowController bookmarkIconURLForLocationField:]):
        * ContextMenuHandler.m:
        (-[ContextMenuHandler addLinkToBookmarks:]):
        * FavoriteButton.m:
        (-[FavoriteButton initWithBookmark:andFrame:]):
        * GlobalHistory.m:
        (-[GlobalHistory outlineView:willDisplayCell:forTableColumn:item:]):
        (-[GlobalHistory _addHistoryEntry:toMenu:]):
        (-[GlobalHistory addSelectedItemsToBookmarks:]):
        * LocationChangeHandler.m:
        (-[LocationChangeHandler receivedPageTitle:forDataSource:]):
        (-[LocationChangeHandler receivedPageIcon:fromURL:forDataSource:]):
        * LocationTextField.h:
        * LocationTextField.m:
        (-[LocationTextField mouseDown:]):
        * NewBookmarksController.h:
        * NewBookmarksController.m:
        (-[NewBookmarksController initWithURLs:titles:iconURLs:]):
        * TitleBarButton.m:
        (-[TitleBarButton startDragIfNecessaryForEvent:URL:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1820 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-08-15 00:48:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1f53fba437dd9cf108e88a9d2ef01358c7ef40b4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018r01l5ll6yod54', 2, e'	ROFL. The KHTML table code had a hardcoded "20" being
	subtracted out of table heights instead of using the
	actual margins on the <body> element.  This patch
	removes the hardcoded "20" and replaces it with the
	actual <body> margins.

        * khtml/rendering/render_table.cpp:
        (RenderTable::layoutRows):


git-svn-id: svn://svn.chromium.org/blink/trunk@1819 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-14 22:30:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a8ae1aa4836a035b137a1924e59281b9fb907967');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018s01l5jxdmhwc3', 2, e'	Fix marginwidth and marginheight on the <body> element.
	These attributes were not applying the correct margins,
	which would cause many many pages to mis-render!

        * khtml/html/html_baseimpl.cpp:
        (HTMLBodyElementImpl::parseAttribute):


git-svn-id: svn://svn.chromium.org/blink/trunk@1818 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-14 21:59:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/02dc63150156f0b14a0088505ab4366022a8be02');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018t01l5tlsvwryd', 2, e'	Ensure that a rendering object gets built for <fieldset>
	elements.  Content inside a <fieldset> was being discarded
	and not rendered.

	This fixes the top frame on blogger comment posting so that
	it shows up properly.

        * khtml/html/html_formimpl.cpp:
        (HTMLFieldSetElementImpl::attach):
        * khtml/html/html_formimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1817 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-14 21:45:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1aaf57060a25087b95ad919c6994f04c30262d95');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018u01l5euo6ntrh', 2, e'	Remove some unused things. Fix minor problems.

        * Plugins.subproj/WebPluginNullEventSender.m:
        * Plugins.subproj/WebPluginView.m:
        * WebCoreSupport.subproj/WebTextRenderer.m:
	Fixed places that were using the C++ bool instead of
	the Objective C BOOL.

        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _receivedData:]):
	Remove old code related to the dummy data source.

        * WebView.subproj/WebFrame.m:
        (-[WebFrame initWithName:webView:provisionalDataSource:controller:]):
	Remove _changeBridge, since we don\'t any more. Hoist the creation of the
	bridge up here.
        * WebView.subproj/WebFramePrivate.h: Remove _changeBridge.
        * WebView.subproj/WebFramePrivate.m: Remove _changeBridge.

        * WebView.subproj/WebHTMLRepresentation.h:
        * WebView.subproj/WebHTMLView.h:
        * WebView.subproj/WebImageRepresentation.h:
        * WebView.subproj/WebTextRepresentation.h:
        * WebView.subproj/WebTextView.h:
	Don\'t re-declare methods that are part of protocols we implement.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView initWithFrame:]): Don\'t add the mouse moved observer until
	the view gets put into a window.
        (-[WebHTMLView addMouseMovedObserver]): Added.
        (-[WebHTMLView removeMouseMovedObserver]): Added.
        (-[WebHTMLView viewWillMoveToWindow:]): Remove observer if we were in the
	main window.
        (-[WebHTMLView viewDidMoveToWindow]): Add observer if we are now in the main
	window.
        * WebView.subproj/WebHTMLViewPrivate.h: Add _frame method. Remove unused
	controller and cursor instance variables.
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _frame]): Added.
        (-[WebHTMLView _bridge]): Call _frame.

        * WebView.subproj/WebTextRepresentation.m: Add now-needed import.

        * WebView.subproj/WebHTMLRepresentation.m: Tweak.


git-svn-id: svn://svn.chromium.org/blink/trunk@1816 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-14 15:07:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7fb1ab3f53a7c9b70179b6d8bc91ff353de68d67');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018v01l572bj23uw', 2, e'Fix a log entry.


git-svn-id: svn://svn.chromium.org/blink/trunk@1815 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-14 14:39:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/84c3cb27656d42493ca5f73b4408ea70006a3355');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018w01l5gzi4q15h', 2, e'	Fix the build.

        * khtml/ecma/kjs_html.cpp: (KJS::HTMLDocument::putValue):
	Add braces and fix a syntax error.

        * kwq/mac-encodings.txt: Add comments. Make utf-16 be a synonym for
	utf-8 rather than having it actually try to treat things as 16-bit.
	We will have to revisit this, but for now it makes zingermans.com work again.

        * kwq/make-charset-table.pl: Allow comments.


git-svn-id: svn://svn.chromium.org/blink/trunk@1814 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-14 14:19:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c68e48986f68a15c689e49e960c20d5e087cffbb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018x01l5tpayf9dl', 2, e'	Fixed a JavaScript object leak that was plaguing ign.com and
	livepage.apple.com, among other things.

        * khtml/ecma/kjs_html.cpp:
        (KJS::HTMLDocument::putValue): Create a Value wrapper for a newly allocated
	DOMNode object that\'s not used past this function so it gets GC\'d properly.
        (KJS::HTMLElement::putValue): Likewise.


git-svn-id: svn://svn.chromium.org/blink/trunk@1813 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-14 09:02:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4ab395ad75f48da6f9fe19163185acf0e7dada90');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018y01l5br7okmfz', 2, e'        * khtml/ecma/kjs_window.cpp: Fix to build clean after
	JavaScriptCore live class changes (this way of handling it is kind
	of a hack, but kjs is unhappy to have Boolean defined so it can\'t
	unconditionally include CoreFoundation.h in collector.h; will fix
	better later).


git-svn-id: svn://svn.chromium.org/blink/trunk@1812 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-14 08:23:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c7a7cf7123fcc0c29b2a3e8b1dd51a06ae2e8381');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih018z01l5myju3v6q', 2, e'JavaScriptCore:

	Add the ability to determine the classes of live JavaScript
	objects, to help with leak fixing.

        * kjs/collector.h, kjs/collector.cpp:
        (Collector::liveObjectClasses):

WebCore:

	Add the ability to determine the classes of live JavaScript
	objects, to help with leak fixing.

        * kwq/WebCoreJavaScript.h:
        * kwq/WebCoreJavaScript.mm:
        (+[WebCoreJavaScript liveObjectClasses]):

WebKit:

	Add the ability to determine the classes of live JavaScript
	objects, to help with leak fixing.

        * Misc.subproj/WebCoreStatistics.h:
        * Misc.subproj/WebCoreStatistics.m:
        (+[WebCoreStatistics javaScriptLiveObjectClasses]):

WebBrowser:

	Add display of classes of live JavaScript objects to Caches
	window, to help with leak fixing.

        * Debug/CacheController.h:
        * Debug/CacheController.m:
        (-[CacheController refreshJavaScriptStatisticsMatrix]):
        * Debug/CacheController.nib:


git-svn-id: svn://svn.chromium.org/blink/trunk@1811 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-14 06:38:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2b41a2f3984302d5f139388726bf13af3b6fc8e0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih019001l528a1tvdw', 2, e'	An initial implementation of percentage height table cells.
	This implementation will properly distribute space among
	rows with percentage table cells, although there could be
	issues with percentage height cells that span rows.

	I have also fixed replaced elements so that they understand when they
	are a percentage height and contained within a percentage height
	cell that they can grow.  This fixes the textarea on bloggers\'
	comment posting page so that it sizes properly.

	There are many issues remaining with this implementation;
	blocks need to be taught how to flex when they specify a percent
	height.  There is also some sort of rounding error with tables
	that specify a height of 100% that I haven\'t yet figured out.
	(This error was present before my changes, and it\'s still present
	after my changes.)

	Also, percentage height tables seem to "lock" to the largest size
	they\'ve ever been and don\'t properly relayout when they become
	smaller.  Again, this bug existed before my changes.

        * khtml/rendering/render_box.cpp:
        (RenderBox::calcReplacedHeight):
        * khtml/rendering/render_table.cpp:
        (RenderTable::RenderTable):
        (RenderTable::calcRowHeight):
        (RenderTable::layout):
        (RenderTable::layoutRows):
        (RenderTable::print):
        (RenderTableCell::RenderTableCell):
        * khtml/rendering/render_table.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1810 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-14 05:01:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a1c26883340f7b73a09249efb49aba559d1e2895');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih019101l5v0svlxql', 2, e'	Character set handling improvements. In total, this adds 92 new character encoding
	names to the list we know how to handle (299, up from 207), so it probably makes
	some pages work that didn\'t work before. It probably also adds character encoding
	names that are never used in practice.

        * kwq/character-sets.txt: Took out all but one of our changes. We now handle aliases
	that are not in this file by adding them to mac-encodings.txt.
        * kwq/mac-encodings.txt: Added. Lists CFStringEncoding values and IANA names for them.
	We keep this file small by using the aliasing in character-sets.txt, and we also continue
	to get MIB numbers from character-sets.txt.
        * kwq/make-charset-table.pl: Rewrote to read from new format mac-encodings.txt file, and
	check for new kinds of errors.

        * kwq/.cvsignore: Don\'t ignore the make-mac-encodings files any more, since we
	don\'t compile that any more.
        * kwq/Makefile.am: Remove rules for compiling and running make-mac-encodings.
	* kwq/make-mac-encodings.c: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1809 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-13 23:49:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/403e811308269f606fa3e9c846e5da91a6f07da9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnfih019201l5br2h2mav', 2, e'	- fixed 3023439 -- support for windows-874 charset for thai

        * kwq/character-sets.txt: Added cp874 and windows-874.
        * kwq/make-charset-table.pl: Fix bug where it would right out a bad MIB enum for
	the many Macintosh character sets without associated MIB numbers.


git-svn-id: svn://svn.chromium.org/blink/trunk@1808 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-13 17:06:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/74d04cc8f139a2cdf9b6b947c06aa3c0afb57cda');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017f01l5jn1zvwlp', 2, e'	Some QRegion fixes inspired by Dave\'s clipping work.

        * kwq/qt/qregion.h: Add setClip, remove getNSBezierPath.
        * kwq/KWQRegion.mm:
        (NSMakePoint): Added. Helper function; could go in a header some day.
        (NSMakeRect): Added. Helper function; could go in a header some day.
        (MakeQRect): Added. Helper function; could go in a header some day.
        (QRegion::QRegion): Make a paths array instead of a single path. Also, change things
	so we actually copy the paths. The old code might translate a path that was shared
	by two QRegion objects.
        (QRegion::intersect): Merge the paths arrays of the two passed-in paths.
        (QRegion::contains): Return true only if all paths in the array contain the point.
        (QRegion::isNull): Return true if any of the paths in the array are empty.
        (QRegion::translate): Translate all the paths in the array.
        (QRegion::boundingRect): Return the intersection of the bounding rects of all the
	paths in the array.
        (QRegion::setClip): Call setClip on the first path, and addClip on the others.

        * kwq/KWQPainter.mm: (QPainter::setClipRegion): Use QRegion::setClip().


git-svn-id: svn://svn.chromium.org/blink/trunk@1807 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-13 16:45:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c8e2e2f9e0ee3ff2cd5f1828e3ea9b5cbfb1ea1b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017g01l5r81r9791', 2, e'	Small speed improvement. 3% faster on cvs-js-performance, no
	measurable change on cvs-static-urls.

        * kjs/collector.cpp:
        (Collector::collect): Combine 3 loops over all objects into one,
	to reduce flat time and improve locality of reference.


git-svn-id: svn://svn.chromium.org/blink/trunk@1806 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-13 07:39:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/84a3a61aad2442bf0210ac192ceee5bf42822ac9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017h01l554l0liu4', 2, e'	Reverting a change that I unintentionally checked in last
	week.  I wasn\'t yet ready to land it.  It may work, but I
	want to test it more first.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):


git-svn-id: svn://svn.chromium.org/blink/trunk@1805 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-13 06:55:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/66337d570ff5cff7f1ba4404ed2a2c997cd626f5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017i01l5rtp2m2hg', 2, e'	Implement clipping.  The one thing that still needs
	to be done is that the intersect method in KWQRegion.mm
	needs to be implemented.  Even without that, this gets
	the ticker on livepage.apple.com clipping properly.

        * kwq/KWQPainter.mm:
        (QPainter::xForm):
        (QPainter::save):
        (QPainter::restore):
        (QPainter::setClipRegion):
        * kwq/qt/qregion.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1804 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-13 00:55:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fb5de3cacced61d6a10e07e0478da468138b5e9e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017j01l5edj6kvay', 2, e'	Make the news ticker on livepage.apple.com scroll properly.
	It still doesn\'t clip though.  Fixing this involved correctly
	dirtying the render tree when dynamic DOM changes occurred
	(this was a bug in KHTML\'s DOM), as well as providing an
	implementation of the MSIE offsetWidth extension that took
	inlines into account (KHTML\'s impl was always returning a width
	of 0 for inlines).

        * khtml/ecma/kjs_dom.cpp:
        (DOMNode::getValueProperty):
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::offsetWidth):
        (RenderFlow::offsetHeight):
        * khtml/rendering/render_flow.h:
        * khtml/rendering/render_object.h:
        * khtml/xml/dom_nodeimpl.cpp:
        (NodeBaseImpl::insertBefore):
        (NodeBaseImpl::replaceChild):
        (NodeBaseImpl::appendChild):


git-svn-id: svn://svn.chromium.org/blink/trunk@1803 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-12 23:57:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bc3706f539295846ec129b54f0a11551dea11e6f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017k01l5az0cxknf', 2, e'        * khtml/misc/loader.cpp: (Cache::insertInLRUList):
	Add missing piece of the last check-in.


git-svn-id: svn://svn.chromium.org/blink/trunk@1802 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-12 22:27:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6620a53d316be8de05490d280dd9566fc5b48e4b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017l01l5ktewh2nn', 2, e'WebCore:

	At Ken\'s urging, fixed the loader cache to be more efficient.
	Gives 1% on the cvs-base test.

        * force-clean-timestamp: This requires a full rebuild.

        * khtml/misc/loader.h:
        * khtml/misc/loader.cpp:
        (CachedObject::~CachedObject): No longer inline, which is fine since
	it was a virtual function anyway. Remove from the LRU list.
        (CachedObject::setRequest): Add to the LRU list if it qualifies now.
        (CachedObject::ref): Remove from the LRU list.
        (CachedObject::deref): Add to the LRU list if it qualifies now.
        (CachedCSSStyleSheet::ref): Call CachedObject::ref.
        (CachedCSSStyleSheet::deref): Call CachedObject::deref.
        (CachedScript::ref): Call CachedObject::ref.
        (CachedScript::deref): Call CachedObject::deref.
        (CachedImage::ref): Call CachedObject::ref.
        (CachedImage::deref): Call CachedObject::deref.
        (Cache::init): No "LRU list" to create.
        (Cache::clear): No "LRU list" to delete.
        (Cache::requestImage): Call moveToHeadOfLRUList.
        (Cache::requestStyleSheet): Call moveToHeadOfLRUList.
        (Cache::requestScript): Call moveToHeadOfLRUList.
        (Cache::flush): New algorithm.
        (Cache::removeCacheEntry): Call removeFromLRUList.
        (Cache::removeFromLRUList): Added.
        (Cache::moveToHeadOfLRUList): Added.
        (Cache::insertInLRUList): Added.

        * kwq/KWQLoaderImpl.mm: (KWQCheckIfReloading):
        * kwq/WebCoreBridge.h:
	Change dataSourceIsReloading to isReloading.

WebKit:

        * WebCoreSupport.subproj/WebBridge.m: (-[WebBridge isReloading]):
	Change dataSourceIsReloading to isReloading.


git-svn-id: svn://svn.chromium.org/blink/trunk@1801 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-12 22:15:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/00fbc215c245f39d6a6a188c55547ed886c8d526');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017m01l5z8y3xwy8', 2, e'	Fix for the crash (assert) at mlb.com (3014322).  recalcStyle was
	re-entrant, causing the render tree to be reconstructed
	while in the process of being destroyed.

	Also patched object frame to only fire load/unload if
	render objects exist (since the plugin cannot load without
	the render object initializing it anyway).

        * khtml/html/html_objectimpl.cpp:
        (HTMLObjectElementImpl::attach):
        (HTMLObjectElementImpl::detach):
        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::DocumentImpl):
        (DocumentImpl::recalcStyle):
        * khtml/xml/dom_docimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1800 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-12 20:15:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e9c544ec346d9f6ca8c976c3f3545a4e4d07eb20');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017n01l5mayn2ouv', 2, e'top level:

        * Tests/WebFoundation-Misc/ifnsurlextensions-test.m: (TestURLCommon):
	Add tests for the new WebNSURLExtras methods.

        * Tests/libiftest/IFCheckLeaks.c: (IFCheckLeaksAtExit): Remove workaround for
	CFPreferences race condition; it\'s now in WebFoundation.

JavaScriptCore:

	Speed improvements. 19% faster on cvs-js-performance, 1% on cvs-static-urls.

	Use global string objects for length and other common property names rather
	than constantly making and destroying them. Use integer versions of get() and
	other related calls rather than always making a string.

	Also get rid of many unneeded constructors, destructors, copy constructors, and
	assignment operators. And make some functions non-virtual.

        * kjs/internal.h:
        * kjs/internal.cpp:
        (NumberImp::toUInt32): Implement.
        (ReferenceImp::ReferenceImp): Special case for numeric property names.
        (ReferenceImp::getPropertyName): Moved guts here from ValueImp. Handle numeric case.
        (ReferenceImp::getValue): Moved guts here from ValueImp. Handle numeric case.
        (ReferenceImp::putValue): Moved guts here from ValueImp. Handle numeric case.
        (ReferenceImp::deleteValue): Added. Handle numeric case.

        * kjs/array_object.h:
        * kjs/array_object.cpp: All-new array implementation that stores the elements
	in a C++ array rather than in a property map.
        (ArrayInstanceImp::ArrayInstanceImp): Allocate the C++ array.
        (ArrayInstanceImp::~ArrayInstanceImp): Delete the C++ array.
        (ArrayInstanceImp::get): Implement both the old version and the new overload that
	takes an unsigned index for speed.
        (ArrayInstanceImp::put): Implement both the old version and the new overload that
	takes an unsigned index for speed.
        (ArrayInstanceImp::hasProperty): Implement both the old version and the new overload that
	takes an unsigned index for speed.
        (ArrayInstanceImp::deleteProperty): Implement both the old version and the new overload that
	takes an unsigned index for speed.
        (ArrayInstanceImp::setLength): Added. Used by the above to resize the array.
        (ArrayInstanceImp::mark): Mark the elements of the array too.
        (ArrayPrototypeImp::ArrayPrototypeImp): Pass the length to the array instance constructor.

        * kjs/bool_object.cpp:
        * kjs/date_object.cpp:
        * kjs/error_object.cpp:
        * kjs/function.cpp:
        * kjs/function_object.cpp:
        * kjs/math_object.cpp:
        * kjs/nodes.cpp:
        * kjs/nodes.h:
        * kjs/number_object.cpp:
        * kjs/object_object.cpp:
        * kjs/regexp_object.cpp:
        * kjs/string_object.cpp:

        * kjs/nodes2string.cpp: (SourceStream::operator<<): Add a special case for char now that
	you can\'t create a UString from a char implicitly.

        * kjs/object.h:
        * kjs/object.cpp:
        (ObjectImp::get): Call through to the string version if the numeric version is not implemented.
        (ObjectImp::put): Call through to the string version if the numeric version is not implemented.
        (ObjectImp::hasProperty): Call through to the string version if the numeric version is not implemented.
        (ObjectImp::deleteProperty): Call through to the string version if the numeric version is not implemented.

        * kjs/types.h:
        * kjs/types.cpp:
        (Reference::Reference): Added constructors for the numeric property name case.

        * kjs/ustring.h: Made the constructor that turns a character into a string be explicit so we
	don\'t get numbers that turn themselves into strings.
        * kjs/ustring.cpp:
        (UString::UString): Detect the empty string case, and use a shared empty string.
        (UString::find): Add an overload for single character finds.
        (UString::rfind): Add an overload for single character finds.
        (KJS::operator==): Fix bug where it would call strlen(0) if the first string was not null.
	Also handle non-ASCII characters consistently with the rest of the code by casting to unsigned char
	just in case.

        * kjs/value.h: Make ValueImp and all subclasses non-copyable and non-assignable.
        * kjs/value.cpp:
        (ValueImp::toUInt32): New interface, mainly useful so we can detect array indices and not turn
	them into strings and back.
        (ValueImp::toInteger): Use the new toUInt32. Probably can use more improvement.
        (ValueImp::toInt32): Use the new toUInt32. Probably can use more improvement.
        (ValueImp::toUInt16): Use the new toUInt32. Probably can use more improvement.
        (ValueImp::getBase): Remove handling of the Reference case. That\'s in ReferenceImp now.
        (ValueImp::getPropertyName): Remove handling of the Reference case. That\'s in ReferenceImp now.
        (ValueImp::getValue): Remove handling of the Reference case. That\'s in ReferenceImp now.
        (ValueImp::putValue): Remove handling of the Reference case. That\'s in ReferenceImp now.
        (ValueImp::deleteValue): Added. Used so we can do delete the same way we do put.

WebFoundation:

        * CacheLoader.subproj/WebHTTPResourceLoader.m:
        (-[WebHTTPProtocolHandler createWFLoadRequest]): Fix handling of paths with queries
	and some other subtle path and port number handling issues by using _web_hostWithPort
	and _web_pathWithQuery.

        * Misc.subproj/WebNSURLExtras.h:
        * Misc.subproj/WebNSURLExtras.m:
        (-[NSURL _web_hostWithPort]): Added.
        (-[NSURL _web_pathWithQuery]): Added.

        * CacheLoader.subproj/WebResourceLoad.m:
        (initLoader): Get some random preference before creating threads. This makes it impossible
	to run into the CFPreferences race condition.

WebCore:

        * force-clean-timestamp: Need a full build because of KJS changes.
        * khtml/ecma/kjs_window.h: Need to store an Object, not an ObjectImp, because there\'s no way
	to copy an ObjectImp. KJS changes caught this mistake.


git-svn-id: svn://svn.chromium.org/blink/trunk@1799 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-12 20:14:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f0ec55af068ed062d3c6746d859751560c1fb5fc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017o01l573eybvn5', 2, e'        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m: Remove private _flags
	and _attributes accessors, now that Ken added public versions.
        * WebView.subproj/WebFrame.m:
        (-[WebFrame reload:]): Remove sole use thereof.


git-svn-id: svn://svn.chromium.org/blink/trunk@1798 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-12 16:12:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6766f63f51a92ac018064c3711301aca20cd9196');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017p01l5w62eyph6', 2, e'WebCore:

	- re-fixed 2948387 -- stop button flashes to "go" two extra times while loading citibank.com

	It turns out Maciej and I rebroke this when we made the "completed" code run.
	There was a related APPLE_CHANGES that had to be removed so that we do each redirect only once.
	Doing the redirect multiple times sent confusing signals to the web browser.

        * khtml/khtml_part.cpp: (KHTMLPart::scheduleRedirection): Remove APPLE_CHANGES so we don\'t
	try to redirect until the page is complete.

WebBrowser:

	Fixed a small thing related to bug 2948387.

        * BrowserDocument.m: (-[BrowserDocument displayName]): Leave title saying
	"Loading" as long as _instantRedirectPending is YES.


git-svn-id: svn://svn.chromium.org/blink/trunk@1797 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-12 09:35:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fd2ee0eecbd40fa469d294ea2763fea2e4d5e767');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017q01l52rnmh888', 2, e'Rolled version number to Alex-17


git-svn-id: svn://svn.chromium.org/blink/trunk@1795 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-08-11 00:31:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/776d3a49297c260a968239119a8366e4e313acd1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017r01l520r1u6ol', 2, e'	Check box in target setting panel to enable prebinding.

        * WebCore.pbproj/project.pbxproj


git-svn-id: svn://svn.chromium.org/blink/trunk@1794 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-08-10 18:28:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b20f12d54b0a94238a8a8f5244db86c70bc1bdd0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017s01l5jw02388i', 2, e'WebFoundation:

	Added a new constant WebResourceHandleUseCachedObjectIfPresent.
	This constant is used during reload so that a cached object
	is returned regardless of its expiration.

        * CacheLoader.subproj/WebCacheLoaderConstants.h: Added constant.
        * CacheLoader.subproj/WebHTTPProtocolHandlerPrivate.m:
        (-[WebHTTPProtocolHandler testAndSetCacheObjectState:]): Added check for new
	WebResourceHandleUseCachedObjectIfPresent constant.
        * CacheLoader.subproj/WebResourceLoad.m:

	Also added a change to improve the percentage of cache hits:

        (-[WebResourceLoad succeeded]): Use originalURL for caching. This will mean that
	the cache is checked for what the user typed in, or has in their bookmarks. This
	improves cache hits quite a bit.

WebCore:

	Added an extra function which checks with WebKit to see if
	the load is a reload. If it is, the WebCore cache is bypassed.

        * khtml/misc/loader.cpp:
        (DocLoader::requestImage): Added acall to new KWQCheckIfReloading function.
        (DocLoader::requestStyleSheet): Ditto.
        (DocLoader::requestScript): Ditto.
        * kwq/KWQLoaderImpl.h:
        * kwq/KWQLoaderImpl.mm:
        (KWQCheckIfReloading): New function which checks with WebKit to see if the load is a reload.
        * kwq/WebCoreBridge.h:

WebKit:

	Added support for "stale mode" (loads triggered by use of back/forward), and
	added support for reload.

	Also added a bridge function so the WebCore cache can tell if a load is a reload.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge dataSourceIsReloading]): New method.
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:dataSource:]): Use same flags that were used for main resource load.
        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource attributes]): New accessor.
        (-[WebDataSource flags]): New accessor.
        * WebView.subproj/WebFrame.m:
        (-[WebFrame reload:]): Reload adds WebResourceHandleFlagLoadFromOrigin flag to load.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _goToItem:withFrameLoadType:]): Adds flags so that WebFoundation can tell when back/forward
	has been used.

WebBrowser:

	Fix for this bug:

	Radar 2870727 ("Refresh" in Alexander doesn\'t bypass cache)

        * BrowserDocument.m:
        (-[BrowserDocument _goToURL:withFrameLoadType:fallbackURLs:]): Removed
	code that prevented the call through to reload from being called, now
	that I have hooked up the code so that reload is handled properly.


git-svn-id: svn://svn.chromium.org/blink/trunk@1793 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-08-10 18:24:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/14bda09720fdcb5abea6b463017ad633642e3627');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017t01l5ns6g8tn4', 2, e'	Some string speedups. Makes sony.com cached 11% faster on Development, but
        the improvement for Deployment should be greater.


git-svn-id: svn://svn.chromium.org/blink/trunk@1792 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-10 04:32:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b1c9d2c1bae6a8d556e165e1d4a55eb8d1a1a877');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017u01l5gluqw64f', 2, e'JavaScriptCore:

	Some string speedups. Makes sony.com cached 11% faster.

        * kjs/ustring.h: Made it possible for UChar objects to be uninitialized, which
	gives a speed boost. Inlined CString\'s +=, UString\'s destructor, +=, and +.
        * kjs/ustring.cpp:
        (UString::UString): Optimize const char * version, which showed up
	heavily in performance analysis. Added new two-UString version, which
	makes the + operator fast.
        (UString::ascii): Remove thread safety changes. Change static buffer to remember
	its size, and to always be at least 4096 bytes long; that way we never have to
	reallocate unless it\'s for a long string. Also make code to extract the characters
	significantly faster by getting rid of two pointer dereferences per character.
        (UString::is8Bit): Avoid one pointer dereference per character.
        (UString::toDouble): Use ascii() instead of cstring() to avoid copying the string.

        * kjs/collector.cpp: Remove unneeded APPLE_CHANGES.
        * kjs/regexp.cpp: Remove ifdefs around some APPLE_CHANGES that we
	want to keep, because they just fix warnings.
        * kjs/value.h: Remove obsolete APPLE_CHANGES comment.

        * JavaScriptCore.pbproj/project.pbxproj: Project Builder decided
	to move a line around in the file.

WebCore:

        * force-clean-timestamp: JavaScriptCore headers changed that require a full build here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1791 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-10 04:31:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/efc27da6faaa81d76eb0d955dd5615f9e66c76f8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017v01l5q52wlelb', 2, e'	Fix my last change to actually call the versions of the lock functions
	that are recursive and initialize as needed.

        * kjs/internal.cpp:
        (InterpreterImp::InterpreterImp):
        (InterpreterImp::clear):
        (InterpreterImp::evaluate):


git-svn-id: svn://svn.chromium.org/blink/trunk@1790 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-10 00:04:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ca2007a8c89a6b12cbd312b13de4330b1897413e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017w01l5xcuwuf4z', 2, e'        - fixed 2948835 - JavaScriptCore locking is too fine grained, makes it too slow

	* kjs/collector.cpp:
        (Collector::allocate):
        (Collector::collect):
        (Collector::finalCheck):
        (Collector::numInterpreters):
        (Collector::numGCNotAllowedObjects):
        (Collector::numReferencedObjects):
        * kjs/collector.h:
        * kjs/internal.cpp:
        (initializeInterpreterLock):
        (lockInterpreter):
        (unlockInterpreter):
        (Parser::parse):
        (InterpreterImp::InterpreterImp):
        (InterpreterImp::clear):
        (InterpreterImp::evaluate):
        * kjs/value.cpp:
        (ValueImp::ValueImp):
        (ValueImp::setGcAllowed):


git-svn-id: svn://svn.chromium.org/blink/trunk@1789 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-09 23:24:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/af664c05dcfb3d41307185a973e19a2af0892b93');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017x01l5qn1pcxio', 2, e'	- fixed 3018063 -- frame problems at directory.apple.com
        - fixed 3021484 -- Go to "xxxx" mouseover status message should not show ".."

	Basically, we had no frame targeting for forms. I made the form code share
	the same frame targeting code we use for clicking on URLs.

        * khtml/khtml_part.cpp: (KHTMLPart::openURLInFrame): Don\'t compile this
	function at all any more.

        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::openURLRequest): Call the impl\'s openURLRequest
	instead of calling the part\'s openURLInFrame. Clearer.

        * kwq/KWQKHTMLPartImpl.h: Remove openURLInFrame, add openURLRequest.
	Change urlSelected args parameter to a const reference. Add private
	getBridgeForFrameName helper function.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::getBridgeForFrameName): Moved rules for choosing a frame
	here from urlSelected so they can be shared.
        (KWQKHTMLPartImpl::openURLRequest): Use getBridgeForFrameName instead of
	having our own different code for finding the right frame.
        (KWQKHTMLPartImpl::urlSelected): Move frame choosing code into getBridgeForFrameName.
        (KWQKHTMLPartImpl::submitForm): Use getBridgeForFrameName instead of always
	ignoring the target and using our own frame.
	(KWQKHTMLPartImpl::overURL): Take base targeting into account when making the
	status bar messages, and use the completed URL, not the partial, for the message.


git-svn-id: svn://svn.chromium.org/blink/trunk@1788 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-09 23:12:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2e8ea7320337500810554d6be754515a241db0de');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017y01l5a3m1yssq', 2, e'	- fixed 2945441 -- base target is ignored

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::urlSelected):
	Add code to respect the base target in the document. It would be way better
	to use more of the KHTML code instead of copying it a line at a time into
	KWQ -- that can come later when the fire drill is over.


git-svn-id: svn://svn.chromium.org/blink/trunk@1787 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-09 21:23:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dd4cbd7a04fbf9d84089db4b0787757a888a409a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs017z01l5f8ckk9dq', 2, e'Alex-16 versioning


git-svn-id: svn://svn.chromium.org/blink/trunk@1785 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-08-09 18:01:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4d4034b55ee3c3fa21efbae97ba0aa43f4f22291');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs018001l5ygeorzbg', 2, e'	- fixed 3020594 -- crash in KWQKHTMLPartImpl::end() visiting particular page

        * khtml/khtml_part.cpp: (KHTMLPart::end): Our hacked alternative to a signal
	requires a NULL check.


git-svn-id: svn://svn.chromium.org/blink/trunk@1784 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-09 16:10:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7c81d00518fb5ace6afd1a9a1c8612b08a979a39');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs018101l5ng0nii8c', 2, e'%5 gain on cvs-static related to loading page icons:

WebKit:

	- Cache icon image for HTML files
	- resize the icon only in WebIconLoader instead of in multiple places elsewhere

        * Misc.subproj/WebIconLoader.h:
        * Misc.subproj/WebIconLoader.m:
        (+[WebIconLoader _resizeImage:]):
        (+[WebIconLoader defaultIcon]): call _resizeImage
        (+[WebIconLoader iconForFileAtPath:]): added, caches html icon
        (-[WebIconLoader WebResourceHandleDidFinishLoading:data:]): call _resizeImage
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _loadIcon]): call iconForFileAtPath

WebBrowser:

	- resize the page icon in WebIconLoader instead of in multiple places elsewhere
	- call resetNoDragRect less often

        * LocationTextField.h:
        * LocationTextField.m:
        (-[LocationTextField _setIcon:save:]): no need to resize
        * TitleBarButton.m:
        (-[TitleBarButton setImage:]): no need to resize
        (-[TitleBarButton resetNoDragRect]): renamed
        (-[TitleBarButton updateFrame]): no need to call resetNoDragRect
        (-[TitleBarButton viewDidEndLiveResize]): added, call resetNoDragRect
        (-[TitleBarButton windowDidEndSheet:]): call resetNoDragRect
        (-[TitleBarButton windowDidDeminiaturize:]): call resetNoDragRect
        (-[TitleBarButton setTitle:]): call resetNoDragRect


git-svn-id: svn://svn.chromium.org/blink/trunk@1783 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-08-09 07:25:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/adb4bf299e445bcc88bc0f8094e59832a3f3d007');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs018201l5q8xqak9o', 2, e'	Fix to get onLoad to fire, so the iBench test works.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]): Return the bridge for the new child frame.


git-svn-id: svn://svn.chromium.org/blink/trunk@1782 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-09 05:32:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/31ddcb16ad7219243a88922d6bbc30af0377670b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs018301l50ahqun6d', 2, e'	Fix to get onLoad to fire, so the iBench test works.

        * khtml/khtml_part.cpp:
        (KHTMLPart::checkCompleted): Put back some needed code that was
	ifdef\'d out (the part that emits completed()).
        (KHTMLPart::slotChildCompleted): Enabled; ifdef\'d out part.
        (KHTMLPart::frame): Enabled.
        * khtml/khtml_part.h:
        * kwq/KWQKHTMLPartImpl.mm:
	(KHTMLPart::completed): Hack to get completed signal delivered to
	parent.
        (KWQKHTMLPartImpl::requestFrame): Initialize m_part
        * kwq/WebCoreBridge.h: createChildFrameNamed method now returns
	the bridge for the child frame.


git-svn-id: svn://svn.chromium.org/blink/trunk@1781 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-09 05:32:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/872a16e7b9c8f6a754839a3ebbb64e10967c2d93');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs018401l5afmufsf2', 2, e'        * WebKit.pbproj/project.pbxproj: Change the group name back to Debug.


git-svn-id: svn://svn.chromium.org/blink/trunk@1780 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-09 04:21:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0a3eabf8a1b56f2d818a517dfa5d28be875404da');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs018501l5ft15hz84', 2, e'        Added flag to turn on/off buffered text drawing to help
        determine if we get any speed boost.  Run from console
        with "-BufferTextDrawing YES" to enable buffered text
        drawing.

        Moved buffered text drawing out of web core.

        * WebCoreSupport.subproj/WebTextRenderer.h:
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (+[WebTextRenderer shouldBufferTextDrawing]):
        (+[WebTextRenderer initialize]):
        (-[WebTextRenderer drawGlyphs:numGlyphs:fromGlyphPosition:toGlyphPosition:atPoint:withTextColor:backgroundColor:]):
        * WebCoreSupport.subproj/WebTextRendererFactory.h:
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView drawRect:]):

        Move stuff out of core into kit.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge drawRect:withPainter:]):
        * kwq/WebCoreTextRendererFactory.h:
        * kwq/WebCoreTextRendererFactory.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@1779 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-08 20:46:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/82b13f378221fcd3ff9482bd9562464983e9692f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs018601l5271pb1s0', 2, e'top level:

        * Tests/WebFoundation-Misc/ifnsurlextensions-test.m: Added code to
	check the new URL extras methods against the old original versions,
	which are pasted in here for now.
        * Tests/WebFoundation-Misc/ifnsurlextensions-test.chk: Updated result
	to match the changes to _web_URLByRemovingLastPathComponent, and to
	reflect the new "compare with old original versions" testing.

WebFoundation:

        * Misc.subproj/WebNSURLExtras.m:
        (-[NSURL _web_URLByRemovingLastPathComponent]): Changed behavior
	when the path is "/" to return the same URL with a path of "", to
	match the behavior of the old WebNSURLGetParent. I had hoped this would
	fix bug 3019790, but it did not.

WebCore:

	- fixed 3019353 -- Japanese (Autodetect) encoding not properly supported

        * kwq/make-charset-table.pl: Add a "japanese-autodetect" entry to the table
	explicitly, with a hardcoded encoding value. This should be good enough.

        * kwq/KWQKHTMLSettings.mm: (KHTMLSettings::mediumFixedFontSize):
        * kwq/WebCoreEncodings.h:
        * kwq/WebCoreSettings.h:
        * kwq/WebCoreSettings.m:
        Change "fixed font size" to "default fixed font size".

	Placeholders for the "drawing observer" method that I\'ll be using
	to implement the "dump page as diffable text" feature.

        * kwq/WebCoreTestController.h: Added.
        * kwq/WebCoreTestController.m: Added.
        * WebCore.exp: Mention new class.
        * WebCore.pbproj/project.pbxproj: Mention new files.

WebKit:

	Placeholders for the "drawing observer" method that I\'ll be using
	to implement the "dump page as diffable text" feature.

        * Misc.subproj/WebTestController.h: Added.
        * Misc.subproj/WebTestController.m: Added.
        * WebKit.pbproj/project.pbxproj: Mention new files.
	* WebKit.exp: Mention new class.

        * WebView.subproj/WebPreferences.h:
        * WebView.subproj/WebPreferences.m:
        Changed "fixed font size" to "default fixed font size".

WebBrowser:

	Some fixes to the text encoding menus.

        * Preferences.subproj/TextPreferences.m:
        (-[TextPreferences takeDefaultCharacterSetFrom:]): Update the text encoding
	menu when the character set is changed, because the section that includes
	that character set shows up at the top.
        (-[TextPreferences awakeFromNib]): Pass the TextPreferences object as the target
	for the menu items, because it\'s not going to be in the responder chain.

        * AppController.h: Added updateTextEncodingMenu.
        * AppController.m:
        (-[AppController applicationDidFinishLaunching:]): Call updateTextEncodingMenu.
        (-[AppController updateTextEncodingMenu]): Put the code to set up the text
	encoding menu in here, so it can be called when the default encoding changes.

        * TextEncodingMenu.h: Added target and preferred encoding parameters.
        * TextEncodingMenu.m:
        (-[NSMenu addItemToMenuForEncoding:withTarget:action:]): Add target setting.
        (-[NSMenu addStandardTextEncodingMenuItemsWithTarget:action:preferredEncoding:]):
	Remove old items before adding new so this can be reused on a menu. Fixed a bug
	in the original Mail code that causes an extra separator to be left at the bottom
	when the chosen group is the last one in the list.

        * LocationChangeHandler.m: Add an import that is needed now that I removed some
	unneeded imports from AppController.h.


git-svn-id: svn://svn.chromium.org/blink/trunk@1778 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-08 19:37:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/104c3e83fe3854df610d9a824451ba24fecd4e50');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs018701l5qebuocdj', 2, e'WebFoundation:

        * Misc.subproj/WebNSFileManagerExtras.h:
        * Misc.subproj/WebNSFileManagerExtras.m:
        (-[NSFileManager _web_carbonPathForPath:]): added
        (-[NSFileManager _web_startupVolumeName]): added
        * WebFoundation.pbproj/project.pbxproj: made WebNSFileManagerExtras.h a private header

WebKit:

        * Plugins.subproj/WebPluginStream.m:
        (-[WebPluginStream finishedLoadingWithData:]): call [NSFileManager _web_carbonPathForPath:]

WebBrowser:

	Fixed:

	3015546 - title bar button should be draggable
	3015545 - title bar button should have command-click pop-up menu

        * BrowserNSViewExtras.h:
        * BrowserNSViewExtras.m:
        (-[NSView draggingImage]): added, not used yet
        (-[NSView startDragFromEvent:withPasteBoard:andImage:]): dragOffset correction
        * BrowserWindow.h:
        * BrowserWindowController.m:
        (-[BrowserWindowController windowURL]): added, called by TitleBarButton
        (-[BrowserWindowController windowShouldGoToURL:]): added, called by TitleBarButton
        * ListView.h:
        * ListView.m:
        * TitleBarButton.m:
        (-[TitleBarButton initWithFrame:]): add observers
        (-[TitleBarButton dealloc]): remove observers
        (-[TitleBarButton drawRect:]): coord fix
        (-[TitleBarButton userChoseMenuItem:]): added
        (-[TitleBarButton _drawPathRepresentingPopUpMenuForEvent:andURL:]): added
        (-[TitleBarButton _startDragIfNecessaryForEvent:andURL:]): added
        (-[TitleBarButton mouseDown:]): call new methods above
        (-[TitleBarButton _resetWindowButtons:]): added
        (-[TitleBarButton resetFrame]): calls _resetWindowButtons
        (-[TitleBarButton windowDidEndSheet:]): added
        (-[TitleBarButton windowDidDeminiaturize:]): added


git-svn-id: svn://svn.chromium.org/blink/trunk@1777 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-08-08 18:51:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aa1f1112f20ab4084a757279eb13438b43c02a6c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnecs018801l592h13yto', 2, e'WebCore:

	Added an SPI that can be used to get at the WebCore
	charset-name/encoding table; this is useful for a couple of things
	in WebKit.

        * kwq/WebCoreEncodings.h: Added.
        * kwq/WebCoreEncodings.mm: Added.
        (+[WebCoreEncodings charsetNameForEncoding:]):
        (+[WebCoreEncodings encodingForCharsetName:]):
        * WebCore.exp: Export the new class.
        * WebCore.pbproj/project.pbxproj: Add new files.

WebKit:

	- fixed 2957197 - Need API for getting/setting default text encoding

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate init]): Set default encoding if no other is set.
        * WebView.subproj/WebPreferences.h:
        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]): Added support for default text encoding pref.
        (-[WebPreferences defaultTextEncoding]): Likewise.
        (-[WebPreferences setDefaultTextEncoding:]): Likewise.

WebBrowser:

	- fixed 2896313 - Default text encoding preference is not yet implemented

        * English.lproj/MainMenu.nib: Added separator after Default item
        * Preferences.subproj/English.lproj/TextPreferences.nib: Made the
	pop-up wider so it would fit the widest encoding
        * Preferences.subproj/TextPreferences.h:
        * Preferences.subproj/TextPreferences.m:
        (-[TextPreferences updateDefaultCharacterSetPopup]): Implemented.
        (-[TextPreferences takeDefaultCharacterSetFrom:]): Implemented.
        (-[TextPreferences awakeFromNib]): Add encoding items to pop-up button,
	remove empty dummy item.
        (-[TextPreferences initializeFromDefaults]): Initialize pop-up too.
        * TextEncodingMenu.h:
        * TextEncodingMenu.m:
	(-[NSMenu addStandardTextEncodingMenuItemsWithAction:]): Add a
	selector parameter so we can use a different one for the real menu
	and the default pop-up.
        (_addItemToMenuForEncoding): Likewise.
        * AppController.m:
        (-[AppController applicationDidFinishLaunching:]): Pass selector
	when adding encoding menu items.


git-svn-id: svn://svn.chromium.org/blink/trunk@1776 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-08 10:22:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ce163c153f773b3ef10aa643f00f327b89d6f378');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016l01l58fnat8p3', 2, e'        Changes to coalesce all drawing calls of the same text
        style and color into one call to CG.  Significantly
        improves drawing time.  My tests should about 7-8% on
        ALL pages.  Disabled the code for now until I can verify
        on speed improvements on Ken\'s test rig.

        * WebCoreSupport.subproj/WebGlyphBuffer.h: Added.
        * WebCoreSupport.subproj/WebGlyphBuffer.m: Added.
        (-[WebGlyphBuffer initWithFont:color:]):
        (-[WebGlyphBuffer font]):
        (-[WebGlyphBuffer color]):
        (-[WebGlyphBuffer reset]):
        (-[WebGlyphBuffer dealloc]):
        (-[WebGlyphBuffer drawInView:]):
        (-[WebGlyphBuffer addGlyphs:advances:count:at::]):
        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer drawGlyphs:numGlyphs:fromGlyphPosition:toGlyphPosition:atPoint:withTextColor:backgroundColor:]):
        * WebCoreSupport.subproj/WebTextRendererFactory.h:
        * WebCoreSupport.subproj/WebTextRendererFactory.m:
        (-[WebTextRendererFactory coalesceTextDrawing]):
        (-[WebTextRendererFactory startCoalesceTextDrawing]):
        (-[WebTextRendererFactory endCoalesceTextDrawing]):
        (-[WebTextRendererFactory glyphBufferForFont:andColor:]):
        (-[WebTextRendererFactory dealloc]):
        * WebKit.pbproj/project.pbxproj:

        Changes to coalesce all drawing calls of the same text
        style and color into one call to CG.  Significantly
        improves drawing time.  My tests should about 7-8% on
        ALL pages.  Disabled the code for now until I can verify
        on speed improvements on Ken\'s test rig.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge drawRect:withPainter:]):
        * kwq/WebCoreTextRendererFactory.h:
        * kwq/WebCoreTextRendererFactory.m:
        (-[WebCoreTextRendererFactory endCoalesceTextDrawing]):
        (-[WebCoreTextRendererFactory startCoalesceTextDrawing]):

        Made WebQueue a private class.

        * WebFoundation.exp:
        * WebFoundation.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1775 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-08 08:18:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/864d93ab7772bd1fbe48e4983301bd8b07be1023');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016m01l5bxe5gahk', 2, e'WebCore:

	WebCore work for:

	- fixed 2956008 - Need API for getting/setting text encoding for current page

        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::slotData): Handle the possibility of override encoding -
	one that\'s not just a hint from the server but should override
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge addData:withEncoding:]): Adjust for slotData interface change.
        (-[WebCoreBridge addData:withOverrideEncoding:]): New method that allows
	passing override encoding as a CFStringEncoding.
        (-[WebCoreBridge textEncoding]): Return the current text encoding.

WebKit:

	WebKit work for:

	- fixed 2956008 - Need API for getting/setting text encoding for current page

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge receivedData:withDataSource:]): Handle override encoding,
	if any.
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource initWithURL:attributes:flags:]): Remember the flags and
	attributes.
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate init]): Initialize overrideEncoding
        (-[WebDataSourcePrivate dealloc]): Release attributes
        (-[WebDataSource _setOverrideEncoding:]): Added.
        (-[WebDataSource _overrideEncoding]): Added.
        (-[WebDataSource _flags]): Added.
        (-[WebDataSource _attributes]): Added.
        * WebView.subproj/WebFrame.m:
        (-[WebFrame startLoading]): Pass proper forceRefresh value to data source
	based on load type (but the data source will ignore it).
	(-[WebFrame reload:]): Made this work a bit better. Now instead of
	crashing, it will actually reload, but it won\'t force a refresh
	(and may not handle the back/forward issues properly).
        * WebView.subproj/WebDocument.h: Defined new WebDocumentTextEncoding protocol.
        * WebView.subproj/WebHTMLView.h:
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView textEncoding]): Implemented WebDocumentTextEncoding
	protocol.
        (-[WebHTMLView setTextEncoding:]): Implemented WebDocumentTextEncoding
	protocol.
        (-[WebHTMLView setDefaultTextEncoding]): Implemented WebDocumentTextEncoding
	protocol.
        (-[WebHTMLView usingDefaultTextEncoding]): Implemented
	WebDocumentTextEncoding protocol.

WebBrowser:

	- fixed 2957200 - Text Encoding submenu is not yet implemented

        * AppController.h:
        * AppController.m:
        (-[AppController applicationDidFinishLaunching:]): Install standard
	Text Encoding menu items.
        * BrowserWindowController.h:
        * BrowserWindowController.m:
        (-[BrowserWindowController validateMenuItem:]): Validate the menu items
	properly, based on whether the current view can change encodings.
        (-[BrowserWindowController changeTextEncoding:]): Hook up to new WebKit API.
        * English.lproj/MainMenu.nib: Add Default item to encoding menu, hook it up
	to AppController.
        * TextEncodingMenu.h: Added. Stolen from Mail.
        * TextEncodingMenu.m: Added. Stolen from Mail.
        * WebBrowser.pbproj/project.pbxproj: Added new files.


git-svn-id: svn://svn.chromium.org/blink/trunk@1774 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-08 06:24:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/43a579dd8a91842346c7f7709224d577d82bfc0a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016n01l5cqoag7vm', 2, e'Fix build bustage.


git-svn-id: svn://svn.chromium.org/blink/trunk@1773 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-08 01:19:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/830875d57823b9597e5a5caf2ee54e50baebd586');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016o01l5kmd4t3db', 2, e'	Adding support for a separate fixed font size to WebCore.
	Your fixed font size pref will now be honored when the
	generic monospace family is used.

        * khtml/css/cssstyleselector.cpp:
        * khtml/css/cssstyleselector.h:
        * khtml/rendering/font.h:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):
        * kwq/KWQKHTMLSettings.mm:
        (KHTMLSettings::mediumFixedFontSize):
        * kwq/WebCoreSettings.h:
        * kwq/WebCoreSettings.m:
        (-[WebCoreSettings setFixedFontSize:]):
        (-[WebCoreSettings fixedFontSize]):
        * kwq/khtml/khtml_settings.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1772 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-08 01:15:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/758c8621ed26ba25bc2c7f01c15e78de86d2a8f6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016p01l53hq6oebd', 2, e'	- fixed 3017499 -- One-click crasher at hondamotorcycle.com

        * kwq/KWQKURL.mm: (operator==): Just compare the strings.
	Faster and safer.


git-svn-id: svn://svn.chromium.org/blink/trunk@1771 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-07 20:30:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/998473c5b6386299b38e0e6f52625082103228d3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016q01l5f1mio3df', 2, e'	- fixed 3017245 -- Shift-Delete should go forward

        * WebView.subproj/WebView.m:
        (-[WebView keyDown:]): Check for shift-delete.


git-svn-id: svn://svn.chromium.org/blink/trunk@1770 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-07 19:33:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9173d0b2fb4e3d9620c40620f49750bc60950d0a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016r01l57gdut67x', 2, e'        Fixed scrollview related drawing turd problems.
        (3000844 and 2896459).

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView drawRect:]):
        * WebView.subproj/WebView.m:
        (-[WebView setFrame:]):

        Removed debug log.

        * kwq/KWQFrame.mm:
        (QFrame::setFrameStyle):
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge drawRect:withPainter:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1769 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-07 19:19:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4c4dfbfb754bf2298e8072ba048fefd669f23d8c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016s01l5yno63wxu', 2, e'top level:

        * Tests/WebFoundation-Misc/ifnsurlextensions-test.m:
        New test that tests more of the code in WebNSExtras.
        * Tests/WebFoundation-Misc/ifnsurlextensions-test.chk:
	New output for new test. Matches the old for canonicalize test cases.

WebFoundation:

	- fixed 3017633 -- IPv6 URL support needed
	- fixed 2876174 -- Some URL functions should be moved to IFNSURLExtensions
	and have test cases added

        * Misc.subproj/WebNSURLExtras.h: Removed _web_extractHTTPBaseURLString and
	_web_URLWithScheme:user:password:host:port:path:parameter:query:fragment:,
	renamed _web_URLWithoutFragment to _web_URLByRemovingFragment.
        * Misc.subproj/WebNSURLExtras.m:
        (ReleaseIfNotNULL): Added. Used by the component-related functions.
        (StringByAddingPercentEscapes): Broken out from URLStringByAddingPercentEscapes.
        (URLStringByAddingPercentEscapes): Add code to handle the IPv6 case but make sure
	we escape any other bracket characters in the string.
        (+[NSURL _web_URLWithComponents:]): Added.
        (-[NSURL _web_URLComponents]): Added. These use the CFURL functions for breaking URLs
	into components, but makes them easier to use from AppKit by using autoreleased NSString
	objects and also fixes some anomalies in the CFURL functions.
        (-[NSURL _web_URLByRemovingFragment]): Simpler implementation, new name.
        (-[NSURL _web_URLByRemovingUserAndQueryAndFragment]): Added. Replaces
	WebNSURLRemoveUserAndSubresourceInfo.
        (-[NSURL _web_URLByRemovingPasswordAndPath]): Added. Replaces WebNSURLCanonicalRoot.
        (-[NSURL _web_URLByRemovingLastPathComponent]): Added. Replaces WebNSURLGetParent.
        (-[NSURL _web_canonicalize]): Rewrote to use _web_URLComponents.

        * CacheLoader.subproj/WebFileProtocolHandler.m:
        (+[WebFileProtocolHandler canonicalizeURL:]): Rewrite to use _web_URLComponents.
        * CacheLoader.subproj/WebHTTPProtocolHandler.m:
        (+[WebHTTPProtocolHandler canonicalizeURL:]): Rewrite to use _web_URLComponents.

        * AuthenticationManager.subproj/WebAuthenticationManager.m:
	Remove WebNSURLRemoveUserAndSubresourceInfo, WebNSURLCanonicalRoot, and
	WebNSURLGetParent, and use equivalent functions from WebNSURLExtras.

        * Misc.subproj/WebNSStringExtras.h:
        * Misc.subproj/WebNSStringExtras.m:
        (-[NSString _web_hasCaseInsensitivePrefix:]): Added.

WebCore:

        * kwq/KWQKURL.mm: (KURL::KWQKURLPrivate::decompose): Use CFURLCopyPath
	instead calling _NSParseStringToGenericURLComponents.

WebKit:

        * WebView.subproj/WebFrame.m: (-[WebFrame setProvisionalDataSource:]):
        * WebView.subproj/WebFramePrivate.m: (-[WebFrame _goToItem:withFrameLoadType:]):
	Call _web_URLWithoutFragment by its new name _web_URLByRemovingFragment.


git-svn-id: svn://svn.chromium.org/blink/trunk@1768 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-07 19:03:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a1cfc7947480856c40e79afc2ad04e83c470d268');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016t01l56ojbltiw', 2, e'	Fixed: 3018632 - the show javascript files inline bug

        * WebView.subproj/WebDataSourcePrivate.m:
        (+[WebDataSource _repTypes]): support application/x-javascript
        * WebView.subproj/WebViewPrivate.m:
        (+[WebView _viewTypes]): support application/x-javascript


git-svn-id: svn://svn.chromium.org/blink/trunk@1767 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-08-07 18:03:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bf4ed190fc1672db4f434515632f6af72c95d129');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016u01l5ryfmqkvh', 2, e'WebKit:

        * Misc.subproj/WebNSViewExtras.h:
        * Misc.subproj/WebNSViewExtras.m:
        (-[NSView _web_superviewOfClass:]): Changed name from
	_web_superviewWithName: and made it take a Class object
	instead of a string.

        * Plugins.subproj/WebNullPluginView.m:
        (-[WebNullPluginView drawRect:]):
        * Plugins.subproj/WebPluginView.m:
        (-[WebPluginView start]):
        (-[WebPluginView layout]):
	Updated callers of _web_superviewWithName:

        * WebKit.pbproj/project.pbxproj: Changed WebNSViewExtras.h from
	Public to Private

WebBrowser:

        * BrowserNSViewExtras.h,
        * BrowserNSViewExtras.m: Remove superviewOfClass now that it\'s
	in WebKit

        * ActivityViewer.m:
        (-[ActivityViewer bestSizeForWindowContent]):
	Use _web_superviewOfClass:


git-svn-id: svn://svn.chromium.org/blink/trunk@1766 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-07 17:43:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7a02ce31ed8e0dbc8b9c7efa621d3d95388c17a6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016v01l5eynih3f2', 2, e'Fixed compile problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@1765 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-07 16:28:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7a82e51612a3b8d25eecd8b31be7c4d8e7cc96bc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016w01l5len9kpp3', 2, e'        Turned off temporary debugging I accidentally checked in.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge drawRect:withPainter:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1764 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-07 16:22:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1c64c990655d24780f20c616ef580d4a9f9cdc5d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016x01l5sly3nlhz', 2, e'	Make user stylesheet changes dynamic.  Web documents will now
	update as the user stylesheet is applied and unapplied.  Altered
	how reapplyStyles works a bit.

        * khtml/khtml_part.cpp:
        (KHTMLPart::reparseConfiguration):
        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::setUserStyleSheet):
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge reapplyStyles]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1763 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-07 05:46:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/83d12123185bde42c0113b92ab8c2ce6c8cfe01e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016y01l5tgysae4a', 2, e'	Enable user stylesheet support.  It works from a fresh start but
	is not yet completely dynamic.

        * khtml/khtml_part.cpp:
        (KHTMLPart::setUserStyleSheet):
        * kwq/KWQKHTMLSettings.mm:
        (KHTMLSettings::userStyleSheet):


git-svn-id: svn://svn.chromium.org/blink/trunk@1762 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-07 04:19:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d0f80754ebee1c71fff6907eeb90cdd5e8804b20');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg016z01l5bc1gz9f7', 2, e'WebCore:

	- fixed 2965321 -- Crash on window close in kthml::Loader::cancelRequests from particular page

        * khtml/misc/loader.cpp: (Loader::servePendingRequests):
	Look at return value from KWQServeRequest instead of assuming it will always succeed.
        * kwq/KWQLoaderImpl.h: Add return value for KWQServeRequest.
        * kwq/KWQLoaderImpl.mm: (KWQServeRequest): Return false if we fail to make either the NSURL
	or the WebResourceHandle. Also make sure that we delete the job if necessary.

WebKit:

	Fix assert I saw while fixing bug 2965321.

        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _receivedError:forResourceHandle:partialProgress:fromDataSource:]):
	Create a suitable resource identifier from the failing URL in the WebError for cases
	where we fail before we are able to construct a resource handle.


git-svn-id: svn://svn.chromium.org/blink/trunk@1761 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-07 04:12:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6ebcfc65f77580cb30c3c80d539a3cdceffe181d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017001l51ldoa1q3', 2, e'        * force-clean-timestamp:
	Edited this file to force a make clean in WebCore after
	discovering that it was necessary the hard way. I\'m not
	sure which earlier checkin made this be required.


git-svn-id: svn://svn.chromium.org/blink/trunk@1760 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-07 03:58:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5ff80751f1763fbd1dba7aa958c36a4fbed5ab4d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017101l50leuvtrn', 2, e'        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::overURL):
	Fix crash in overURL, another case just like bug 3006336.


git-svn-id: svn://svn.chromium.org/blink/trunk@1759 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-07 03:39:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/feaaae090471551d791b5f3012282479051b27e4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017201l5uf92dkc4', 2, e'	- fixed 2970516 -- Activate Events don\'t appear to be coming in to the
	Java Applet.plugin correctly.

        * Plugins.subproj/WebPluginView.m: (-[WebPluginView sendActivateEvent:]):
	Use activeFlag to set modifiers, not activMask, which is an event mask.


git-svn-id: svn://svn.chromium.org/blink/trunk@1758 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-07 03:29:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5e645fbcfcaf77c9dc63e91251a7348ba196bc3d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017301l57ppmkzkv', 2, e'        Frame resizing related changes.  Frames are now resizable
        w/ a resize bar.  Still need to draw frame borders.

        * khtml/rendering/render_frames.cpp:
        (RenderFrameSet::userResize):
        (RenderFrame::slotViewCleared):
        * kwq/KWQFrame.mm:
        (QFrame::setFrameStyle):
        (QFrame::frameStyle):
        (QFrame::frameWidth):
        * kwq/KWQWidget.mm:
        (QWidget::lockDrawingFocus):
        (QWidget::unlockDrawingFocus):
        (QWidget::flushDrawing):
        (QWidget::enableFlushDrawing):
        (QWidget::disableFlushDrawing):
        (QWidget::setDrawingAlpha):
        (QWidget::displayRect):
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge drawRect:withPainter:]):
        * kwq/qt/qframe.h:
        * kwq/qt/qwidget.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1757 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-07 02:05:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/58a1ca13a87015c204015f06ce285d182f3ab102');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017401l5m6avxz6m', 2, e'WebKit:

	Add mechanism to store userStyleSheet preferences in WebKit in
	preparation for Dave wiring up the implementation.

        * WebView.subproj/WebPreferences.h:
        * WebView.subproj/WebPreferences.m:
        (-[WebPreferences userStyleSheetEnabled]),
        (-[WebPreferences setUserStyleSheetEnabled:]),
        (-[WebPreferences userStyleSheetLocation]),
        (-[WebPreferences setUserStyleSheetLocation:]):
	New methods, read and write UserDefaults values.

        (+[WebPreferences load]): Set initial values for
	userStyleSheetEnabled and userStyleSheetLocation

WebBrowser:

	Updated to use userStyleSheet preferences from WebKit.

        * Defaults.plist,
        * PreferenceKeys.h:
	Remove preference keys for ApplyStyleSheet since this is in
	WebKit now.

        * Preferences.subproj/AppearancePreferences.m:
        (-[AppearancePreferences setStylesheetPathPreference:]),
        (-[AppearancePreferences stylesheetPathPreference]),
        (-[AppearancePreferences updateStylesheetViews]),
        (-[AppearancePreferences toggleApplyStylesheet:]):
	Update to use WebKit preferences API; remove local storage.


git-svn-id: svn://svn.chromium.org/blink/trunk@1756 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-07 00:57:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0133c1c75ecd032a6d710d77d146ce3812412b1d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017501l50172hd29', 2, e'WebCore:

	Removed some APPLE_CHANGES no longer needed after the part change.

        * khtml/khtml_part.cpp:
        (KHTMLPart::openedByJS): Don\'t call impl version.
        (KHTMLPart::setOpenedByJS): Don\'t call impl version.
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm: Removed openedByJS and setOpenedByJS.
        * kwq/WebCoreBridge.h: Don\'t prototype setOpenedByScript: and
	openedByScript methods now that they are not needed.

WebKit:

	Removed some APPLE_CHANGES no longer needed after the part change.

        * WebCoreSupport.subproj/WebBridge.m: Remove setOpenedByScript: and
	openedByScript methods now that they are not needed.
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m: Remove setOpenedByScript: and
	openedByScript methods now that they are not needed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1755 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-06 23:28:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/28d615909f2b7d19f675aa52deb16f66cab0b8fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017601l5770m5cqk', 2, e'WebKit:

	- fixed 3017761 -- dataSource != nil assertion navigating at yahoo.com

        * WebView.subproj/WebLocationChangeHandler.h:
        * WebView.subproj/WebLocationChangeHandler.m:
	Change client redirect calls to pass the frame, not the data source.
	At the time a client redirect is requested, it\'s not even clear yet
	which data source will be involved. We may want to make some of the
	other calls pass frames, also, aside from the "start", "committed", "done",
	calls, which must specify the data source.
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge reportClientRedirectTo:delay:fireDate:]): Pass frame, not data source.
        (-[WebBridge reportClientRedirectCancelled]): Pass frame, not data source.

WebBrowser:

	Update for change to client redirect API.

        * LocationChangeHandler.m:
        (-[LocationChangeHandler clientRedirectTo:delay:fireDate:forFrame:]):
        (-[LocationChangeHandler clientRedirectCancelledForFrame:]):
	We get the frame now, not the data source.


git-svn-id: svn://svn.chromium.org/blink/trunk@1754 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-06 22:37:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/84a9c0d1e28172bb37c78ff8672bc8ed19cd742d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017701l5xw9zo5tk', 2, e'	Make checkboxes and radio buttons use the small control
	size.  Tweak their baselines to not use font metrics and
	to line up properly.  (voodooextreme.com nearly renders
	the left column correctly now.)

        * khtml/rendering/render_form.cpp:
        (RenderCheckBox::baselinePosition):
        (RenderRadioButton::baselinePosition):
        * khtml/rendering/render_form.h:
        * kwq/KWQCheckBox.mm:
        (QCheckBox::QCheckBox):
        * kwq/KWQRadioButton.mm:
        (QRadioButton::QRadioButton):


git-svn-id: svn://svn.chromium.org/blink/trunk@1753 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-06 20:16:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/92db3b325ff8603e6049dd5a04addd831bddf201');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017801l5nrtwrtqv', 2, e'WebFoundation:

        * lots of files: Changed url to URL in many places and renamed URL-related methods.

WebKit:

        * lots of files: Changed url to URL in many places and renamed URL-related methods.

WebBrowser:

        * lots of files: Changed url to URL in many places and renamed URL-related methods.


git-svn-id: svn://svn.chromium.org/blink/trunk@1752 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-06 19:54:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/68b007c55197270bb84a26efae8f3e91dbda5bed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017901l5fftco51h', 2, e'WebCore:

	WebCore part of fix for 2915396 -- implement larger/smaller font
	or page zoom functionality

        * khtml/khtml_part.cpp:
        (KHTMLPart::setZoomFactor): inside APPLE_CHANGES, remove use of
	KHTML limits for zoom factor; this is a client responsibility in
	our model.

WebBrowser:

	WebBrowser part of fix for 2915396 -- implement larger/smaller font
	or page zoom functionality

        * BrowserDocument.h:
        * BrowserDocument.m:
	Define min/max text multiplier values, and ratio
        (-[BrowserDocument canMakeTextLarger]),
        (-[BrowserDocument canMakeTextSmaller]):
	New methods, check that there\'s a page and that the new size
	wouldn\'t be too big/small.

        (-[BrowserDocument makeTextLarger:]),
        (-[BrowserDocument makeTextSmaller:]):
	New methods, set web controller\'s text multiplier.

        (-[BrowserDocument validateUserInterfaceItem:]):
	Disable makeTextLarger and makeTextSmaller when appropriate.


git-svn-id: svn://svn.chromium.org/blink/trunk@1751 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-06 18:09:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aa12e3011dd7afb1b2963e033cd8552c33456b80');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017a01l55gxc7afc', 2, e'        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::urlSelected):
	Put in a check for nil that I missed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1750 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-06 18:00:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3d3be9be37dc7abb3aaeac4bd3bf0be7d7e18369');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017b01l5ynaovtce', 2, e'WebCore:

	- fixed 2948805 -- Need WebKit API for larger/smaller font feature

        * khtml/khtml_part.cpp:
        (KHTMLPart::clear): Head in the direction of using the m_frames and
	m_objects arrays, by turning some APPLE_CHANGES code on.
        (KHTMLPart::checkCompleted): More code turned on here.
        (KHTMLPart::checkEmitLoadEvent): And more code turned on here.
        (KHTMLPart::parentPart): Remove APPLE_CHANGES version. We can use the original now.
        (KHTMLPart::setZoomFactor): Remove APPLE_CHANGES. We want this function now.
        * khtml/khtml_part.h: Remove some APPLE_CHANGES to make xmlDocImpl public.
	No longer needed.
        * khtml/khtmlpart_p.h: Remove a bunch of APPLE_CHANGES.
        * kwq/KWQKHTMLPartImpl.h: Remove parentPart(), add getDocument() and getRenderer().
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::urlSelected): Use parentPart() instead of [bridge parent].
        (KWQKHTMLPartImpl::requestFrame): Set up a ChildFrame in the m_frames array.
        (KWQKHTMLPartImpl::layout): Use getRenderer().
        (KWQKHTMLPartImpl::getDocument): Added.
        (KWQKHTMLPartImpl::getRenderer): Added.
        * kwq/WebCoreBridge.h: Add [setParent:], remove [parent].
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge setParent:]): Added.
        (-[WebCoreBridge reapplyStyles]): Use getDocument().
        (-[WebCoreBridge forceLayout]): Use getRenderer().
        (-[WebCoreBridge drawRect:withPainter:]): Use getRenderer().
        (-[WebCoreBridge copyDOMTree:]): Use getDocument().
        (-[WebCoreBridge copyRenderTree:]): Use getRenderer().
        (-[WebCoreBridge completeURLForDOMString:]): Use getDocument().
        (-[WebCoreBridge elementAtPoint:]): Use getRenderer().
        (-[WebCoreBridge setTextSizeMultiplier:]):
        * kwq/khtml/khtml_ext.h: Add dummy setEnabled function to make khtml_part.cpp compile.
        * kwq/kparts/part.h: Add real parent() and setParent() implementation.

WebKit:

        * WebCoreSupport.subproj/WebBridge.m: (-[WebBridge dataSourceChanged]): Call setParent:.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate init]): Initialize the text size multiplier to 1.
        * WebView.subproj/WebDataSource.h: Removed [redirectedURL], deprecated [inputURL], added [URL].
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource URL]): Added. Returns current URL, without requiring separate logic for the
	redirected and not-yet-redirected cases.
        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _loadIcon]): Use [WebDataSource URL].
        * WebView.subproj/WebDefaultContextMenuHandler.m:
        (-[WebDefaultContextMenuHandler openFrameInNewWindow:]): Use [WebDataSource URL].

WebBrowser:

        * BrowserDocument.m:
        (-[BrowserDocument currentURL]): Use [WebDataSource URL].
        (-[BrowserDocument provisionalURL]): Use [WebDataSource URL].
        * BrowserWebController.m:
        (-[BrowserWebController contentPolicyForMIMEType:dataSource:]): Use [WebDataSource URL].
        * DownloadMonitor.m:
        (-[DownloadMonitor receivedProgress:forResourceHandle:fromDataSource:complete:]): Use [WebDataSource URL].
        * FrameProgressEntry.m: (-[FrameProgressEntry URL]): Use [WebDataSource URL].


git-svn-id: svn://svn.chromium.org/blink/trunk@1749 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-06 17:13:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/76e18fdc619a7f917ce878e5b52ef59545ed5de5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017c01l55ddxbrl4', 2, e'WebKit:

	WebKit part of fix for 3017539 -- Replace Serif and Sans-serif
	font preferences with Default preference; let fixed width font
	size be independent.


        * WebView.subproj/WebPreferences.h:
        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]): Add default value for fixed width size
        (-[WebPreferences fixedFontSize]),
        (-[WebPreferences setFixedFontSize:]): New methods.

WebBrowser:

	WebBrowser part of fix for 3017539 -- Replace Serif and Sans-serif
	font preferences with Default preference; let fixed width font
	size be independent.

        * Preferences.subproj/TextPreferences.h:
        * Preferences.subproj/TextPreferences.m:
        (-[TextPreferences updateFontSampleField:]):
        (-[TextPreferences updateFontSampleFields]):
        (-[TextPreferences chooseFont:]):
        (-[TextPreferences chooseStandardFont:]):
        (-[TextPreferences changeFont:]):
        (-[TextPreferences initializeFromDefaults]):
	Removed serif and sans-serif code, replaced with standard font.
	Made font sizes independent of each other.

        * Preferences.subproj/English.lproj/TextPreferences.nib:
	Futzed with Interface Builder.


git-svn-id: svn://svn.chromium.org/blink/trunk@1748 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-06 16:21:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/47f85d65422a005132ee82b52d61b764efcf2e3e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017d01l5wfdb7soq', 2, e'	- fixed 3017536 -- Change default font to Lucida Grande 14 pt.

        * WebView.subproj/WebPreferences.m: (+[WebPreferences load]):
	Changed default font and sans serif font family names to Lucida Grande.
	Changed default font size to 14 point.


git-svn-id: svn://svn.chromium.org/blink/trunk@1747 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-06 15:36:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c3769c055081328a21c36bd39e548e8591e5b96d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnctg017e01l5rljzynen', 2, e'WebCore:

	Fixed crashers and leaks that come up when changing the view
	associated with a part.

        * khtml/khtmlview.cpp:
        (KHTMLView::~KHTMLView): Don\'t zero out the part\'s view, because
	that will mess up setting a new one.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge createKHTMLViewWithNSView:width:height:marginWidth:marginHeight:]):
	Destroy the old view if we own it.

WebKit:

	fixed 2974993 - window.open does not return the right window object
	fixed 3017140 - WebKit creates a new KHTMLPart per page; should
	reuse it like KHTML does

        * WebView.subproj/WebHTMLRepresentation.m:
        (-[WebHTMLRepresentation setDataSource:]): Don\'t swap the part at
	this point. Now it gets reused.


git-svn-id: svn://svn.chromium.org/blink/trunk@1746 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-06 06:04:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/81fd73a6e0f5ddfa052d1385bb9a439b56349a6c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq015r01l5jx0t78bd', 2, e'        * WebKit.pbproj/project.pbxproj: Fix tyops that broke Development
	build.


git-svn-id: svn://svn.chromium.org/blink/trunk@1745 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-06 05:23:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ea59b267a2a963c79f08745afcc9ad4e6e7a501b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq015s01l55h2jg8cs', 2, e'WebCore:

        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::openURLInFrame):
        (KWQKHTMLPartImpl::urlSelected):
        (KWQKHTMLPartImpl::requestFrame):
        (KWQKHTMLPartImpl::requestObject):
	Add some nil checks before making calls with nil NSURL objects.
	But we also have to figure out how to report some kind of error
	in these cases, because the current behavior is not so good.

WebKit:

        * .cvsignore: Ignore WebCore-combined.exp.


git-svn-id: svn://svn.chromium.org/blink/trunk@1744 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-06 04:54:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6ffbda02d698acf19e21b310dfc496890c37d043');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq015t01l5a27xa2wx', 2, e'JavaScriptCore:

	- fixed 3007072 - need to be able to build fat

        * JavaScriptCore.pbproj/project.pbxproj: Fixed DeploymentFat build.

WebFoundation:

	- fixed 3007072 - need to be able to build fat

        * WebFoundation.pbproj/project.pbxproj: Fixed DeploymentFat build.

WebCore:

	- fixed 3007072 - need to be able to build fat

        * WebCore.pbproj/project.pbxproj: Fixed DeploymentFat build.

WebKit:

	- fixed 3007072 - need to be able to build fat

        * WebKit.pbproj/project.pbxproj: Fixed DeploymentFat build.
        * Makefile.am: Build WebCore-combined.exp for Development and
	Mixed build.
        * WebKit-tests.exp: Added.
        * WebKit.exp: Remove test-only function.

WebBrowser:

	- fixed 3007072 - need to be able to build fat

        * WebBrowser.pbproj/project.pbxproj: Fixed DeploymetFat build.


git-svn-id: svn://svn.chromium.org/blink/trunk@1743 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-06 04:35:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/46021439046dd84a85542c5425060ebd268e8668');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq015u01l59pt58o1l', 2, e'WebCore:

	- fixed 3016374 -- Change font default from small back to medium

        * khtml/css/cssstyleselector.cpp:
	(CSSStyleSelector::computeFontSizes): Change back to basing everything on
	mediumFontSize() as opposed to a defaultFontSize that was the same as "small".
	(CSSStyleSelector::applyRule): Default is m_fontSizes[3] again.
        * khtml/html/html_inlineimpl.cpp: (HTMLFontElementImpl::parseAttribute):
	Shift all the sizes up one, so 3 is now medium. It\'s important that 3 be the same as the default.
        * khtml/html/html_tableimpl.cpp: (HTMLTableElementImpl::attach): Change the default back to medium.
        * khtml/xml/dom_docimpl.cpp: (DocumentImpl::recalcStyle): Change the default back to [3].
        * kwq/KWQKHTMLSettings.mm: (KHTMLSettings::mediumFontSize): Change name back.
        * kwq/khtml/khtml_settings.h: Change name back to medium.

	Do a little bit of wiring for the "text size multiplier" feature.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm: (-[WebCoreBridge setTextSizeMultiplier:]): Added.

WebKit:

	Do the wiring for the "text size multiplier" feature. The rest of the work will probably be done
	at the WebCore level.

        * WebCoreSupport.subproj/WebBridge.m: (-[WebBridge setFrame:]): Set the text size multiplier.
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController setTextSizeMultiplier:]): Added. Calls _textSizeMultiplierChanged on the main frame.
        (-[WebController textSizeMultiplier]): Added.
        * WebView.subproj/WebControllerPrivate.h: Added textSizeMultiplier instance variable.
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _textSizeMultiplierChanged]): Added. Calls setTextSizeMultiplier: on the bridge,
	and _textSizeMultiplierChanged on all the child frames.


git-svn-id: svn://svn.chromium.org/blink/trunk@1742 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-06 04:21:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e8c277d69c8f0e68eaa72f2fbb8777ea28cf5a14');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq015v01l5l1bhetyt', 2, e'WebKit:

	Renamed icon loader delegate method to include the icon loader.

        * Misc.subproj/WebIconLoader.h:
        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader WebResourceHandleDidFinishLoading:data:]):
        * WebView.subproj/WebDataSourcePrivate.m:

WebBrowser:

	Rendezvous changes:
	Properly get host\'s IP address.
	Load and display host\'s favicon.

        * English.lproj/Rendezvous.nib:
        * RendezvousController.m:
        (-[RendezvousController windowDidLoad]):
        (-[RendezvousController _attributedStringWithImage:]):
        (-[RendezvousController goToHostDoubleAction:]):
        (-[RendezvousController tableView:objectValueForTableColumn:row:]):
        (-[RendezvousController netServiceBrowser:didFindService:moreComing:]):
        (-[RendezvousController netServiceBrowser:didRemoveService:moreComing:]):
        (+[RendezvousController _URLForNetService:]):
        (-[RendezvousController netServiceDidResolveAddress:]):
        (-[RendezvousController iconLoader:receivedPageIcon:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1741 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-08-06 04:15:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4bfdcebfbbf0d97b062ff31ba5679d2809e890ae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq015w01l5unygmo2s', 2, e'Added a comment.


git-svn-id: svn://svn.chromium.org/blink/trunk@1740 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-06 02:38:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6a625f22c06ee174601fa9e254ed6ee3ee02f421');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq015x01l5f38t1iwz', 2, e'        Added additional check to find appropriate fonts with available
        weight, rather than always using a weight of 5.

        Regarding "kCGErrorFailure : can\'t find name id 4 for font id 8395" errors:
        CG appears to be lying to us about some fonts, Verdana in particular.
        It claims to have an available Verdana font w/ the correct traits, but spits errors
        when we request that font.  Further, the Font Panel behaves oddly when you request
        Verdana.  The panel displays the font but if you select the font it doesn\'t
        \'stick\'.  A mystery.

        * WebCoreSupport.subproj/WebTextRendererFactory.m:
        (-[WebTextRendererFactory fontWithFamily:traits:size:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1739 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-06 02:35:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a353bf820a8afbc3aadbf37441287659edf79759');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq015y01l5icgbjclo', 2, e'top level:

        * Tests/WebFoundation-Misc/ifnsstringextensions-test.chk:
        * Tests/WebFoundation-Misc/ifnsstringextensions-test.m: (main):
	Added test cases for _web_stringByCollapsingNonPrintingCharacters.

WebFoundation:

        * Misc.subproj/WebNSStringExtras.h:
        * Misc.subproj/WebNSStringExtras.m:
        (-[NSString _web_stringByCollapsingNonPrintingCharacters]): Added.
	Collapses any non-printing characters into single spaces, and trims them from the
	ends too.

WebCore:

	- fixed 3009321 -- bookmark and history menus show black square for (tm)

        * khtml/html/htmltokenizer.cpp:
        (HTMLTokenizer::parseSpecial): Call fixUpChar.
        (HTMLTokenizer::parseText): Call fixUpChar.
        (HTMLTokenizer::parseTag): Call fixUpChar.

WebKit:

	- fixed 2986567 -- suppress return characters from title in title bar, status bar, menu items

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge setTitle:]): Call _web_stringByCollapsingNonPrintingCharacters.


git-svn-id: svn://svn.chromium.org/blink/trunk@1738 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-06 01:23:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd7caf2d609cd44a99d06a02bfe4a0fee5d3ac5d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq015z01l5z384ej24', 2, e'        Added exported symbols file.

        * WebKit.exp: Added.
        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1737 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-06 00:23:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/47967f8648837585eb7778d632fdb2ee3f2df6e1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016001l52xv4h67m', 2, e'        - fixed 3016795 -- http://www.google.co.il/ fails to decode

        * kwq/make-charset-table.pl: Added a hack that makes us treat for
	iso-8859-8-e and iso-8859-8-i the same as iso-8859-8; may not be exactly
	right, but it\'s probably OK modulo the actual bidi support.


git-svn-id: svn://svn.chromium.org/blink/trunk@1736 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-05 23:19:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fc908f39db41af025e904fe8ea6f165a11d6de17');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016101l5jraozid1', 2, e'WebFoundation:

	- fixed 3015360 -- google.com, click on images link, stop icon spins forever

        * CacheLoader.subproj/WebResourceHandle.m:
        (-[WebResourceHandle contentLengthReceived]): Fixed race condition where sizes of objects
	would jump down to 0 by returning the length of resourceData here instead of the mark.
        (-[WebResourceHandle _setLoad:]): Added.
        (-[WebResourceHandle _load]): Added.
        (-[WebResourceHandle _notifyClientsDidCancelLoading]): Do the WebResourceHandleDidBeginLoading
	calls outside the lock/unlock also.

        * CacheLoader.subproj/WebResourceHandlePrivate.h: Added _setLoad: and _load.

        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad handleCount]): Add call to checkForNewHandles.
        (-[WebResourceLoad _submittedAttributes]): Added.
        (-[WebResourceLoad cleanup]): Pass the load to loadDidFinish, rather than passing a handle.

        * CacheLoader.subproj/WebResourceLoadManager.m:
        (-[WebResourceLoadManagerInstanceVariables init]):
        (-[WebResourceLoadManagerInstanceVariables dealloc]):
        (-[WebResourceLoadManager invalidateURL:]):
        (-[WebResourceLoadManager addLoad:forHandle:]):
        (-[WebResourceLoadManager requestWithURLHandle:]):
        (-[WebResourceLoadManager cancelRequestWithURLHandle:]):
        (-[WebResourceLoadManager loadDidFinish:]):

       * CacheLoader.subproj/WebResourceLoadManager.m: Added new WebResourceLoadKey class, rather than
	trying to trick handles themselves into acting as keys. This works better for the case where
	a single load is shared by two handles. There\'s no telling which will be cancelled first, so
	there\'s no obvious choice for which to use as the key.
        (-[WebResourceLoadManager requestWithURLHandle:]): Rewrote for new scheme. I think it\'s a little
	less tricky than before, but it\'s also more terse.
        (-[WebResourceLoadManager cancelRequestWithURLHandle:]): Rewrote this too.
        (-[WebResourceLoadManager loadDidFinish:]): This too.

        * CacheLoader.subproj/WebResourceLoadManagerPrivate.h: Change parameter type of loadDidFinish to
	WebResourceLoad. Removed unused cancelAllRequestsWithURL and cancelAllRequestsInGroup.

        * CacheLoader.subproj/WebResourceLoadPrivate.h: Removed unused removeAllHandles,
	cancelIfServingOneHandle, and added _submittedAttributes.

        * CacheLoader.subproj/WebResourceLoad.h: Removed canonicalURL.
        * CacheLoader.subproj/WebFileProtocolHandler.m:
        * CacheLoader.subproj/WebHTTPProtocolHandlerPrivate.m:
        * CacheLoader.subproj/WebHTTPResourceLoader.m:
        * CacheLoader.subproj/WebResourceLoadQueue.m:
        [WebResourceLoad url] now always returns a canonical URL. Got rid of
	[WebResourceLoad canonicalURL] and updated callers.

        * CacheLoader.subproj/WebResourceLoadManager.h: Tweak.
        * Misc.subproj/WebNSDictionaryExtras.m: Fix definitions to match header.

WebKit:

	- fixed 3014122 -- spinner never stops spinning when iframe has URL with bad path

        * WebView.subproj/WebFrame.m:
        (-[WebFrame initWithName:webView:provisionalDataSource:controller:]): Initialize the
	state in WebFramePrivate init instead.
        * WebView.subproj/WebFramePrivate.h: Remove WebFrameStateUninitialized.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate init]): Set initial state to WebFrameStateComplete.
        (-[WebFrame _transitionToLayoutAcceptable]): Remove WebFrameStateUninitialized case.
        (-[WebFrame _transitionToCommitted]): Remove WebFrameStateUninitialized case.
        (-[WebFrame _isLoadComplete]): Remove WebFrameStateUninitialized case.

        * WebView.subproj/WebDataSource.h: Tweak.
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource stopLoading]): Move downloadHandler logic from here into _stopLoading.
        (-[WebDataSource isLoading]): Rewrite for simplicity.

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _stopLoading]): Move downloadHandler logic here from stopLoading.
	Also make this work even if handles are removed from the list during the stop process.
        (-[WebDataSource _recursiveStopLoading]): Simplify a lot by using WebFrame\'s stopLoading.
        (-[WebDataSource _setTitle:]): Use the committed boolean rather than the state to check
	if the title change should be sent to the location change handler.


git-svn-id: svn://svn.chromium.org/blink/trunk@1735 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-05 22:47:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/92f457b5a387d526c8e432633d47fba99258a53d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016201l5tpiaw3ly', 2, e'        * Misc.subproj/WebKitDebug.h: Put WEBKIT_ASSERT_NOT_REACHED()
	inside the appropriate #ifdef, and remove the various _log macros,
	which are onsolete in WebKit.


git-svn-id: svn://svn.chromium.org/blink/trunk@1734 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-05 16:07:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/42b0fe4db217f67fc32d5e93946ec281438bd865');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016301l59i3242yk', 2, e'        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::slotData): Simplified a bit.


git-svn-id: svn://svn.chromium.org/blink/trunk@1733 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-05 11:30:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f353d359ffb67c420b229862cf6f286487949f7a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016401l5ldod38n9', 2, e'WebCore:

        Merged KHTMLPart::end method with khtml original.

        * khtml/khtml_part.cpp:
        (KHTMLPart::end): Remove call to impl. Use original version, but
	clear KURL cache and call slotFinishedParsing as well.
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::end): Removed.
	(KWQKHTMLPartImpl::gotoBaseAnchor): Removed. No longer needed.
        * kwq/KWQKURL.mm:
        (KURL::encodedHtmlRef): Implemented.
        (KURL::htmlRef): Implemented.
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
	(-[WebCoreBridge scrollToBaseAnchor]): Removed. No longer needed.

WebKit:

        Some changes related to re-merging the KHTMLPart end() method:

	* Misc.subproj/WebKitDebug.h: Added WEBKIT_ASSERT_NOT_REACHED().
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToLayoutAcceptable]): Replace NSException with
	ASSERT_NOT_REACHED (this is an internal consistency check, not an
	argument check on a public API, so an assert is more appropriate than
	an exception).
        (-[WebFrame _transitionToCommitted]): Likewise.
        (-[WebFrame _isLoadComplete]): Likewise; also, remove bridge call
	to scrollToBaseAnchor:, since that will now happen automatically
	when calling end.


git-svn-id: svn://svn.chromium.org/blink/trunk@1732 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-05 11:08:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/adfccf214a9856cc09551c29c978c4fb4fd0f319');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016501l5pbc0vau9', 2, e'        Merged KHTMLPart::openURL method with khtml original.

        * khtml/khtml_part.cpp:
	(KHTMLPart::openURL): Don\'t call the impl version. Leave most of
	this #ifdef\'d, except the parts that look useful.
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::openURL): Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1731 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-05 09:07:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e3e6515436de5fb75c36f4dc2f869c4b55fd25b6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016601l52pg1azsl', 2, e'        Merged KHTMLPart::begin method with khtml original.

	* khtml/khtml_part.cpp:
	(KHTMLPart::begin): Restore this method and don\'t call the impl
	version. ifdef out the parts that don\'t compile.
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
	(KWQKHTMLPartImpl::begin): Removed.
        * kwq/KWQKHTMLSettings.mm:
        (KHTMLSettings::showAnimations): Implemented; always return false.
        (KHTMLSettings::userStyleSheet): Implemented; always return empty
	string.
        * kwq/kdecore/kurl.h: Implemented isValid as inline method.


git-svn-id: svn://svn.chromium.org/blink/trunk@1730 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-05 08:13:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cb422da54d783205cae5ff03b3eea35e9915747a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016701l5i4aftdvz', 2, e'	Fix my bungled CSS for input fields in the user agent style
	sheet.

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@1729 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-04 23:13:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dfea122329e25277dab04549a29b74161bd81cc3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016801l5ot23b59h', 2, e'	- fixed 2943519 - &#149; is rendered as an asterisk rather than a bullet

        * khtml/html/htmltokenizer.cpp: (fixUpChar): Replaced the macro of this
	name by an inline function that follows the Unicode specification. The
	macro was both making Windows Latin 1 extensions character codes
	(like 149 for bullet) work, but also mapping to characters that were
	suitable for Qt. Since OS X has no problem with the real Unicode values,
	we don\'t need that hack.


git-svn-id: svn://svn.chromium.org/blink/trunk@1728 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-03 20:21:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2f6d00971de654066f128586880b0e45df0085d1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016901l53875tjn6', 2, e'WebCore:

	- fixed 3015522 -- crash decoding http://www.haaretz.co.il/

        * khtml/misc/decoder.cpp: (Decoder::setEncoding): Put some hacks for
	handling Hebrew text encoding inside ifndef APPLE_CHANGES. It\'s not clear
	that these or the equivalent are needed for WebCore (they are related to
	the as-yet unimplemented bidirectional text support) and they were making
	us crash.

	- fixed 2949235 -- checkboxes in wrong place until you scroll away and back

	I fixed this once before, then removed that fix in favor of a simpler one.
	But the simpler one didn\'t work, and I didn\'t test it properly. Now I have
	a fix that works without the drawbacks of the original.

        * khtml/rendering/render_replaced.cpp: (RenderWidget::layout): Remove the
	call to move the widget aside. This does no good because it\'s only called
	if the widget is told it needs to layout, which only happens if it\'s resized.

        * khtml/rendering/render_root.cpp: (RenderRoot::layout): Call a KWQ function
	so we can do some work at layout time.

        * kwq/KWQKHTMLPartImpl.mm:
        (moveWidgetsAside): Added. Function used recursively to move all widgets aside.
        (KWQKHTMLPartImpl::layout): Added. Called at layout time; moves all the widgets
	aside. They are moved back when print functions are called.

	WebCore support for feature where client redirects are treated as if the
	page was continuing to load. A big part of this was changing redirection
	so that it uses QTimer, allowing us to use more of the original KHTMLPart
	code. I added a feature to QTimer that KWQKHTMLPartImpl uses to monitor
	what KHTMLPart does with the timer.

        * kwq/qt/qobject.h: Changed "slots" definition so that all slots are public (to help
	KWQSlot get at them). Added a prefix for the slot and signal strings, so that we can detect
	the case where it\'s trying to connect a slot to another slot. Implement the convenience
	version of connect here in the header. Implement blockSignals. Remove setTarget.
	Make target mutable. Add new m_signalListHead and m_signalsBlocked.
        * kwq/KWQObject.mm:
        (QObject::findSignal): Added. Helper function that locates a signal by name.
        (QObject::connect): Connects a signal to a slot using the new KWQSignal and KWQSlot.
        (QObject::disconnect): Disconnects, similar to the above.
        (QObject::QObject): Initialize target, m_signalListHead, and m_signalsBlocked.
        (QObject::~QObject): Assert that m_signalListHead is 0.

        * khtml/khtml_part.cpp:
        (KHTMLPart::init): Move the code that connects the redirection timer out
	of APPLE_CHANGES.
        (KHTMLPart::~KHTMLPart): Remove the APPLE_CHANGES around the code that
	stops the redirection timer.
        (KHTMLPart::restoreURL): Remove the APPLE_CHANGES around the code that
	stops the redirection timer.
        (KHTMLPart::openURL): Move the APPLE_CHANGES so the code that stops the
	redirection timer will run.
        (KHTMLPart::closeURL): Remove the APPLE_CHANGES around the code that
	stops the redirection timer.
        (KHTMLPart::scheduleRedirection): Remove most of this function from the
	APPLE_CHANGES. We still probably need to revisit the handling of m_bComplete.

        * kwq/KWQSignal.h: Added.
        * kwq/KWQSignal.mm: Added.
        * kwq/KWQSlot.h: Added.
        * kwq/KWQSlot.mm: Added.
        * WebCore.pbproj/project.pbxproj: Added KWQSignal.h/mm, KWQSlot.h/mm.

        * khtml/misc/loader.h: Simplify APPLE_CHANGES ifdefs since all slots are now public.

       * force-clean-timestamp: Touch this since header files were changed.

        * khtml/ecma/kjs_window.cpp:
        (Window::get): Disable the "name" part of this. We can re-enable it if we
	need it, but every QObject had a name because of this one piece of code,
	and I don\'t think it was effectively setting the frame name.
        (Window::put): Disable the "name" part of this for the same reason.
        (History::getValueProperty): Disable the "length" part of this. It was
	calling some unimplemented stuff. We can re-enable this and implement
	what we need in KWQ then.

        * khtml/rendering/render_form.h: Remove RenderTextArea::performAction, because I
	changed this one case to use the new connect machinery. We can convert all the other
	form items to use the new machinery, and then eliminate performAction altogether.
        * khtml/rendering/render_form.cpp:
        (RenderSubmitButton::RenderSubmitButton): Remove unneeded setTarget. For the moment,
	connect takes care of this, and in the long run we won\'t need to set the target at all.
        (RenderLineEdit::RenderLineEdit): Ditto.

        * khtml/rendering/render_frames.h:
        * khtml/rendering/render_frames.cpp: Put partLoadingErrorNotify inside ifndef APPLE_CHANGES
	because it uses a bunch of Qt stuff that\'s not used anywhere else, and we never call it.

        * kwq/KWQKHTMLPartImpl.h: Remove scheduleRedirection, timerEvent, and m_redirectionTimer,
	add redirectionTimerStartedOrStopped and layout.
        * kwq/KWQKHTMLPartImpl.mm:
        (redirectionTimerMonitor): Added. Small stub that calls redirectionTimerStartedOrStopped.
        (KWQKHTMLPartImpl::KWQKHTMLPartImpl): Set up a monitor on the redirection timer.
        (KWQKHTMLPartImpl::~KWQKHTMLPartImpl): Remove now-unneeded killTimer call.
        (KWQKHTMLPartImpl::jumpToSelection): Simplify by using dynamic_cast instead of render_name().
        (KWQKHTMLPartImpl::redirectionTimerStartedOrStopped): Added. Calls bridge to report client
	redirect events whenever the redirection timer is started or stopped.

        * kwq/qt/qtextedit.h: Define a KWQSignal for textChanged, and a function that calls it.
        * kwq/KWQTextEdit.mm: (QTextEdit::QTextEdit): Set up a KWQSignal for textChanged.
        * kwq/KWQTextArea.mm: (-[KWQTextArea textDidEndEditing:]): Instead of calling emitAction,
	call textChanged, which will emit the signal using the new signal machinery.

        * kwq/qt/qtimer.h:
        * kwq/KWQTimer.mm:
        (+[KWQTimerTarget targetWithQTimer:]): Added. Used to implement QTimer in terms of NSTimer.
        (-[KWQTimerTarget timerFired:]): Added. Used to implement QTimer in terms of NSTimer.
        (QTimer::QTimer): Added.
        (QTimer::isActive): Implemented.
        (QTimer::start): Implemented.
        (QTimer::stop): Implemented.
        (QTimer::setMonitor): Implemented.
        (QTimer::fire): Implemented.

        * kwq/WebCoreBridge.h: Changed name of gotoAnchor to scrollToAnchor. Added client redirect
	methods.
        * kwq/WebCoreBridge.mm: (-[WebCoreBridge scrollToAnchor:]): Changed name.

WebKit:

	WebKit support for feature where client redirects are treated as if the
	page was continuing to load.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge reportClientRedirectTo:delay:fireDate:]): Added. Passes the client
	redirect along to the location change handler.
        (-[WebBridge reportClientRedirectCancelled]): Passes client redirect cancel along
	to the location change handler.
        (-[WebBridge dataSourceChanged]): Remove hack related to dummy data source.
        (-[WebBridge dataSource]): Remove hack related to dummy data source.

        * WebView.subproj/WebLocationChangeHandler.h: Added client redirect methods.
	Added class for base implementation of protocol. Updated stale comment.
        * WebView.subproj/WebLocationChangeHandler.m: Added. Provides base implementation
	of the WebLocationChangeHandler protocol so that clients don\'t need to implement
	all the methods if they are only interested in some of them.
        * WebKit.pbproj/project.pbxproj: Added WebLocationChangeHandler.m.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _goToItem:withFrameLoadType:]): Call scrollToAnchor under its new name.

        * Misc.subproj/WebIconLoader.h:
        * Misc.subproj/WebIconLoader.m:
        * WebView.subproj/WebControllerPolicyHandler.m:
        * WebView.subproj/WebControllerPolicyHandlerPrivate.h:
	Replaced __MyCompanyName__ with the actual name of our company.

WebBrowser:

	- fixed 2948387 -- stop button flashes to "go" twice while loading citibank.com

        * LocationChangeHandler.m:
        (-[LocationChangeHandler locationChangeStartedForDataSource:]): Call
	_setInstantRedirectPending:NO when it\'s a load of the main frame.
        (-[LocationChangeHandler receivedPageTitle:forDataSource:]): Make this call
	through to the load monitor even for frames other than the main one.
        (-[LocationChangeHandler serverRedirectTo:forDataSource:]): Make this call
	through to the load monitor even for frames other than the main one.
        (-[LocationChangeHandler clientRedirectTo:delay:fireDate:forDataSource:]):
	Added. Call _setInstantRedirectPending:YES when it\'s a no-delay redirect of
	the main frame.
        (-[LocationChangeHandler clientRedirectCancelledForDataSource:]): Added.
	Call _setInstantRedirectPending:NO when it\'s the main frame, and also post
	a notification.

        * BrowserDocument.h: Added BrowserDocumentClientRedirectCancelledNotification
	and _instantRedirectPending instance variable.
        * BrowserDocument.m:
        (-[BrowserDocument isLoading]): Return YES if _instantRedirectPending.
        (-[BrowserDocument _setInstantRedirectPending:]): Set _instantRedirectPending.
        * BrowserDocumentPrivate.h: Declare _setInstantRedirectPending.

        * BrowserWindowController.h: Renamed frameLoadRedirected to mainFrameRedirected.
        * BrowserWindowController.m:
        (-[BrowserWindowController windowDidLoad]): Connect the new
	BrowserDocumentClientRedirectCancelledNotification to frameLoadPossiblyFinished.
        (-[BrowserWindowController mainFrameRedirected]): Renamed from frameLoadRedirected
	and removed the parameter since it is called only for the main frame.
        (-[BrowserWindowController frameLoadPossiblyFinished:]): Renamed from frameLoadFinished
	since a frame load is not necessarily finished when this is called. Also move the work
	back in here from respondToFrameLoadFinished to undo my previous attempt at this feature.

        * Test/PageLoadTestRunner.m:
        (-[PageLoadTestRunner init]): Connect the new
	BrowserDocumentClientRedirectCancelledNotification to pageLoadPossiblyDone.
        (-[PageLoadTestRunner pageLoadPossiblyDone:]): Renamed from pageLoadDone
	since the page load is not necessarily finished when this is called. Also move the work
	back in here from respondToPageLoadDone to undo my previous attempt at this feature.

        * BrowserNSControlExtras.h:
        * BrowserNSControlExtras.m:
        * ContextMenuHandler.h:
        * ContextMenuHandler.m:
        * TitleBarButton.h:
        * TitleBarButton.m:
	Replaced __MyCompanyName__ with the actual name of our company.


git-svn-id: svn://svn.chromium.org/blink/trunk@1727 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-03 05:53:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/014e47414af5187676383d8d37016f492c3a6304');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016a01l5vwpdgxnq', 2, e'	Lots of form control changes.
	- Inputs and textareas now respond to setFont and can have their font set by the Web page
	explicitly.  These fields emulate the WinIE behavior of defaulting to the UI system font
	and only picking up new fonts if they are explicitly specified on the element itself.
	- Buttons and selects use the small versions now.
	- Stopped trying to align controls along baselines of their interior text.  Konqueror is
	the only browser that does this, and it looks bad on many pages.  With this patch controls
	align along their bottom borders (which extend slightly below the baseline of surrounding
	text).  This matches Gecko, MacIE, and WinIE behavior.
	- Stopped using monospace for textareas and inputs.
	- Fixed a bug with inputs not calling setScrollable on their cells.

        * khtml/css/html4.css:
        * khtml/rendering/render_form.cpp:
        (RenderSubmitButton::calcMinMaxWidth):
        (RenderSubmitButton::baselinePosition):
        (RenderLineEdit::baselinePosition):
        (RenderSelect::baselinePosition):
        * khtml/rendering/render_form.h:
        * kwq/KWQButton.mm:
        (QButton::QButton):
        (QButton::sizeHint):
        * kwq/KWQComboBox.mm:
        (QComboBox::init):
        * kwq/KWQLineEdit.mm:
        (QLineEdit::cursorPosition):
        (QLineEdit::setFont):
        * kwq/KWQNSTextField.mm:
        (-[KWQNSTextField initWithFrame:widget:]):
        * kwq/KWQView.mm:
        (-[KWQNSButtonCell cellSizeForBounds:]):
        (+[KWQNSButton initialize]):
        * kwq/WebCoreTextRendererFactory.h:
        * kwq/WebCoreTextRendererFactory.m:
        (-[WebCoreTextRendererFactory fontWithFamily:traits:size:]):
        * kwq/qt/qbutton.h:
        * kwq/qt/qlineedit.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1726 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-08-03 00:45:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1b5a8471661f018ce5c4495d0782260d2c547511');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016b01l5eop4fqjs', 2, e'	- fixed 3015705 -- Command-up-arrow and -down-arrow should go to
	beginning and end of web page

        * WebView.subproj/WebView.m:
        (-[WebView keyDown:]):
	Added checks for command key.


git-svn-id: svn://svn.chromium.org/blink/trunk@1725 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-08-02 21:44:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9807e1ceeac5024e0f009a5a4d75ff73053766b7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016c01l5lyz05jk3', 2, e'        Effort towards 3014555 (going back to frame), but not fixed.
        Need to think more about appropriate solution and compromises.

        * History.subproj/WebBackForwardList.h:
        * History.subproj/WebBackForwardList.m:
        (-[WebBackForwardList backEntryAtIndex:]):
        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem initWithURL:title:]):
        (-[WebHistoryItem initWithURL:title:image:]):
        (-[WebHistoryItem initWithURL:target:parent:title:image:]):
        (-[WebHistoryItem dealloc]):
        (-[WebHistoryItem parent]):
        (-[WebHistoryItem setTitle:]):
        (-[WebHistoryItem setTarget:]):
        (-[WebHistoryItem setParent:]):
        (-[WebHistoryItem setDisplayTitle:]):
        * WebCoreSupport.subproj/WebBridge.m:
        * WebView.subproj/WebController.m:
        (-[WebController _goToItem:withFrameLoadType:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):
        (-[WebFrame _isLoadComplete]):
        (-[WebFrame _scrollToTop]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1724 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-02 01:51:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2491b87045c55d94fd1430cf427242ce8bdf8bd3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016d01l5s8aa4nrf', 2, e'WebKit:

	Only send command key events if the plug-in is in the responder chain.

        * Plugins.subproj/WebPluginView.m:
        (-[WebPluginView isInResponderChain]):
        (-[WebPluginView performKeyEquivalent:]):
        (-[WebPluginView setWindow]): added some more logging

WebBrowser:

	Fixed: 2897678 - send urls from LS to new windows

        * AppController.m:
        (-[AppController handleGURLEvent:withReplyEvent:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1723 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-08-01 23:44:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/50fd0b3349b884cc17855c4c89618b9fd381645c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016e01l5v6g5zd0p', 2, e'        - fixed 2841277 -- support for charset=gb2312

        * kwq/character-sets.txt: Added "euc-cn" to the list of aliases for
	"gb2312", since that\'s the name used by CFStringEncoding for that
	character set.


git-svn-id: svn://svn.chromium.org/blink/trunk@1722 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-08-01 22:40:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/046c782a3c07d2efadddfa28327a1289cdc08415');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016f01l5b1lmiesg', 2, e'	Remove KWQKHTMLPartImpl\'s setBaseURL method and m_baseURL field,
	since nothing should really need them any more.

        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::begin): Set base URL on document, if it exists.
        (KWQKHTMLPartImpl::requestFrame): Get base URL from document.
        (KWQKHTMLPartImpl::requestObject): Ditto.
        (KWQKHTMLPartImpl::frames): Ditto.
        (KWQKHTMLPartImpl::setBaseURL): Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1721 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-01 21:48:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6218aec66b3cb32ab26da06c89145a5dd5af1a23');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016g01l5n9gshedk', 2, e'	Only send command keyDown once by ignoring the keyDown that comes after performKeyEquivalent.

        * Plugins.subproj/WebPluginView.m:
        (-[WebPluginView keyDown:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1720 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-08-01 21:26:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8092b45ae3a51a9c2fa6eba27a53c42072b0fff4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016h01l5n9wxu5ts', 2, e'	Fixed: 2970530 - Command keys are not getting passed in to plugins

        * Plugins.subproj/WebPluginView.m:
        (-[WebPluginView performKeyEquivalent:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1719 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-08-01 21:09:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6c2cd9339e317d05952979825b46d03f01583f88');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016i01l5kazevqfb', 2, e'WebKit:
        More back/forward word.  Support for restoring scroll position.
        We still have a big remaining issue.  We don\'t record the entire
        frame tree in back/forward items.  This means going back or forward
        to a frame will looose the context of the containing frameset,
        see 3014555.

        * History.subproj/WebBackForwardList.m:
        (-[WebBackForwardList currentEntry]):
        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem anchor]):
        (-[WebHistoryItem setAnchor:]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge reportError:]):
        * WebView.subproj/WebController.m:
        (-[WebController _goToItem:withFrameLoadType:]):
        (-[WebController goBack]):
        (-[WebController goForward]):
        * WebView.subproj/WebFrame.m:
        (-[WebFrame setProvisionalDataSource:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):
        (-[WebFrame _isLoadComplete]):
        (-[WebFrame _goToItem:withFrameLoadType:]):
        (-[WebFrame _restoreScrollPosition]):
        (-[WebFrame _scrollToTop]):

WebBrowser:
        Removed old obsolete restore scroll position code.

        * LocationChangeHandler.m:
        (-[LocationChangeHandler locationChangeStartedForDataSource:]):

WebCore:
        Added method to allow WebKit to direct khtml to
        goto to an anchor point.  Need for back/forward.

        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::urlSelected):
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge gotoAnchor:]):

WebFoundation:
        Convenience method to remove fragment (target anchor)
        from URL.

        * Misc.subproj/WebNSURLExtras.h:
        * Misc.subproj/WebNSURLExtras.m:
        (-[NSURL _web_URLWithoutFragment]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1718 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-08-01 20:31:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c28879b9d8ae55a8b0cf4b2c3ae3d5d140fc8a66');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016j01l5iybmyege', 2, e'	Tweaked WebCore cache settings. The WebCore cache will now grow
	to 1 MB (was 512k). The maximum cacheable item is 16k instead of 40k.

        * khtml/misc/loader.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@1717 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-08-01 20:09:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/51bb7574fc3e8d671fe110583eda479cf55f4e75');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnnbdq016k01l55ht3a15k', 2, e'	Added socket loader to get uncached HTTP content without using CFNetwork.

	Zoom!


git-svn-id: svn://svn.chromium.org/blink/trunk@1716 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-08-01 18:19:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f7a158bb59c841b17edfeb5bf7465bea2877cdd1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2w014x01l5thvhx9ts', 2, e'	Fixed:
	2938010 - PLUGINS: right-click support
	2938011 - PLUGINS: extended key events support
	2970523 - Arrow key events not correctly passed to applets

        * Plugins.subproj/WebPluginView.m:
        (-[WebPluginView modifiersForEvent:]):
        (-[WebPluginView getCarbonEvent:withEvent:]):
        (-[WebPluginView mouseDown:]):
        (-[WebPluginView keyUp:]):
        (-[WebPluginView keyDown:]):
        (-[WebPluginView menuForEvent:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1715 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-08-01 18:03:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/38aca8e267eaf4b9ec4cbebceb40e777075cf0ba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x014y01l58oqmglnj', 2, e'Alex-15 versions & changelog markers


git-svn-id: svn://svn.chromium.org/blink/trunk@1713 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-08-01 17:47:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3795eb8a682d93ee77c9788f3af42ce9357e5d1a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x014z01l5etgl49ao', 2, e'Fixed deployment build compile problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@1712 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2002-08-01 15:18:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/532adf027bc47608ea2b9d63f9c5ec72550d22a6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015001l58gqil1yu', 2, e'        Restored the original KHTMLPart::write() now that none of our
	changes in the impl version are beneficial in any way.

	* khtml/khtml_part.cpp:
        (KHTMLPart::write): Restore original code in lieue of calling impl
	version.
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::openURL): Remove initialization of
	m_decodingStarted, since it is now gone.
	(KWQKHTMLPartImpl::write): Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1711 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-01 09:59:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fb72b368cc39d15920a75754c3060e4770f3aba3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015101l50fm933al', 2, e'	Removed m_documentSource and remaining ill-conceived uses thereof.

        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::openURL): Don\'t initialize it.
        (KWQKHTMLPartImpl::write): Don\'t use it.


git-svn-id: svn://svn.chromium.org/blink/trunk@1710 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-01 09:36:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/63a6a106833e22496b99f36e516704e7f149a06a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015201l5mlrts51a', 2, e'WebCore:

        Remove stuff formerly useful for "View Reconstructed Source"
	feature but now useless.

	* kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
	(KWQKHTMLPartImpl::documentSource): Removed.
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
	(-[WebCoreBridge documentTextFromDOM]): Removed.

WebKit:

        Remove stuff formerly useful for "View Reconstructed Source"
	feature but now useless.

        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSource.m:
	(-[WebDataSource documentTextFromDOM]): Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1709 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-01 08:30:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/75a4216416461b172e71b56062e28c7ef3e66871');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015301l546r20xac', 2, e'	Changed things around so that WebFrame, not WebDataSource, owns
	WebBridge. This allows us to remove the dummy data source.

        * WebView.subproj/WebFrame.m:
        (-[WebFrame
	initWithName:webView:provisionalDataSource:controller:]): Remove
	all dummy data source-related crud, but call _changeBridge to
	create the initial bridge.
        (-[WebFrame setProvisionalDataSource:]): Remove dummy data
	source-related epicycles.
        * WebView.subproj/WebFramePrivate.h: Add bridge member to private class.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate setDataSource:]): Don\'t remove old data source from frame,
	this is no longer needed and may even be harmful.
        (-[WebFrame _transitionToCommitted]): Remove much now-unneeded code.
        (-[WebFrame _isLoadComplete]): Get location change handler from controller.
	Don\'t call end on the bridge if the document is not html.
        (-[WebFrame _changeBridge]): Free the old bridge and make a new one.
        (-[WebFrame _bridge]): Get it directly, not from the data source.

	* WebView.subproj/WebDataSourcePrivate.h: Remove everything related to the
	`dummy\' concept.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setFinalURL:]): Reorder code a bit.
        (-[WebDataSource _bridge]): Get bridge from frame.
        (-[WebDataSource _commitIfReady]): No more need to set the bridge\'s frame.
        (-[WebDataSource _makeRepresentation]): Set data source on the rep.
        (-[WebDataSource _startLoading:]): Get location change handler from controller.
        (-[WebDataSource _setTitle:]): Likewise.
        (-[WebDataSource receivedPageIcon:]): Likewise.
        (-[WebDataSource _loadIcon]): Likewise.

	* WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient
	WebResourceHandle:dataDidBecomeAvailable:]): Get location change
	handler from the controller.

        * WebView.subproj/WebViewPrivate.m:
        (-[WebView _makeDocumentViewForDataSource:]): Change *and* commit
	the data source. This could probably be collapsed down to one
	method now.

        * WebView.subproj/WebDocument.h: Added setDataSource: method to
	the WebDocumentRepresenation protocol. For now it is only useful
	for the HTML representation, but could potentially be useful for
	other representation classes. It should also allow the data source
	to be removed as a parameter from other methods, but I have not
	done that yet. It may be even better still to pass the data source
	as a paremeter to the init method.

        * WebView.subproj/WebHTMLRepresentation.m:
        (-[WebHTMLRepresentation init]): Remove allocation of bridge.
        (-[WebHTMLRepresentation dealloc]): Remove release of bridge.
        (-[WebHTMLRepresentation setDataSource:]): Store unretained reference
	to the data source\'s frame\'s bridge.
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _bridge]): Fetch the bridge from the frame, not the
	data source.
        * WebView.subproj/WebImageRepresentation.m:
        (-[WebImageRepresentation setDataSource:]): Added empty
	implementation.
        * WebView.subproj/WebTextRepresentation.m:
        (-[WebTextRepresentation setDataSource:]): Added empty
	implementation.
        * Plugins.subproj/WebPluginStream.m:
        (-[WebPluginStream setDataSource:]): Added empty implementation.


git-svn-id: svn://svn.chromium.org/blink/trunk@1708 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-08-01 07:52:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/949d437753f0a58c9e74efdf43ddc0dec95a0322');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015401l5q8wat4tb', 2, e'        * kwq/qt/qptrvector.h:
        * kwq/qt/qvector.h:
        * kwq/KWQVectorImpl.h:
        * kwq/KWQVectorImpl.mm:
	* force-clean-timestamp:
	New implementation of QVector that does not use CFArray. Should fix some data()
	anomalies. Shares wierdnesses with the original Qt class.

        * WebCore-tests.exp: Remove old QVector entry points and add new ones.

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::write): Did a tiny optimization
	by initializing the QString rather than first assigning and then initializing.
	Also reworded some comments and rearranged code to make it clearer that
	m_decodingStarted is now used only to decide when to call determineParseMode.

        * khtml/css/cssparser.cpp: Removed the APPLE_CHANGES around a change that\'s
	fine for non-Apple use as well.


git-svn-id: svn://svn.chromium.org/blink/trunk@1707 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-31 21:57:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/776d0f5a508fc19fe836c80070567688152e4dfe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015501l5ibudhuli', 2, e'WebCore:

	Fixes of various bugs that prevented Alexander from running the
	Mozilla page load test.

	- fixed 3008682 - Alexander cannot run Mozilla-PLT

        * khtml/misc/decoder.cpp:
        (Decoder::decode): Don\'t drop the accumulated buffer if the document
	happens to be unicode!
	* kwq/KWQCString.mm:
        (operator==): Fix reversed logic when comparing an empty QCString
	to a const char *.
        * kwq/KWQKHTMLPartImpl.mm:
	(KWQKHTMLPartImpl::slotData): Set complete flag later so that
	initializing it to false doesn\'t clobber setting it.
        (KWQKHTMLPartImpl::begin): Initialize complete flag to false.
        (KWQKHTMLPartImpl::write): Don\'t buffer things up for the decoder -
	the decoder does that internally.
        * kwq/WebCoreBridge.h, kwq/WebCoreBridge.mm: Remove setURL: method.

WebKit:

	Fixes of various bugs that prevented Alexander from running the
	Mozilla page load test.

	- fixed 3008682 - Alexander cannot run Mozilla-PLT

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge dataSourceChanged]): Don\'t call setURL: to set a URL
	that we got from a redirect; just pass it directly to
	openURL:. The inputURL is irrelevant.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setFinalURL:]): Don\'t call setURL: on the
	bridge; instead, assert that the data source is committed, because
	it would be a mistake to get a redirect after having received
	data.


git-svn-id: svn://svn.chromium.org/blink/trunk@1706 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-31 02:38:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/519811ff8b0d6e31ea524fb64fbd5b0cafccc880');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015601l5ypfyr9oc', 2, e'
        Don\'t create unnecessary unicode string.  Of the
        95695 unnecessary unicode allocations we do loading
        the base test, this usage accounted for 7185.  Most
        of the others come from DOMString to QConstString to
        QString to unicode() conversion during parsing.  All
        that unnecessary work needs to be removed.

        * kwq/KWQColor.mm:
        (decodeColorFromHexColorString):


git-svn-id: svn://svn.chromium.org/blink/trunk@1705 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-31 02:14:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/de1bcb0c97d98c4fa7a605f1793426820eae6d2f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015701l5ct1k1d3u', 2, e'	Ok, this time i\'ve got it.  I hope.  I think.  Fingers crossed.
	Putting the table recalc check back in one more time. :)

        * khtml/rendering/render_table.cpp:
        (RenderTable::addColumns):
        (RenderTable::addColInfo):


git-svn-id: svn://svn.chromium.org/blink/trunk@1704 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-30 23:53:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b02f26ea8aae9dc29c3e210101a6d3ec95cf8e7c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015801l5dt0dwfqe', 2, e'	Backing myself out again.  No crashes, but now pages stall.
	#*^&*#@^%*&!!!!

        * khtml/rendering/render_table.cpp:
        (RenderTable::recalcColInfo):
        (RenderTable::addColInfo):


git-svn-id: svn://svn.chromium.org/blink/trunk@1703 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-30 23:30:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9c1a64757d51db4c8accece7d6c5c228fecc7a94');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015901l5rd4te9zq', 2, e'	Putting my table patch back in.  Also optimizing the code
	to avoid deleting and recreating the same colinfo over
	and over again.  Now colinfos can recalc their own
	information.

        * khtml/rendering/render_table.cpp:
        (RenderTable::addColumns):
        (RenderTable::recalcColInfo):
        (RenderTable::addColInfo):
        (RenderTable::calcMinMaxWidth):
        * khtml/rendering/render_table.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1702 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-30 23:07:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2356205d36782c9a29c50143af5b8a9802f6d618');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015a01l57le0rjv2', 2, e'        Inline critical function.

        * kwq/KWQString.mm:
        (compareToLatinCharacter):


git-svn-id: svn://svn.chromium.org/blink/trunk@1701 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-30 22:38:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/27c07fee6b7882aa92db4f18920b643bffae02b2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015b01l5i0li9jxm', 2, e'i        Remove annoying log, it\'s really annoying.  Added FIX ME
        comment instead.

        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1700 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-30 21:03:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0b78d183d58f96a8087dbe08cb71798fd07ebd7a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015c01l5nzmfhg26', 2, e'        Wow!  Avoid creation of unicode string when only a single character
        is needed.  Simple change for big gains, 7% - 10% improvement
        on cached pages.  Other similar gains may remain to be had.

        * khtml/css/cssparser.cpp:


git-svn-id: svn://svn.chromium.org/blink/trunk@1699 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-30 19:05:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d3f60227786fa967b3ab0e90875ca93d401c0710');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015d01l5o7efpoc4', 2, e'WebKit:

	- fixed 3012083 "Looked for URLs on the pasteboard, but found
	none" spam dragging nil-target bookmark

        * Misc.subproj/WebNSViewExtras.m:
        (-[NSView _web_bestURLForDraggingInfo:]):
	This method was getting data for types on the pasteboard without
	first checking whether the types were on the pasteboard, a no-no.
	Restructured this method and tweaked it here and there also.

        (-[NSView _web_dragOperationForDraggingInfo:]): moved a fast
	test in front of a slow test

WebBrowser:

	- fixed 3011887 -- dropping favorite on a favorites folder
	makes copy but should move

        * FavoriteButton.m:
        (-[FavoriteButton determineDragOperation:]): New helper routine
	to decide between move & copy based on drag source and option key
	state.
        (-[FavoriteButton draggingEntered:]),
        (-[FavoriteButton draggingUpdated:]):
	use determineDragOperation.

        * ToolbarButtonItem.m:
        (+[ToolbarButtonItem itemWithIdentifier:button:action:]):
	tweaked this while investigating some other bug.


git-svn-id: svn://svn.chromium.org/blink/trunk@1698 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-07-30 19:04:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/936e17970623481a66a112dfab3658dfeacd19df');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015e01l5ievuxpom', 2, e'        * khtml/css/makevalues: Fail if we don\'t find gperf.


git-svn-id: svn://svn.chromium.org/blink/trunk@1697 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-30 18:04:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f3ab6a164ce2473bdcd01ed73e7b83ba997ac7aa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015f01l5n3cb836b', 2, e'	Back myself out. I seem to have stumbled onto another bug.
	Until I figure it out, turn this back off.

        * khtml/rendering/render_table.cpp:
        (RenderTable::addColumns):
        (RenderTable::addColInfo):


git-svn-id: svn://svn.chromium.org/blink/trunk@1696 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-30 10:00:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d934f198156395a16ff9f6e0f2ff1b5b3dd09f06');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015g01l5n63affw5', 2, e'	Fix for 3000604, 2902173, 2921313.  Ensure that tables recalc their
	column widths like they are supposed to.  This fixes livepage.apple.com,
	applemuseum.com, and many other pages (that didn\'t have bugs filed).
	Yay!

        * khtml/rendering/render_table.cpp:
        (RenderTable::recalcColInfo):
        (RenderTable::addColInfo):


git-svn-id: svn://svn.chromium.org/blink/trunk@1695 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-30 08:51:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c57dda89914651ca26a539a5ed51e1f93b652dcd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015h01l5842snhjo', 2, e'        Removed setDirectsAllLinksToSystemBrowser: method, not needed
        and antiquated by the policy APIs.

        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@1694 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-30 01:15:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a7e8c848b8943348d2367aa93699cda14f271a4d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015i01l56vs28y19', 2, e'	Fix for 3008660, arstechnica regression.  Move the acquisition
	of the document\'s text color (and the addition of CSS properties)
	to the attach() call instead of the constructor.  The table won\'t
	add the properties until it is building its render object.

	Also removing the #ifndef around the layout scheduler.  This fixes
	:hover feedback and reflows from things like the marquee on
	livepage.apple.com.

        * khtml/html/html_tableimpl.cpp:
        (HTMLTableElementImpl::HTMLTableElementImpl):
        (HTMLTableElementImpl::id):
        (HTMLTableElementImpl::attach):
        * khtml/html/html_tableimpl.h:
        * khtml/rendering/render_object.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1693 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-30 01:12:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2e55a5c8ea17c347161e5221b92240acc6322054');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015j01l5tb2j6d23', 2, e'        Changes to support the migration of back/forward list to WebKit.
        Back/forward in frames now works (2946164), still not done w/
        restoring scroll positions (2927633).

        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        (+[WebHistoryItem entryWithURL:]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]):
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController initWithView:provisionalDataSource:]):
        (-[WebController setUseBackForwardList:]):
        (-[WebController useBackForwardList]):
        (-[WebController goBack]):
        (-[WebController goForward]):
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebFrame.m:
        (-[WebFrame setProvisionalDataSource:]):
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]):
        (-[WebFrame _setProvisionalDataSource:]):
        (-[WebFrame _goToURL:withFrameLoadType:]):
        * WebView.subproj/WebViewPrivate.m:
        (-[WebView _goBack]):
        (-[WebView _goForward]):

        Changes to support the migration of back/forward list to WebKit.
        Back/forward in frames now works (2946164), still not done w/
        restoring scroll positions (2927633).

        * History.subproj/WebHistoryItem.h:
        * BackForwardListEntry.h: Removed.
        * BackForwardListEntry.m: Removed.
        * BrowserDocument.m:
        (-[BrowserDocument _goToURL:withFrameLoadType:fallbackURLs:]):
        (-[BrowserDocument goBack:]):
        (-[BrowserDocument goForward:]):
        * BrowserWebController.m:
        * LocationChangeHandler.m:
        (-[LocationChangeHandler _saveScrollPosition]):
        (-[LocationChangeHandler _restoreScrollPosition]):
        (-[LocationChangeHandler locationChangeCommittedForDataSource:]):
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1692 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-30 01:08:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a8eb2b1d9d47dc994cb2adc067d80580d1309207');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015k01l5d6hcqtiv', 2, e'top level:

        * Tests/kde/kurl-test.cpp: (operator<<):
        * Tests/qt/qregexp-test.cpp: (operator<<):
        * Tests/qt/qstring-test.cpp: (operator<<):
        * Tests/qt/qstringlist-test.cpp: (operator<<):
	Added output streaming so the tests work even without the implicit
	conversion of QString to const char *.

WebCore:

	- fixed 3010875 -- Find only works for latin characters
	- dealt with part of 2948387 -- stop button flashes to "go" twice while loading citibank.com

        * force-clean-timestamp: Make everyone do a make clean because dependencies won\'t do
	the right thing.

        * khtml/khtml_part.h:
        * khtml/khtml_part.cpp: (KHTMLPart::slotRedirect): Changed the APPLE_CHANGES ifdefs around
	in this function so we can start using it again.
	(KHTMLPart::jumpToSelection): Removed. The bridge goes straight to the impl.

        * kwq/WebCoreBridge.mm: (-[WebCoreBridge jumpToSelection]): Go straight to the impl.

        * WebCore-tests.exp: One new export needed for tests with change to qstring.h.

        * kwq/qt/qevent.h:
        * kwq/KWQEvent.mm: Removed unused stuff.

        * kwq/KWQKHTMLPartImpl.h: Removed redirectURL(); we now use KHTMLPart::slotRedirect().

        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::write): Call latin1() explicitly in here for m_documentSource. It was being
	done implicitly before.
        (KWQKHTMLPartImpl::scheduleRedirection): Get rid of 1-second minimum delay for meta refresh.
        (KWQKHTMLPartImpl::timerEvent): Call KHTMLPart::slotRedirect() instead of redirectURL(), because
	they were identical, so we don\'t need our own copy.

        * kwq/kdeui/kmessagebox.h:
        * kwq/KWQKMessageBox.mm: (KMessageBox::questionYesNo): Added dontAskAgain string parameter.
	Before, it was being turned into a bool!

        * kwq/KWQKProtocolManager.mm: Tweak and add FIXME.

        * kwq/qt/qstring.h: Remove implicit conversion to const char *, which causes only pain.
        * kwq/KWQString.mm:
        (QString::find): Add caseSensitive parameter to the QString overload of this.
        (QString::contains): Add a QString version of this.

        * kwq/character-sets.txt: Add the MIB number for ISO-10646-J-1.
        * kwq/make-charset-table.pl: Remove special case for ISO-10646-J-1 MIB number.


git-svn-id: svn://svn.chromium.org/blink/trunk@1691 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-29 20:54:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1c585e6bf760cbbc096805d384eb3b2aebdff71f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015l01l5xs8sj5ds', 2, e'        Fixed 3009074.  Added [WebHTMLView jumpToSelection:] and related user interface
        item validation.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView jumpToSelection:]):
        (-[WebHTMLView validateUserInterfaceItem:]):

        Fixed 3009074.  Added KHTMLPart::jumpToSelection and related scaffolding (part impl, bridge, etc.)

        * khtml/khtml_part.cpp:
        (KHTMLPart::jumpToSelection):
        * khtml/khtml_part.h:
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::jumpToSelection):
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge jumpToSelection]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1690 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-29 20:38:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3762a6abaed38f24a219e85e976e6e00896a7b50');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015m01l5p8449po3', 2, e'        Fixed 3009085.  Implemented takeFindStringFromSelection: on WebHTMLView and WebTextView.
        Also added user interface item validation for that method.

        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView hasSelection]):
        (-[WebHTMLView takeFindStringFromSelection:]):
        (-[WebHTMLView validateUserInterfaceItem:]):
        * WebView.subproj/WebTextView.m:
        (-[WebTextView canTakeFindStringFromSelection]):
        (-[WebTextView takeFindStringFromSelection:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1689 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-29 19:35:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6ab676d9b8161f90e364dc625f965065b3a1b40a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015n01l5qvdibuti', 2, e'        Fixed 3009067.  We were not correctly testing the first character of the node string.  Fixed in KWQString.
        This highlighted another problem.  KWQ does not support unichar * string find w/ case sensitive argument.
        KWQString implements QString::find(const char *chs, int index, bool caseSensitive), so  QStrings passed
        will be auto-cast to char *.  Filed 3010875 to track that issue.

        * kwq/KWQString.mm:
        (compareToLatinCharacter):
        (QString::find):


git-svn-id: svn://svn.chromium.org/blink/trunk@1688 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-29 18:55:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e24cdac3cfedb8782065a64c5cb8b8b9e091e551');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015o01l57dj0ry1q', 2, e'WebKit:

	Fixed:
	2971845 - text view uses default "user font" (Helvetica), not fonts chosen in Alexander preferences

        * WebView.subproj/WebTextView.m:
        (-[WebTextView initWithFrame:]): add observer
        (-[WebTextView dealloc]): remove observer
        (-[WebTextView setFixedWidthFont]): added, checks defaults
        (-[WebTextView dataSourceUpdated:]): calls setFixedWidthFont
        (-[WebTextView searchFor:direction:caseSensitive:]): no changes
        (-[WebTextView defaultsChanged:]): calls setFixedWidthFont

WebBrowser:

	Fixed:
	3006975 - Typing in address field should replace favicon with generic
	3009771 - Bookmark title for dragged icon from location field is sometimes incorrect
	3009755 - Dragged icon from location field needs to include title

        * BrowserWindowController.m:
        (-[BrowserWindowController bookmarkTitleForLocationField:]): use pageName
        * FavoriteButton.h:
        * FavoriteButton.m:
        (-[FavoriteButton imageForDraggingFromEvent:]): made public
        (-[FavoriteButton mouseDown:]): use imageForDraggingFromEvent
        * LocationTextField.h:
        * LocationTextField.m:
        (-[LocationTextField dealloc]): release cached icon and string
        (-[LocationTextField _setIcon:save:]): added, caches icon
        (-[LocationTextField setIcon:]): calls _setIcon:save:
        (-[LocationTextField mouseDown:]): calls imageForDraggingFromEvent
        (-[LocationTextField setStringValue:]): caches string
        (-[LocationTextField textDidChange:]): sets generic icon


git-svn-id: svn://svn.chromium.org/blink/trunk@1687 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-29 15:19:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0567b2b2720c93ce879b0fa311fa35776eedb3af');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015p01l5b2ijzse9', 2, e'WebKit:

	Implemented click policy, support for option-click
	Implemented dragging of links and images from WebHTMLView

        * Misc.subproj/WebNSViewExtras.h:
        * Misc.subproj/WebNSViewExtras.m:
        (-[NSView _web_dragShouldBeginFromMouseDown:withExpiration:]): added, moved from WebBrowser
        (-[NSView _web_dragOperationForDraggingInfo:]): don\'t accept drag if source == destination
        * WebView.subproj/WebControllerPolicyHandler.h:
        * WebView.subproj/WebControllerPolicyHandler.m:
        (-[WebPolicy URL]): needed for click policy
        (+[WebURLPolicy webPolicyWithURLAction:]):
        (+[WebFileURLPolicy webPolicyWithFileAction:]):
        (+[WebContentPolicy webPolicyWithContentAction:andPath:]):
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _downloadURL:toPath:]): added, simply downloads a URL
        * WebView.subproj/WebDefaultContextMenuHandler.m:
        (-[WebDefaultContextMenuHandler downloadURL:]): calls [WebController _downloadURL:toPath:]
        * WebView.subproj/WebDefaultPolicyHandler.m:
        (-[WebDefaultPolicyHandler clickPolicyForElement:button:modifierMask:]):
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView mouseDown:]): calls _continueAfterCheckingDragForEvent
        (-[WebHTMLView mouseUp:]): calls _continueAfterClickPolicyForEvent
        (-[WebHTMLView draggingSourceOperationMaskForLocal:]): added
        (-[WebHTMLView namesOfPromisedFilesDroppedAtDestination:]): added, starts download
        * WebView.subproj/WebHTMLViewPrivate.h:
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLViewPrivate dealloc]):
        (-[WebHTMLView _elementAtPoint:]):
        (-[WebHTMLView _continueAfterClickPolicyForEvent:]): added, implements click policy
        (-[WebHTMLView _continueAfterCheckingDragForEvent:]): added, checks if mouse event is a drag

WebBrowser:

	Support for option-click.
	Moved _web_dragShouldBeginFromMouseDown:withExpiration: to WebKit

        * BrowserWebController.m:
        (-[BrowserWebController clickPolicyForElement:button:modifierMask:]): support for option and command click
        * FavoriteButton.m:
        (-[FavoriteButton mouseDown:]): call _web_dragShouldBeginFromMouseDown:withExpiration:
        * LocationTextField.m:
        (-[LocationTextField mouseDown:]): call _web_dragShouldBeginFromMouseDown:withExpiration:


git-svn-id: svn://svn.chromium.org/blink/trunk@1686 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-27 16:14:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0037ab25d529282949502d89885605a254de1801');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnna2x015q01l561ia9o9m', 2, e'WebFoundation:

	Changing the default user agent to be Gecko.  This fixes
	the layout issues with livepage.apple.com.  We simply
	cannot support absolute positioning while claiming to
	be Mac MSIE, since Mac MSIE incorrectly computes the containing
	block and sites have to correct for that.

	As per discussion with gramps, simply removing the plist lookup
	for the agent and hardcoding it to Gecko for now.

        * CacheLoader.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler defaultUserAgent]):
        * ChangeLog:
        * Defaults.plist:

WebCore:

	Changing the default user agent to be Gecko.  This fixes
	the layout issues with livepage.apple.com.  We simply
	cannot support absolute positioning while claiming to
	be Mac MSIE, since Mac MSIE incorrectly computes the containing
	block and sites have to correct for that.

        * ChangeLog:
        * kwq/KWQKProtocolManager.mm:
        (KProtocolManager::userAgentForHost):


git-svn-id: svn://svn.chromium.org/blink/trunk@1685 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-27 01:37:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d1da29bcf4452c52fe98f0214d10fd0c2660d5d3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014301l5awjfcaak', 2, e'Fixed comment in changelog.


git-svn-id: svn://svn.chromium.org/blink/trunk@1684 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-26 23:18:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/19d96a76c153f168470fff84ca458b5704795f73');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014401l5082guvus', 2, e'        WebframeLoadType enum first value was explicitly set, so 0 was used.
        I assumed 0 was unitialized, and depended on that to not execute some \'transitional\'
        back/forward.  This problem broke back/forward.

        * WebView.subproj/WebFramePrivate.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1683 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-26 23:18:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c3453e158c89280b9cb8063283979f0b1885fe42');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014501l5yjti283b', 2, e'	Fix for 2944382, NOWRAP was being incorrectly applied in KHTML.
	It was being ignored incorrectly if a fixed width was specified
	on a cell.  This width on the cell is actually irrelevant and
	should not have been checked, since NOWRAP will affect the
	whole column and not just a specific cell.

        * khtml/rendering/render_table.cpp:
        (RenderTableCell::calcMinMaxWidth):


git-svn-id: svn://svn.chromium.org/blink/trunk@1682 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-26 22:27:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e36a7df0fca6525383ea44f168bcb6651fb7690b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014601l5949995w2', 2, e'WebKit:

	WebKit part of fix for 3009404 -- Back/Forward menu items should use [ and ],
	but command-arrows should still work too.

        * WebView.subproj/WebController.h:
	- added goForward to windowContext protocol. This is temporary, just like goBack
	here is temporary; they can be migrated into the new back-forward-in-WebKit design
	together.
        * WebView.subproj/WebView.m:
        (-[WebView keyDown:]): call _goBack and _goForward for command-arrow keys

        * WebView.subproj/WebViewPrivate.h,
        * WebView.subproj/WebViewPrivate.m:
        (-[WebView _goForward]): add _goForward, parallel to _existing goBack.

WebBrowser:

	WebBrowser part of fix for 3009404 -- Back/Forward menu items should use [ and ],
	but command-arrows should still work too.

	- fixed 3009385 -- standard command-arrow shortcuts don\'t work in Alexander
	outline views
	- fixed 3009388 -- left and right arrow should collapse/expand in Alexander
	outline views

        * BrowserWebController.m:
        (-[BrowserWebController goForward]): Added, parallel to existing goBack. This is
	a temporary place for this API, awaiting WebKit cleanup.

        * Defaults.plist: Set NSAllowSimpleArrowItemExpandDefault to true; gotta love
	that this exists.

        * English.lproj/MainMenu.nib: Change menu shortcuts for Back, Forward, and
	Last Search Results to use brackets instead of arrows

        * Help/KeyShortcuts.html: Update to match arrow -> bracket changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1681 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-07-26 22:17:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/68dd97909b94b96e3622f57d72679444bf22bbf8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014701l5ceqv1it3', 2, e'	Fixed crash in unknown_text
	Fixed full-window plug-ins. I think darin broken this :)
	Cleaned up WebPluginStream a bit

        * Plugins.subproj/WebPluginDatabase.m:
        (-[WebPluginDatabase init]):
        * Plugins.subproj/WebPluginStream.m:
        (-[WebPluginStream getFunctionPointersFromPluginView:]):
        (-[WebPluginStream initWithURL:pluginPointer:notifyData:attributes:]):
        (-[WebPluginStream startLoad]):
        (-[WebPluginStream stop]):
        (-[WebPluginStream setUpGlobalsWithHandle:]):
        (-[WebPluginStream receivedError:]):
        (-[WebPluginStream receivedData:withDataSource:]):
        (-[WebPluginStream receivedError:withDataSource:]):
        (-[WebPluginStream WebResourceHandle:dataDidBecomeAvailable:]):
        (-[WebPluginStream WebResourceHandleDidCancelLoading:]):
        (-[WebPluginStream WebResourceHandle:didFailLoadingWithResult:]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _mainHandle]): added, WebPluginStream needs this


git-svn-id: svn://svn.chromium.org/blink/trunk@1680 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-26 19:59:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/06c5fe0fb5ea313eca938a14db2881fb36942bf9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014801l5qss0wthy', 2, e'        More incremental changes for back/forward migration.

        * BackForwardListEntry.h:
        * BackForwardListEntry.m:

        More incremental changes for back/forward migration.

        * History.subproj/WebBackForwardList.h:
        * History.subproj/WebBackForwardList.m:
        (-[WebBackForwardList init]):
        (-[WebBackForwardList dealloc]):
        (-[WebBackForwardList addEntry:]):
        (-[WebBackForwardList goBack]):
        (-[WebBackForwardList goBackToIndex:]):
        (-[WebBackForwardList backEntry]):
        (-[WebBackForwardList currentEntry]):
        (-[WebBackForwardList forwardEntry]):
        (-[WebBackForwardList goForward]):
        (-[WebBackForwardList goForwardToIndex:]):
        (-[WebBackForwardList canGoBack]):
        (-[WebBackForwardList canGoForward]):
        (-[WebBackForwardList description]):
        * History.subproj/WebHistoryItem.h:
        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem initWithURL:title:]):
        (-[WebHistoryItem initWithURL:title:image:]):
        (-[WebHistoryItem initWithURL:target:title:image:]):
        (-[WebHistoryItem dealloc]):
        (-[WebHistoryItem target]):
        (-[WebHistoryItem setTarget:]):
        (-[WebHistoryItem setLastVisitedDate:]):
        (-[WebHistoryItem scrollPoint]):
        (-[WebHistoryItem setScrollPoint:]):
        * History.subproj/WebHistoryList.m:
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate setLoadType:]):
        (-[WebFrame _setLoadType:]):
        (-[WebFrame _loadType]):
        (-[WebFrame _transitionToCommitted]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1679 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-26 03:44:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b54af66f63901dadc62dab4c5affcafc22764491');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014901l5agma96kh', 2, e'	Made some WebPolicy API\'s private
	Added support for download link/image to disk

        * Misc.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler receivedData:]):
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebControllerPolicyHandler.h:
        * WebView.subproj/WebControllerPolicyHandler.m:
        (-[WebPolicyPrivate dealloc]):
        (-[WebPolicy _setPolicyAction:]):
        (-[WebPolicy policyAction]):
        (-[WebPolicy path]):
        (-[WebPolicy _setPath:]):
        (-[WebPolicy dealloc]):
        (+[WebURLPolicy webPolicyWithURLAction:]):
        (+[WebFileURLPolicy webPolicyWithFileAction:]):
        (+[WebContentPolicy webPolicyWithContentAction:andPath:]):
        (+[WebClickPolicy webPolicyWithClickAction:andPath:]):
        * WebView.subproj/WebControllerPolicyHandlerPrivate.h: Added.
        * WebView.subproj/WebDefaultContextMenuHandler.m:
        (-[WebDefaultContextMenuHandler downloadURL:]):
        (-[WebDefaultContextMenuHandler downloadLinkToDisk:]):
        (-[WebDefaultContextMenuHandler openImageInNewWindow:]):
        (-[WebDefaultContextMenuHandler downloadImageToDisk:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient WebResourceHandle:dataDidBecomeAvailable:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1678 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-26 02:26:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/97b9309effc45d3b33b5152410ba2fd42971ee0e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014a01l54cln0lm0', 2, e'	Fixed crasher caused by not retaining the content policy.

        * WebView.subproj/WebControllerPolicyHandler.h:
        * WebView.subproj/WebMainResourceClient.h:
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient WebResourceHandle:dataDidBecomeAvailable:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1677 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-26 01:14:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/28fdd3b4b9fa25a7be51a369601f3ce9e99d6d52');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014b01l5d50zg29t', 2, e'WebKit:

	Made policy APIs return a WebPolicy object.
	Added click policy.

        * Misc.subproj/WebDownloadHandler.m:
        (-[WebDownloadHandler receivedData:]):
        (-[WebDownloadHandler finishedLoading]):
        (-[WebDownloadHandler cancel]):
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (+[WebController defaultURLPolicyForURL:]):
        * WebView.subproj/WebControllerPolicyHandler.h:
        * WebView.subproj/WebControllerPolicyHandler.m: Added.
        (-[WebPolicy initWithPolicyAction:]):
        (-[WebPolicy policyAction]):
        (+[WebURLPolicy webPolicyWithURLAction:]):
        (+[WebFileURLPolicy webPolicyWithFileAction:]):
        (+[WebContentPolicy webPolicyWithContentAction:andPath:]):
        (-[WebContentPolicy initWithContentPolicyAction:andPath:]):
        (-[WebContentPolicy dealloc]):
        (-[WebContentPolicy path]):
        (-[WebClickPolicy initWithClickPolicyAction:andPath:]):
        (+[WebClickPolicy webPolicyWithClickAction:andPath:]):
        (-[WebClickPolicy dealloc]):
        (-[WebClickPolicy path]):
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _receivedError:forResourceHandle:partialProgress:fromDataSource:]):
        * WebView.subproj/WebDataSource.h:
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource contentPolicy]):
        (-[WebDataSource fileType]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]):
        (-[WebDataSource _setContentPolicy:]):
        (-[WebDataSource _commitIfReady]):
        (-[WebDataSource _isReadyForData]):
        * WebView.subproj/WebDefaultPolicyHandler.m:
        (-[WebDefaultPolicyHandler URLPolicyForURL:]):
        (-[WebDefaultPolicyHandler fileURLPolicyForMIMEType:dataSource:isDirectory:]):
        (-[WebDefaultPolicyHandler unableToImplementFileURLPolicy:error:forDataSource:]):
        (-[WebDefaultPolicyHandler unableToImplementURLPolicy:error:forURL:]):
        (-[WebDefaultPolicyHandler pluginNotFoundForMIMEType:pluginPageURL:]):
        (-[WebDefaultPolicyHandler clickPolicyForElement:button:modifierMask:]):
        * WebView.subproj/WebFrame.m:
        (-[WebFrame initWithName:webView:provisionalDataSource:controller:]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _shouldShowDataSource:]):
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient receivedProgressWithHandle:complete:]):
        (-[WebMainResourceClient receivedError:forHandle:]):
        (-[WebMainResourceClient WebResourceHandleDidFinishLoading:data:]):
        (-[WebMainResourceClient WebResourceHandle:dataDidBecomeAvailable:]):

WebBrowser:

	Made policy APIs return a WebPolicy object.

        * BrowserDocument.m:
        (-[BrowserDocument _stopNonDownloadingDataSource:]):
        (-[BrowserDocument _goToURL:withFrameLoadType:fallbackURLs:]):
        * BrowserWebController.m:
        (-[BrowserWebController URLPolicyForURL:]):
        (-[BrowserWebController unableToImplementURLPolicy:error:forURL:]):
        (-[BrowserWebController fileURLPolicyForMIMEType:dataSource:isDirectory:]):
        (-[BrowserWebController unableToImplementFileURLPolicy:error:forDataSource:]):
        (-[BrowserWebController contentPolicyForMIMEType:dataSource:]):
        (-[BrowserWebController unableToImplementContentPolicy:error:forDataSource:]):
        (-[BrowserWebController clickPolicyForElement:button:modifierMask:]):
        * DownloadMonitor.m:
        (-[DownloadMonitor _monitorDownload:withProgress:error:dataSource:complete:]):
        * DownloadProgressEntry.m:
        (+[DownloadProgressEntry entryWithResource:progress:error:dataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1676 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-26 00:56:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/af7ee6555680a65e772cf8ee12717aac8eb4e0b8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014c01l5epl644si', 2, e'Remove bogus change log entry that I checked in by accident.


git-svn-id: svn://svn.chromium.org/blink/trunk@1675 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-26 00:17:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aadf395974d35b09be4705e8680f905cef3b0b8d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014d01l5ooqee4m1', 2, e'top level:

        * configure.in: Add DeploymentFat build style.

JavaScriptCore:

        * JavaScriptCore.pbproj/project.pbxproj: Add DeploymentFat build style.

WebFoundation:

        * WebFoundation.pbproj/project.pbxproj: Add DeploymentFat build style.

WebCore:

        * WebCore.pbproj/project.pbxproj: Add DeploymentFat build style.

	- fixed 3007532 -- Main documentation frame doesn\'t load on Apple docs page

	This was caused by my recent fix for the "checkboxes in wrong place" bug.
	While discussing that bug fix with Richard, I realized that I needed to do the
	work at layout time, not print time. Luckily, this code ends up being simpler
	than the original solution.

        * khtml/rendering/render_replaced.cpp:
        (RenderWidget::resizeWidget): Take out size limits based on X limits.
        (RenderWidget::layout): Move widgets off into far away coordinate space when
	layout happens. They get moved back on to the right position during the print process.

        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm: Removed paint, buildViewsNotYetAddedSet, viewsNotYetAdded,
	and addedWidget.
        * kwq/KWQScrollView.mm: (QScrollView::addChild): Removed call to addedWidget.
        * kwq/WebCoreBridge.mm: (-[WebCoreBridge drawRect:withPainter:]): Put the call to the
	renderer to print back in here, since it\'s simple again.

        * kwq/KWQWidget.mm: (QWidget::internalSetGeometry): Left in a couple of asserts that
	were useful in narrowing this one down.

WebKit:

        * WebKit.pbproj/project.pbxproj: Add DeploymentFat build style.

WebBrowser:

        * WebBrowser.pbproj/project.pbxproj: Add DeploymentFat build style.


git-svn-id: svn://svn.chromium.org/blink/trunk@1674 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-26 00:04:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2bc303b527935db9677032968d30ea58ff672caa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014e01l5cxz1s9gi', 2, e'	Floated images using "align" should have margins to prevent the text from running right
	up against them.  Matches IE and Mozilla behavior.

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@1673 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-25 22:53:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/66cabe511d47f48a7dc70e4c7962f5962e099bb0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014f01l5ro2w66ey', 2, e'	Fix <blockquote> tags to have top and bottom margins of 1em.  This matches the <blockquote>
	behavior in Gecko.

        * khtml/css/html4.css:


git-svn-id: svn://svn.chromium.org/blink/trunk@1672 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-25 22:36:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/90d772ed636aeaa357c4312dd505118d9288e91e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014g01l531ndlt9t', 2, e'WebFoundation:

	WebFoundation part of fix for 3006054 -- assert error failingURL != nil

        * CacheLoader.subproj/IFURLHandleC.h:
        * CacheLoader.subproj/IFURLHandleC.m:
        (IFURLHandleBackgroundLoadFailedWithResultCode): Call absoluteString.
        (IFErrorGetFailingURL): Change result type to CFStringRef.
        * CacheLoader.subproj/WebHTTPProtocolHandler.m:
        (-[WebHTTPProtocolHandler continueHeaderReadAfterFailureResponseAndCall:]):
	Call absoluteString.
        * CacheLoader.subproj/WebResourceLoad.m:
        (-[WebResourceLoad failedWithResultCode:inDomain:isTerminal:]): Call absoluteString.
        * Misc.subproj/WebError.h:
        * Misc.subproj/WebError.m:
        (+[WebError errorWithCode:inDomain:failingURL:isTerminal:]): Change type of failingURL to NSString.
        (-[WebError initWithErrorCode:inDomain:failingURL:isTerminal:]): Change type of failingURL to NSString.
        (-[WebError failingURL]): Change type to NSString.
        (-[WebError description]): Don\'t call absoluteString.

WebCore:

	- fixed 2965269 -- sizes reported to progress handler from KWQCheckCacheObjectStatus for images are wrong
	- fixed 3006054 -- assert error failingURL != nil

        * khtml/misc/loader.h: Add dataSize() and m_dataSize.
        * khtml/misc/loader.cpp:
        (CachedImage::CachedImage): Initialize m_dataSize.
        (CachedImage::data): Update m_dataSize.

        * kwq/kio/jobclasses.h:
        * kwq/KWQKjobclasses.mm: Store a KURL instead of an NSURL, because KURL can hold any string.

        * kwq/KWQLoaderImpl.mm:
        (KWQServeRequest): Send an error with [WebCoreBridge reportError:] if the URL is so bad we can\'t
	construct an NSURL from it. This is the only case in all our code where we need to have failingURL
	accept a string.
        (KWQCheckCacheObjectStatus): If the object is an image, use the dataSize() rather than size().
	The size() is a (bad) estimate of how much memory is used in the case of an image, but we want
	to report the size of the original data.

        * kwq/WebCoreBridge.h: Add a [reportError:] method.

WebKit:

	WebKit part of fix for 3006054 -- assert error failingURL != nil

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge reportError:]): New. Passes the error to the controller associated with
	the dataSource.

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:dataSource:]): Call absoluteString.
        (-[WebSubresourceClient WebResourceHandleDidCancelLoading:]): Call absoluteString.
        * WebView.subproj/WebController.m:
        (-[WebController haveContentPolicy:andPath:forDataSource:]): Call absoluteString.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _receivedError:forResourceHandle:partialProgress:fromDataSource:]):
	Don\'t call absoluteString.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _shouldShowDataSource:]): Call absoluteString.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient WebResourceHandleDidCancelLoading:]): Call absoluteString.

WebBrowser:

	WebBrowser part of fix for 3006054 -- assert error failingURL != nil

        * BrowserWebController.m:
        (-[BrowserWebController receivedError:forResourceHandle:partialProgress:fromDataSource:]):
	Don\'t call absoluteString.
        * DownloadProgressEntry.m: (-[DownloadProgressEntry stop]): Call absoluteString.
        * LocationChangeError.m:
        (-[LocationChangeHandler specializedMessageForError:]): Don\'t call absoluteString.
	Also use _web_URLWithString to make a URL to parse out the host part.
        (-[LocationChangeHandler genericMessageForError:]): Don\'t call absoluteString.


git-svn-id: svn://svn.chromium.org/blink/trunk@1671 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-25 22:17:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/29d5edb13e251ff8341a5a18014a00ed2460bfc8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014h01l59lu3o6o9', 2, e'	Fix for huge white space problem on appleturns.com, bug 2947818.  Vertical-align
	was being applied to block-level elts in violation of the CSS2 spec.  Vertical-align
	is only supposed to apply to inline-level elts and table cells.  getVerticalPosition
	will now bail if the element is block-level.

        * khtml/rendering/render_object.cpp:
        (RenderObject::getVerticalPosition):


git-svn-id: svn://svn.chromium.org/blink/trunk@1670 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-25 22:11:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/34442f3c8653d7ed8c7c2f064eb102b83ad1108e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014i01l5kjgyk1ad', 2, e'WebKit:

	Remove reloadImage until its implemented.

        * WebView.subproj/WebDefaultContextMenuHandler.m:
        (-[WebDefaultContextMenuHandler contextMenuItemsForElement:defaultMenuItems:]):

WebBrowser:

	Remove reloadImage until its implemented.

        * ContextMenuHandler.m:
        (-[ContextMenuHandler contextMenuItemsForElement:defaultMenuItems:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1669 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-25 19:50:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fdeb889e08035649933c96c2d2e4c02cd869fbd7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014j01l5va8japkk', 2, e'WebCore:

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge elementAtPoint:]): renamed

WebKit:

	Renamed elementInfoAtPoint to elementAtPoint

        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebDefaultContextMenuHandler.h:
        * WebView.subproj/WebDefaultContextMenuHandler.m:
        (+[WebDefaultContextMenuHandler addMenuItemWithTitle:action:target:toArray:]): renamed
        (-[WebDefaultContextMenuHandler contextMenuItemsForElement:defaultMenuItems:]):
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView menuForEvent:]):
        * WebView.subproj/WebHTMLViewPrivate.h:
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _elementAtPoint:]):

WebBrowser:

	Added WebBrowser specific contextual menu items.

        * BrowserDocument.h:
        * BrowserDocument.m:
        (-[BrowserDocument init]):
        (-[BrowserDocument setSaveDataSource:]): set the current data source to save
        (-[BrowserDocument dataRepresentationOfType:]): uses the current data source
        * ContextMenuHandler.h: Added.
        * ContextMenuHandler.m: Added.
        (-[ContextMenuHandler dealloc]):
        (-[ContextMenuHandler _addMenuItemWithAction:fromArray:toArray:]):
        (-[ContextMenuHandler contextMenuItemsForElement:defaultMenuItems:]):
        (-[ContextMenuHandler _window]):
        (-[ContextMenuHandler _document]):
        (-[ContextMenuHandler addLinkToBookmarks:]):
        (-[ContextMenuHandler viewSource:]):
        (-[ContextMenuHandler savePageAs:]):
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1668 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-25 19:38:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3b359de6850b17b652457fdc240bcc615c746d07');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014k01l52eloe8vg', 2, e'	Fix for bug 2992158, the calendar on www.blog.org in the upper
	right was shoved offscreen (and causing a horizontal scrollbar
	to be necessary).  KHTML was not recomputing the margins for
	the table when it became displaced by the float.  It was also
	mispositioning the float itself.

        * khtml/rendering/render_box.h:
        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layoutBlockChildren):
        (RenderFlow::addOverHangingFloats):


git-svn-id: svn://svn.chromium.org/blink/trunk@1667 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-25 07:41:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/442a6728644eb628e71d63c7570d98ca53c7feab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014l01l5jyx4eqlc', 2, e'	tiny change

        * WebView.subproj/WebDefaultContextMenuHandler.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@1666 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-25 01:38:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d1e8e60b411963d8f4712c9386412ef927dac563');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014m01l524nkpubo', 2, e'	Added implmentations for a few context menu items.

        * WebView.subproj/WebController.h:
        * WebView.subproj/WebDefaultContextMenuHandler.h:
        * WebView.subproj/WebDefaultContextMenuHandler.m:
        (-[WebDefaultContextMenuHandler dealloc]):
        (-[WebDefaultContextMenuHandler contextMenuItemsForElement:defaultMenuItems:]):
        (-[WebDefaultContextMenuHandler validateUserInterfaceItem:]):
        (-[WebDefaultContextMenuHandler openNewWindowWithURL:]):
        (-[WebDefaultContextMenuHandler openLinkInNewWindow:]):
        (-[WebDefaultContextMenuHandler copyLinkToClipboard:]):
        (-[WebDefaultContextMenuHandler openImageInNewWindow:]):
        (-[WebDefaultContextMenuHandler copyImageToClipboard:]):
        (-[WebDefaultContextMenuHandler reloadImage:]):
        (-[WebDefaultContextMenuHandler openFrameInNewWindow:]):
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView menuForEvent:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1665 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-25 01:34:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2964c99f69ae639b5f61a6148cccde906e32b185');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014n01l55ludy5w1', 2, e'        Removed vestigal locationChangeHandler ivar.

        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _loadIcon]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1664 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-24 23:11:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e60bfc74e3b41fd6798de4555ec9fa74874cd424');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014o01l54p4kdfus', 2, e'	Fix for bug 2953423, viamichelin.com lays out incorrectly.
	Remove a completely bogus optimization in the KHTML code that
	attempted to bail when the specified width was 0.  This was
	a very basic problem, and it should fix other pages that were
	laying out incorrectly as well.

        * khtml/rendering/render_flow.cpp:
        (RenderFlow::layout):


git-svn-id: svn://svn.chromium.org/blink/trunk@1663 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-24 22:59:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3444f10d7fe88b8c41c0f3cc0fcc571a16011ebe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014p01l5mv8qrc9z', 2, e'	Call [self _locationChangeHandler] instead of _private-locationChangeHandler

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource receivedPageIcon:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1662 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-24 22:54:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6f6cb68e2207aa0e4cabb2289d9ea6ad2cf2e63c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014q01l51if4aeab', 2, e'        Implemented find for text views.


git-svn-id: svn://svn.chromium.org/blink/trunk@1661 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-24 22:41:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d972a32247697118685d12e02fa30ae94bea649c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014r01l55i4m9bnm', 2, e'	Implemented initial contextual menus. All disabled right now.

        * WebView.subproj/WebDefaultContextMenuHandler.h:
        * WebView.subproj/WebDefaultContextMenuHandler.m:
        (-[WebDefaultContextMenuHandler dealloc]): added
        (-[WebDefaultContextMenuHandler addMenuItemWithTitle:action:toArray:]): added
        (-[WebDefaultContextMenuHandler contextMenuItemsForElementInfo:defaultMenuItems:]): create menu items
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView menuForEvent:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1660 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-24 22:36:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/28d12dff8e7dbd86628bc29636b1915a6f7be620');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014s01l5s1ycjcvx', 2, e'        * khtml/khtml_part.cpp: (KHTMLPart::clear): Remove code that reset m_frameNameId,
	to complete Maciej\'s change to fix bug 3006354.


git-svn-id: svn://svn.chromium.org/blink/trunk@1659 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-24 21:22:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2ff6ef4436460ef96a486f1b06b4b768b701c8ed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014t01l5i4ilyosz', 2, e'	More renaming for WebDefaultPolicyHandler.

        * WebView.subproj/WebController.m:
        (-[WebController policyHandler]):
        * WebView.subproj/WebDefaultPolicyHandler.h:
        * WebView.subproj/WebDefaultPolicyHandler.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@1658 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-24 21:14:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6b3dc6347bb779fe2d72339abe0c5a3c26d59de9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014u01l56hfgadgm', 2, e'	Renamed WebDefaultControllerPolicyHandler to WebDefaultPolicyHandler.

        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebDefaultControllerPolicyHandler.h: Removed.
        * WebView.subproj/WebDefaultControllerPolicyHandler.m: Removed.
        * WebView.subproj/WebDefaultPolicyHandler.h: Added.
        * WebView.subproj/WebDefaultPolicyHandler.m: Added.
        (-[WebDefaultControllerPolicyHandler initWithWebController:]):
        (-[WebDefaultControllerPolicyHandler URLPolicyForURL:]):
        (-[WebDefaultControllerPolicyHandler fileURLPolicyForMIMEType:dataSource:isDirectory:]):
        (-[WebDefaultControllerPolicyHandler unableToImplementFileURLPolicy:forDataSource:]):
        (-[WebDefaultControllerPolicyHandler requestContentPolicyForMIMEType:dataSource:]):
        (-[WebDefaultControllerPolicyHandler unableToImplementURLPolicyForURL:error:]):
        (-[WebDefaultControllerPolicyHandler unableToImplementContentPolicy:forDataSource:]):
        (-[WebDefaultControllerPolicyHandler pluginNotFoundForMIMEType:pluginPageURL:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1657 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-24 21:07:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2c306694ae390b589f445b4876c663983efcd6f0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014v01l5jzujj9ml', 2, e'	More plumbing for contextual menu support.

        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController setContextMenuHandler:]): added
        (-[WebController contextMenuHandler]): added
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate init]): alloc WebDefaultContextMenuHandler
        (-[WebControllerPrivate dealloc]): dealloc WebDefaultContextMenuHandler
        (-[WebController _defaultContextMenuHandler]):
        * WebView.subproj/WebDefaultContextMenuHandler.h: Added.
        * WebView.subproj/WebDefaultContextMenuHandler.m: Added.
        (-[WebDefaultContextMenuHandler contextMenuItemsForElementInfo:defaultMenuItems:]): new
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView menuForEvent:]): call contextMenuHandlers
        * WebView.subproj/WebHTMLViewPrivate.h:
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _setController:]): added comment
        (-[WebHTMLView _controller]): added


git-svn-id: svn://svn.chromium.org/blink/trunk@1656 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-24 20:55:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ef987a6a90feba1fcf87e7ecdddf72ce1c310bf4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn8j8014w01l5ts8j2sde', 2, e'top level:

        * Site/Internal/Quality/fontsizes.html: Added test cases for "+/-" and "0".

WebCore:

	- fixed 2906567 -- Font size calculations should use 96 dpi instead of 72 dpi
	- fixed 3005932 -- fonts specified in \'ex\' units rendered waaaaaaay too large

        * khtml/css/cssstyleselector.cpp: (CSSStyleSelector::computeFontSizes):
	Use a default font size that\'s the same as small, rather than a "medium font
	size". Don\'t multiply the values from settings by the scaling factor.
	(CSSStyleSelector::applyRule): Make the default font size here for nodes with
	no parents be small (m_fontSizes[2]) rather than medium (m_fontSizes[3]).

        * khtml/html/html_inlineimpl.cpp: (parseFontSizeNumber): Added. Tolerant of
	non-numeric characters after the numeric size. Also distinguishes a size like
	"0" from something that\'s not a numeric size at all.
        (HTMLFontElementImpl::parseAttribute): Use parseFontSizeNumber, but also make
	size 3 be the same as CSS_VAL_SMALL, not CSS_VAL_MEDIUM. This mistake (using
	CSS_VAL_MEDIUM) led to all kinds of strangeness in the KHTML code, including
	mishandling of 0 and the need to create CSS_VAL__KONQ_XXX_LARGE. Also change
	code so that 0 is treated as CSS_VAL_SMALL (same as 3) rather than CSS_VAL_XX_SMALL.
	This makes 0 between -1 and +1.

        * khtml/xml/dom_docimpl.cpp: (DocumentImpl::recalcStyle): Make default font
	size be small (fontSizes()[2]) rather than medium (fontSizes()[3]).
        * khtml/html/html_tableimpl.cpp: (HTMLTableElementImpl::HTMLTableElementImpl):
	Make default font size be CSS_VAL_SMALL, not CSS_VAL_MEDIUM.

        * kwq/qt/qfontmetrics.h:
        * kwq/KWQFontMetrics.mm: (QFontMetrics::xHeight): Added.
        * kwq/WebCoreTextRenderer.h: Added xHeight.

        * khtml/css/css_valueimpl.cpp: (CSSPrimitiveValueImpl::computeLengthFloat):
	Use xHeight rather than computing the height of an actual letter \'x\'.
        * khtml/rendering/render_object.cpp: (RenderObject::getVerticalPosition):
	Use xHeight rather than computing the height of an actual letter \'x\'.

        * kwq/WebCoreBridge.mm: (-[WebCoreBridge reapplyStyles]): Fixed backwards
	if that prevented font changes from being reflected in the browser window.

        * kwq/khtml/khtml_settings.h:
        * kwq/KWQKHTMLSettings.mm:
	(KHTMLSettings::defaultFontSize):
        * kwq/WebCoreSettings.h:
        * kwq/WebCoreSettings.m:
        (-[WebCoreSettings setDefaultFontSize:]):
        (-[WebCoreSettings defaultFontSize]):
	Replace mediumFontSize with defaultFontSize.

        * WebCore.pbproj/project.pbxproj: Rearrange some of the files.

WebKit:

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer xHeight]): Added. Calls [NSFont xHeight].

        * WebView.subproj/WebPreferences.h:
        * WebView.subproj/WebPreferences.m:
        (+[WebPreferences load]):
        (-[WebPreferences defaultFontSize]):
        (-[WebPreferences setDefaultFontSize:]):
	Renamed minimumFont to defaultFont, and changed it from 11 to 16.
	Also changed default monospaced font to Courier instead of Monaco.

WebBrowser:

        * Preferences.subproj/TextPreferences.m:
        (-[TextPreferences defaultFontSize]), (-[TextPreferences setDefaultFontSize:]):
	Change to use new WebPreferences mediumFontSize (since default is the same as small,
	not medium).

        * BrowserDocument.m: (-[BrowserDocument reapplyStyles:]): Use setNeedsDisplay:
	instead of display. It\'s impolite and unnecessary to do an explicit display.

        * WebBrowser.pbproj/project.pbxproj: Small name tweak.


git-svn-id: svn://svn.chromium.org/blink/trunk@1655 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-24 20:37:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3841a0a23f99e7c988fa6b17bd89688266b572d0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013901l5gbjm3t62', 2, e'        Support for find in HTML, find in text view coming soon.

        * WebView.subproj/WebDocument.h:
        * WebView.subproj/WebHTMLView.h:
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView searchFor:direction:caseSensitive:]):
        * WebView.subproj/WebTextView.h:
        * WebView.subproj/WebTextView.m:
        (-[WebTextView searchFor:direction:caseSensitive:]):

        Support for find in HTML.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge searchFor:direction:caseSensitive:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1654 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-24 20:14:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b9d678eba544a377299934ed7f51c5544544998b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013a01l5mjc7ab0y', 2, e'	- fixed 2949235 -- checkboxes in wrong place until you scroll away and back

	The problem here was that we put views in when we print, but we never removed them.
	I added code to keep track of existing views, and remove them if they are not re-added.

        * kwq/KWQKHTMLPartImpl.h: Add paint, addedWidget, buildViewsNotAddedSet, and viewsNotYetAdded.
	It might be nice to find a different place to hang this that is not included by the KHTML code.
	But I think that having this on the bridge would be worse.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::paint): Added. Removes any views that are not explicitly added by RenderWidget
	during the print process.
        (KWQKHTMLPartImpl::addedWidget): Added. Called by KWQScrollView to tell us a view was added.
        (KWQKHTMLPartImpl::buildViewsNotYetAddedSet): Added. Used to build the initial set of views.

        * kwq/KWQScrollView.mm: (QScrollView::addChild): Added call to KWQKHTMLPartImpl::addedWidget.
        * kwq/WebCoreBridge.mm: (-[WebCoreBridge drawRect:withPainter:]): Calls KWQKHTMLPartImpl::paint.

        * kwq/KWQWindowWidget.mm: (KWQWindowWidget::frameGeometry), (KWQWindowWidget::mapToGlobal),
	(KWQWindowWidget::mapFromGlobal), (KWQWindowWidget::internalSetGeometry):
	Fixed logic to work properly for windows not on main screen.

        * khtml/khtml_part.cpp: Moved the boundary of an existing ifndef APPLE_CHANGES so that
	KHTMLPart::show() and hide() are not compiled, mainly for clarity.
        * khtml/rendering/render_replaced.cpp: (RenderWidget::detach): Removed unneeded APPLE_CHANGES.

        * kwq/KWQWindowWidget.h: Removed some unneeded virtual functions.
        * kwq/qt/qscrollview.h: Removed some unneeded virtual functions, made others non-virtual.
        * kwq/qt/qwidget.h: Removed some unneeded virtual functions, made others non-virtual.
        * kwq/KWQWidget.mm: Removed a lot of unused and unneeded stuff.

        * force-clean-timestamp: Needed to do this because I changed header files.


git-svn-id: svn://svn.chromium.org/blink/trunk@1653 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-24 17:31:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fbb78e52b31417696c12482df07669f0d8c77c99');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013b01l52wgmf9xm', 2, e'top level:

        * Tests/kde/kurl-test.cpp: (main): Added a test case for a relative URL with a
	leading space in it.
        * Tests/kde/kurl-test.chk: Added the expected result.

WebCore:

	- fixed 3006329 - space should be stripped from beginning of relative url

        * kwq/KWQKURL.mm: (KURL::normalizeRelativeURLString): Added a call to stripWhiteSpace.


git-svn-id: svn://svn.chromium.org/blink/trunk@1652 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-24 15:26:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9ad8aca9caed1f168c4696cb2fa3c9f09d29ca55');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013c01l5hh65i72s', 2, e'	Made frame names globally unique, not just unique per parent frame
	- this is needed to avoid triggering the assertion in 3006354
	(Assertion failure on salon.com). Clearing my cache made the
	assertion go away by itself, but it seems good to avoid the
	possibility of triggering it in the future.

        * khtml/khtmlpart_p.h: Make m_partNameId static.
        * khtml/khtml_part.cpp: Initialize it here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1651 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-24 09:37:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a5af8fbd61e8333a31c5102bb8c494ecbb130ba6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013d01l5891phbk0', 2, e'	- 3006336 -- crash in _NSDescriptionWithLocaleFunc

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::overURL):
	Don\'t use the result of getNSString() on a C++ temporary object.
	We could also fix this by doing retain autorelease in getNSString().


git-svn-id: svn://svn.chromium.org/blink/trunk@1650 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-24 07:19:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aa1b20ac9782a1e1051c0c65cacdafc1a5c3f630');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013e01l51ohtm7pi', 2, e'WebCore:

	More plumbing for contextual menu support.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge completeURLForDOMString:]): renamed
        (-[WebCoreBridge elementInfoAtPoint:]): renamed
        * kwq/qt/qpixmap.h: added an accessor to the WebCoreImageRenderer

WebKit:

	More plumbing for contextual menu support.

        * WebCoreSupport.subproj/WebBridge.h:
        * WebCoreSupport.subproj/WebBridge.m:
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView menuForEvent:]):
        * WebView.subproj/WebHTMLViewPrivate.h:
        * WebView.subproj/WebHTMLViewPrivate.m:
        (-[WebHTMLView _elementInfoAtPoint:]): added


git-svn-id: svn://svn.chromium.org/blink/trunk@1649 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-24 06:58:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7e6c273a47576ed6a604fa9aaeb19cdc0f982a81');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013f01l5xkc4cp95', 2, e'WebFoundation:

        * WebFoundation.pbproj/project.pbxproj: Fix file reference types to be more consistent.

WebCore:

        * WebCore.pbproj/project.pbxproj: Fix file reference types to be more consistent.

        * khtml/html/htmltokenizer.cpp:
        (HTMLTokenizer::parseTag): Changed indenting to use spaces, makes our diff with
	KDE smaller.
        (HTMLTokenizer::end): Remove unneeded APPLE_CHANGES.

        * kwq/KWQDOMNode.cpp: Tweak.
        * kwq/KWQDOMNode.h: Tweak.

WebKit:

        * WebKit.pbproj/project.pbxproj: Fix file reference types to be more consistent.

WebBrowser:

        * WebBrowser.pbproj/project.pbxproj: Fix file reference types to be more consistent.


git-svn-id: svn://svn.chromium.org/blink/trunk@1648 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-24 04:01:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/be4a024fd5c509cbf7832c9b89149d74bfc3d96a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013g01l5hkdqxjwl', 2, e'	Fix bug 2803155 - images not displayed on http://bscw.gmd.de.
	My fix is to use our newfound quirks mode to implement a comment
	parsing quirk (this is how Mozilla handles this same issue).
	Only in quirks mode, the tokenizer will treat <!--> atomically as
	a complete comment.

	This is bug 34302 on bugs.kde.org, for those who are curious.

        * khtml/html/htmltokenizer.cpp:
        (HTMLTokenizer::parseTag):


git-svn-id: svn://svn.chromium.org/blink/trunk@1647 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-24 02:46:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/78a970e84b0c4d1dc995f143c12113bc3addec50');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013h01l5envd1imf', 2, e'WebCore:

	Initial plumbing for contextual menu support.

        * WebCore.pbproj/project.pbxproj:
        * kwq/KWQDOMNode.cpp: Added.
        (isImage):
        * kwq/KWQDOMNode.h: Added.
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge _URLForDOMString:]): added
        (-[WebCoreBridge _elementInfoForMouseEvent:]): added

WebKit:

	Initial plumbing for contextual menu support.

        * WebCoreSupport.subproj/WebBridge.h:
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge elementInfoForMouseEvent:]): added
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebHTMLView.m:
        (-[WebHTMLView menuForEvent:]): added


git-svn-id: svn://svn.chromium.org/blink/trunk@1646 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-24 01:33:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8e9b31adae1daa5450ba7adad5e62dc34a457cec');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013i01l5qcbphkci', 2, e'        Turn on find related code in part in preparation for
        implementing find in WebKit.

        * khtml/khtml_part.cpp:
        (KHTMLPart::init):
        (KHTMLPart::clear):
        (KHTMLPart::findTextNext):


git-svn-id: svn://svn.chromium.org/blink/trunk@1645 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-24 01:22:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/341d6913b6cf096dd73454257c3534aa06d3f78d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013j01l5fqfaae2k', 2, e'        * WebKit.pbproj/project.pbxproj: Fix paths for newly added files.


git-svn-id: svn://svn.chromium.org/blink/trunk@1644 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-24 00:55:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fe72da574d2f16496c8d1e1004436222b1790eda');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013k01l51nl0trh1', 2, e'	Fixing two bugs here.  The first is bug with @import sheets not inheriting strict parsing mode from their parent sheet.
	This means all @import sheets are being treated as strict mode!

	The second bug is in KWQ.  We were never calling determineParseMode, so we always defaulted to strict mode, and therefore
	were highly intolerant of unitless numbers on absolutely positioned blocks.  This fixes many problems, notably www.netscape.com
	and ZDNet.com on the cvs-base tests.
        * khtml/css/cssparser.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::write):


git-svn-id: svn://svn.chromium.org/blink/trunk@1643 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-24 00:53:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c355cd09b0a245e3d927d01ba9f52d421781ac68');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013l01l5intoo77z', 2, e'        Use one LocationChangeHandler.
        Cleaned up (a little) fallback URL code.  This code
        is still a convoluted and could be further untaggled.

        * BrowserDocument.h:
        * BrowserDocument.m:
        (-[BrowserDocument init]):
        (-[BrowserDocument _goToURL:withFrameLoadType:fallbackURLs:]):
        (-[BrowserDocument tryMultipleURLs:]):
        (-[BrowserDocument _goToNextFallbackURL]):
        * BrowserDocumentPrivate.h:
        * BrowserWebController.h:
        * BrowserWindowController.h:
        * BrowserWindowController.m:
        (-[BrowserWindowController windowDidLoad]):
        (-[BrowserWindowController frameLoadRedirected:]):
        (-[BrowserWindowController frameLoadTryingFallback]):
        * LocationChangeHandler.h:
        * LocationChangeHandler.m:
        (-[LocationChangeHandler initWithBrowserDocument:]):
        (-[LocationChangeHandler dealloc]):
        (-[LocationChangeHandler locationChangeCommittedForDataSource:]):
        (-[LocationChangeHandler locationChangeDone:forDataSource:]):
        (-[LocationChangeHandler serverRedirectTo:forDataSource:]):

        Cleaned up LocationChangeHandler.  We now have one per controller.

        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController policyHandler]):
        (-[WebController setLocationChangeHandler:]):
        (-[WebController locationChangeHandler]):
        * WebView.subproj/WebControllerPolicyHandler.h:
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]):

        (-[WebDataSource _setIsDummy:)
        (-[WebDataSource _isDummy]):
        Hack on hack.  MJS will remove when the dummy data source hack is removed.

        (-[WebDataSource _locationChangeHandler]):
        (-[WebDataSource _removeFromFrame]):
        (-[WebFrame initWithName:webView:provisionalDataSource:controller:]):
        (-[WebFrame setProvisionalDataSource:]):
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate dealloc]):

        Added default policy handler.  This is used if no policy handler is
        set on the controller.

        * WebView.subproj/WebDefaultControllerPolicyHandler.h: Added.
        * WebView.subproj/WebDefaultControllerPolicyHandler.m: Added.
        (-[WebDefaultControllerPolicyHandler initWithWebController:]):
        (-[WebDefaultControllerPolicyHandler URLPolicyForURL:]):
        (-[WebDefaultControllerPolicyHandler fileURLPolicyForMIMEType:dataSource:isDirectory:]):
        (-[WebDefaultControllerPolicyHandler unableToImplementFileURLPolicy:forDataSource:]):
        (-[WebDefaultControllerPolicyHandler requestContentPolicyForMIMEType:dataSource:]):
        (-[WebDefaultControllerPolicyHandler unableToImplementURLPolicyForURL:error:]):
        (-[WebDefaultControllerPolicyHandler unableToImplementContentPolicy:forDataSource:]):
        (-[WebDefaultControllerPolicyHandler pluginNotFoundForMIMEType:pluginPageURL:]):
        * WebView.subproj/WebFrame.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@1642 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-24 00:19:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fb1ee18bd9e82ae48c55430d09dc7b933379ee77');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013m01l5uofmripe', 2, e'top level:

        * Tests/kde/kurl-test.chk: Updated test results to match what real web browsers
	need to do rather than what the RFC says for paths beginning with "../" or "./".
        * Tests/kde/kurl-test.cpp: (main): Add comments for tests where the results are
	not matching the RFC.

WebCore:

	- fixed 3004818 -- relative urls are assembled incorrectly at ticketmaster
	- fixed 2999279 -- Invalid URI in request at subpage of swatch.com

	The issue here is URLs with paths that start with "/../". RFC 2396 says one
	thing, and that\'s what CFURL does. But real web browsers do another thing.

        * kwq/KWQKURL.mm:
        (KURL::KWQKURLPrivate::KWQKURLPrivate): Clean up a bit by removing unneeded init().
        (escapeQString): Don\'t make a copy of the passed-in QString.
        (pathEndsWithSlash): Don\'t make a copy of the passed-in QString.
        (copyEscapedPath): Make this a static function instead of extern.
        (KURL::KWQKURLPrivate::decompose): Add the new "../" and "./" logic.


git-svn-id: svn://svn.chromium.org/blink/trunk@1641 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-23 23:24:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0b70870ee905bf94718b7887a7c777904ef6eac4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013n01l5q8ngx2dw', 2, e'        * khtml/rendering/font.cpp:
	Fix deployment build bustage by including <algorithm>.

        * khtml/rendering/render_frames.cpp:
        (RenderPartObject::calcReplacedWidth):
	Fix a bug with http://www.moveabletype.com\'s top portion
	not showing up (bug 2986714).  A hack was being improperly
	applied to fixed width plugins, when it should have only
	been applied to variable width plugins.


git-svn-id: svn://svn.chromium.org/blink/trunk@1640 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-23 23:09:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7d16f314439c64c1405ad0426f3b12619532763d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013o01l55e3utb6i', 2, e'WebCore:

        * Makefile.am: Clean based on all, not all-am, so it happens before subdirs
	if any.

WebKit:

        * Makefile.am: Clean based on all, not all-am, so it happens before subdirs
	if any.


git-svn-id: svn://svn.chromium.org/blink/trunk@1639 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-23 18:48:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/18050fbc848cff99bdcff8677a80fcdba4cb86ca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013p01l511q2hamm', 2, e'top level:

        * Tests/kde/kurl-test.cpp: (main): Add a lot of new tests.
	One of them demonstrates the issue underlying bug 3004818.
	The others are taken straight from the URI RFC (2396).
        * Tests/kde/kurl-test.chk: Expected results for new tests.

        * autogen.sh: Add the new WebCore timestamp file.

WebCore:

	Changes require a make clean because of the Project Builder bug.
	So I added the "make clean timestamp" hackery.

        * .cvsignore: Ignore the new clean timestamp.
        * force-clean-timestamp: Added.
        * Makefile.am: Add rules for making clean happen.

        * khtml/html/html_formimpl.cpp:
        (HTMLGenericFormElementImpl::defaultEventHandler): Fix NULL dereference
	bug in here that I ran into. Code later down in the same function has
	the check for NULL, so clearly this is just a bug.

        * khtml/rendering/font.cpp:
        (Font::drawText): Simplify by using new drawText that takes a QChar array,
	no need to make a QConstString.
        * khtml/rendering/render_text.cpp:
        (TextSlave::printDecoration): Simplify by using new drawUnderlineForText that
	takes a QChar array, no need to make a QConstString.

        * kwq/WebCoreTextRenderer.h: Change underline-drawing to use a UniChar array.

        * kwq/qt/qpainter.h:
        * kwq/KWQPainter.mm:
        (QPainter::drawText): Change to take QChar array instead of a QString, but
	also discovered a bizarre overloading thing that was happening before and
	dealt with that by adding a new drawText that still does take a QString.
        (QPainter::drawUnderlineForText): Change to take QChar array.

        * kwq/qt/qcolor.h: Mark constructor explicit, so we don\'t get subtle strangess
	like where the string to draw was being converted to a QColor.

        * khtml/css/cssstyleselector.cpp: No need for APPLE_CHANGES for
	this change any more.

        * kwq/kdecore/kcharsets.h:
        * kwq/KWQKCharsets.mm: Remove unused functions.

        * kwq/khtml/khtml_settings.h:
        * kwq/KWQKHTMLSettings.mm: Remove unused functions.

        * kwq/qt/qfont.h:
        * kwq/KWQFont.mm: Simplify.

        * kwq/KWQPaintDeviceMetrics.mm: Simplify.

        * kwq/qt/qtextcodec.h:
        * kwq/KWQtextcodec.mm: (QTextCodec::codecForName): Remove unused parameter.

WebKit:

        * WebCoreSupport.subproj/WebTextRenderer.m:
        (-[WebTextRenderer drawUnderlineForCharacters:stringLength:atPoint:withColor:]):
	Change API to take character array instead of a string.

        * WebKit.pbproj/project.pbxproj: Took "subproj" off the names of some groups.


git-svn-id: svn://svn.chromium.org/blink/trunk@1638 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-23 18:45:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1ba56f070da5e0f15149c91bd0237b52dd371429');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013q01l5ei9fj7j3', 2, e'	The STYLE element was ignoring both the media and type
	attributes (unlike its cousin, the LINK element).  This
	patch implements support for media and type and further
	stops us from loading stylesheets that we should have no
	business parsing.

        * khtml/html/html_headimpl.cpp:
        (HTMLLinkElementImpl::process):
        (HTMLStyleElementImpl::parseAttribute):
        (HTMLStyleElementImpl::insertedIntoDocument):
        (HTMLStyleElementImpl::removedFromDocument):
        (HTMLStyleElementImpl::childrenChanged):
        (HTMLStyleElementImpl::sheetLoaded):
        * khtml/html/html_headimpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1637 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-23 17:54:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cf917bb20dcb99648b4a92109409250b27764b67');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013r01l5lwofxng5', 2, e'Alex-14 versioning


git-svn-id: svn://svn.chromium.org/blink/trunk@1635 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-07-23 16:34:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dd4f0388b2bffda75a2f3a71e6b363474bdded45');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013s01l51suvabzd', 2, e'        * khtml/html/html_objectimpl.cpp:
        (HTMLObjectElementImpl::attach):
	Oops.  I accidentally removed the call to an ancestor class
	attach function.  What made this subtle is that it deliberately
	skipped over a couple of base classes and called the one three
	superclasses up.  When I went to put it back in, I messed up
	and called the base class instead of the distant ancestor.

	Silly me.  marvel.com and matadorrecords.com should be ok now.


git-svn-id: svn://svn.chromium.org/blink/trunk@1634 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-23 07:34:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1a9d770d74ce5a9439bfc377b47ecc71f63dc9b1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013t01l5lcp24o4g', 2, e'        * khtml/rendering/render_text.cpp:
        (TextSlave::printSelection): Add comments to APPLE_CHANGES.
        (TextSlave::printDecoration): Add comments to APPLE_CHANGES.
        (TextSlave::checkSelectionPoint): Add comments to APPLE_CHANGES.

        * khtml/xml/dom_stringimpl.cpp: Add comments to APPLE_CHANGES.

        * khtml/xml/xml_tokenizer.cpp: (XMLTokenizer::end): Remove APPLE_CHANGES.
        * kwq/KWQsignals.mm: Add a new signal dummy function.

        * kwq/WebCoreJavaScript.h: Fix header.
        * kwq/WebCoreJavaScript.mm: Fix header.

        * kwq/WebCoreSettings.h: Added. Not used yet.
        * kwq/WebCoreSettings.m: Added. Not used yet.
        * WebCore.pbproj/project.pbxproj: Added WebCoreSettings.h and .m.

        * English.lproj/InfoPlist.strings: Fixed a spelling error.

        * kwq/WebCoreTextRendererFactory.h: Tweak.


git-svn-id: svn://svn.chromium.org/blink/trunk@1633 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-23 05:26:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c0e06988fc81f9e7f5905f92f33cbdc61147e760');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013u01l5za99k0x2', 2, e'	Fixed Radar 3004897 - assert at mapquest

        * khtml/html/html_baseimpl.cpp:
        (HTMLIFrameElementImpl::attach): Put back frame name uniqueness
	check. Lack of this check was causing duplicate frames to be left
	floating in space.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::requestFrame): Add an assertion that no frame
	of the requested name already exists.


git-svn-id: svn://svn.chromium.org/blink/trunk@1632 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-23 05:04:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6d33494a18d45f15512d804b9ce01dc5bcc839ee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013v01l5jqb67ste', 2, e'	Fix for bug 3004889, plugin content on stylesheet pages not
	showing up.  The rendering tree needed to perform an update
	when all children had arrived, and this was being handled by
	the parser.  With async rendering construction, I had to store
	this in the content node instead, so it could do the update
	once the render object was built at a later date.

        * khtml/html/html_objectimpl.cpp:
        (HTMLObjectElementImpl::HTMLObjectElementImpl):
        (HTMLObjectElementImpl::attach):
        * khtml/html/html_objectimpl.h:
        * khtml/html/htmlparser.cpp:
        (KHTMLParser::processCloseTag):


git-svn-id: svn://svn.chromium.org/blink/trunk@1631 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-23 01:05:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/041bc8c54212c4f1ed8fa52ec144c2d369927c93');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013w01l5ro8pe5vm', 2, e'	This checkin adds support for querying the selected style set,
	for querying the preferred style set, and for changing the
	selected style set dynamically.  With this checkin, a Web page
	in Alexander now has the capability to present its own alternate
	stylesheet UI in the page and to toggle between sets using script.

        * khtml/dom/css_stylesheet.cpp:
        (DocumentStyle::preferredStylesheetSet):
        (DocumentStyle::setSelectedStylesheetSet):
        (DocumentStyle::selectedStylesheetSet):
        * khtml/dom/css_stylesheet.h:
	Added new methods to the DocumentStyle interface as per Hixie\'s
	proposed spec.

        * khtml/dom/dom_doc.cpp:
        * khtml/dom/dom_doc.h:
        * khtml/ecma/kjs_dom.cpp:
        (DOMDocument::getValueProperty):
        (DOMDocument::tryPut):
        (DOMDocument::putValue):
        * khtml/ecma/kjs_dom.h:
	Implement the JS binding glue for the new properties.

        * khtml/xml/dom_docimpl.cpp:
        (DocumentImpl::processHttpEquiv):
        (DocumentImpl::preferredStylesheetSet):
        (DocumentImpl::selectedStylesheetSet):
        (DocumentImpl::setSelectedStylesheetSet):
        (DocumentImpl::recalcStyleSelector):
        * khtml/xml/dom_docimpl.h:
	The implementation of the new properties.  Also fixed a bug
	caused by the 3.02 merge in the stylesheet filtering code in
	recalcStyleSelector.


git-svn-id: svn://svn.chromium.org/blink/trunk@1630 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-22 22:30:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/389d01f3471656aeccd11979df6895b0daef02a3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013x01l5bls0hbqx', 2, e'        Moved back/forward list from Alex\'s document to WebController.  First step
        to address a series of back/forward related issues.

        * WebView.subproj/WebController.h:
        * WebView.subproj/WebController.m:
        (-[WebController backForwardList]):
        * WebView.subproj/WebControllerPrivate.h:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate init]):
        (-[WebControllerPrivate dealloc]):

        Moved back/forward list from Alex\'s document to WebController.  First step
        to address a series of back/forward related issues.

        * BrowserDocument.m:
        (-[BrowserDocument init]):
        (-[BrowserDocument dealloc]):
        (-[BrowserDocument goToURL:]):
        (-[BrowserDocument _backForwardList]):
        (-[BrowserDocument canGoBack]):
        (-[BrowserDocument canGoForward]):
        (-[BrowserDocument goBack:]):
        (-[BrowserDocument goForward:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1629 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-22 20:19:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a89e9c2cd430d771f15ac03c15340c1f4bebec6c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013y01l5da70ikky', 2, e'WebKit:

	Strip white space before and after URL string 2998696

        * Misc.subproj/WebNSViewExtras.m:
        (-[NSView _web_bestURLForDraggingInfo:]):

WebBrowser:

	Added document icon.

        * WebBrowser.pbproj/project.pbxproj:
        * document.icns: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@1628 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-22 17:44:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6f3470349ae923e7c63aac39eddc2e0ded819f1c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731013z01l5b2n1gyxk', 2, e'        * WebView.subproj/WebHTMLView.m: import of removed WebFrame bridge header was
	left in, causing a build break.


git-svn-id: svn://svn.chromium.org/blink/trunk@1627 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-07-22 14:59:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c364d030532e372e253f8432417ef4eceb89f2b0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731014001l5ddyrde5w', 2, e'WebCore:

        Merged WebCoreBridge and WebCoreFrameBridge.

        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::openURLInFrame): Use bridge, not frameBridge.
        (KWQKHTMLPartImpl::urlSelected): Use bridge, not frameBridge.
        (KWQKHTMLPartImpl::submitForm): Use bridge, not frameBridge.
        (KWQKHTMLPartImpl::findFrame): Use bridge, not frameBridge.
        (KWQKHTMLPartImpl::frames): Use bridge, not frameBridge.
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge dealloc]): Free RenderPart if set.
        (-[WebCoreBridge renderPart]): Moved here from WebFrameBridge.
        (-[WebCoreBridge setRenderPart:]): Moved here from WebFrameBridge.
        (-[WebCoreBridge copyRenderNode:khtml::copier:]): No more need to get render part from frame bridge.
        (-[WebCoreBridge installInFrame:]): No more need to get render part from frame bridge.
        * kwq/WebCoreFrameBridge.h: Removed.
        * kwq/WebCoreFrameBridge.mm: Removed.
	* WebCore.exp: Removed WebCoreFrameBridge.
        * WebCore.pbproj/project.pbxproj: Removed WebCoreFrameBridge.

WebKit:

        Merged WebBridge and WebFrameBridge.

        * WebCoreSupport.subproj/WebBridge.h:
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge childFrames]): Return bridges, not frameBridges.
        (-[WebBridge descendantFrameNamed:]): Return bridge, not frameBridge.
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]): Return a bridge, not a frameBridge.
        (-[WebBridge mainFrame]): Return a bridge, not a frameBridge.
        (-[WebBridge frameNamed:]):Return a bridge, not a frameBridge.
        (-[WebBridge loadURL:attributes:flags:withParent:]): Moved from WebFrameBridge.
        (-[WebBridge loadURL:]): Moved from WebFrameBridge.
        (-[WebBridge postWithURL:data:]): Moved from WebFrameBridge.
        * WebCoreSupport.subproj/WebFrameBridge.h: Removed.
        * WebCoreSupport.subproj/WebFrameBridge.m: Removed.
        * WebView.subproj/WebFrame.m:
        (-[WebFrame initWithName:webView:provisionalDataSource:controller:]): Don\'t create
	a WebFrameBridge.
        * WebView.subproj/WebFramePrivate.h:
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate dealloc]): No longer dealloc frameBridge, since we don\'t have one.
        (-[WebFrame _transitionToCommitted]): Pass along the frame\'s render part, if any.
        (-[WebFrame _frameBridge]): Removed.
        * WebKit.pbproj/project.pbxproj: Removed deleted files.


git-svn-id: svn://svn.chromium.org/blink/trunk@1626 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-22 14:01:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/674904f5a6ce472acd0bc01a34f2f5cadd964acd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731014101l5rn9flgwe', 2, e'	Change WebBridge to hold on to a WebFrame instead of a
	WebDataSource. Since we will no longer ever have a bridge for a
	provisional data source, we\'ll just bind the bridge to a
	frame. Which means we can merge the bridge and the frame bridge
	next.

        * WebCoreSupport.subproj/WebBridge.h:
	* WebCoreSupport.subproj/WebBridge.m: Changed below methods to work
	with direct knowledge of the frame but not the bridge (mostly a
	simplification).
        (-[WebBridge frame]):
        (-[WebBridge parent]):
        (-[WebBridge childFrames]):
        (-[WebBridge descendantFrameNamed:]):
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]):
        (-[WebBridge openNewWindowWithURL:]):
        (-[WebBridge areToolbarsVisible]):
        (-[WebBridge setToolbarsVisible:]):
        (-[WebBridge areScrollbarsVisible]):
        (-[WebBridge setScrollbarsVisible:]):
        (-[WebBridge isStatusBarVisible]):
        (-[WebBridge setStatusBarVisible:]):
        (-[WebBridge setWindowFrame:]):
        (-[WebBridge window]):
        (-[WebBridge setStatusText:]):
        (-[WebBridge mainFrame]):
        (-[WebBridge frameNamed:]):
        (-[WebBridge receivedData:withDataSource:]):
        (-[WebBridge objectLoadedFromCache:size:]):
        (-[WebBridge setFrame:]):
        (-[WebBridge dataSourceChanged]):
        (-[WebBridge dataSource]):
        (-[WebBridge openedByScript]):
        (-[WebBridge setOpenedByScript:]):

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _commitIfReady]): Set bridge\'s frame and notify
	that the data source changed.
	* WebView.subproj/WebFrame.m:
        (-[WebFrame initWithName:webView:provisionalDataSource:controller:]): Set
	bridge\'s frame.
        * WebView.subproj/WebFramePrivate.h, WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _bridge]): Method to get the bridge.


git-svn-id: svn://svn.chromium.org/blink/trunk@1625 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-22 11:45:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/adac8880707cdb1e6f7a6133e1c3add412b64dce');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn731014201l559lts5m9', 2, e'WebCore:

        Removed provisional/committed distinction from WebCore and the
	WebCore SPI. WebCore will never see a provisional data source or
	provisional anything, any more.

        * kwq/KWQScrollView.mm: Remove mention of provisional widget from comment.
        * kwq/WebCoreFrameBridge.h: Remove commitedBridge method, and remove comment
	about provisionality from bridge method.
	* kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::write): Remove bogus comment about provisional/committed
	transition.
        (KWQKHTMLPartImpl::findFrame): Call bridge, not committedBridge.
        (KWQKHTMLPartImpl::frames): Likewise.

WebKit:

        Removed provisional/committed distinction from WebCore and the
	WebCore SPI. WebCore will never see a provisional data source or
	provisional anything, any more.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge descendantFrameNamed:]): Don\'t bother with the provisional
	bridge - no such thing.
        (-[WebBridge setDataSource:]): Assert the data source is committed.
        * WebCoreSupport.subproj/WebFrameBridge.m:
        (-[WebFrameBridge bridge]): Return committed bridge always, and remove
	committed bridge method.


git-svn-id: svn://svn.chromium.org/blink/trunk@1624 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-22 08:32:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/33a508882f432b01aa3d24d6c0114a63ddd04714');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012f01l52h2lrqbf', 2, e'JavaScriptCore:

        * kjs/*: Roll KDE 3.0.2 changes in. Also switch to not using APPLE_CHANGES
	for some of the changes that we definitely want to contribute upstream.

WebCore:

	* khtml/*: Roll KDE 3.0.2 changes in. Also switch to not using APPLE_CHANGES
	for some of the changes that we definitely want to contribute upstream.

        * WebCore.pbproj/project.pbxproj: Add KWQStyle.mm, remove KWQStyle.h, moving contents
	into qstyle.h.

        * kwq/KWQApplication.mm: (QApplication::globalStrut): Remove _logNotYetImplemented().

        * kwq/KWQButton.mm: (QButton::QButton): Use plain release, not autorelease.
        * kwq/KWQComboBox.mm: (QComboBox::init): Use plain release, not autorelease.
        * kwq/KWQListBox.mm: (QListBox::QListBox): Use plain release, not autorelease.
        * kwq/KWQPainter.mm: (QPainter::drawArc): Use plain release, not autorelease.

        * kwq/KWQKHTMLPartBrowserExtension.mm: Remove import of KWQKHTMLPartImpl.h, now that
	it\'s always part of khtml_part.h.
        * kwq/KWQKHTMLPartImpl.cpp: Simplify.
        * kwq/KWQKHTMLPartImpl.h: Add wrapper to allow multiple inclusion. Don\'t include
	khtml_part.h any more, since that file now includes this one to minimize changes to
	KDE code that needs to get to functions in here.
        * kwq/KWQKHTMLPartImpl.mm:
        (KHTMLPart::onURL), (KHTMLPart::nodeActivated), (KHTMLPart::setStatusBarText):
	Moved here from khtml_part.cpp.
        * kwq/KWQLoaderImpl.mm: Include khtml_part.h instead of KWQKHTMLPartImpl.h.

        * kwq/KWQPushButton.mm:
        (buttonFontMetrics), (QPushButton::fontMetrics): Added. Used by the form code to size buttons.
        * kwq/KWQStyle.mm: Added.
        (QStyle::sizeFromContents): Added. Used by the form code to size buttons.

        * kwq/KWQStyle.h: Removed.
        * kwq/qt/qstyle.h: Moved contents of KWQStyle.h in here.
        * kwq/qt/qwidget.h: Include <qstyle.h> rather than KWQStyle.h.

        * kwq/WebCoreBridge.mm: (-[WebCoreBridge isFrameSet]): Call straight to impl.

        * kwq/kdeui/klineedit.h: Add KLineEdit::frameWidth().
        * kwq/qt/qnamespace.h: Remove GUIStyle, MacStyle, and WindowsStyle.
        * kwq/qt/qpaintdevice.h: Add QInternal, QInternal::Printer, and QPaintDevice::devType().
        * kwq/qt/qpainter.h: Add QPainter::device().
        * kwq/qt/qpushbutton.h: Add QPushButton::fontMetrics().


git-svn-id: svn://svn.chromium.org/blink/trunk@1623 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-22 05:38:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a271a5d3d8f31e55b234332e73071652a0b69225');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012g01l5p9qfd5e3', 2, e'WebCore:

	Fix a recent regression that made JavaScript window closing
	crash. Window closing was counting on delayed dealloc/destruction
	of things associated with the window, but now that we have made
	deallocs more synchronous, we need to add an explicit delay in
	this case.

	Also, change some fprintf diagnostics of things that should never
	happen into assertions, since I actually ran into one.

        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::slotData): Change fprintf diagnostic to assertion,
	remove comment that the diagnostic should be removed.
        (KWQKHTMLPartImpl::end): Change fprintf diagnostic to assertion,
	remove comment that the diagnostic should be removed.
        (KWQKHTMLPartImpl::scheduleClose): Renamed from close, changed to schedule
	window closing from the run loop rather than doing it immediately.
        * khtml/ecma/kjs_window.cpp:
        (Window::scheduleClose): Adjusted for above rename.

WebKit:

        Fix a regression in my recent refactoring that broke JavaScript
	window opening, by doing some trickery to make a frame\'s initial
	dummy data source committed.

        * WebView.subproj/WebFrame.m:
        (-[WebFrame initWithName:webView:provisionalDataSource:controller:]):
	Create dummy data source as committed, not provisional.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionToCommitted]): Allow the documentView to be nil
	if there is no webView either; this is temporarily needed to handle
	the special initial dummy data source, which will be going away soon.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _receivedData:]): Add temporary special case to
	avoid sending empty NSData to the representation, to avoid
	triggering WebCore assertions.
	* WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge openNewWindowWithURL:]): Get the committed data
	source, not the provisional one.


git-svn-id: svn://svn.chromium.org/blink/trunk@1622 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-22 01:59:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e3d0a50d3426ea2534a0cf5d3c56c9ec1d3543ad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012h01l5bp4x1nxk', 2, e'Alternate stylesheet support.  Fixed numerous bugs in the handling of alternate sheets and implemented the ability to select alternate sheets per 14.3.2 of the HTML4 spec.


git-svn-id: svn://svn.chromium.org/blink/trunk@1621 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-22 01:55:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/35966c45ba1f945a22b8c595ccbcef78eab39b4c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012i01l56d3p5mhz', 2, e'WebKit:

	Used darin-inspired code factoring to fix 3000801 (alex doesn\'t accept drag of webloc file) in 3 places where we accept drags.

        * Misc.subproj/WebNSViewExtras.h:
        * Misc.subproj/WebNSViewExtras.m:
        (-[NSView _web_parentWebView]): no changes
        (-[NSView _web_acceptableDragTypes]): added
        (-[NSView _web_bestURLForDraggingInfo:]): added
        (-[NSView _web_dragOperationForDraggingInfo:]): added
        * WebKit.pbproj/project.pbxproj: made WebNSViewExtras.h public
        * WebView.subproj/WebView.m:
        (-[WebView initWithFrame:]): calls _web_acceptableDragTypes
        (-[WebView draggingEntered:]): calls _web_dragOperationForDraggingInfo
        (-[WebView concludeDragOperation:]): calls _web_bestURLForDraggingInfo

WebBrowser:

	Used darin-inspired code factoring to fix 3000801 (alex doesn\'t accept drag of webloc file)
	in 3 places where we accept drags.

        * BrowserNSViewExtras.h:
        * BrowserNSViewExtras.m: removed locationField specific drag methods
        * LocationFieldEditor.m:
        (-[LocationFieldEditor acceptableDragTypes]): calls _web_acceptableDragTypes
        (-[LocationFieldEditor draggingEntered:]): calls _web_dragOperationForDraggingInfo
        (-[LocationFieldEditor draggingUpdated:]): calls _web_dragOperationForDraggingInfo
        (-[LocationFieldEditor concludeDragOperation:]): calls _web_bestURLForDraggingInfo
        * LocationTextField.m:
        (-[LocationTextField awakeFromNib]): calls _web_acceptableDragTypes
        (-[LocationTextField draggingEntered:]): calls _web_dragOperationForDraggingInfo
        (-[LocationTextField draggingUpdated:]): calls _web_dragOperationForDraggingInfo
        (-[LocationTextField concludeDragOperation:]): calls _web_bestURLForDraggingInfo


git-svn-id: svn://svn.chromium.org/blink/trunk@1620 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-21 21:23:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/10e13a28e8fe634498c4432811e7186ec31be2b5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012j01l5ddrqr9lq', 2, e'WebKit:

	- We were loading icons when page loads ended in error. Fixed.
	- Special-case file URLs once instead of twice by moving NSWorkspace
	  call out of WebIconLoader

        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader startLoading]): removed file URL special-case
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _loadIcon]): check for document error, send file

WebBrowser:

	- Comparison between a float and int was causing download history to be erased
	- Set the dock mini window to display # of active downloads

        * DownloadMonitor.h: renamed _hourlyTimer to _removeExpiredTimer
        * DownloadMonitor.m:
        (-[DownloadMonitor dealloc]):
        (-[DownloadMonitor updateProgressUI]): set mini dock title
        (-[DownloadMonitor windowDidLoad]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1619 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-21 17:54:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4ca3bd66441394c6c214dbaf378274e0eba80f09');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012k01l5hzweazr9', 2, e'top level:

        * Tests/ObjcUnit/Makefile.am: Remove products from symroots on `make clean\'.
        * Tests/TestPlugin/Makefile.am: Remove products from symroots on `make clean\'.
        * Tests/WebFoundation-CacheLoader/Makefile.am: Remove products from symroots on `make clean\'.

Tools:

        * CommitLogEditor/Makefile.am: Remove products from symroots on `make clean\'.
        * HotSpotFinder/Makefile.am: Remove products from symroots on `make clean\'.

JavaScriptCore:

        * Makefile.am: Remove products from symroots on `make clean\'.

WebFoundation:

        * Makefile.am: Remove products from symroots on `make clean\'.

WebCore:

        * Makefile.am: Remove products from symroots on `make clean\'.

WebKit:

        * Makefile.am: Remove products from symroots on `make clean\'.

WebBrowser:

        * Makefile.am: Remove products from symroots on `make clean\'.


git-svn-id: svn://svn.chromium.org/blink/trunk@1618 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-21 11:00:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2f5d01c8790ae65990ee5c95bcb875f380d56c59');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012l01l5n6ix8d8v', 2, e'        * WebCore.pbproj/project.pbxproj: Set directories for the group
	folders, so that creating new files in them will put them in the
	right directory by default.


git-svn-id: svn://svn.chromium.org/blink/trunk@1617 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-21 10:21:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/485edd0a521bd744d9b4970edc904f015dcb0b2a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012m01l5f05kvxse', 2, e'        * WebKit.pbproj/project.pbxproj: Set directories for the group
	folders, so that creating new files in them will put them in the
	right directory by default.


git-svn-id: svn://svn.chromium.org/blink/trunk@1616 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-21 09:37:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1fe542ae24035f987e9d7f1bf41f77f3d07eca86');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012n01l5bs5wno9q', 2, e'        More refactoring. Change bridge to get the data source via a
	method instead of straight from the ivar, and in the method,
	assert that the data source is not nil and is not
	provisional. Turns out no one was using it while provisional,
	which is great. This means we can eliminate the provisional
	concept from the bridge interface as the next step.

	* WebCoreSupport.subproj/WebBridge.h:
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge dataSource]): New method to get data source - assert
	it is not nil, and committed.
        (-[WebBridge frame]): Get data source from method.
        (-[WebBridge childFrames]): Likewise.
        (-[WebBridge descendantFrameNamed:]): Likewise.
        (-[WebBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]): Likewise.
        (-[WebBridge openNewWindowWithURL:]): Likewise.
        (-[WebBridge areToolbarsVisible]): Likewise.
        (-[WebBridge setToolbarsVisible:]): Likewise.
        (-[WebBridge areScrollbarsVisible]): Likewise.
        (-[WebBridge setScrollbarsVisible:]): Likewise.
        (-[WebBridge isStatusBarVisible]): Likewise.
        (-[WebBridge setStatusBarVisible:]): Likewise.
        (-[WebBridge setWindowFrame:]): Likewise.
        (-[WebBridge window]): Likewise.
        (-[WebBridge setTitle:]): Likewise.
        (-[WebBridge setStatusText:]): Likewise.
        (-[WebBridge mainFrame]): Likewise.
        (-[WebBridge frameNamed:]): Likewise.
        (-[WebBridge receivedData:withDataSource:]): Likewise.
        (-[WebBridge startLoadingResource:withURL:]): Likewise.
        (-[WebBridge objectLoadedFromCache:size:]): Likewise.
        (-[WebBridge setDataSource:]): Likewise.
        (-[WebBridge openedByScript]): Likewise.
        (-[WebBridge setOpenedByScript:]): Likewise.
        (-[WebBridge setIconURL:]): Likewise.
        (-[WebBridge setIconURL:withType:]): Likewise.
        * WebView.subproj/WebDataSourcePrivate.h,
	WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _isCommitted]): New private method to check if a
	data source is committed, for the benefit of WebBridge assertions.


git-svn-id: svn://svn.chromium.org/blink/trunk@1615 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-21 09:11:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ee5c8d1fdbf28178a2fce8e4a58188434fed9eeb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012o01l54n79r6dl', 2, e'Apologies for the lack of the changelog info.  I need help setting that up on my laptop.  I did edit the changelog, and you can see it there.  This is a fix to speed up list boxes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1614 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-21 07:46:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8c0680d5401aa61a67f8d8296317dc416bb42ce1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012p01l5be5u02xo', 2, e'        * WebKit.pbproj/project.pbxproj: Turn stricter warnings back on now that we
	don\'t use C++ any more.

        * Plugins.subproj/WebPluginView.m:
        (-[WebPluginView sendActivateEvent:]): Fix cast that stricter warning didn\'t like.
        (-[WebPluginView sendUpdateEvent]): Fix cast that stricter warning didn\'t like.
        (-[WebPluginView frameStateChanged:]): Remove unneeded cast that stricter warning didn\'t like.


git-svn-id: svn://svn.chromium.org/blink/trunk@1613 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-21 04:59:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d5ebeb29549e91c69b200112b1233c012cb1f401');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012q01l56ulq3i9p', 2, e'Fixing the FOUC problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@1609 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-21 02:48:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4aa3f0cca8d1b44693291484af78c364916cac35');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012r01l5tpe5esd5', 2, e'	- fixed 2999643 -- Leak of NSSet in -[IFStandardPanels _didStartLoadingURL:inController:]

	This is another case of the leak I fixed a month ago. I don\'t know how I managed to
	overlook this other code path with the identical bug.

        * Panels.subproj/WebStandardPanels.m:
        (-[WebStandardPanels _didStopLoadingURL:inController:]): Fix a leak caused
	by calling the wrong method. This was calling objectForKey: instead of
	removeObjectForKey:.


git-svn-id: svn://svn.chromium.org/blink/trunk@1608 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-21 02:37:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c4d6c2e6d0b7004e49c05e3fefc660023e800b2d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012s01l5b1v0dnx7', 2, e'WebCore:

        * khtml/css/css_ruleimpl.cpp: (CSSImportRuleImpl::~CSSImportRuleImpl):
	Fix a potential leak by doing setParent(0) here just as is done in
	CSSMediaRuleImpl.

        * kwq/WebCoreBridge.h: Fix a misspelling of visible.

WebKit:

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge areToolbarsVisible]):
        (-[WebBridge isStatusBarVisible]):
	Fix misspelling of visible.

WebBrowser:

	- fixed 2999637 -- CFStringRef leak in -[IFWebDataSource(IFPrivate) _setTitle:]

        * BrowserDocument.m: (-[BrowserDocument pageName]): Remove inexplicable "retain" call.

	- fixed another storage leak

        * LocationTextField.m: (-[LocationTextField setIcon:]): Release the icon when done.


git-svn-id: svn://svn.chromium.org/blink/trunk@1607 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-21 02:22:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fa4e15a537d3d886b464797e7992cd8110fefe12');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012t01l55ou3jhpd', 2, e'WebCore:

	Changed the code to handle "icon" and "SHORTCUT ICON" links
	separately, and give higher priority to the former.

	- fixed 3003672 - Assertion failure related to iconloader on metafilter

        * khtml/html/html_headimpl.cpp:
        (HTMLLinkElementImpl::process): Changed to handle both "icon" and
	"SHORTCUT ICON" links properly.
        * kwq/KWQKHTMLPartBrowserExtension.mm:
	(KHTMLPartBrowserExtension::setIconURL): Moved here from
	KWQKHTMLPartImpl to do it more the way KDE does.
        (KHTMLPartBrowserExtension::setTypedIconURL): New method for
	handling moz-style icon links, which include a type as well as a
	URL.
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::loadIcon): Removed.
        * kwq/WebCoreBridge.h: Prototype setIcon: and setIcon:withType: methods.
        * kwq/khtml/khtml_ext.h: Prototype new methods.
        * kwq/kparts/browserextension.h: Make setIcon pure virtual instead
	of a no-op.

WebKit:

	Changed the code to handle "icon" and "SHORTCUT ICON" links
	separately, and give higher priority to the former.

	Also, we don\'t start loading the icon the moment khtml finds one
	in the document any more, instead we wait until the document is
	done loading, in case there are both "icon" and "SHORTCUT ICON"
	link tags.

	- fixed 3003672 - Assertion failure related to iconloader on metafilter

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge setIconURL:]): Forward to the data source.
        (-[WebBridge setIconURL:withType:]): Likewise.
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): Release iconURL.
        (-[WebDataSource _setDefaultIconURLIfUnset]): Renamed from
	_loadPageIconIfNecessary, and changed to only set iconURL rather
	than actually loading.
        (-[WebDataSource _setPrimaryLoadComplete:]): Call _loadIcon
	instead of _loadPageIconIfNecessary, since we defer all loads to
	this point.
        (-[WebDataSource _loadIcon]): Load current iconURL if set.
        (-[WebDataSource _setIconURL:]): Set iconURL if not set already
	(since typed icons are higher priority).
        (-[WebDataSource _setIconURL:withType:]): Set the iconURL.


git-svn-id: svn://svn.chromium.org/blink/trunk@1606 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-21 01:22:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1235c97bab5351bc8db91246fda801e7fd143c70');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012u01l59n089jet', 2, e'	- fixed 2999616 -- Possible leak in +[IFPluginDatabase installedPlugins]

        * Plugins.subproj/WebPluginDatabase.m:
        (+[WebPluginDatabase installedPlugins]): Move the code into an init function.
        (pluginLocations): Simplified.
        (-[WebPluginDatabase init]): Added. Cleaned up a bit, and made it release the
	WebPlugin objects -- this was the leak.
        (-[WebPluginDatabase dealloc]): Added.

        * Plugins.subproj/WebPluginDatabase.h: Tweaked formatting.

        * Plugins.subproj/WebPluginStream.h:
        * Plugins.subproj/WebPluginStream.m:
        (-[WebPluginStream startLoad]):
        (-[WebPluginStream stop]):
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (+[WebSubresourceClient startLoadingResource:withURL:dataSource:]):
        (-[WebSubresourceClient WebResourceHandleDidCancelLoading:]):
        (-[WebSubresourceClient WebResourceHandleDidFinishLoading:data:]):
        (-[WebSubresourceClient WebResourceHandle:didFailLoadingWithResult:]):
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource stopLoading]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]):
        (-[WebDataSource _setPrimaryLoadComplete:]):
        (-[WebDataSource _startLoading:]):
        (-[WebDataSource _addResourceHandle:]):
        (-[WebDataSource _removeResourceHandle:]):
	Changed code that called it a URLHandle to say resourceHandle.

        * WebView.subproj/WebFrame.m: (-[WebFrame dealloc]): Add an autorelease pool here since
	this is called from a timer and AppKit does not use an explicit autorelease pool
	in that case. This makes the "world leak check" work better, and is mildly helpful
	in other cases too. Radar 3003650 is a request for the AppKit team to fix this, but
	this workaround will do for now.


git-svn-id: svn://svn.chromium.org/blink/trunk@1605 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-20 21:12:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cbe7374f6b0aba6e25875be06db28af5e43cfb5a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012v01l5583vv91m', 2, e'WebFoundation:

        * CacheLoader.subproj/WebResourceClient.h: Renamed a couple of the client protocol
	methods to remove a double mention of the word "resource".

        * CacheLoader.subproj/WebResourceCallbackClient.m:
        * CacheLoader.subproj/WebResourceHandle.m:
        Updated for the above name change.

        * WebFoundation.pbproj/project.pbxproj:
	Moved the C APIs to their own group.

WebKit:

	- fixed 3001951 -- Massive memory leak after running base or static PLT

        * WebView.subproj/WebDataSourcePrivate.m: (-[WebDataSource _makeRepresentation]):
	Add a missing release.

	Reduced our use of autorelease. This allows the page load test to detect leaks of the
	world much more easily. We may later find we need to use the "retain autorelease" idiom
	in a few more places, but I did a lot of testing and that did not show up.

        * Bookmarks.subproj/WebBookmarkGroup.m:
        (-[WebBookmarkGroup _setTopBookmark:]): Use a plain release.
        (-[WebBookmarkGroup _loadBookmarkGroupGuts]): Use a plain release.
        * Bookmarks.subproj/WebBookmarkList.m:
        (-[WebBookmarkList copyWithZone:]): Use a plain release.
        * Misc.subproj/WebIconLoader.m:
        (-[WebIconLoader WebResourceHandleDidFinishLoading:data:]): Use a plain release.
        * Plugins.subproj/WebPluginView.m:
        (-[WebPluginView loadURL:inTarget:withNotifyData:andHandleAttributes:]): Use a plain release.
        * WebView.subproj/WebController.m:
        (-[WebController createFrameNamed:for:inParent:allowsScrolling:]): Use a plain release.
        (-[WebController setWindowContext:]): Use a plain release.
        (-[WebController setResourceProgressHandler:]): Use a plain release.
        (-[WebController setDownloadProgressHandler:]): Use a plain release.
        (-[WebController setPolicyHandler:]): Use a plain release.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebControllerPrivate dealloc]): Use plain release.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]): Use plain release.
        (-[WebDataSource _setPrimaryLoadComplete:]): Use plain release.
        (-[WebDataSource _setTitle:]): Use plain release.
        * WebView.subproj/WebFrame.m:
        (-[WebFrame initWithName:webView:provisionalDataSource:controller:]): Use plain release.
        (-[WebFrame reset]): Invalidate and release the timer.
        * WebView.subproj/WebFramePrivate.h: Keep a reference to the timer.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFramePrivate dealloc]): Invalidate and release the timer. Use plain release.
        (-[WebFramePrivate setName:]): Use plain release.
        (-[WebFramePrivate setWebView:]): Use plain release.
        (-[WebFramePrivate setDataSource:]): Use plain release.
        (-[WebFramePrivate setProvisionalDataSource:]): Use plain release.
        (-[WebFrame _scheduleLayout:]): Keep a reference to the timer.
        (-[WebFrame _timedLayout:]): Release and nil the timer.
        * WebView.subproj/WebRenderNode.m:
        (-[WebRenderNode initWithName:rect:view:children:]): Use plain release.
        * WebView.subproj/WebView.m:
        (-[WebView concludeDragOperation:]): Use plain release.
        * WebView.subproj/WebViewPrivate.m:
        (-[WebView _makeDocumentViewForDataSource:]): Use plain release.

	Other changes to make the new page load test feature work.

        * Misc.subproj/WebKitStatistics.h:
        * Misc.subproj/WebKitStatistics.m:
        (+[WebKitStatistics HTMLRepresentationCount]):
	Added a stat for WebHTMLRepresentation objects.
        * WebView.subproj/WebHTMLRepresentation.m:
        (-[WebHTMLRepresentation init]): Bump the count.
        (-[WebHTMLRepresentation dealloc]): Decrement the count.

	Renaming.

        * Misc.subproj/WebCoreStatistics.h:
        * Misc.subproj/WebKitStatisticsPrivate.h:
        * Misc.subproj/WebCoreStatistics.m:
        (+[WebCoreStatistics emptyCache]):
        (+[WebCoreStatistics setCacheDisabled:]):
	Renamed to include the word cache now that the class does not.

        * Plugins.subproj/WebPluginStream.m:
        * WebCoreSupport.subproj/WebSubresourceClient.m:
        * WebView.subproj/WebMainResourceClient.m:
        Updated for the WebFoundation renaming.

WebBrowser:

	- fixed 3002602 -- make Page Load Test close windows, check for leaked JS interpreters before and after

        * AppController.m:
        * Debug/CacheController.m:
	Update for WebCoreStatistics method name changes.

        * BrowserWebController.m: Tweak.

        * Test/PageLoadTest.nib: Add new button to control whether we do "leak the world" checking.

        * Test/PageLoadTestController.h: New action and outlet for leak the world button.
        * Test/PageLoadTestController.m:
        (-[PageLoadTestController init]): New notification for leak the world message.
        (-[PageLoadTestController windowDidLoad]): Add code for leak the world button and new default.
        (-[PageLoadTestController toggleCheckForWorldLeaks:]): Added.
        (-[PageLoadTestController detectedWorldLeak:]): Added. Puts up sheet.
        (-[AppController pageLoadTestController]): Moved global in here so it can be more private.

        * Test/PageLoadTestLogger.m:
	Updated for url -> URL method name change.

        * Test/PageLoadTestRunner.h: Add method to control leak the world checking. Also do url -> URL.
        * Test/PageLoadTestRunner.m:
        (-[NSWindow closeIfBrowserWindow]): Added. Used to close all browser windows for leak the world checking.
        (-[PageLoadTestRunner init]): Default for checkForWorldLeaks is YES.
        (-[PageLoadTestRunner clearCacheWithURL:]): Update for empty cache method name change.
        (-[PageLoadTestRunner addLeakToArray:count:name:]): Added. Helper for constructing string.
        (-[PageLoadTestRunner closeBrowserWindows]): Added.
        (-[PageLoadTestRunner finishCheckingForWorldLeaks]): Added; done after a delay.
        (-[PageLoadTestRunner checkForWorldLeaks]): Do the leak check.
        (-[PageLoadTestRunner checkForWorldLeaksNow]): Do the leak check without delay.
        (-[PageLoadTestRunner testDone]): Check for leaks when the test is done.
        (-[PageLoadTestRunner start]): Check for world leak objects before the test starts.
        (-[PageLoadTestRunner pageLoadStarted:]): Use our own autorelease pool to make objects less "lingery".
        (-[PageLoadTestRunner pageLoadDone:]): Use our own autorelease pool to make objects less "lingery".
        (-[PageLoadTestRunner setCheckForWorldLeaks:]): Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@1604 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-20 00:00:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ee47ca398947d17a1fe02d0c713389120f4cbc39');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012w01l515cvqorv', 2, e'top level:

        * Site/favicon.ico: Removed.

WebCore:

	Per darin, only define loadIcon in KWQKHTMLPartImpl

        * khtml/html/html_headimpl.cpp:
        (HTMLLinkElementImpl::process):
        * khtml/khtml_part.cpp:
        * khtml/khtml_part.h:

WebKit:

        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _loadPageIconIfNecessary]): use the correct relative string to request favicon.ico


git-svn-id: svn://svn.chromium.org/blink/trunk@1603 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-19 21:19:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2e366ef84368aa166d8f64a44a6abfd3c02c57a9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012x01l5123gvhdh', 2, e'        * History.subproj/WebHistoryItem.m:
        (-[WebHistoryItem image]): call [WebIconLoader defaultIcon]
        * Misc.subproj/WebIconLoader.m:
        (+[WebIconLoader defaultIcon]): move bundle image loading code from [WebHistoryItem image] to here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1602 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-19 19:58:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/88b910ba35227b708de0918364a31e634296e8ab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012y01l5zk3155x8', 2, e'Fixed build failure by making WebIconLoader.h public


git-svn-id: svn://svn.chromium.org/blink/trunk@1601 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-19 19:36:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6562e9a47c0679fd6cceb05782f39050e8992ce3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va012z01l5ustc3z0i', 2, e'top level:

        * Site/favicon.ico: Added.

WebCore:

	Added support favicons.

        * khtml/html/html_headimpl.cpp:
        (HTMLLinkElementImpl::process): added an APPLE_CHANGES
        * khtml/khtml_part.cpp:
        (KHTMLPart::loadIcon): added
        * khtml/khtml_part.h: added loadIcon
        * kwq/KWQKHTMLPartImpl.h: added loadIcon
        * kwq/KWQKHTMLPartImpl.mm: added loadIcon
        (KWQKHTMLPartImpl::loadIcon):
        * kwq/WebCoreBridge.h: added loadIcon

WebKit:

	Added support favicons.

        * Misc.subproj/WebIconLoader.h: Added.
        * Misc.subproj/WebIconLoader.m: Added.
        (-[WebIconLoaderPrivate dealloc]):
        (+[WebIconLoader defaultIcon]):
        (-[WebIconLoader initWithURL:]):
        (-[WebIconLoader dealloc]):
        (-[WebIconLoader setDelegate:]):
        (-[WebIconLoader startLoading]):
        (-[WebIconLoader startLoadingOnlyFromCache]):
        (-[WebIconLoader stopLoading]):
        (-[WebIconLoader WebResourceHandleDidBeginLoading:]):
        (-[WebIconLoader WebResourceHandleDidCancelLoading:]):
        (-[WebIconLoader WebResourceHandleDidFinishLoading:data:]):
        (-[WebIconLoader WebResourceHandle:resourceDataDidBecomeAvailable:]):
        (-[WebIconLoader WebResourceHandle:resourceDidFailLoadingWithResult:]):
        (-[WebIconLoader WebResourceHandle:didRedirectToURL:]):
        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge loadIcon:]): added
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _mainReceivedError:forResourceHandle:partialProgress:fromDataSource:]):
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSourcePrivate dealloc]):
        (-[WebDataSource _loadPageIconIfNecessary]): added
        (-[WebDataSource _setPrimaryLoadComplete:]): start loading icon
        (-[WebDataSource _stopLoading]): stop icon loader
        (-[WebDataSource receivedPageIcon:]): added
        (-[WebDataSource _loadIcon:]): added
        * WebView.subproj/WebLocationChangeHandler.h:

WebBrowser:

	Added support favicons.

        * BrowserDocument.m:
        (-[BrowserDocument _receivedPageIcon:]): added
        * BrowserDocumentPrivate.h:
        * BrowserWindowController.h:
        * BrowserWindowController.m:
        (-[BrowserWindowController frameLoadCommitted:]): switch to default icon
        (-[BrowserWindowController mouseDownInRightButton:]):
        (-[BrowserWindowController setPageIcon:]): added
        * LocationChangeHandler.m:
        (-[LocationChangeHandler receivedPageIcon:forDataSource:]): added
        * LocationTextField.h:
        * LocationTextField.m:
        (-[LocationTextField setDisplayAttributes]):
        (-[LocationTextField setIcon:]): set the icon size to 16x16
        * Resources/Images/url_icon.tiff: Removed.
        * TextFieldWithControls.h:
        * TextFieldWithControls.m: renamed _completeImage to _backgroundImage
        (-[TextFieldWithControls dealloc]):
        (-[TextFieldWithControls backgroundImage]):
        (-[TextFieldWithControls setFrameSize:]):
        (-[TextFieldWithControls showRightButton:]):
        (-[TextFieldWithControls setLeftCapImage:]):
        (-[TextFieldWithControls setRightCapImage:]):
        (-[TextFieldWithControls setMiddleImage:]):
        (-[TextFieldWithControls setLeftButtonImage:withOrigin:]):
        (-[TextFieldWithControls setRightButtonImage:withOrigin:]):
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1600 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-19 19:04:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ddc493ecdb8e409888f8976d6f6436992515552e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va013001l5g61ii09z', 2, e'        * WebKit.pbproj/project.pbxproj: Forgot to export WebKitStatistics.h so it can
	be used by WebBrowser.


git-svn-id: svn://svn.chromium.org/blink/trunk@1599 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-19 18:16:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3b1bc6b5c0805ae30edbbc137063e654ccd0f1f0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va013101l5wuc5dztf', 2, e'WebCore:

        * khtml/css/makeprop: Fail if we don\'t find gperf.
        * khtml/misc/makeattrs: Fail if we don\'t find gperf.
        * khtml/misc/maketags: Fail if we don\'t find gperf.

WebKit:

	Added some stats that we can use to sniff out "leak the world" problems.

        * Misc.subproj/WebKitStatistics.h: Added.
        * Misc.subproj/WebKitStatistics.m: Added.
        * Misc.subproj/WebKitStatisticsPrivate.h: Added.

        * WebKit.pbproj/project.pbxproj: Added new files.

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge init]): Bump count.
        (-[WebBridge dealloc]): Decrement count.
        * WebView.subproj/WebController.m:
        (-[WebController initWithView:provisionalDataSource:]): Bump count.
        (-[WebController dealloc]): Decrement count.
        * WebView.subproj/WebDataSource.m:
	(-[WebDataSource initWithURL:attributes:flags:): Bump count.
        (-[WebDataSource dealloc]): Decrement count.
        * WebView.subproj/WebFrame.m:
        (-[WebFrame initWithName:webView:provisionalDataSource:controller:]): Bump count.
        (-[WebFrame dealloc]): Decrement count.
        * WebView.subproj/WebView.m:
        (-[WebView initWithFrame:]): Bump count.
        (-[WebView dealloc]): Decrement count.


git-svn-id: svn://svn.chromium.org/blink/trunk@1598 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-19 18:02:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/75c9ca69b8350c53fc6f29cd15c4d8c767228805');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va013201l51edra2dy', 2, e'        More refactoring: Use assertions to make sure a provisional data
	source\'s bridge is never used - and then fix the places where it
	would have been used. :-)

	* WebView.subproj/WebDataSource.m:
        (-[WebDataSource documentTextFromDOM]): Return nil if the document
	is not committed.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _stopLoading]): Don\'t tell the bridge to stop
	if we\'re provisional, because we won\'t have one.
        (-[WebDataSource _setFinalURL:]): Don\'t try to set the bridge URL
	if we are not committed - it will get set at commit time.
        (-[WebDataSource _removeFromFrame]): Assert that the data soource is
	committed - a provisional data source should never be removed from a frame
	because it should never be in a frame in the first place.
        (-[WebDataSource _bridge]): Assert that the view is committed.
        (-[WebDataSource _commitIfReady]): Do nothing if already committed.
        (-[WebDataSource _receivedData:]): Notice that first byte was read,
	if appropriate, and commit when ready.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient WebResourceHandle:didRedirectToURL:]):
	Simplify code by using [WebDataSource _receivedData:]


git-svn-id: svn://svn.chromium.org/blink/trunk@1597 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-19 10:43:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f1886258c569a65ba8f760488ce42b8bf7a1bf16');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va013301l5wppughr5', 2, e'        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge installInFrame:]): Assert that this bridge is
	either for the main frame, or that it\'s frame has a render
	part. If neither of these conditions is met, the view will never
	get installed in the view hiearchy leading to nasty silent
	failure; and this condition should be guaranteed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1596 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-19 09:33:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/11b6d2f9180d674585abb0c18a1c3bb455de0f97');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va013401l5ei00xuep', 2, e'        Fix a regression caused by a previous commit that broke frames.

	* WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge receivedData:withDataSource:]): Instead setting the data source
	implicitly here, and doing other special first-time init, simply assert that
	we have a data source.
        (-[WebBridge setDataSource:]): Do the extra work when setting the data
	source here instead.
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _commitIfReady]): After making the
	representation, set the data source, because we no longer pass the
	first data chunk _before_ transitioning to committed, instead we
	do it right after, so the logic in WebBridge to do it implicitly
	was not going to cut it.


git-svn-id: svn://svn.chromium.org/blink/trunk@1595 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-19 09:13:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d502e0db484ec86634bfb5de65ced4a9eb09c2e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va013501l5mckrdbri', 2, e'	More refactoring: Simplify a bit more by moving more logic into
	the data source.

        * WebView.subproj/WebDataSourcePrivate.h, WebView.subproj/WebDataSourcePrivate.m:
	(-[WebDataSource _gotFirstByte]): Removed.
	(-[WebDataSource _setGotFirstByte]): Removed.
        (-[WebDataSource _isReadyForData]): Removed.
        (-[WebDataSource _receivedData:]): Commit if appropriate, and pass data to
	representation and documentView.
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient
	WebResourceHandle:resourceDataDidBecomeAvailable:]): Change the
	check back to policy != None, because the first chunk will trigger
	a commit in the policy == Show case, so there is no need to worry
	about it.


git-svn-id: svn://svn.chromium.org/blink/trunk@1594 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-19 05:10:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ee834088e715a434cb13f112cc1da2d76c394bf2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va013601l5mj4z3tqv', 2, e'        Rename some methods for clarity. These two methods are defined by
	the end state, not the start state (in fact,
	transitionToLayoutAcceptable does most of it\'s work when it starts
	in the cimmitted state, not provisional).

	* WebView.subproj/WebFramePrivate.h, WebView.subproj/WebFramePrivate.m:
	(-[WebFrame _transitionToLayoutAcceptable]): Renamed from
	_transitionProvisionalToLayoutAcceptable.
        (-[WebFrame _transitionToCommitted]): Renamed from
	_transitionProvisionalToLayoutAcceptable.

	And adjust all the calls to them:

        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _receivedProgress:forResourceHandle:fromDataSource:complete:]):
        (-[WebController _mainReceivedProgress:forResourceHandle:fromDataSource:complete:]):
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _commitIfReady]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1593 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-19 04:37:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1928bffbf894d4059b877b6a4cc08df86fefbaea');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va013701l5qzflnxcy', 2, e'	Even more exciting refactoring. Change the rules for committing
	the data source and creating the representation so that both
	happen when the first byte has been received _and_ the content
	policy has been set to show. Previously these actions happened at
	different times. Now we maintain the invariant that the data
	source has a representation if and only if it is committed.

	* WebView.subproj/WebController.m:
        (-[WebController haveContentPolicy:andPath:forDataSource:]): Simplify
	further by putting more of the work in WebDataSource.
        * WebView.subproj/WebControllerPrivate.m:
        (-[WebController _mainReceivedProgress:forResourceHandle:fromDataSource:complete:]):

        * WebView.subproj/WebDataSource.h, WebView.subproj/WebDataSource.m: Move
	makeRepresentation method to private file.
        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _setContentPolicy:]): If the policy is set to show,
	commit if we have already gotten the first byte.
        (-[WebDataSource _commitIfReady]): Create representation and
	commit if we have the first byte and have a policy of show.
	(-[WebDataSource _gotFirstByte]): Method to check if this data source
	has gotten the first byte yet. Commit here if ready.
	(-[WebDataSource _setGotFirstByte]): Method to report that some
	data has been received.
        (-[WebDataSource _makeRepresentation]): Make and set up teh document view too.
        (-[WebDataSource _isReadyForData]): Return TRUE if policy is set (and if the policy
	is Show, if we have also received the first byte.
        * WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionProvisionalToCommitted]): Don\'t call the datasource (it now
	calls us)
        * WebView.subproj/WebMainResourceClient.m:
        (-[WebMainResourceClient WebResourceHandle:resourceDataDidBecomeAvailable:]):

        * WebView.subproj/WebView.h, WebView.subproj/WebView.m: move
	makeDocumentViewForDataSource...
	* WebView.subproj/WebViewPrivate.h, WebView.subproj/WebViewPrivate.m:
        (-[WebView _makeDocumentViewForDataSource:]): To here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1592 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-19 04:13:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8f7ad8efff7d5b6f7835efa76b172a5672a1ce7f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn5va013801l5utdhby8h', 2, e'        * khtml/css/css_valueimpl.cpp:
        Changed the QRegExps used for font family matching to statics.  Helped out
        one page on the base tests a fair bit.  Overall (spread over all 40 pages)
        it\'s not that big though.


git-svn-id: svn://svn.chromium.org/blink/trunk@1591 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-19 00:06:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/35ceaab66daaccf14af3d5bd8219a94bd3b36ff0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011l01l51wjmys1h', 2, e'	Avoid throwing an exception while stopping animations. Image
	renders were getting into the array multiple times, which means
	the code that iterated over the array backwards could throw an
	exception, because callling removeObject: on the array would remove
	all instances of the object.

	This probably fixes the following crashers, and a bunch of huge leaks:

	Radar 2999853 - Uninitialized memory access in plugins on theonion.com
	Radar 2999892 - Crash disconnecting view from next view chain on theonion.com
	Radar 2999911 - Infinite loop in [WebHTMLView dealloc], resulting in crash

        * WebCoreSupport.subproj/WebImageRenderer.m:
        (-[WebImageRenderer scheduleFrame]): Move adding to array of image
	renderers from here...
        (-[WebImageRenderer beginAnimationInRect:fromRect:]): To here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1590 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-18 19:05:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/551b03f352bf8309547b067c396dcb15b266c3e9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011m01l569wzek3y', 2, e'        Small change that gives us 25% speedup (uncached) on the cvs-base suite.

        * khtml/css/cssstyleselector.cpp:
        Optimized CLASS style comparison to avoid allocing QStrings when the CLASS
        attribute only contains one entry (as opposed to a list of entries).


git-svn-id: svn://svn.chromium.org/blink/trunk@1589 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'hyatt', '2002-07-18 18:22:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fe3c39d04c5084742e6254c9979a14e08d3e2628');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011n01l5s9i0vftu', 2, e'markers & version for Alex-13


git-svn-id: svn://svn.chromium.org/blink/trunk@1587 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-07-18 16:35:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/556c9c7ac75215e8761ffcc191fd1c34c1b9bd9d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011o01l52xdjrcu7', 2, e'	Yet still more refactoring in preparation for the KHTMLPart
	change. This is preparing things to change the commit rule to
	require receiving at least one byte of data, and having the
	content policy set to Show.

        * WebView.subproj/WebController.m:
        (-[WebController haveContentPolicy:andPath:forDataSource:]): Remove
	more code since makeRepresentation now does most of the work.
        * WebView.subproj/WebDataSource.m:
        (-[WebDataSource makeRepresentation]): Tell the WebView (if any) to create
	the documentView now too.
        * WebView.subproj/WebView.h:
        * WebView.subproj/WebView.m:
        (-[WebView makeDocumentViewForDataSource:]): Hook document view up to data
	source.


git-svn-id: svn://svn.chromium.org/blink/trunk@1586 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-18 08:46:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6e8d16cc05ad3a4779e057bf861b9df06853257c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011p01l5oi08x156', 2, e'	Some refactoring in preparation for the KHTMLPart change.

        * WebView.subproj/WebDataSourcePrivate.h,
	WebView.subproj/WebDataSourcePrivate.m:
        (-[WebDataSource _stopLoading]): Bail early if not loading.
        (-[WebDataSource _commit]): Method to mark when the data source is
	committed (it now knows whether it\'s committed or
	provisional). This will be useful for adding assertions later on
	about what operations may happen only when committed, and which
	can only happen when provisional.

	* WebView.subproj/WebFramePrivate.m:
        (-[WebFrame _transitionProvisionalToCommitted]): Call data
	source\'s _commit method.


git-svn-id: svn://svn.chromium.org/blink/trunk@1585 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-18 07:47:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/693510543a65f98e38cc7a6f3c7e3bd751a67d60');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011q01l5g5j5k6r5', 2, e'Made WebDocument.h public.


git-svn-id: svn://svn.chromium.org/blink/trunk@1584 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-18 03:55:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/711b1f0ecd8847505a1303151b9cb1bd2cb449a0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011r01l59n5wcqy7', 2, e'        * WebView.subproj/WebHTMLView.m:
        Removed unnecessary (and incorrect) lockFocus.


git-svn-id: svn://svn.chromium.org/blink/trunk@1583 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-18 03:13:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/58735c941f07821257f2222645f6534502b1fa15');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011s01l5ecd22mel', 2, e'	Some refactoring in preparation for the KHTMLPart change.

        * WebView.subproj/WebController.m:
	(-[WebController haveContentPolicy:andPath:forDataSource:]): Move
	more of the work of creating and setting the representation and
	document view into WebDataSource and WebView.

        * WebView.subproj/WebDataSource.h,
	WebView.subproj/WebDataSource.m:
	(+[(id <WebDocumentRepresentation>) createRepresentationForMIMEType:]): Removed.
        (-[WebDataSource makeRepresentation]): A method to build the right
	kind of representation for the content type.

        * WebView.subproj/WebDataSourcePrivate.h:
        * WebView.subproj/WebDataSourcePrivate.m:
	(-[WebDataSource _representationClass]): Method to get the right
	representation class for the current content type.
	(-[WebDataSource _bridge]): Move here from WebBridge.[mh], so we
	can later add an assertion that the data source is not provisional.

        * WebView.subproj/WebHTMLViewPrivate.m: #import WebDataSourcePrivate.h
        * WebView.subproj/WebView.h, WebView.subproj/WebView.m:
	(+[(id <WebDocumentRepresentation>) createDocumentViewForMIMEType:]): Removed.
	(-[WebView makeDocumentViewForMIMEType:]): Method to build the
	right kind of document view for the specified MIME type.


git-svn-id: svn://svn.chromium.org/blink/trunk@1582 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-17 22:24:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ac47a89c93eaed9303b0c2a9e0ab887008dfbbf3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011t01l5wd7yh6ol', 2, e'        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::requestFrame):
	Take out bogus check for nil path -- a URL with a nil path is OK, for example "about:blank".
	Also improved log message.


git-svn-id: svn://svn.chromium.org/blink/trunk@1581 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-17 22:02:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7f696e12426e9a5015d8b30f36f20b8378ebc37d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011u01l567pixtqc', 2, e'WebKit:

        * History.subproj/WebBackForwardList.m: Replace MyCompanyName with Apple Computer.
        (-[WebBackForwardList init]): Fix strange [super init] logic to be standard.
        * History.subproj/WebHistoryItem.h: Replace MyCompanyName with Apple Computer.
        * Misc.subproj/WebDownloadHandler.h: Replace MyCompanyName with Apple Computer.

WebBrowser:

        * LocationTextField.h: Replace MyCompanyName with Apple Computer.
        * LocationTextField.m: Replace MyCompanyName with Apple Computer.


git-svn-id: svn://svn.chromium.org/blink/trunk@1580 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-17 04:26:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0f267e3082b602df1788ec846f4a30ffdc57b0e9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011v01l5tpycjgkr', 2, e'	- fixed 2997891 -- Alexander confused about base page URL for relative links

        * WebCoreSupport.subproj/WebSubresourceClient.m:
        (-[WebSubresourceClient WebResourceHandle:didRedirectToURL:]):
	Don\'t tell the bridge the URL changed. The bridge doesn\'t care about redirects
	for subresources (and if it did, we\'d need some way to tell it that this was
	a subresource redirect).

        * WebCoreSupport.subproj/WebBridge.m: Formatting tweaks.
        * WebCoreSupport.subproj/WebImageRenderer.m: Formatting tweaks.
        * WebView.subproj/WebView.m: Formatting tweaks.


git-svn-id: svn://svn.chromium.org/blink/trunk@1579 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-17 04:15:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9462ea221c94b52b6a4f8f082695a14f8d2790b6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011w01l5z0jysac6', 2, e'        Really, stop animation if last frame has zero duration, like IE.
        Was checking adjustedFrameDuration, which is never zero.

        * WebCoreSupport.subproj/WebImageRenderer.m:
        (-[WebImageRenderer unadjustedFrameDuration]):
        (-[WebImageRenderer frameDuration]):
        (-[WebImageRenderer nextFrame:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1578 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-17 02:39:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/228f0d3d1d2e1ae1a511661f02c25e8abae9c689');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011x01l5r2fytebw', 2, e'WebKit:
Corrected bug number in previous ChangeLog message.


git-svn-id: svn://svn.chromium.org/blink/trunk@1577 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-17 01:14:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cd836abb181370e18e2c0bb9d478e178cc1a45b7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011y01l5of56vmhu', 2, e'WebCore:

        Moved URL mouseover status to KWQKHTMLPartImpl, and made it
	responsive to modifier key presses, if enabled. Fixes:

	Radar 2980152 - Link mouseover status messages are not localizable
	Radar 2982043 - Link mouse-over status should change in response to modifier keys

	* khtml/khtml_part.cpp:
        (KHTMLPart::overURL): Remove extensive APPLE_CHANGES, and just call the
	impl method.
        * kwq/KWQKHTMLPartImpl.h: Prototype overURL method.
        * kwq/KWQKHTMLPartImpl.mm:
        (KWQKHTMLPartImpl::overURL): Construct status messages using format strings
	for localizability; change message in response to modifiers if modifier
	tracking is enabled.
        * kwq/WebCoreBridge.h: Prototype modifierTrackingEnabled method.

WebKit:

	WebKit part of fix for:

	Radar 2982043 - Link mouseover status messages are not localizable

        * WebCoreSupport.subproj/WebBridge.m:
        (-[WebBridge modifierTrackingEnabled]): Implemented by checking
	bit on WebHTMLView class.
	* WebKit.pbproj/project.pbxproj: Install WebHTMLViewPrivate as a
	Private header.
        * WebView.subproj/WebHTMLViewPrivate.h: Prototype new modifier tracking SPI.
        * WebView.subproj/WebHTMLViewPrivate.m:
	(+[WebHTMLView _setModifierTrackingEnabled:]): Method to inform
	WebHTMLView that modifier tracking is working.
        (+[WebHTMLView _modifierTrackingEnabled]): Obligatory getter.
        (+[WebHTMLView _postFlagsChangedEvent:]): Method to report
	flagsChanged events. Creates corresponding fake mouseMoved event
	and sends it as a notification.

WebBrowser:

	WebBrowser part of fix for:

	Radar 2982043 - Link mouseover status messages are not localizable

        * AppController.m:
        (-[AppController awakeFromNib]): Enable modifier tracking.
        * BrowserWindowController.m:
        (-[BrowserWindowController windowWillHandleKeyEvent:]): Post
	NSFlagsChanged events to WebHTMLView.


git-svn-id: svn://svn.chromium.org/blink/trunk@1576 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-17 00:48:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b2c9257f0a81694f5592629bb8d495fe953b1ad8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn011z01l53s58y6fy', 2, e'        Fixed field length test.  We were testing >= instead of >.
        * kwq/KWQNSTextField.mm:
        (-[KWQNSTextFieldFormatter isPartialStringValid:newEditingString:errorDescription:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1575 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-17 00:11:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4fd5eb38ee6b8831a7dad13596eb2a91908259c1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012001l5xz8h494c', 2, e'WebCore:

	- fixed 2997244 -- crash when visiting cnn.com followed by another page

	Turns out the requestFrame code I\'ve been tinkering with used to be
	dead code until we accidentally re-triggered the code path.

        * khtml/html/html_baseimpl.cpp: (HTMLFrameElementImpl::attach):
	Remove APPLE_CHANGES that were causing us to reuse the same frame which
	were an attempt to fix a frame targeting problem that was actually elsewhere.

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::requestFrame): Remove the code
	that handles the case of an already-existing frame with the same name. This
	is handled at a higher level.

        * kwq/WebCoreBridge.h: Remove now-unneeded childFrameNamed method.

WebKit:

        * WebCoreSupport.subproj/WebBridge.m:
	Remove childFrameNamed since it\'s not needed, and every one of these bridge
	methods adds potential confusion.
	(-[WebBridge descendantFrameNamed:]): Make this look for descendants in the
	provisional data sources first. This is the same change Richard made to
	childFrameNamed, but it turns out that this is the method that\'s really used.


git-svn-id: svn://svn.chromium.org/blink/trunk@1574 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-16 23:17:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d2f8dad743e8c0f41c26fccf33aa75a8336456d1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012101l565cd82o5', 2, e'	- fixed 2998692 -- crash when you type "googl" into the page address

        * kwq/KWQKHTMLPartImpl.mm: (KWQKHTMLPartImpl::requestFrame): Check for
	a nil part here to restore the old behavior. Whether that\'s OK or not
	is another question that I\'d prefer to deal with later.


git-svn-id: svn://svn.chromium.org/blink/trunk@1572 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-16 18:59:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/191c57ba5ce2c9bb1b9c0659bb367f69b64622f5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012201l5mc168952', 2, e'top level:

        * many files: Renamed IF* -> Web*.

Tools:

        * various files: Renamed IF* -> Web*.

WebFoundation:

        * almost every file: Renamed IF* -> Web*.

WebCore:

        * almost every file: Renamed IF* -> Web*.

WebKit:

        * almost every file: Renamed IF* -> Web*.

WebBrowser:

        * almost every file: Renamed IF* -> Web*.


git-svn-id: svn://svn.chromium.org/blink/trunk@1571 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-16 16:17:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b4cbc5486ee22e8f4c258a88832355f2f6679f37');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012301l5q5fgfrbf', 2, e'2002-07-16  Ken Kocienda  <kocienda@apple.com>

        Fix for this bug:

        Radar 2997750 (Sherlock crashes at launch - reproducible on my machine 100%)

        This is a bug that only occurs when a zer-length cache file is encountered.
        The NSUnarchiver init method does not handle this situation, and throws an exception.
        Hence, calls to NSUnarchiver must be done inside an NS_DURING. Note that this change
        merely expands the scope of the already-existing NS_DURING to include
        the NSUnarchiver init method.

        * Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileDatabase objectForKey:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1570 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-07-16 13:56:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8f68e6cf1f6981c0928f9fb632ee885269ebf78f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012401l5arot3m1h', 2, e'        Removed dependence on window resize notification.  We now
        use the IFWebView setFrame: method to trigger layouts.  Much
        cleaner.

        Cleaned up image animation timer scheduler.

        Stop animation if last frame has zero duration, like IE.

        Change minimum duration to 1/30th (used if zero frame duration is
        specified).  This is closer to what I see in IE empirically.

        * WebCoreSupport.subproj/IFImageRenderer.h:
        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer frameDuration]):
        (-[IFImageRenderer _scheduleFrame]):
        (-[IFImageRenderer nextFrame:]):
        (-[IFImageRenderer beginAnimationInRect:fromRect:]):
        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView initWithFrame:]):
        (-[IFHTMLView removeNotifications]):
        * WebView.subproj/IFWebView.mm:
        (-[IFWebView setFrame:]):
        (-[IFWebView viewWillStartLiveResize]):
        (-[IFWebView viewDidEndLiveResize]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1569 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-16 05:19:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1219d2715e1b5d1d913e7acde8cbdd902f6f55d6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012501l5w3x5bbl1', 2, e'WebKit:

        Fixed Radar 2957209 - Change "JavaScript can open new windows
	automatically" preference to off by default

        * WebView.subproj/IFPreferences.mm:
        (+[IFPreferences load]): Switch default for "Allow JavaScript to
	open new windows automatically to FALSE.

WebBrowser:

        Fixed Radar 2957209 - Change "JavaScript can open new windows
	automatically" preference to off by default

	* Preferences.subproj/English.lproj/ActiveContentPreferences.nib:
	Tweak wording to make more sense now that the pref defaults to
	off.


git-svn-id: svn://svn.chromium.org/blink/trunk@1568 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-16 01:01:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4e8f80c9eb8d24cf3cf92487e40f1fe032fb673c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012601l5kwhhauy8', 2, e'	More weaning from C++.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView initWithFrame:plugin:url:baseURL:mime:arguments:]): Use malloc instead of new.
        (-[IFPluginView dealloc]): Use free instead of delete.


git-svn-id: svn://svn.chromium.org/blink/trunk@1567 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-16 00:43:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/980a9698c25a6b1809b273bac7045876a7cd01b2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012701l5d7zf669e', 2, e'top level:

        * Site/Internal/Design/IFRenamings.txt: Better naming proposals.

WebKit:

	Fixes so we are ready to compile as Objective C, not C++.
	The C++ front end misses a lot of things the C front end catches.

        * Plugins.subproj/IFNullPluginView.mm:
        (-[IFNullPluginView drawRect:]): Add missing cast.
        * Plugins.subproj/IFPluginStream.mm:
        (-[IFPluginStream IFURLHandle:resourceDidFailLoadingWithResult:]): Use
	[IFLoadProgress initWithURLHandle:] instead of getting at private fields.
        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView setUpWindowAndPort]): Remove unused windowFrame.
        (-[IFPluginView start]): Don\'t use a variable within a for statement.
	Add missing cast.
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
	Use [IFWebFrame _setProvisionalDataSource:] so we don\'t have to get at the
	protected field _private.
        * WebView.subproj/IFWebControllerPrivate.mm:
        (-[IFWebController _mainReceivedProgress:forResourceHandle:fromDataSource:complete:]):
	Use [IFProgress bytesSoFar] so we don\'t have to get at the protected field bytesSoFar.
        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFrame _isLoadComplete]): Add missing cast.
        (-[IFWebFrame _setProvisionalDataSource:]): Added.

        * WebView.subproj/IFHTMLRepresentation.mm:
        * WebView.subproj/IFHTMLViewPrivate.h:
        * WebView.subproj/IFWebControllerPrivate.h:
        * WebView.subproj/IFWebDataSourcePrivate.h:
        * WebView.subproj/IFWebFramePrivate.h:
        * WebView.subproj/IFWebViewPrivate.h:
	Make data in private class @public, since the main class needs to get at it
	directly.


git-svn-id: svn://svn.chromium.org/blink/trunk@1566 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-16 00:33:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d4b04c73d9afba6fca00806ce3b2562e8c20688b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012801l5rxk6gksd', 2, e'	A teeny weeny bit of refactoring.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge stateForEvent:]): Replaces addModifiers:toState:.
        (-[WebCoreBridge mouseUp:]): Use stateForEvent:.
        (-[WebCoreBridge mouseDown:]): Use stateForEvent:.
        (-[WebCoreBridge mouseMoved:]): Use stateForEvent:.


git-svn-id: svn://svn.chromium.org/blink/trunk@1565 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-15 22:23:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cc2fdc145cce16103eea3d01d61febd39a6cab92');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012901l5knpx2id2', 2, e'        Added isFrameSet method.

        * WebCore.pbproj/project.pbxproj:
        * khtml/khtml_part.cpp:
        (KHTMLPart::isFrameSet):
        * khtml/khtml_part.h:
        * kwq/KWQKHTMLPart.mm:
        * kwq/KWQKHTMLPartImpl.cpp: Added.
        (KWQKHTMLPartImpl::isFrameSet):
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge isFrameSet]):

        Only adjustFrames in parent if parent is a frame set.
        (Anywhere from 2% to 6% gain, depending on what you believe.)
        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFrame _isLoadComplete]):

        * WebView.subproj/IFPreferences.mm:
        (+[IFPreferences load]):
        Increment initial layout from 1.5 seconds to 1.85 seconds.


git-svn-id: svn://svn.chromium.org/blink/trunk@1564 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-15 21:22:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9a668a58fe2b82878e0cfd0689f509f078b36647');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012a01l51gqkv8lc', 2, e'top level:

        * Site/Internal/Design/IFRenamings.txt: Update with naming proposals
	for recently added identifiers.

WebKit:

        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
	Tweak a comment that included the word WebController, to smooth things over a
	tiny bit for the coming renaming.

WebBrowser:

	Finished renaming WebController to BrowserWebController to head
	off name conflict in the coming renaming.

        * WebController.h:
        * WebController.m:
	Removed. Used cvs surgery to rename.

        * BrowserWebController.h:
        * BrowserWebController.m:
	Used cvs surgery to rename to these names. Then changed
	references to the file name to use the new name.

        * BrowserDocument.h:
        * BrowserDocument.m:
        * Debug/DebugUtilities.m:
        * LocationChangeHandler.m:
        * WebBrowser.pbproj/project.pbxproj:
	Change all references to use BrowserWebController instead of
	WebController.


git-svn-id: svn://svn.chromium.org/blink/trunk@1563 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-15 21:06:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff4f6dd290f4f64e3c5916557d9f63431f800ced');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012b01l5pf1sq2gb', 2, e'        * WebCore.pbproj/project.pbxproj: Removed KWQKPrinter.mm.
        * kwq/KWQKPrinter.mm: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1562 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-15 15:53:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/37b5cf47a2e5eef4dcb45174754c6c9514800309');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012c01l5i8af4wk3', 2, e'top level:

        * Tests/qt/*.cpp:
	Removed unnecessary includes of <config.h>.

WebCore:

        * WebCore.pbproj/project.pbxproj: Removed unused qpopupmenu.h.
        * kwq/kdecore/ksimpleconfig.h: Removed unnecessary include of <config.h>.
        * kwq/kio/global.h: Removed unnecessary include of <config.h>.
        * kwq/kio/kprinter.h: Emptied out this file.
        * kwq/qt/qpopupmenu.h: Removed.
        * kwq/qt/qstylesheet.h: Removed unnecessary include of <config.h>.
        * kwq/qt/qtextedit.h: Removed unnecessary include of <config.h>.


git-svn-id: svn://svn.chromium.org/blink/trunk@1561 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-15 15:50:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e565e94166f1feb6b57c1cb8e02e5ee87d2f4661');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012d01l54up4uirh', 2, e'WebCore:

        * kwq/qt/qfontmetrics.h: Remove unused, and not properly implemented,
	empty constructor. Add some const that was missing. Remove most of the
	parameters of size().
        * kwq/KWQFontMetrics.mm:
        (QFontMetrics::charWidth): Add const.
        (QFontMetrics::floatWidth): Add const.
        (QFontMetrics::floatCharacterWidth): Add const.
        (QFontMetrics::size): Remove unused parameters.

        * kwq/WebCoreTextRenderer.h: Remove two unused drawString methods and one
	unused widthForCharacters method.

WebKit:

        * WebCoreSupport.subproj/IFTextRenderer.m:
        (-[IFTextRenderer widthForCharacters:length:]): Remove implementation of some unused
	methods, including at least one that was never used.


git-svn-id: svn://svn.chromium.org/blink/trunk@1560 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-15 15:39:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ee00b667cf2a815f91badcf07d6c479d3d329567');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn4fn012e01l5tjeqxdev', 2, e'WebFoundation:

        Fixed the following bugs by implementing proper dispatching for
	cookie accept handlers:

	Radar 2896356 - cookie "ask for each site" not implemented yet
	Radar 2921437 - IFCookieAcceptHandler protocol not suitable for use with a sheet, not cancellable
	Radar 2921444 - CookieManager C wrappers need to use proper context object

	* AuthenticationManager.subproj/IFAuthenticationHandlerDispatcher.m:
        (-[IFAuthenticationHandlerDispatcher IFAuthenticationRequestAuthenticationHandlerBusy:]):
        * AuthenticationManager.subproj/IFAuthenticationManager.h:
        * CacheLoader.subproj/IFHTTPURLProtocolHandler.h:
        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
        (-[IFHTTPURLProtocolHandler initWithURLLoad:]):
        (-[IFHTTPURLProtocolHandler endLoadInBackground]):
        (-[IFHTTPURLProtocolHandler dealloc]):
        (-[IFHTTPURLProtocolHandler didAddCredentials:toRequest:context:]):
        (-[IFHTTPURLProtocolHandler addAuthenticationHeaders:andCall:]):
        (-[IFHTTPURLProtocolHandler pause]):
        (-[IFHTTPURLProtocolHandler processPausedEventQueue]):
        (-[IFHTTPURLProtocolHandler unpause]):
        (-[IFHTTPURLProtocolHandler continueAfterBytesAvailable]):
        (-[IFHTTPURLProtocolHandler continueAfterEndEncountered]):
        (-[IFHTTPURLProtocolHandler handleReadStreamEvent:event:]):
        (-[IFHTTPURLProtocolHandler continueHeaderReadAfter3xxResponseAndCall:]):
        (-[IFHTTPURLProtocolHandler continueHeaderReadAfterFailureResponseAndCall:]):
        (-[IFHTTPURLProtocolHandler performHTTPHeaderRead:andCall:]):
        (-[IFHTTPURLProtocolHandler setResponseHeaders:]):
        (-[IFHTTPURLProtocolHandler IFCookieManager:doneSettingCookies:]):
        (-[IFHTTPURLProtocolHandler setResponseHeadersUsingHTTPResponse:andCall:context:]):
        * CookieManager.subproj/IFCookieAcceptHandler.h:
        * CookieManager.subproj/IFCookieAcceptHandlerC.h: Added.
        * CookieManager.subproj/IFCookieAcceptHandlerC.m: Added.
        (-[IFCallBackCookieAcceptHandler initWithCallBacks:context:]):
        (+[IFCallBackCookieAcceptHandler handlerWithCallBacks:context:]):
        (-[IFCallBackCookieAcceptHandler dealloc]):
        (-[IFCallBackCookieAcceptHandler readyToStartCookieAcceptCheck:]):
        (-[IFCallBackCookieAcceptHandler startCookieAcceptCheck:]):
        (-[IFCallBackCookieAcceptHandler cancelCookieAcceptCheck:]):
        (IFCookieAcceptHandlerCreate):
        * CookieManager.subproj/IFCookieAcceptHandlerDispatcher.h: Added.
        * CookieManager.subproj/IFCookieAcceptHandlerDispatcher.m: Added.
        (-[IFCookieAcceptDispatchState initWithDispatcher:request:]):
        (-[IFCookieAcceptDispatchState dealloc]):
        (dispatchStartCookieAcceptCheck):
        (dispatchCancelCookieAcceptCheck):
        (dispatchCookieAcceptCheckDone):
        (dispatchCookieAcceptHandlerBusy):
        (-[IFCookieAcceptHandlerDispatcher _dispatchStartCookieAcceptCheck:]):
        (-[IFCookieAcceptHandlerDispatcher _IFCookieAcceptRequest:checkDone:]):
        (-[IFCookieAcceptHandlerDispatcher _IFCookieAcceptRequestCookieAcceptHandlerBusy:]):
        (-[IFCookieAcceptHandlerDispatcher _dispatchCancelCookieAcceptCheck:]):
        (-[IFCookieAcceptHandlerDispatcher _dispatchCookieAcceptCheckDone:]):
        (-[IFCookieAcceptHandlerDispatcher _dispatchCookieAcceptHandlerBusy:]):
        (-[IFCookieAcceptHandlerDispatcher initWithCookieAcceptHandler:]):
        (-[IFCookieAcceptHandlerDispatcher dealloc]):
        (-[IFCookieAcceptHandlerDispatcher hasHandler:]):
        (-[IFCookieAcceptHandlerDispatcher startCookieAcceptCheck:]):
        (-[IFCookieAcceptHandlerDispatcher cancelCookieAcceptCheck:]):
        * CookieManager.subproj/IFCookieAcceptRequest.h: Added.
        * CookieManager.subproj/IFCookieAcceptRequest.m: Added.
        (-[IFCookieAcceptRequestPrivate dealloc]):
        (-[IFCookieAcceptRequest _initWithURL:cookies:callback:]):
        (-[IFCookieAcceptRequest _cookieAcceptHandlerBusy]):
        (-[IFCookieAcceptRequest init]):
        (-[IFCookieAcceptRequest dealloc]):
        (-[IFCookieAcceptRequest url]):
        (-[IFCookieAcceptRequest cookies]):
        (-[IFCookieAcceptRequest cookieAcceptCheckDone:]):
        * CookieManager.subproj/IFCookieAcceptRequestC.h: Added.
        * CookieManager.subproj/IFCookieAcceptRequestC.m: Added.
        (IFCookieAcceptRequestCopyURL):
        (IFCookieAcceptRequestCopyCookies):
        (IFCookieAcceptRequestCheckDone):
        * CookieManager.subproj/IFCookieAcceptRequestPrivate.h: Added.
        * CookieManager.subproj/IFCookieConstants.h:
        * CookieManager.subproj/IFCookieManager.h:
        * CookieManager.subproj/IFCookieManager.m:
        (-[IFCookieAcceptRequestState initWithRequest:dispatcher:continuation:context:]):
        (-[IFCookieAcceptRequestState dealloc]):
        (-[IFCookieManagerPrivate init]):
        (-[IFCookieManagerPrivate dealloc]):
        (-[IFCookieManager _IFCookieAcceptRequest:checkDone:]):
        (-[IFCookieManager _IFCookieAcceptRequestCookieAcceptHandlerBusy:]):
        (-[IFCookieManager _invokeAcceptHandlersForCookies:forURL:andCall:context:]):
        (-[IFCookieManager _checkIfCookiesAccepted:forURL:andCall:context:]):
        (-[IFCookieManager _continueSetCookies:context:]):
        (-[IFCookieManager setCookie:]):
        (-[IFCookieManager setCookiesFromResponseHeaders:forURL:]):
        (-[IFCookieManager setCookiesFromResponseHeaders:forURL:setDelegate:context:]):
        (-[IFCookieManager cancelSetCookiesFromResponseHeadersWithContext:]):
        (-[IFCookieManager addAcceptHandler:]):
        (-[IFCookieManager removeAcceptHandler:]):
        * CookieManager.subproj/IFCookieManagerC.h:
        * CookieManager.subproj/IFCookieManagerC.m:
        (IFCookieManagerAddAcceptHandler):
        (IFCookieManagerRemoveAcceptHandler):
        * CookieManager.subproj/IFCookieStorage.h:
        * CookieManager.subproj/IFCookieStorage.m:
        (-[IFCookieStorage _updateDomainsFromServer]):
        (-[IFCookieStorage _establishConnection]):
        (-[IFCookieStorage init]):
        (-[IFCookieStorage addAcceptedDomain:]):
        (-[IFCookieStorage removeAcceptedDomain:]):
        (-[IFCookieStorage acceptedDomains]):
        (-[IFCookieStorage addRejectedDomain:]):
        (-[IFCookieStorage removeRejectedDomain:]):
        (-[IFCookieStorage rejectedDomains]):
        * CookieManager.subproj/IFCookieStorageServer.h:
        * CookieManager.subproj/IFCookieStorageServer.m:
        (-[IFCookieStorageServerPrivate init]):
        (-[IFCookieStorageServerPrivate dealloc]):
        (-[IFCookieStorageServer _saveCookiesIfScheduled]):
        (-[IFCookieStorageServer _scheduleSaveCookies]):
        (-[IFCookieStorageServer _saveDomains]):
        (-[IFCookieStorageServer _saveDomainsIfScheduled]):
        (-[IFCookieStorageServer _scheduleSaveDomains]):
        (-[IFCookieStorageServer _notifyCookiesChanged]):
        (-[IFCookieStorageServer _notifyDomainsChanged]):
        (-[IFCookieStorageServer _setCookiesWithoutSaving:]):
        (-[IFCookieStorageServer setCookies:]):
        (-[IFCookieStorageServer deleteCookies:]):
        (-[IFCookieStorageServer addAcceptedDomain:]):
        (-[IFCookieStorageServer removeAcceptedDomain:]):
        (-[IFCookieStorageServer acceptedDomains]):
        (-[IFCookieStorageServer addRejectedDomain:]):
        (-[IFCookieStorageServer removeRejectedDomain:]):
        (-[IFCookieStorageServer rejectedDomains]):
        (-[IFCookieStorageServer loadCookies]):
        * Misc.subproj/IFNSValueExtensions.h: Added.
        * Misc.subproj/IFNSValueExtensions.m: Added.
        (+[NSValue _IF_valueWithSelector:]):
        (-[NSValue _IF_selectorValue]):
        * Misc.subproj/WebFoundationDebug.h:
        * WebFoundation.exp:
        * WebFoundation.pbproj/project.pbxproj:

WebKit:

	WebKit part of fix for Radar 2896356 - cookie "ask for each site" not implemented yet

        * Panels.subproj/IFPanelCookieAcceptHandler.h: Added.
        * Panels.subproj/IFPanelCookieAcceptHandler.m: Added.
        (-[IFPanelCookieAcceptHandler init]):
        (-[IFPanelCookieAcceptHandler dealloc]):
        (-[IFPanelCookieAcceptHandler readyToStartCookieAcceptCheck:]):
        (-[IFPanelCookieAcceptHandler startCookieAcceptCheck:]):
        (-[IFPanelCookieAcceptHandler cancelCookieAcceptCheck:]):
        (-[IFPanelCookieAcceptHandler doneWithCheck:returnCode:contextInfo:]):
        * Panels.subproj/IFStandardPanels.m:
        (-[IFStandardPanels setUseStandardCookieAcceptPanel:]):
        (-[IFStandardPanels useStandardCookieAcceptPanel]):
        * WebKit.pbproj/project.pbxproj:

WebBrowser:

	Fixed Radar 2896356 - cookie "ask for each site" not implemented yet

        * AppController.m:
        (-[AppController awakeFromNib]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1559 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-15 08:28:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b758ce52317fe71720070086769dd091c1c3c8dc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347010r01l5toqa2ym7', 2, e'        More workarounds for the Objective C++ typecasting bug.

	* WebView.subproj/IFDOMNode.mm:
        (-[IFDOMNode initWithWebView:]):
        * WebView.subproj/IFHTMLViewPrivate.mm:
        (-[NSView _IF_stopIfPluginView]):
        * WebView.subproj/IFRenderNode.mm:
        (-[IFRenderNode initWithWebView:]):
        * WebView.subproj/IFWebFrame.mm:
        (-[IFWebFrame reset]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1558 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-15 07:16:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2948b438d6faabae9eb90429dfe0c4c5136d1e8d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347010s01l5wp6v69fe', 2, e'WebCore:

        * kwq/WebCoreFrame.mm: (-[WebCoreFrame dealloc]): Fix NULL-dereferencing
	problem that was hidden by the "leak the world" bug in WebBrowser.

WebBrowser:

	Fix "leak the world" bug.

        * BrowserDocument.m: (-[BrowserDocument close]): Having the web controller
	as its own window context creates a reference cycle. As with the other similar
	cases here, break the cycle by explicitly setting it to nil.


git-svn-id: svn://svn.chromium.org/blink/trunk@1557 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-15 06:51:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/edadbfcd2940937fb9831d89f494ff407602f706');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347010t01l59t6jqrrs', 2, e'        Assign getView() results to variable of appropriate type to work
	around apparent ObjC++ compiler bug. I wonder why other people
	aren\'t running into this (and why I haven\'t run into it before).

	* kwq/KWQButton.mm:
        (QButton::setText):
        (QButton::text):
        * kwq/KWQLineEdit.mm:
        (QLineEdit::setEchoMode):
        (QLineEdit::setText):
        (QLineEdit::text):
        (QLineEdit::setMaxLength):
        (QLineEdit::isReadOnly):
        (QLineEdit::setReadOnly):
        (QLineEdit::maxLength):
        (QLineEdit::selectAll):
        (QLineEdit::edited):
        (QLineEdit::setEdited):


git-svn-id: svn://svn.chromium.org/blink/trunk@1556 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-15 05:55:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1b2dcfe42133bf99d5600f60702a13b952156b76');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347010u01l51hbi3g6c', 2, e'        * WebCore-tests.exp: Tests needed access to QPoint, QString, and KURL symbols
	that were formerly exported for the benefit of WebKit.

        * kwq/KWQPixmap.mm: I needed to touch something since .exp files don\'t cause
	a rebuild, so I fixed a comment in here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1555 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-15 05:08:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1da9a71452cdea1b05b813d91797b3b85daa534c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347010v01l514fzl8b7', 2, e'WebCore:

	Changes to WebCore that allow WebKit to work through Objective C without going
	straight to the KHTML headers. Also remove a bunch of unused stuff, especially
	in QPainter.

        * WebCore.exp: Export the new classes WebCoreCache and WebCoreJavaScript.
	Don\'t export any C++ symbols at all.

        * WebCore.pbproj/project.pbxproj: Remove KWQWMatrix.mm, add WebCoreCache.*
	and WebCoreJavaScript.*.

        * khtml/khtml_part.cpp: Put more unused code inside ifndef APPLE_CHANGES.
        * khtml/khtmlview.cpp: Put unused code inside #ifndef APPLE_CHANGES
        * khtml/khtmlview.h: Put unused virtual functions inside #ifndef APPLE_CHANGES.
        * khtml/misc/loader.cpp: (CachedImage::tiled_pixmap): Change this so it
	always returns pixmap(). Handling it at this level is better than changing
	all the callers for now.
        * khtml/rendering/render_box.cpp: (RenderBox::printBackground): Took out the
	APPLE_CHANGES now that tiled_pixmap() always just returns pixmap().
        * khtml/rendering/render_frames.cpp: (RenderFrameSet::userResize): Put some
	unused code inside APPLE_CHANGES.

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPartImpl::requestFrame): Made it get the view using the bridge, since we
	don\'t have a [widget] method on the frame any more.
        (KWQKHTMLPartImpl::findFrame): Used committedBridge instead of bridge, since
	I changed bridge to return the provisional if available.
        (KWQKHTMLPartImpl::frames): Used committedBridge instead of bridge, since
	I changed bridge to return the provisional if available.

        * kwq/qt/qpixmap.h: Put an empty version of QWMatrix in here. We don\'t actually ever
	need a real matrix, just a class to let us compile.

        * kwq/qt/qpainter.h: Moved QWMatrix into qpixmap.h. Removed constructors that take
	QPixmap and QWidget. Removed unused variants of drawText. Removed unused setClipping,
	setClipRect, hasClipping, translate, scale, begin, end, and device functions.
        * kwq/KWQPainter.mm:
        (QPainter::QPainter): Remove the constructors that take a paint device, widget,
	or pixmap. We can get away without them.
        (QPainter::save): Simplify. Also remove the optimization for painters without
	stacks, since having an empty stack is very inexpensive.
        (QPainter::restore): Simplify.
        (QPainter::_drawPoints): Move paintingDisabled check in here.
        (QPainter::drawText): Removed many unused drawText variants.

        * kwq/KWQView.h: Tweaked.
        * kwq/KWQView.mm: Removed [KWQView drawRect:].

        * kwq/KWQWMatrix.mm: Removed.

        * kwq/qt/qwidget.h: Removed paint() virtual function.
        * kwq/KWQWidget.mm: Removed QWidget::paint().

        * kwq/WebCoreBridge.h: Added new methods installInFrame:, removeFromFrame,
	mouseDown:, mouseUp:, mouseMoved:, mouseDragged:, copyDOMTree:, and copyRenderTree:.

        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge dealloc]): Call removeFromFrame.
        (-[WebCoreBridge createKHTMLViewWithNSView:width:height:marginWidth:marginHeight:]):
	Don\'t return the view any more, also set bridgeOwnsKHTMLView to YES.
        (-[WebCoreBridge copyDOMNode:DOM::copier:]): Added helper method for copyDOMTree.
        (-[WebCoreBridge copyDOMTree:]): Added method to be used by IFDOMNode to get at DOM
	tree without using C++.
        (-[WebCoreBridge copyRenderNode:khtml::copier:]): Added helper method for copyRenderTree.
        (-[WebCoreBridge copyRenderTree:]): Added method to be used by IFRenderNode to get at
	render tree without using C++.
        (-[WebCoreBridge removeFromFrame]): Added. Deletes the view if we own it. We don\'t want
	to wait for dealloc time to do this, since a lingering view might be visible.
        (-[WebCoreBridge installInFrame:]): Added. Does a set of things we need to do at the
	time we commit a provisional data source.
        (-[WebCoreBridge addModifiers:toState:]): Moved here from IFHTMLView.
        (-[WebCoreBridge mouseUp:]): Added. Used to get a mouse up event to the KHTMLView.
        (-[WebCoreBridge mouseDown:]): Added. Used to get a mouse down event to the KHTMLView.
        (-[WebCoreBridge mouseMoved:]): Added. Used to get a mouse moved event to the KHTMLView.
        (-[WebCoreBridge mouseDragged:]): Added. Used to get a mouse moved event to the KHTMLView
	in the case where we are dragging -- perhaps could be merged with mouseMoved.

        * kwq/WebCoreCache.h: Added. Allows control of the WebCore cache; previously done directly
	in IFCache in WebKit.
        * kwq/WebCoreCache.mm: Added.

        * kwq/WebCoreFrame.h: Remove widget method. Change semantics of bridge method to return
	provisional bridge if available, which corresponds to what the widget method did before.
	Added a committedBridge method that has the semantics that bridge did before.

        * kwq/WebCoreJavaScript.h: Added. Returns statistics about the state of JavaScript objects;
	previously done directly in IFCache in WebKit.
        * kwq/WebCoreJavaScript.mm: Added.

WebKit:

	Wean WebKit completely from getting at the C++ parts of WebCore.
	We probably don\'t need to use C++ at all for WebKit any more.

        * WebKit.pbproj/project.pbxproj: Remove all the header search paths; we don\'t need any
	special ones now.

        * WebKitPrefix.h: Remove <config.h>; we don\'t need it any more.

        * Misc.subproj/IFCache.h: Rename getStatistics to statistics.
        * Misc.subproj/IFCache.mm:
        (+[IFCache statistics]):
        (+[IFCache empty]):
        (+[IFCache setDisabled:]):
	Call through WebCoreCache instead of going directly to khtml::Cache.
        (+[IFCache javaScriptObjectsCount]):
        (+[IFCache javaScriptInterpretersCount]):
        (+[IFCache javaScriptNoGCAllowedObjectsCount]):
        (+[IFCache javaScriptReferencedObjectsCount]):
        (+[IFCache garbageCollectJavaScriptObjects]):
	Call through WebCoreJavaScript instead of going directly to kjs::Collector.

        * WebCoreSupport.subproj/IFWebCoreFrame.m:
        (-[IFWebCoreFrame bridge]): Change to return bridge from the provisional data
	source if it exists.
        (-[IFWebCoreFrame committedBridge]): Do what [bridge] used to do, always returning
	the bridge from the committed data source and never the provisional one.

        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView provisionalDataSourceChanged:]): Don\'t store the provisional widget.
	It\'s stored in the bridge for the provisional data source.
        (-[IFHTMLView provisionalDataSourceCommitted:]): Use the bridge method installInFrame:
	to do most of the work that used to be here. The rest is don in removeFromFrame which
	is called elsewhere.
        (-[IFHTMLView mouseUp:]): Use the bridge\'s mouseUp method.
        (-[IFHTMLView mouseDown:]): Use the bridge\'s mouseDown method.
        (-[IFHTMLView mouseMovedNotification:]): Use the bridge\'s mouseMoved method.
        (-[IFHTMLView mouseDragged:]): Use the bridge\'s mouseDragged method.

        * WebView.subproj/IFHTMLViewPrivate.h: Remove the widget, widgetOwned, and
	provisionalWidget instance variables, and the _widget and _provisionalWidget methods.
        * WebView.subproj/IFHTMLViewPrivate.mm:
        (-[IFHTMLView _reset]): Remove the code that deleted the widget and the provisional widget.
	This is now handled elsewhere.

        * WebView.subproj/IFDOMNode.mm: Redo to use the copyDOMTree feature of the bridge.
        * WebView.subproj/IFRenderNode.mm: Redo to use the copyRenderTree feature of the bridge.

        * WebView.subproj/IFRenderNode.h: Use an NSRect instead of four integers
	(the switch to floating point is OK).

        * WebView.subproj/IFWebDataSourcePrivate.h: Add private _removeFromFrame method.
        * WebView.subproj/IFWebDataSourcePrivate.mm:
        (-[IFWebDataSource _removeFromFrame]): Set the controller and location change handler
	references to nil, and also call [WebCoreBridge removeFromFrame].
        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFramePrivate setDataSource:]): Use _removeFromFrame where we formerly would
	set the controller and location change handler references to nil.

        * WebCoreSupport.subproj/IFWebCoreBridge.h: Tweak.

WebBrowser:

        * Debug/CacheController.m:
        (-[CacheController refreshWebCoreStatisticsMatrix]):
	Change name of method from getStatistics to statistics.


git-svn-id: svn://svn.chromium.org/blink/trunk@1554 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-14 23:49:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/381ee76efa5b62e184ab5012f6876f56520ff43c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347010w01l5z18aepsj', 2, e'WebFoundation:

        * AuthenticationManager.subproj/IFAuthenticationManager.m:
        (-[IFAuthenticationManager dealloc]):
	Fix leak by adding call to [super dealloc].

WebKit:

        * Plugins.subproj/IFNullPluginView.mm: (-[IFNullPluginView dealloc]):
        * WebView.subproj/IFImageRepresentation.m: (-[IFImageRepresentation dealloc]):
	Fix leaks by adding calls to [super dealloc].

WebBrowser:

        * Debug/DOMTree.m: (-[DOMTreeDataSource dealloc]):
        * Debug/DebugUtilities.m: (-[DebugUtilities dealloc]):
        * Debug/RenderTree.m: (-[RenderTreeDataSource dealloc]):
        * Debug/ViewTree.m: (-[ViewTreeDataSource dealloc]):
        * ListView.m: (-[ListView dealloc]):
	Fix leaks by adding calls to [super dealloc].


git-svn-id: svn://svn.chromium.org/blink/trunk@1553 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-14 04:33:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7614125640e5b7b2e6a84fe0e18e67154ae1867b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347010x01l5vf37a586', 2, e'top level:

        * Site/Internal/Design/IFRenamings.txt: Update with new proposals.

WebFoundation:

        * AuthenticationManager.subproj/IFAuthenticationManagerCallback.h:
        * AuthenticationManager.subproj/IFAuthenticationManagerPrivate.h:
        * Misc.subproj/IFCFRunLoopExtensions.m:
	Changed to use #import instead of #include.

        * Database.subproj/IFURLFileDatabase.m: Renamed private struct IFFileAccessTime
	to FileAccessTime
        (PointerEqual): Renamed from IFPtrEqual.
        (FileAccessTimeRelease): Renamed from IFFileAccessTimeRelease.

        * Misc.subproj/IFNSThreadExtensions.m: Renamed IFNSJoinableThreadContext to
	IFJoinableThreadContext for clarity, since there is no NSJoinableThread.
        (InitJoinableThreads):

WebCore:

        * WebCore.pbproj/project.pbxproj: Add a few files that are sources
	although they should not be compiled for any target.

        * kwq/qt/qpushbutton.h: Simplified.
        * kwq/KWQPushButton.mm: (QPushButton::QPushButton): Implemented text parameter.

WebKit:

        * Misc.subproj/IFNSEventExtras.h: Removed.
        * Misc.subproj/IFNSEventExtras.m: Removed.
        * WebKit.pbproj/project.pbxproj: Removed IFNSEventExtras.*.

        * WebCoreSupport.subproj/IFWebCoreBridge.mm:
        * WebView.subproj/IFWebFrame.mm:
        * WebView.subproj/IFWebFramePrivate.h:
        * WebView.subproj/IFWebFramePrivate.mm:
	Renamed all bridgeFrame to frameBridge for greater clarity.

        * WebView.subproj/IFHTMLView.mm: Updated comments and commented-out code.

        * WebView.subproj/IFWebDataSource.h: Fix comment that mentioned IFDefaultWebController.

        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFrame _transitionProvisionalToCommitted]): Fix exception string that cited
	the wrong state name.


git-svn-id: svn://svn.chromium.org/blink/trunk@1552 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-14 04:27:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a9114bbb89ed580e51569f9385ee3a3dd3ff8ea2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347010y01l52fnsbhbr', 2, e'top level:

        * embed.am: Removed.

Tools:

        * Scripts/embed-in-alex: Added. Replaces the rules in embed.am as
	the way to make our frameworks embed themselves in Alex so we can
	rebuild a framework and re-run Alex with the changes without building
	Alex too.

        * Scripts/create-forwarding-header: Added. Mainly useful for the
	one-time job of making forwarding headers for WebCore, but saving
	for possible use in the future.

        * Scripts/commit-log-editor: Make Tools log show up after top level,
	but before things like JavaScriptCore.

JavaScriptCore:

        * Makefile.am: Don\'t use embed.am any more.
        * JavaScriptCore.pbproj/project.pbxproj: Use embed-into-alex instead
	of make embed.

WebFoundation:

        * Makefile.am: Remove include of embed.am.

        * WebFoundation.pbproj/project.pbxproj: Remove unneeded ApplicationServices
	framework search path. Use embed-into-alex instead of make embed.

WebCore:

        * ForwardingHeaders/*: Added. New approach to headers to try to
	make Project Builder\'s header dependency support work even for
	includes like #include <render/render_object.h>.
        * kwq/kjs/*: Removed. Now part of ForwardingHeaders.

        * Makefile.am: Remove embed.am support.

        * WebCore.pbproj/project.pbxproj: Remove other search paths, and
	add ForwardingHeaders directory as a search path. Add qucomextra_p.h.

        * khtml/ecma/kjs_navigator.cpp: Made gratuitous changes to touch this
	file to make things build without requiring clean rebuild.

        * khtml/rendering/render_form.cpp: Removed many unneeded QObject::
	qualifiers from inside APPLE_CHANGES to touch this file to make things
	build without requiring clean rebuild.

        * kwq/KWQButton.mm: (QButton::setText), (QButton::text):
        * kwq/KWQColor.mm: (QColor::setNamedColor):
	* kwq/KWQKConfigBase.mm: (KConfig::readEntry):
        * kwq/KWQKHTMLSettings.mm: (KHTMLSettings::stdFontName), (KHTMLSettings::fixedFontName):
        (KHTMLSettings::serifFontName), (KHTMLSettings::sansSerifFontName),
	(KHTMLSettings::cursiveFontName), (KHTMLSettings::fantasyFontName), (KHTMLSettings::encoding):
        * kwq/KWQKLocale.mm: (i18n):
        * kwq/KWQKMessageBox.mm: (KMessageBox::error), (KMessageBox::warningYesNo):
        (KMessageBox::questionYesNo), (KMessageBox::sorry):
        * kwq/KWQListBox.mm: (-[KWQBrowserDelegate browser:willDisplayCell:atRow:column:]):
        * kwq/WebCoreBridge.mm: (-[WebCoreBridge selectedText]):
        Wean from QSTRING_TO_NSSTRING and NSSTRING_TO_QSTRING.

        * kwq/KWQComboBox.mm:
        (QComboBox::insertItem): Wean from QSTRING_TO_NSSTRING. Note that this
	now stores a copy of the string in the array. The old version was unsafe
	if anyone later modified the QString that was passed in.

        * kwq/KWQFontMetrics.mm: (QFontMetrics::width):
        * kwq/KWQPainter.mm: (QPainter::drawUnderlineForText), (QPainter::drawText):
	Wean from QSTRING_TO_NSSTRING_LENGTH and _FAST_QSTRING_TO_NSSTRING. We still have
	speed as high as before, in the "length" case slightly faster.

        * kwq/qt/qstring.h: Remove QSTRING_TO_NSSTRING family of macros.

        * kwq/KWQInvisibleButton.mm:
        * kwq/KWQKHTMLPart.mm:
        * kwq/KWQKHTMLPartBrowserExtension.mm:
        * kwq/KWQKJavaAppletWidget.mm:
        * kwq/KWQKloader.mm:
        * kwq/KWQView.mm:
        * kwq/KWQsignals.mm:
        * kwq/WebCoreBridge.mm:
        * kwq/kdecore/kconfig.h:
        * kwq/kdecore/klibloader.h:
        * kwq/kdecore/klocale.h:
        * kwq/khtml/khtml_ext.h:
        * kwq/khtml/khtml_factory.h:
        * kwq/kio/kmimetype.h:
	Remove subdirectory prefix from imports to match Project Builder include scheme.

        * kwq/KWQKCursor.mm: (+[NSCursor _WebCore_linkCursor]):
        * kwq/KWQKLocale.mm: (i18n):
        * kwq/KWQKstddirs.mm: (locate):
	Use bundleForClass instead of bundleWithIdentifier to avoid any potential problems
	with multiple versions of the framework installed on the same system.

        * kwq/KWQKLineEdit.mm:
        (KLineEdit::completionBox): Remove _logNotYetImplemented, since this is implemented
	well enough for our needs now, and if we need to implement it later, it will become
	clear from the application behavior. This should be the destiny of most of these.

        * kwq/kdecore/kglobal.h: Simplify.
        * kwq/KWQKGlobal.mm: Simplify.
        * kwq/qt/qlineedit.h: Simplify.
        * kwq/KWQLineEdit.mm: Simplify.

        * kwq/KWQPaintDeviceMetrics.mm: Remove unneeded import.
        * kwq/qt/qbutton.h: Remove unneeded destructor.

WebKit:

        * History.subproj/IFURIEntry.m: (-[IFURIEntry image]):
	Use [IFURIEntry class] instead of [self class] so we get the
	icon from the WebKit bundle even if someone subclasses IFURIEntry.
        * Plugins.subproj/IFNullPluginView.mm:
        (-[IFNullPluginView initWithFrame:mimeType:arguments:]): Use
	bundleForClass instead of bundleWithIdentifier so things work even
	if we have two copies of WebKit installed on the same machine.

        * Makefile.am: Remove include of embed.am.

        * WebKit.pbproj/project.pbxproj: Use embed-into-alex instead of make embed.
	Also change bundle identifier to com.apple.WebKit instead of com.apple.webkit
	to match standard used by our other frameworks. (Checked that we no longer have
	any hard-coding of the bundle identifier anywhere in our code.)

WebBrowser:

        * WebBrowser.pbproj/project.pbxproj: Remove unneeded build phase.


git-svn-id: svn://svn.chromium.org/blink/trunk@1551 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-14 03:55:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3d8311ffc6c55082a6cd5aa0d5bd6ec68021b311');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347010z01l51zps16fm', 2, e'        Fixed 2981849 - frames don\'t always draw correctly.

        * WebCoreSupport.subproj/IFWebCoreBridge.mm:
        (-[IFWebCoreBridge childFrameNamed:]):
        Check provisional data source first.

        * WebView.subproj/IFHTMLViewPrivate.h:
        * WebView.subproj/IFHTMLViewPrivate.mm:
        (-[IFHTMLView _adjustFrames]):
        Added method to adjust frame geometry.

        * WebView.subproj/IFWebDataSourcePrivate.h:
        * WebView.subproj/IFWebDataSourcePrivate.mm:
        (-[IFWebDataSource _layoutChildren]):
        Added method to adjust child frame geometries.

        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFrame _isLoadComplete]):
        Removed unnecessary drawing now that frame geometry is
        calculated directly.

        * kwq/KWQPainter.mm:
        Added disable drawing mode.
        (QPainter::drawRect):
        (QPainter::drawLine):
        (QPainter::drawEllipse):
        (QPainter::drawArc):
        (QPainter::drawLineSegments):
        (QPainter::drawPolyline):
        (QPainter::drawPolygon):
        (QPainter::drawConvexPolygon):
        (QPainter::drawPixmap):
        (QPainter::drawTiledPixmap):
        (QPainter::drawText):
        (QPainter::drawUnderlineForText):
        (QPainter::fillRect):
        (QPainter::setPaintingDisabled):

        * kwq/KWQWidget.mm:
        (QWidget::frameGeometry):
        Use the IFWebView\'s geometry.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge _drawRect:withPainter:]):
        (-[WebCoreBridge drawRect:]):
        (-[WebCoreBridge adjustFrames:]):
        Added adjustFrames:.  Factored some code.

        * kwq/qt/qpainter.h:
        Added setPaintingDisabled.

        * khtml/html/html_baseimpl.cpp:
        (HTMLFrameElementImpl::attach):
        (HTMLIFrameElementImpl::attach):
        Removed uniqueness check.  Need to revisit vis-a-vis provisional ds.


git-svn-id: svn://svn.chromium.org/blink/trunk@1550 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-13 22:01:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/45d83f723caf2e725c5b00950371b2e9f91f5fcd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011001l5ynqt3y4e', 2, e'JavaScriptCore:

        * kjs/ustring.h: Since <sys/types.h> includes ushort and uint now, had
	to change the includes here to be compatible with that.

WebFoundation:

        * WebFoundation.pbproj/project.pbxproj: Remove unused build phase.

WebCore:

        * WebCore.pbproj/project.pbxproj: Add WebCoreFrame.mm, also export all
	the WebCore headers as Private so WebKit can see them.

        * khtml/khtmlview.cpp: (KHTMLView::drawContents): Remove APPLE_CHANGES
	since we don\'t use this function any more.

        * kwq/KWQDef.h: Since <sys/types.h> now includes ushort and uint, update
	code here to take that into account.

        * kwq/KWQKHTMLPartImpl.h: Added getView().
        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPartImpl::getView): Added. Used by bridge.

        * kwq/qt/qpainter.h:
        * kwq/KWQPainter.mm: Simplify a bit, and remove some unused stuff.

        * kwq/WebCoreBridge.h: Add reapplyStyles, forceLayout, drawRect:.
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge reapplyStyles]): Added.
        (-[WebCoreBridge forceLayout]): Added.
        (-[WebCoreBridge drawRect:]): Added.

        * kwq/WebCoreFrame.h: Make this a class as well as an interface.
        * kwq/WebCoreFrame.mm: Added.

        * WebCore.exp: Since WebCoreFrame is now a class as well as a protocol,
	export it so we can subclass.

WebKit:

	About 1/3 of the remaining work to wean WebKit from its special relationship with WebCore
	onto explicit interfaces.

        * Misc.subproj/IFCache.mm:
        * WebView.subproj/IFDOMNode.mm:
        * WebView.subproj/IFRenderNode.mm:
	Mark imports from inside WebCore with #ifndef WEBKIT_INDEPENDENT_OF_WEBCORE.
	Once these are all gone, the task is done.

        * Plugins.subproj/IFPlugin.h:
        * WebCoreSupport.subproj/IFCookieAdapter.h:
        * WebCoreSupport.subproj/IFImageRenderer.h:
        * WebCoreSupport.subproj/IFImageRendererFactory.h:
        * WebCoreSupport.subproj/IFResourceURLHandleClient.m:
        * WebCoreSupport.subproj/IFTextRenderer.h:
        * WebCoreSupport.subproj/IFTextRendererFactory.h:
        * WebCoreSupport.subproj/IFWebCoreBridge.h:
        * WebCoreSupport.subproj/IFWebCoreViewFactory.h:
	Use #import <WebCore/> for getting at WebCore headers so we don\'t need to use -I.

        * WebCoreSupport.subproj/IFWebCoreBridge.mm:
        (-[IFWebCoreBridge createChildFrameNamed:withURL:renderPart:allowsScrolling:marginWidth:marginHeight:]):
	Call setRenderPart on the WebCoreFrame rather than on the IFWebFrame.

        * WebCoreSupport.subproj/IFWebCoreFrame.h: Subclass from the WebCoreFrame class.
        * WebCoreSupport.subproj/IFWebCoreFrame.m:
        (-[IFWebCoreFrame HTMLView]): Add a cast.
        (-[IFWebCoreFrame widget]): Remove overzealous assert.

        * WebKit.pbproj/project.pbxproj: Rearranged things a bit. Removed unneeded build phase.

        * WebView.subproj/IFDocument.h:
        * WebView.subproj/IFDynamicScrollBarsView.h:
        * WebView.subproj/IFWebController.h:
        * WebView.subproj/IFWebControllerPolicyHandler.h:
	Changed a few stray #include statements to #import statements.

        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView provisionalDataSourceCommitted:]): Move the logic for setting up the
	renderPart in here from IFWebView.
        (-[IFHTMLView reapplyStyles]): Use the bridge.
        (-[IFHTMLView layout]): Use the bridge.
        (-[IFHTMLView drawRect:]): Use the bridge.

        * WebView.subproj/IFHTMLViewPrivate.h: Remove _takeOwnershipOfWidget which is no longer needed.
        * WebView.subproj/IFHTMLViewPrivate.mm:
        (-[NSView _IF_stopIfPluginView]): Added. Use to clean up _reset a bit.
        (-[IFHTMLView _reset]): Use makeObjectsPerformSelector: for simplicity.

        * WebView.subproj/IFImageView.h: Remove unneeded IFWebDataSource declaration.
        * WebView.subproj/IFImageView.m: Just formatting tweaks.

        * WebView.subproj/IFWebControllerPrivate.mm: Removed unneeded import.
        * WebView.subproj/IFWebDataSource.mm: Removed unneeded import.
        * WebView.subproj/IFWebDataSourcePrivate.mm: Removed unneeded import.
        * WebView.subproj/IFWebFrame.mm: Removed unneeded import.

        * WebView.subproj/IFWebFramePrivate.h: Remove renderPart field and related declarations.
        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFramePrivate dealloc]): No need to let go of renderPart any more.
        (-[IFWebFrame _transitionProvisionalToCommitted]): Move logic into IFHTMLView.

        * WebView.subproj/IFWebView.h: Be a bit more specific about the type of documentView.


git-svn-id: svn://svn.chromium.org/blink/trunk@1549 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-13 05:33:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7405cbbe1d69e6826c4c8a8114cebc7aab05385c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011101l526b1gw3z', 2, e'WebKit:

	Only accept drags of 1 file.

        * WebView.subproj/IFWebView.mm:
        (-[IFWebView draggingEntered:]):

WebBrowser:

	Only accept drags of 1 file.

        * LocationFieldEditor.m:
        (-[LocationFieldEditor _dragOperationForDraggingInfo:]): added
        (-[LocationFieldEditor draggingEntered:]): returns _dragOperationForDraggingInfo
        (-[LocationFieldEditor draggingUpdated:]): returns _dragOperationForDraggingInfo
        (-[LocationFieldEditor concludeDragOperation:]): removed comment


git-svn-id: svn://svn.chromium.org/blink/trunk@1548 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-12 23:28:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1d6d428bf744f424c5a124525f94f630db9924d9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011201l56yer9vpq', 2, e'top level:

        * configure.in: Don\'t play games with RANLIB; we don\'t need that any more and it
	just messes things up in the libiftest directory.

        * Tests/libiftest/Makefile.am: Remove all the explicit options and just let libiftest.a
	be built as the default kind of library (static, I assume).

WebKit:

	Fix cancelling. My recent check-in broke it for downloads.

        * WebCoreSupport.subproj/IFResourceURLHandleClient.m:
        (-[IFResourceURLHandleClient receivedError:forHandle:]): Helper function to save code.
        (-[IFResourceURLHandleClient IFURLHandleResourceDidCancelLoading:]): Use an error for
	cancel rather than -1,-1 progress.

        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient receivedProgressWithHandle:complete:]): Remove -1,-1 handling
	here; instead we treat it as an error.
        (-[IFMainURLHandleClient receivedError:forHandle:]): Remove most of the parameters
	since they are things we can compute ourselves.
        (-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]): Use an error for
	cancel rather than -1,-1 progress.

        * WebView.subproj/IFWebControllerPrivate.mm:
        (-[IFWebController _receivedProgress:forResourceHandle:fromDataSource:complete:]):
	Remove the -1,-1 cancel handling; we use an error instead.
        (-[IFWebController _mainReceivedProgress:forResourceHandle:fromDataSource:complete:]):
	Remove the -1,-1 cancel handling; we use an error instead.
        (-[IFWebController _receivedError:forResourceHandle:partialProgress:fromDataSource:]):
	Remove the _isStopping check. We want to do the additional work even if already stopping.
        (-[IFWebController _mainReceivedError:forResourceHandle:partialProgress:fromDataSource:]):
	Remove the _isStopping check. We want to do the additional work even if already stopping.

        * WebView.subproj/IFWebView.mm: (-[IFWebView keyDown:]): Use NSDeleteCharacter.


git-svn-id: svn://svn.chromium.org/blink/trunk@1547 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-12 20:16:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a2d7d81875c05b860d227d00104746ca96c1b187');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011301l5l9vc8qhw', 2, e'WebFoundation:

        * Misc.subproj/IFNSDictionaryExtensions.h:
        * Misc.subproj/IFNSDictionaryExtensions.m:
        (-[NSDictionary _IF_objectForMIMEType:]): Added. Looks in the dictionary
	first by the full MIME type, then by the part leading up to the "/".
	Used in WebKit for the dictionaries for representation and view classes.

WebKit:

        * WebView.subproj/IFWebDataSource.mm:
        (+[IFWebDataSource registerRepresentationClass:forMIMEType:]):
	Use self instead of [self class].
        (+[IFWebDataSource createRepresentationForMIMEType:]):
	Use the new _IF_objectForMIMEType to simplify and use hash table
	instead of linear search.
        * WebView.subproj/IFWebDataSourcePrivate.mm:
        (+[IFWebDataSource _repTypes]): Use initWithObjectsAndKeys for
	brevity and a tiny tiny bit of efficiency.
        (+[IFWebDataSource _canShowMIMEType:]):
	Use the new _IF_objectForMIMEType to simplify and use hash table
	instead of linear search.
        * WebView.subproj/IFWebView.mm:
        (+[IFWebView registerViewClass:forMIMEType:]):
	Use self instead of [self class].
        (+[IFWebView createViewForMIMEType:]):
	Use the new _IF_objectForMIMEType to simplify and use hash table
	instead of linear search.
        * WebView.subproj/IFWebViewPrivate.mm:
        (+[IFWebView _canShowMIMEType:]):
	Use the new _IF_objectForMIMEType to simplify and use hash table
	instead of linear search.


git-svn-id: svn://svn.chromium.org/blink/trunk@1546 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-12 18:54:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aadee7e921aad8de0fb8c56eaf4e8a9a3ce4db88');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011401l5npxpja1u', 2, e'        * WebKit.pbproj/project.pbxproj: Re-added JavaScriptCore, which
	I removed by accident.


git-svn-id: svn://svn.chromium.org/blink/trunk@1545 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-12 18:19:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ed610b39438daeeab4b2b5ab103df4a7099de049');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011501l5jberrszj', 2, e'top level:

	Top level part of making WebCore build with Project Builder
	instead of using automake.

        * Makefile.am: Remove rules for building .pfe files. Add new one-time-commands
	and force-clean-timestamp features, so I don\'t have to send out instructions to
	everyone about how to make things build.
        * configure.in: Remove options for using .pfe files. Remove Objective C++ support.
	Also remove WebCore/khtml/dom, WebCore/khtml/xml, WebCore/khtml/rendering,
	Test/khtmlview, Tools/wftool, and Tools/HotSpots, from the list of directories
	where we need to make makefiles.

        * force-clean-timestamp: Added.
        * one-time-commands: Added.

        * .cvsignore: Don\'t ignore things we don\'t create. Do ignore the new
	one-time-commands-timestamp and previous-clean-timestamp.

        * Tests/Makefile.am: Removed khtmlview.
        * Tests/khtmlview/*: Removed.

        * Tests/CookieManager/Makefile.am: Use objc-dummy.m, not objc-dummy.mm.
        * Tests/CookieManager/objc-dummy.m: Added.
        * Tests/CookieManager/objc-dummy.mm: Removed.
        * Tests/kde/Makefile.am: Use objc-dummy.m, not objc-dummy.mm.
        * Tests/kde/objc-dummy.m: Added.
        * Tests/kde/objc-dummy.mm: Removed.
        * Tests/qt/Makefile.am: Use objc-dummy.m, not objc-dummy.mm.
        * Tests/qt/objc-dummy.m: Added.
        * Tests/qt/objc-dummy.mm: Removed.

        * Updates/automake-1.5-mac-ported.diff: Removed, since we can use standard automake.
        * Updates/automake-1.5.tar.gz: Removed.
        * Updates/install-automake.sh: Removed.
        * Updates/update: Removed call to install-automake.sh.

        * Tests/WebFoundation-Misc/ifnsstringextensions-test.chk: Change result
	to match new behavior of the _IF_domainMatches method.

        * Site/Internal/Design/IFRenamings.txt: Updated for recent changes.

Tools:

        * Scripts/commit-log-editor: Always sort top level first.

        * Makefile.am: Take out the wftool subdir.
        * wftool/.cvsignore: Removed.

WebCore:

	Build WebCore with Project Builder instead of make.
	Also wean WebCore from peeking inside the WebKit bundle.

        * WebCore.pbproj/.cvsignore: Added.
        * WebCore.pbproj/project.pbxproj: Added.

        * Makefile.am: Removed rules about building the framework,
	and just use pbxbuild instead.

        * dummy.mm: Removed.

        * khtml/Makefile.am: Removed everything but SUBDIRS.
        * khtml/css/Makefile.am: Removed everything but the rules for
	generated sources.
        * khtml/dom/Makefile.am: Removed.
        * khtml/ecma/Makefile.am: Removed everything but the rules for
	generated sources.
        * khtml/html/Makefile.am: Removed everything but the rules for
	generated sources.
        * khtml/misc/Makefile.am: Removed everything but the rules for
	generated sources.
        * khtml/rendering/Makefile.am: Removed.
        * khtml/xml/Makefile.am: Removed.
        * kwq/Makefile.am: Removed everything but the rules for
	generated sources.

        * kwq/KWQKLocale.mm: (i18n): Look in WebCore bundle, not WebKit bundle.
        * kwq/KWQKstddirs.mm:
        (locate): Look in WebCore bundle, not WebKit bundle. Also, always assume
	we are looking for html4.css.
        (locateLocal): Don\'t waste code making a bad path, just return empty string.

        * kwq/qt/qpixmap.h:
        * kwq/KWQPixmap.mm: Changed convertToImage() to an inline since we
	never need to implement it.

        * kwq/KWQKDebug.mm: Removed.
        * kwq/KWQKImageIO.mm: Removed.
        * kwq/kdecore/kcmdlineargs.h: Emptied out the file.
        * kwq/kdecore/kdebug.h: Made the do-nothing code here all be
	inlines for smaller code size.

        * kwq/KWQScrollBar.h: Fixed header guard.

        * .cvsignore:
        * kwq/.cvsignore:
        * khtml/dom/.cvsignore: Removed.
        * khtml/rendering/.cvsignore: Removed.
        * khtml/xml/.cvsignore: Removed.
        * kwq/kdecore/.cvsignore: Removed.
        * kwq/qt/.cvsignore: Removed.
	Don\'t ignore things we don\'t generate any more.

        * kwq/kjs/collector.h: Added.
        * kwq/kjs/internal.h: Added.
        * kwq/kjs/interpreter.h: Added.
        * kwq/kjs/lookup.h: Added.
        * kwq/kjs/object.h: Added.
	Used so that khtml can see the headers from JavaScriptCore.

WebKit:

        * WebKit.pbproj/project.pbxproj: Don\'t include the html4.css file
	from WebCore any more. WebCore handles this on its own now. Also,
	don\'t include the document templates; we don\'t use them any more.

        * Resources/image_document_template.html: Removed.
        * Resources/plugin_document_template.html: Removed.
        * Resources/text_document_template.html: Removed.

        * Makefile.am: Small tweak to the force-clean-timestamp logic.


git-svn-id: svn://svn.chromium.org/blink/trunk@1544 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-12 17:35:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e181f7645055626ec2953d7b579d6932ce98921f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011601l5zqf21mcs', 2, e'        * JavaScriptCore.pbproj/project.pbxproj: To make the build of
	WebCore work without using -I to peek at JavaScriptCore sources,
	made all the Public sources Private so they are all in one directory.
	Also, made lookup.h be Private.


git-svn-id: svn://svn.chromium.org/blink/trunk@1543 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-12 00:47:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/44833973215a7cc8831b46b6801cd4ce11111eed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011701l5sy49piy0', 2, e'        2986548 - Crash if you drop URL of frameset page onto frame
        2953421 - document dragged into frame should replace frameset

        * WebView.subproj/IFWebView.mm:
        (-[IFWebView draggingEntered:]): removed obsolute comment
        (-[IFWebView performDragOperation:]): moved implementation from here
        (-[IFWebView concludeDragOperation:]): to here, added support for NSURL drags


git-svn-id: svn://svn.chromium.org/blink/trunk@1542 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-12 00:45:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6dfb7a759a7fabb91d1f25afae17769686df7e67');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011801l5reapqyvv', 2, e'        * WebView.subproj/IFWebViewPrivate.mm:
        (+[IFWebView _viewTypes]): Changed back to a mutable dictionary. Oops.


git-svn-id: svn://svn.chromium.org/blink/trunk@1541 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-12 00:43:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/596337d30e474492cfe51ef7b871b2de94a6600f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011901l5i2zsggvl', 2, e'WebKit:

	- fixed 2980779 -- no scroll bar in history window

        * WebKit.pbproj/project.pbxproj: Removed nonexistent .h file from project list (IFGrabBag.h)

        * WebView.subproj/IFDynamicScrollBarsView.h: Renamed field allowsScrolling to disallowsScrolling
        * WebView.subproj/IFDynamicScrollBarsView.m:
        (-[IFDynamicScrollBarsView updateScrollers]):
        (-[IFDynamicScrollBarsView setAllowsScrolling:]):
        (-[IFDynamicScrollBarsView allowsScrolling]):
	Removed initWithFrame override, whose only purpose was to set allowsScrolling to the "default"
	value (but not good enough for load-from-nib case). Changed all users of allowsScrolling to
	!disallowsScrolling instead.

WebBrowser:

	- made History menu show all history, not just most recent
	- futzed around with some view positions
	- fixed 2988910 -- Favorites bar does not show links until restart
	- made Favorites bar do fewer unnecessary relayouts

        * BrowserWindow.m:
        (-[BrowserWindow toggleFavoritesBarWithAnimation:]):
        (-[BrowserWindow toggleStatusBarWithAnimation:]):
	Tweaked some constants.

        * Defaults.plist: Changed default number of items in History menu
	(now used only for flat part of menu) to 10.

        * English.lproj/Browser.nib: Pushed some pixels

        * English.lproj/MainMenu.nib: Changed "Show All History" to
	"Show History in Window" since the menu now shows all history

        * FavoritesBar.h: Added _lastWidth and _buttonHeight ivars
        * FavoritesBar.m:
        (-[FavoritesBar _refreshButtons]): Use _buttonHeight ivar instead of
	measuring height, since bar might be shrunken down into nothingness.
        (-[FavoritesBar _favoritesViewFrameChanged:]): Only lay out again if
	width has changed
        (-[FavoritesBar initWithView:]): set _buttonHeight based on initial height

        * GlobalHistory.m:
        (-[GlobalHistory _insertItemsForDate:intoMenu:atIndex:withRunningTotal:limit:]):
	add no-limit case
        (-[GlobalHistory _insertSubmenu:withTitle:atIndex:]): generalized slightly from
	old _insertSubmenu:forDate:atIndex:
        (-[GlobalHistory _addHistoryToMenu]): add all history, but limit flat part of
	menu; only add submenu for today if there are more today entries than fit in flat
	part; don\'t add separator after today\'s entries if there are no submenus; use
	_insertSubmenu:withTitle:atIndex: instead of _insertSubmenu:forDate:atIndex:

        * NSViewAdditions.h:
        * NSViewAdditions.m:
        (-[NSView retileAllScrollViews]):
	New method to work around AppKit bug involving scroll bar placement.

        * WebBrowser.pbproj/project.pbxproj: The Preferences group had fallen inside
	Search at some point in the past; rescued it.


git-svn-id: svn://svn.chromium.org/blink/trunk@1540 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-07-11 23:51:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8ce7c89bbd8a46929090e94b83d5754227838919');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011a01l5mkd0ikvg', 2, e'        * Plugins.subproj/IFPluginNullEventSender.h:
        * Plugins.subproj/IFPluginNullEventSender.m:
        (-[IFPluginNullEventSender initWithPluginView:]): renamed, simplified
        (-[IFPluginNullEventSender stop]): call plugin debug function
        * Plugins.subproj/IFPluginView.h:
        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView start]): call new initWithPluginView
        (-[IFPluginView windowWillClose:]): added back to fix plugin view leak
        (-[IFPluginView NPP_HandleEvent]): added


git-svn-id: svn://svn.chromium.org/blink/trunk@1539 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-11 20:08:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b44c30c0928ff128f095461c7fe3cc21c01c3a48');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011b01l5w9sfaus8', 2, e'	- fixed 2930872 -- option-arrow keys should page up and down
	- fixed 2924727 -- Delete does not go to previous page

        * WebView.subproj/IFHTMLView.mm: Disable the keyDown and keyUp
	methods here. We don\'t really need to pass these events to KHTMLView
	at the moment. See the comment in this file for further explanation.
	This paves the way to handle keys other than arrow keys in IFWebView.

        * WebView.subproj/IFWebController.h: Add temporary goBack method to
	IFWindowContext. See comment for more.

        * WebView.subproj/IFWebView.mm: (-[IFWebView keyDown:]): Add handling
	for option arrow keys, space (page down), shift-space (page up), and
	delete (go back). Also make this call super if the key is not handled
	so keys make their way back to the superview in the application.

        * WebView.subproj/IFWebViewPrivate.h: Add _pageLeft, _pageRight, _goBack.
        * WebView.subproj/IFWebViewPrivate.mm:
        (-[IFWebView _pageHorizontally:]): Added.
        (-[IFWebView _pageLeft]): Added.
        (-[IFWebView _pageRight]): Added.
        (+[IFWebView _viewTypes]): Simplify.
        (-[IFWebView _goBack]): Added. Calls [IFWindowContext goBack].


git-svn-id: svn://svn.chromium.org/blink/trunk@1538 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-11 17:19:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/108cb1cb9879df2dce61c5b6914482a203dd35cf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011c01l5phkwbvf6', 2, e'        Fixed Radar 2953254 - JavaScript window.scroll() and
	window.scrollBy() do not work

	* khtml/ecma/kjs_window.cpp:
        (WindowFunc::tryCall): Handle Scroll the same as ScrollBy.
        * kwq/KWQScrollView.mm:
        (QScrollView::scrollBy): Implement this method, since it\'s needed
	for JS scrolling.


git-svn-id: svn://svn.chromium.org/blink/trunk@1536 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-11 07:56:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/69325608ddd18e90d4042917f2f035397ef7a4a3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011d01l5s2hrjm80', 2, e'	- fixed 2973738 -- box characters

	To be consistent with other browsers, we need to draw nothing for 0000-001F.
	We were drawing boxes.

        * WebCoreSupport.subproj/IFTextRenderer.m:
        (-[IFTextRenderer convertCharacters:length:toGlyphs:skipControlCharacters:]):
	Add the skipControlCharacters parameter. If YES, don\'t include glyphs for characters
	in the 0000-001F range.
        (-[IFTextRenderer slowPackGlyphsForCharacters:numCharacters:glyphBuffer:numGlyphs:]):
	Pass skipControlCharacters:YES.
        (-[IFTextRenderer _drawCharacters:length:fromCharacterPosition:toCharacterPosition:atPoint:withTextColor:backgroundColor:]):
	Skip control characters when creating the glyph array.
        (-[IFTextRenderer slowFloatWidthForCharacters:stringLength:fromCharacterPostion:numberOfCharacters:applyRounding:]):
	Pass skipControlCharacters:YES.
        (-[IFTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:applyRounding:attemptFontSubstitution:]):
	Skip control characters when computing the width.
        (-[IFTextRenderer extendCharacterToGlyphMapToInclude:]): Pass skipControlCharacters:NO.


git-svn-id: svn://svn.chromium.org/blink/trunk@1535 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-11 06:48:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6aaed612e0a87248b381b76a31ae62f6e5e13126');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011e01l51uku93iw', 2, e'	- fixed 2978796 -- Client-side image map not working

        * kwq/KWQRegion.mm: (QRegion::QRegion): Implement constructor that
	takes a QPointArray.

        * kwq/qt/qarray.h: Fix some const loopholes.

        * kwq/KWQCString.mm:
        (QCString::find): Use const char * instead of char *.
        (QCString::contains): Use const char * instead of char *.
        (QCString::right): Use const char * instead of char *.
        (QCString::mid): Use const char * instead of char *.


git-svn-id: svn://svn.chromium.org/blink/trunk@1534 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-11 06:23:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15608893a1634a3e88abaa7379c60dce30d2be6f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011f01l5i70cr9xg', 2, e'	- fixed 2986273 -- assert currentURL isEqual:[handle redirectedURL] ? [handle redirectedURL] : [handle url]

	Since cancel prevents further notification from getting through, currentURL can get
	out of sync before cancelling, so we can\'t assert in the cancel function.

        * WebCoreSupport.subproj/IFResourceURLHandleClient.m:
        (-[IFResourceURLHandleClient IFURLHandleResourceDidCancelLoading:]): Remove assert.

        * WebView.subproj/IFMainURLHandleClient.h: Remove unnecessary includes. Change type
	of dataSource to IFWebDataSource from id. Change url to currentURL to match
	IFResourceURLHandleClient.

        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient initWithDataSource:]): Simplify.
        (-[IFMainURLHandleClient didStartLoadingWithURL:]): Copied here from IFResourceURLHandleClient
	as a first step toward using a common superclass some day.
        (-[IFMainURLHandleClient didStopLoading]): Copied here from IFResourceURLHandleClient
	as a first step toward using a common superclass some day.
        (-[IFMainURLHandleClient dealloc]): Add an assert.
        (-[IFMainURLHandleClient receivedProgressWithHandle:complete:]): Removed most of the parameters
	to make this match the one in IFResourceURLHandleClient.
        (-[IFMainURLHandleClient IFURLHandleResourceDidBeginLoading:]): Use didStartLoadingWithURL.
        (-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]): Use receivedProgressWithHandle and
	didStopLoading.
        (-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]): Use receivedProgressWithHandle and
	didStopLoading.
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]): Use receivedProgressWithHandle.
        (-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]): Use receivedProgressWithHandle and
	didStopLoading.
        (-[IFMainURLHandleClient IFURLHandle:didRedirectToURL:]): Use didStopLoading and didStartLoadingWithURL.


git-svn-id: svn://svn.chromium.org/blink/trunk@1533 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-11 05:49:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15d4a3f3f4ad09b833501364791278a6ae05529f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011g01l52qbvhv7o', 2, e'WebCore:

        WebCore part of fix for:

	Radar 2953250 - JavaScript window.focus() and window.blur()
	methods don\'t work

        * khtml/ecma/kjs_window.cpp:
        (WindowFunc::tryCall): Call the appropriate things on focus and blur.
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPartImpl::unfocusWindow): Implemented by calling bridge.
        * kwq/KWQKHTMLPartImpl.h, kwq/KWQWidget.mm:
	(QWidget::setActiveWindow): Implemented by ordering the window
	front and making it key.
        * kwq/WebCoreBridge.h: Prototype new bridge method.

WebKit:

        WebKit part of fix for:

	Radar 2953250 - JavaScript window.focus() and window.blur()
	methods don\'t work

	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
        (-[IFWebCoreBridge unfocusWindow]): Use private AppKit interface
	to cycle windows if the window is the key window.


git-svn-id: svn://svn.chromium.org/blink/trunk@1532 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-11 05:32:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3a5fe1aca6689b78761b13aef8c84a93071d9fc8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011h01l5af76ag5u', 2, e'	- fixed 2979153 -- charset sjis page is gibberish

        * kwq/character-sets.txt: Add x-sjis as an alias for Shift JIS.


git-svn-id: svn://svn.chromium.org/blink/trunk@1531 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-11 05:07:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f24526f96f721ee2918ff681da2d6859f035775c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011i01l545g1kks5', 2, e'	- fixed 2983025 -- crash in sendEvent on pages with flash playing

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView removeTrackingRect]): New, removes tracking rect and releases window.
        (-[IFPluginView resetTrackingRect]): New, adds tracking rect and retains window.
        (-[IFPluginView start]): Use resetTrackingRect.
        (-[IFPluginView stop]): Use removeTrackingRect.
        (-[IFPluginView viewWillMoveToWindow:]): Call removeTrackingRect because the window
	will change by the time we get to viewDidMoveToWindow.
        (-[IFPluginView viewDidMoveToWindow]): Call resetTrackingRect.
        (-[IFPluginView viewHasMoved:]): Call resetTrackingRect.


git-svn-id: svn://svn.chromium.org/blink/trunk@1530 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-11 04:59:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0d5cdb02d23b21bc1a94e6c843b1a9b095277e4e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011j01l5sfrrg7s8', 2, e'        * WebView.subproj/IFWebViewPrivate.mm:
        (-[IFWebView _scrollToBottomLeft]): Fix this to use the document view to define what
	the bottom left is, not the content view (which is often much smaller than the document).


git-svn-id: svn://svn.chromium.org/blink/trunk@1529 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-11 04:12:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6286daa56f5532c635dc087e8e6cd051de1a3b9a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn347011k01l5ceeiiw1n', 2, e'WebKit:

	Fixes for:
	2981866 - Download doesn\'t appear in Downloads window if link was command-clicked
	2965312 - Download progress not shown when clicking on download link with Alex not running

        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]): retain
	the downloadProgressHandler before calling requestContentPolicy as the web controller may be released
	in requestContentPolicy

WebBrowser:

	Fixes for:
        2981866 - Download doesn\'t appear in Downloads window if link was command-clicked
        2965312 - Download progress not shown when clicking on download link with Alex not running

        * BrowserDocument.m:
        (-[BrowserDocument _stopNonDownloadingDataSource:]): added
        (-[BrowserDocument close]): calls above
        * WebController.m:
        (-[BrowserWebController haveContentPolicy:andPath:forDataSource:]): moved super call to first line


git-svn-id: svn://svn.chromium.org/blink/trunk@1528 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-11 01:44:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1604a49ab4a29afcbe5c2ae7c5667aaec00fd856');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf00zx01l5aouc9bom', 2, e'        * kwq/KWQPixmap.mm:
        (QPixmap::QPixmap): Restore the imageRenderer == nil case to fix a regression
	related to resized images. Otherwise, isNull was returning true for all images.
	In copy constructor, set needCopyOnWrite on both the source and destination;
	setting it on the destination was not enough.
        (QPixmap::receivedData): Create the imageRenderer if it\'s nil.
        (QPixmap::operator=): Set needCopyOnWrite on both the source and destination.

        * kwq/qt/qpixmap.h: Make needCopyOnWrite mutable so we can set it on the source
	when copying or assigning.


git-svn-id: svn://svn.chromium.org/blink/trunk@1527 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-11 00:38:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b138561e4e6397d5526ddd3d496787d0a1045782');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf00zy01l53f1q2cjg', 2, e'WebKit:

        Fix for:
        2976311 - Download fails if you close the window that started the download
        2976308 - Can\'t navigate in window while download started in that window is in progress

        * WebView.subproj/IFMainURLHandleClient.h:
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient dealloc]):
        (-[IFMainURLHandleClient _receivedProgress:forResourceHandle:fromDataSource:complete:]): added, sends progress to correct handler
        (-[IFMainURLHandleClient _receivedError:forResourceHandle:partialProgress:fromDataSource:]): added, sends progress to correct handler
        (-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]): calls _receivedProgress
        (-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]): calls _receivedProgress
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]): calls _receivedProgress
        (-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]): calls _receivedError
        * WebView.subproj/IFWebController.h:
        * WebView.subproj/IFWebController.mm:
        (-[IFWebController setDownloadProgressHandler:]): added
        (-[IFWebController downloadProgressHandler]): added
        * WebView.subproj/IFWebControllerPrivate.h:
        * WebView.subproj/IFWebControllerPrivate.mm:
        (-[IFWebController _mainReceivedProgress:forResourceHandle:fromDataSource:complete:]): removed download special-casing

WebBrowser:

        Fix for:
        2976311 - Download fails if you close the window that started the download
        2976308 - Can\'t navigate in window while download started in that window is in progress

        * BrowserDocument.m:
        (-[BrowserDocument init]): set the downloadProgressHandler to the download monitor
        (-[BrowserDocument close]): set the downloadProgressHandler to nil
        * DownloadMonitor.h:
        * DownloadMonitor.m:
        (-[DownloadMonitor _monitorDownload:withProgress:error:dataSource:complete:]): renamed, made private
        (-[DownloadMonitor receivedProgress:forResourceHandle:fromDataSource:complete:]): added, calls _monitorDownload
        (-[DownloadMonitor receivedError:forResourceHandle:partialProgress:fromDataSource:]): added, calls _monitorDownload
        * WebController.m:
        (-[BrowserWebController receivedProgress:forResourceHandle:fromDataSource:complete:]): removed download special-casing
        (-[BrowserWebController receivedError:forResourceHandle:partialProgress:fromDataSource:]): removed download special-casing


git-svn-id: svn://svn.chromium.org/blink/trunk@1526 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-10 22:08:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7a40eafa1ef90138d6c257fdb4f7f28b652617ec');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf00zz01l5ly1v2d0i', 2, e'	Fix the underlying cause of a deadlock problem that I saw. It\'s important that IFURLHandle
	drops its references to the handle clients on the thread that it\'s using for client notification
	rather than the thread it happens to be deallocated on.

	Also fix things so that the notifications can be sent without holding the lock the whole time,
	by making a copy of the client array and any parameters, and fix one small problem related to this.

	Use makeObjectsPerformSelector in a lot more places, and do a few other cleanups.

        * CacheLoader.subproj/IFURLHandle.m:
        (-[IFURLHandleSynchronousClient initWithHandle:monitor:]): Remove unneeded [self release] in the
	case where self is nil.
        (-[IFURLHandle _didRedirectToURL:]): Lock around changes to the redirectedURL so we don\'t access
	the object from the callback thread when it\'s invalid.
        (-[IFURLHandle _notifyClientsDidBeginLoading]): Do notifications outside the lock.
        (-[IFURLHandle _notifyClientsDidCancelLoading]): Do notifications outside the lock. Also empty
	out the clients array because we are at an end state. It\'s important to empty it out here from
	the thread we are calling back on rather than from dealloc on whatever thread that is called on.
        (-[IFURLHandle _notifyClientsDataDidBecomeAvailable]): Do notifications outside the lock.
        (-[IFURLHandle _notifyClientsDidFinishLoading]): Do notifications outside the lock. Also empty
	out the clients array because we are at an end state. It\'s important to empty it out here from
	the thread we are calling back on rather than from dealloc on whatever thread that is called on.
        (-[IFURLHandle _notifyClientsDidFailLoading]): Do notifications outside the lock. Also empty
	out the clients array because we are at an end state. It\'s important to empty it out here from
	the thread we are calling back on rather than from dealloc on whatever thread that is called on.
        (-[IFURLHandle _notifyClientsDidRedirectToURL]): Do notifications outside the lock.

        * AuthenticationManager.subproj/IFAuthenticationManager.m:
        (-[IFAuthenticationManager _retryWaitingRequests]): Remove unnecessary copy/autorelease since
	we are the sole owner of the waitingRequests array.

        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
        (-[IFHTTPURLProtocolHandler setRedirectedURL:]): Use makeObjectsPerformSelector for simplicity.
	Also remove the exception handler since the handles accessor now does a copy/autorelease.
        (-[IFHTTPURLProtocolHandler setResponseHeaders:]): Use makeObjectsPerformSelector for simplicity.
	Also remove the exception handler since the handles accessor now does a copy/autorelease.

        * CacheLoader.subproj/IFURLLoad.m:
        (-[IFURLLoad handles]): Return a copied auto-released version.
        (-[IFURLLoad updateHandles]): Use makeObjectsPerformSelector for simplicity.

        * Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileDatabase sync]): Remove unnecessary checks for nil and empty array in cases that
	the nil behavior of Objective C already takes care of. Use makeObjectsPerformSelector for simplicity.

        * Misc.subproj/IFFileTypeMappings.m:
        (-[IFFileTypeMappingsPrivate init]): Create a reverse mapping dictionary too, so we can map in both
	directions quickly. Also fix a storage leak in the failure case.
        (-[IFFileTypeMappings _init]): Fix a storage leak in the failure case.
        (-[IFFileTypeMappings MIMETypeForExtension:]): Use the new reverse dictionary.

        * Misc.subproj/IFNSArrayExtensions.h: Add _IF_makeObjectsPerformSelector:withObject:withObject:.
        * Misc.subproj/IFNSArrayExtensions.m: Fix name in comment for the benefit of the renamings script.
        (-[NSArray _IF_makeObjectsPerformSelector:withObject:withObject:]): Added. Stole the algorithm
	from NSArray.m.

        * Misc.subproj/IFNSObjectExtensions.m: Fix name in comment for the benefit of the renamings script.


git-svn-id: svn://svn.chromium.org/blink/trunk@1525 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-10 20:50:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fc2b30678a845fa54aef536a2db99dd80a2eb608');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010001l5tayjtggc', 2, e'        * WebView.subproj/IFGrabBag.h: Removed.
        * WebView.subproj/IFWebController.h: Move IFContextMenuHandler
	here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1524 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-10 18:57:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8ce0d85c5fdf92dd16402957cb2224c8eb152c66');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010101l5n07rbndo', 2, e'	Did some tweaks that weren\'t really necessary. But at least one is a significant
	improvement so I decided to commit rather then just discarding the changes.

        * Bookmarks.subproj/IFBookmark.m:
        (-[IFBookmark title]): Take out special case for separator.
        (-[IFBookmark setTitle:]): Take out special case for separator.
        (-[IFBookmark image]): Take out special case for separator.
        (-[IFBookmark setImage:]): Take out special case for separator.
        (-[IFBookmark setURLString:]): Take out special case for non-leaf.
        (-[IFBookmark children]): Take out request for concrete implementation;
	this is not useful since it\'s specific to one subclass.
        (-[IFBookmark numberOfChildren]): Take out request for concrete implementation;
	this is not useful since it\'s specific to one subclass.
        (-[IFBookmark _numberOfDescendants]): Take out request for concrete implementation;
	this is not useful since it\'s specific to one subclass.
        (-[IFBookmark insertChild:atIndex:]): Take out special case for non-list.
        (-[IFBookmark removeChild:]): Take out special case for non-list.
        (+[IFBookmark bookmarkFromDictionaryRepresentation:withGroup:]): Refactored to
	eliminate repeated code.

        * Bookmarks.subproj/IFBookmarkLeaf.m:
        (-[IFBookmarkLeaf copyWithZone:]): Use allocWithZone to be more pedantically correct.

        * Bookmarks.subproj/IFBookmarkSeparator.m:
        (-[IFBookmarkSeparator title]): Override to return nil.
        (-[IFBookmarkSeparator image]): Override to return nil.


git-svn-id: svn://svn.chromium.org/blink/trunk@1523 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-10 18:05:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/612b4305fb1b2e0d9902056245036980d5173c7d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010201l58ick1x4g', 2, e'        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPartImpl::setBaseURL):
	Call setBaseURL on the underlying document all the time, not just
	when we add a missing "/" character.


git-svn-id: svn://svn.chromium.org/blink/trunk@1522 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-10 17:58:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a5dbb1707019773f3cd137d97a8f54fdbec37603');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010301l5p107hdzy', 2, e'        * Misc.subproj/WebKitDebug.m: Remove workaround for long-ago fixed
	C compiler bug.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView keyUp:]), (-[IFPluginView keyDown:]): Simplify keyboard
	scrolling code by passing along all events that the plug-in doesn\'t handle
	rather than special-casing certain events. Also use super rather than
	nextResponder to pass along the scroll events (super will do nextResponder).

        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView keyDown:]), (-[IFHTMLView keyUp:]): Use super rather than
	nextResponder to pass along scroll events (super will do nextResponder).


git-svn-id: svn://svn.chromium.org/blink/trunk@1521 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-10 17:31:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d5e3a6f6b24058c8393225a93d260d8895bff4bb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010401l5erlvhx5x', 2, e'WebKit:

        Fixes for:
        2955757 - Keyboard scrolling code needs to move to WebKit
        2937231 - Left and right arrows should scroll the content area

        * Misc.subproj/IFNSEventExtras.h: Added.
        * Misc.subproj/IFNSEventExtras.m: Added.
        (-[NSEvent _IF_isScrollEvent]): new
        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView keyUp:]): if plug-in doesn\'t accept it, send to nextResponder
        (-[IFPluginView keyDown:]): if plug-in doesn\'t accept it, send to nextResponder
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView keyDown:]): calls _IF_isScrollEvent, if so send to nextResponder
        (-[IFHTMLView keyUp:]): calls _IF_isScrollEvent, if so send to nextResponder
        * WebView.subproj/IFWebView.mm:
        (-[IFWebView acceptsFirstResponder]): added
        (-[IFWebView window]): no changes
        (-[IFWebView keyDown:]): added, does the scroll
        * WebView.subproj/IFWebViewPrivate.h:
        * WebView.subproj/IFWebViewPrivate.mm:
        (-[IFWebView _contentView]): added
        (-[IFWebView _scrollVerticallyBy:]): added, moved from BrowserWindow.m
        (-[IFWebView _scrollHorizontallyBy:]): added, moved from BrowserWindow.m
        (-[IFWebView _pageVertically:]): added, moved from BrowserWindow.m
        (-[IFWebView _scrollLineVertically:]): added, moved from BrowserWindow.m
        (-[IFWebView _scrollLineHorizontally:]): added, moved from BrowserWindow.m
        (-[IFWebView _pageDown]): added, moved from BrowserWindow.m
        (-[IFWebView _pageUp]): added, moved from BrowserWindow.m
        (-[IFWebView _scrollToTopLeft]): added, moved from BrowserWindow.m
        (-[IFWebView _scrollToBottomLeft]): added, moved from BrowserWindow.m
        (-[IFWebView _lineDown]): added, moved from BrowserWindow.m
        (-[IFWebView _lineUp]): added, moved from BrowserWindow.m
        (-[IFWebView _lineLeft]): added, moved from BrowserWindow.m
        (-[IFWebView _lineRight]): added, moved from BrowserWindow.m

WebBrowser:

        Fixes for:
        2955757 - Keyboard scrolling code needs to move to WebKit
        2937231 - Left and right arrows should scroll the content area

        * BrowserWindow.m:
        (-[BrowserWindow windowDidLoad]): no changes
        (-[BrowserWindow windowWillHandleKeyEvent:]): causes scroll in _largestNonFramesetWebView
        (-[BrowserWindow mouseDownInRightSearchButton:]): no changes
        (-[IFWebView _area]): added
        (-[IFWebView _largestNonFramesetWebView]): added


git-svn-id: svn://svn.chromium.org/blink/trunk@1520 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-09 00:09:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c4489b3d2ea24cb73f2c4e4d1a42310c1145563b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010501l5tbalfa7g', 2, e'        * WebCoreSupport.subproj/IFWebCoreBridge.mm: Fix compiles under newer compiler
	(Jaguar 6C89 and newer) by adding missing include.


git-svn-id: svn://svn.chromium.org/blink/trunk@1519 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-08 18:18:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a957b69e84ed05ca5f868ed68eddf9484d8ed6e3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010601l5p1wsrgam', 2, e'WebCore:

        WebCore part of fix for Radar 2953431 - JavaScript window.close()
	method is not working

        * khtml/ecma/kjs_window.cpp:
        (Window::scheduleClose): In AppleChanges
        * khtml/khtml_part.cpp:
        (KHTMLPart::openedByJS): Call kwq implementations, because we need
	to remember the openedByJS state across location changes, which in
	our case means replacing the part.
        (KHTMLPart::setOpenedByJS): Likewise.
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPartImpl::openedByJS): Implement by calling bridge.
        (KWQKHTMLPartImpl::setOpenedByJS): Likewise.
        (KWQKHTMLPartImpl::close): Likewise.
        * kwq/KWQKHTMLPartImpl.h: Prototype new PartImpl methods.
        * kwq/WebCoreBridge.h: Prototype new bridge methods.

WebKit:

        WebCore part of fix for Radar 2953431 - JavaScript window.close()
	method is not working

	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
        (-[IFWebCoreBridge openedByScript]): Implement by calling controller.
        (-[IFWebCoreBridge setOpenedByScript:]): Likewise.
        * WebView.subproj/IFWebControllerPrivate.h:
        * WebView.subproj/IFWebControllerPrivate.mm:
        (-[IFWebController _openedByScript]): Implement.
        (-[IFWebController _setOpenedByScript:]): Implement.


git-svn-id: svn://svn.chromium.org/blink/trunk@1518 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-07 09:57:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1264f9de0c6538d948be7a665c3202e9d117bf31');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010701l5b2quvpwp', 2, e'        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPartImpl::write): Remove reference
	to nonexistent class in a comment.
        * kwq/KWQKHTMLPartImpl.h: Remove unused and unimplemented getDataSource().


git-svn-id: svn://svn.chromium.org/blink/trunk@1517 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-06 07:41:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6db4ab7753d9658b5f84381420a000253f9ed4ff');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010801l5ontmosjj', 2, e'	Fix crashes I saw with zombies enabled caused by messing with windows that are
	in the process of being destroyed.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView start]): Remove windowWillClose notification because
	we use viewDidMoveToWindow instead.
        (-[IFPluginView viewDidMoveToWindow]): Use this instead of viewWillMoveToWindow.
        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView viewDidMoveToWindow]): Use this instead of viewWillMoveToWindow.
        * WebView.subproj/IFHTMLViewPrivate.h: Need a boolean flag to tell window changes
	before the first time we are installed from window changes afterward.
        * WebView.subproj/IFImageView.m:
        (-[IFImageView viewDidMoveToWindow]): Use this instead of viewWillMoveToWindow.


git-svn-id: svn://svn.chromium.org/blink/trunk@1516 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-05 18:06:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7b71a2326b968c858ae00a38b9f7825d32b19855');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010901l56331y2bm', 2, e'	Say "Go to" instead of "Link to" for links that won\'t open a new
	window. Also, the code is now set up to change the status text
	when modifier keys are pressed, but the code is disabled for now
	because it\'s impossible to do reliably.

        * khtml/khtml_part.cpp:
        (KHTMLPart::overURL):
        (KHTMLPart::khtmlMouseMoveEvent):
        * khtml/khtml_part.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1515 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-05 01:15:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c62b1d927d559765fac7659759fe4007a93e3e42');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010a01l5d1nzw2ij', 2, e'        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView mouseMovedNotification:]): Pass the modifier flags
	along for mouse move events.


git-svn-id: svn://svn.chromium.org/blink/trunk@1514 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-05 01:08:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4f18ba6720cb8b1ffb564ae18d6fa63178d13ffa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010b01l5ka3u4zjf', 2, e'WebKit:

        * WebView.subproj/IFDynamicScrollBarsView.h:
	Updated FIXME to mention bug number.

WebBrowser:

	- finished a few details for 2953570 and 2953580 -- Open and
	Reveal in Downloads window don\'t handle	missing-file case well
	- fixed 2981774 -- Status bar text not centered vertically
	- removed vestiges of ancient mechanism for swapping browser
	window view between webview & search modes

        * English.lproj/Browser.nib: Made the status bar a few pixels shorter.
	We may decide that it looks bad for it to be a different height than the
	favorites bar, but Don wanted to try this. Also made IFWebView a direct
	subview of the window\'s contentView, and eliminated the extra views that
	were part of the ancient web/search mode mechanism.

        * BrowserWindow.h: Removed tabView outlet.

        * BrowserWindow.m:
        (-[BrowserWindow toggleFavoritesBarWithAnimation:]):
        (-[BrowserWindow toggleStatusBarWithAnimation:]):
	Made these methods use webView instead of tabView.

        * DownloadMonitor.m:
        (-[DownloadMonitor _canOpenSelectedDownloads]):
        (-[DownloadMonitor _canStopSelectedDownloads]):
        (-[DownloadMonitor _canRevealSelectedDownloads]):
        (-[DownloadMonitor _canForgetSelectedDownloads]):
	Renamed these from "_totalSelectedAndXXXXable" and made them return BOOLs rather
	than ints, since that\'s all the callers cared about. Made them (except _canReveal)
	return as soon as a single valid entry is found (_canReveal has to make sure there
	is exactly one valid entry). Made _canOpen and _canReveal return YES even if file
	doesn\'t exist, so that the user will get the explanatory message if they click on
	Open or Reveal in this case.

        (-[DownloadMonitor validateUserInterfaceItem:]):
	Updated for method name and return-value changes; restructured so that it returns
	as soon as the right selector is checked, rather than continuing to check against
	other selectors.

	(-[DownloadMonitor _showMissingFileErrorForOperation:andFile:]): Removed this
	method; it was constructing messages using substitution patterns that might
	not work in other languages.

        (-[DownloadMonitor openSelectedDownloads:]):
	Made the error message handle the multiple-missing-files case properly; let
	all openable items be opened regardless of how many unopenable items there are
	(formerly bailed at the first unopenable item). Moved sheet-displaying code
	for this case into here.

        (-[DownloadMonitor revealSelectedDownloads:]): Moved sheet-displaying code
	for this case into here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1513 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-07-04 20:21:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/05e60d20ce9f5cfa8befb23efbf6e892b79e6ee7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010c01l59joizp2i', 2, e'	- Fix for 2975750
	- Removed Java workaround since that will be fixed soon.

        * Plugins.subproj/IFPlugin.h:
        * Plugins.subproj/IFPlugin.m:
        (-[IFPlugin _openResourceFile]): added
        (-[IFPlugin _closeResourceFile:]): added
        (-[IFPlugin _getPluginInfo]): rename
        (-[IFPlugin initWithPath:]): simplified
        (-[IFPlugin load]): calls _openResourceFile
        (-[IFPlugin unload]): calls _closeResourceFile
        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView setUpWindowAndPort]): removed Java workaround


git-svn-id: svn://svn.chromium.org/blink/trunk@1512 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-03 22:58:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cf83438945c1a64912f02989ceb984b4565b5566');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010d01l59flk8ju1', 2, e'top level:

        * Site/Internal/Design/IFRenamings.txt:
	Update a bit more, preparing for the team to review.

WebKit:

        * Misc.subproj/IFException.h: Use Objective C header style rather than plain C.

WebBrowser:

        * NSViewAdditions.h:
        * NSViewAdditions.m:
	Change name of this category to match the file name to smooth things over for the
	IF -> Web renaming.


git-svn-id: svn://svn.chromium.org/blink/trunk@1511 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-03 22:18:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5ebb8a4dbb498da87b0976ecf4282564f74d386b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010e01l5gdbnvsd4', 2, e'	A small KURL speed improvement.

        * khtml/misc/loader.cpp:
        (Cache::requestImage):
        (Cache::requestStyleSheet):
        (Cache::requestScript):
	Don\'t do the isMalformed check, because it\'s expensive and has no clear benefit.
	There\'s no harm in caching null results for malformed URLs.

        * kwq/KWQKURL.mm:
        (KURL::KURL): Make the default constructor faster by not running all the
	normalize code on the empty string.


git-svn-id: svn://svn.chromium.org/blink/trunk@1510 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-03 19:34:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0a61c0a0952bedebe9184a508381338fa952969d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010f01l5l8z7yy9t', 2, e'Alex-11 and 0.4 versions & changelog markers


git-svn-id: svn://svn.chromium.org/blink/trunk@1508 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-07-03 18:30:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/39d84cb6286180fc3e19504359adae567e82fd8d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010g01l5xx3tg27s', 2, e'        * Misc.subproj/IFDownloadHandler.mm:
        (-[IFDownloadHandler finishedLoading]):
        * WebView.subproj/IFWebController.h:
	A couple places where it still said IFContentPolicyOpenExternally.


git-svn-id: svn://svn.chromium.org/blink/trunk@1507 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-03 16:06:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/883af2fc8ad8ea700238855d38da71ae9375e794');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010h01l5zs960khn', 2, e'WebCore:

        WebCore part of fixes for:

	Radar 2950616 - JavaScript window.screenX and window.screenY always return -1
	Radar 2950614 - JavaScript window.screenLeft and window.screenTop
	properties are unimplemented
	Radar 2950609 - JavaScript window.outerHeight and
	window.outerWidth properties always return 0

        * khtml/ecma/kjs_window.h:
        * khtml/ecma/kjs_window.cpp:
	(Window::get): Make ScreenLeft and ScreenTop synonyms for ScreenX
	and ScreenY respectively.
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPartImpl::setView): Set the real part\'s view too.
        * kwq/kdecore/kwin.h: Remove unneeded fields.
        * kwq/KWQKWin.mm:
        (KWin::info): Implemented.
        * kwq/qt/qwidget.h:
        * kwq/KWQWidget.mm:
	(QWidget::winId): Return long instead of int, to make sure there
	is room for a pointer even on 64-bit architectures.
        (QWidget::mapToGlobal): Use the top level widget to map.

WebKit:

        WebKit part of fixes for:

	Radar 2950616 - JavaScript window.screenX and window.screenY always return -1
	Radar 2950614 - JavaScript window.screenLeft and window.screenTop
	properties are unimplemented
	Radar 2950609 - JavaScript window.outerHeight and
	window.outerWidth properties always return 0

	* WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView provisionalDataSourceChanged:]): Pass the real
	document view to the newly created bridge, since it will be ready
	by now and is needed by JavaScript.


git-svn-id: svn://svn.chromium.org/blink/trunk@1506 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-03 12:20:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/300df7371f3576267255a3d227ebe98aecf3a9e8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010i01l5gyistwm6', 2, e'        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView status:]): Fix build problem. Why doesn\'t
	compiling catch these more reliably?


git-svn-id: svn://svn.chromium.org/blink/trunk@1505 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-03 11:18:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7208e4c9e643111c5ec6faa20061dcb6ec5c94b2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010j01l55xzlfpv2', 2, e'        * kwq/KWQScrollView.mm:
        (QScrollView::addChild):
        Fixed regression that caused IFWebView frame origin to sometimes
        never be set correctly.  (khtml sets the x origin to -500000
        during initialization, and it was never getting set correctly).
        This problem manifested itself as blank white frames.

        * kwq/KWQWidget.mm:
        (QWidget::internalSetGeometry):

        * Misc.subproj/IFNSViewExtras.m:
        (-[NSView _IF_printViewHierarchy:]):
        Debugging help.

        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView layout]):
        Added setLayouted(false).

        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFrame _isLoadComplete]):
        Tweaks attempting to fix frame drawing problems.


git-svn-id: svn://svn.chromium.org/blink/trunk@1504 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-03 08:59:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/812d92fd359420c9c872a0dd26123c8ef112d77c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010k01l5b34p0v67', 2, e'top level:

        * Site/static/javascript/javascript_window_status.html:

WebCore:

	WebKit part of fix for:

	Radar 2943465 - JavaScript window.defaultStatus property not implemented
	Radar 2943464 - JavaScript window.status property is not implemented
	Radar 2926213 - show url of moused-over link in status bar

	Also fixed:

	Radar 2980091 - KHTMLPart::findFrame() and KHTML::frameExists()
	should search all frames, not just child frames

        * khtml/khtml_part.cpp:
        (KHTMLPart::overURL): Unifdef most of this, but adjust the wording.
        (KHTMLPart::setStatusBarText): Implement by calling KWQKHTMLPartImpl.
        * khtml/khtml_part.h:
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPartImpl::frameExists): Search all frames, not just child frames.
        (KWQKHTMLPartImpl::findFrame): Search all frames, not just child frames.
        (KWQKHTMLPartImpl::setStatusBarText): Implemented by calling WebCoreBridge.
        * kwq/KWQKHTMLPartImpl.h:
        * kwq/WebCoreBridge.h: Declare new setStatusText method
        * kwq/kparts/part.h: Remove setStatusBarText method.

WebKit:

        WebCore part of fix for:

	Radar 2943465 - JavaScript window.defaultStatus property not implemented
	Radar 2943464 - JavaScript window.status property is not implemented
	Radar 2926213 - show url of moused-over link in status bar

	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
	(-[IFWebCoreBridge setStatusText:]): Connect bridge status text
	setting to window context.
        * WebView.subproj/IFWebController.h:

WebBrowser:

        Fixed Radar 2980081 - Status bar should center-truncate status messages

	* BrowserWindow.h:
        * BrowserWindow.m:
        (-[BrowserWindow windowDidResize:]):
        (-[BrowserWindow dealloc]):
        (-[BrowserWindow setStatus:]):

	Remove dataSource argument:

	* WebController.m:
        (-[BrowserWebController setStatusText:]):
        (-[BrowserWebController statusText]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1503 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-03 08:43:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ec91277506e50c9121ca7bd126ac662bb76352c5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010l01l5g2djyl2g', 2, e'WebKit:

	Added IFFileURLPolicyReveal. This makes things a little clearer for the client.

        * WebView.subproj/IFWebControllerPolicyHandler.h:
        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFrame _shouldShowDataSource:]): support for IFFileURLPolicyReveal.

WebBrowser:

	Added IFFileURLPolicyReveal. This makes things a little clearer for the client.

        * WebController.m:
        (-[BrowserWebController unableToImplementURLPolicyForURL:error:]): removed old comments
        (-[BrowserWebController fileURLPolicyForMIMEType:dataSource:isDirectory:]): use
	IFFileURLPolicyReveal for files we don\'t open and IFFileURLPolicyOpenExternally for directories


git-svn-id: svn://svn.chromium.org/blink/trunk@1502 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-03 04:43:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/68c641662d99c1d8720a5e910be65a674d230da5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010m01l5uklshi2a', 2, e'        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer incrementalLoadWithBytes:length:complete:]):
	Fixed a syntax error caused by a "just before committing" edit.


git-svn-id: svn://svn.chromium.org/blink/trunk@1501 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-03 04:38:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c33c0287e1b95155549748ba75318aef57edf153');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010n01l5v0wvhgvd', 2, e'	- fixed 2952837 -- image not rendered if height or width attributes specified incorrectly

        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer incrementalLoadWithBytes:length:complete:]):
	Set the size of both the image and the image representation.


git-svn-id: svn://svn.chromium.org/blink/trunk@1500 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-03 04:30:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c16d4a7dcd550630aa1900607ada521bd17f476e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010o01l5lr0x393d', 2, e'        Can\'t call startLoading on a frame if setProvisionalDataSource
returned NO.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView
loadURL:inTarget:withNotifyData:andHandleAttributes:]):
        * WebCoreSupport.subproj/IFWebCoreFrame.m:
        (-[IFWebCoreFrame loadURL:attributes:flags:withParent:]):
        * WebView.subproj/IFWebView.mm:
        (-[IFWebView performDragOperation:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1499 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-03 03:52:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/460f766a8c935531c609b489348120bc5050aac9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010p01l51nrfmsnj', 2, e'        Fixed asseration failure caused by an iframe not having a correct mime type.
        We now assume that local files without extensions are html files.

        * WebView.subproj/IFWebControllerPrivate.mm:
        (+[IFWebController _MIMETypeForFile:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1498 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-03 02:49:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d5fc89c393edaf4add0b950f294d3f2f41bfe6d7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnn1qf010q01l5misd5rke', 2, e'WebFoundation:

        * CacheLoader.subproj/IFURLCacheLoaderConstants.h: removed IFErrorCode enum
        * Misc.subproj/IFError.h:
        * Misc.subproj/IFError.m:
        (classInitialize): removed WebKit error descriptions
        (-[IFError description]): no changes
        (+[IFError addErrorsFromDictionary:]): added, allows WebKit to register errors

WebKit:

        - Moved all policy methods to IFWebControllerPolicyHandler.h
        - Moved all file URL error checking to WebKit
        - Implemented file URL policy methods
        - Renamed IFContentPolicyOpenExternally to IFContentPolicySaveAndOpenExternally

        * Misc.subproj/IFWebKitErrors.h: Added.
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/IFLocationChangeHandler.h: removed content policy stuff
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]): IFContentPolicySaveAndOpenExternally rename
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]): call the policy handler for content policy stuff
        * WebView.subproj/IFWebController.h:
        * WebView.subproj/IFWebController.mm:
        (-[IFWebController haveContentPolicy:andPath:forDataSource:]): sends a unableToImplementContentPolicy:
        (+[IFWebController canShowFile:]): now calls _MIMETypeForFile
        * WebView.subproj/IFWebControllerPolicyHandler.h: Added.
        * WebView.subproj/IFWebControllerPrivate.h:
        * WebView.subproj/IFWebControllerPrivate.mm:
        (-[IFWebController _mainReceivedProgress:forResourceHandle:fromDataSource:complete:]): IFContentPolicySaveAndOpenExternally

WebBrowser:

	- Moved all policy methods to IFWebControllerPolicyHandler
	- Moved all file URL error checking to WebKit
	- Implemented file URL policy methods
	- Renamed IFContentPolicyOpenExternally to IFContentPolicySaveAndOpenExternally
        * BrowserDocument.m:
        (-[BrowserDocument _goToURL:withFrameLoadType:fallbackURLs:]): load frame only if setProvisionalDataSource returns YES
        * BrowserWindow.h:
        * BrowserWindow.m:
        (-[BrowserWindow goToToolbarLocation:]): removed file URL error checking
        * DownloadMonitor.m:
        (-[DownloadMonitor monitorDownload:withProgress:error:dataSource:complete:]): minor clean-up
        * LocationChangeHandler.m: removed content policy methods
        * WebController.m:
        (-[BrowserWebController receivedProgress:forResourceHandle:fromDataSource:complete:]): IFContentPolicySaveAndOpenExternally


git-svn-id: svn://svn.chromium.org/blink/trunk@1497 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-03 00:52:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/eaa4bf6ee3c7d500064ed8382b032052ca05c001');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00z301l5rl7kf6zn', 2, e'
        * WebView.subproj/IFRenderNode.mm:
        (-[IFRenderNode initWithRenderObject:khtml::]):
        Fixed regression that prevented showing of nodes in subframes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1496 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-02 22:44:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6276d59829e5023fe7703d34f0ed101e0f0d0ed5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00z401l5izm3xcjq', 2, e'WebKit:

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView setWindow]), (-[IFPluginView start]), (-[IFPluginView stop]):
	Fix unused variable issue that affects deployment builds.

WebBrowser:

        * LocationChangeHandler.m: Improve comments.


git-svn-id: svn://svn.chromium.org/blink/trunk@1495 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-02 21:45:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ad10124da806f93d62940c873a912ea2ebfb8802');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00z501l5vrskuif2', 2, e'	Remove unnecessary code to fill with white from here; this code
	path has changed. Now it just bails out early in the case where
	there\'s no widget.

        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView drawRect:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1494 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-07-02 21:28:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/afd855083d9ab3505398014fff926e1aaa32c684');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00z601l5fqy4uktm', 2, e'	Made IFWebView fill with white when there\'s no document view. This fixes:

	- 2978210 -- problems with "hide status bar"
	- 2978742 -- Resizing initially-empty Alexander window results in garbage in window

        * WebView.subproj/IFWebView.mm:
        (-[IFWebView drawRect:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1493 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-07-02 20:57:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4613646a3af027cfddd6aac3c8d8296e051eb38a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00z701l5inojmb14', 2, e'	- fixed 2978806 -- Crash going to ebay home page

        * khtml/ecma/kjs_navigator.cpp: (PluginBase::PluginBase): Check to be sure
	that we are not at the end of the "tokens" collection before dereferencing
	the iterator.


git-svn-id: svn://svn.chromium.org/blink/trunk@1492 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-02 17:39:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2059061881adf6e1eea58e78c747fcd7ef2dcc78');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00z801l52zj8zalk', 2, e'        * WebView.subproj/IFMainURLHandleClient.mm: Fix comment.


git-svn-id: svn://svn.chromium.org/blink/trunk@1491 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-02 15:16:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c48080e9566f5ce12124af8687f83985fd53bbae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00z901l548dz216b', 2, e'	- fixed 2975790 - Ads on salon.com scribble all over page

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView setUpWindowAndPort]): New, sets up the window, but does not
	call NPP_SetWindow again.
        (-[IFPluginView setWindow]): Call [setUpWindowAndPort] then call NPP_SetWindow.
        (-[IFPluginView start]): Register for changes to the bounds or frame of any of
	our superviews, not just one particular one. Also, don\'t bother to register for
	notification when the window resizes. Finally, use the constants for the names
	of the notifications, not literal strings.
        (-[IFPluginView layout]): Just use [setUpWindowAndPort]; no need for a new call
	to NPP_SetWindow.
        (-[IFPluginView viewHasMoved:]): Just use [setUpWindowAndPort]; no need for a new
	call to NPP_SetWindow.


git-svn-id: svn://svn.chromium.org/blink/trunk@1490 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-02 15:12:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15a5a47aa6d85a0a586330b7877ed1f47f4c2587');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00za01l574op5gw9', 2, e'WebCore:

        Fixed Radar 2953256 - JavaScript window.moveTo() and
	window.moveBy() methods do not work

	This was done by creating a class to wrap an NSWindow as a
	QWidget, which should be useful for many other window-related
	features.

	* kwq/KWQWidget.mm:
        (QWidget::x): Implement in terms of the virtual frameGeometry() method.
        (QWidget::y): Likewise.
        (QWidget::width): Likewise.
        (QWidget::height): Likewise.
        (QWidget::size): Likewise.
        (QWidget::pos): Likewise.
        (QWidget::topLevelWidget): Implement by creating a KWQWindowWidget
        (QWidget::isVisible): Added FIXME comment.
        * kwq/KWQWindowWidget.h: Added.
        * kwq/KWQWindowWidget.mm: Added.
	(KWQWindowWidget::fromNSWindow): Static method that maintains a
	dictionary of top-level widgets, and creates them on demand.
        (deleteOnWindowClose): Delete top level widget on close.
        (KWQWindowWidget::KWQWindowWidget):
        (KWQWindowWidget::~KWQWindowWidget):
        (KWQWindowWidget::sizeHint): Implemented using NSWindow.
        (KWQWindowWidget::minimumSizeHint): Likewise.
        (KWQWindowWidget::frameGeometry): Likewise.
        (KWQWindowWidget::topLevelWidget): Likewise.
        (KWQWindowWidget::mapToGlobal): Likewise.
        (KWQWindowWidget::mapFromGlobal): Likewise.
        (KWQWindowWidget::setCursor): No-op implementation.
        (KWQWindowWidget::internalSetGeometry): Implemented using NSWindow.
        * kwq/Makefile.am: Add new files to build.
        * kwq/qt/qwidget.h: Make methods virtual as needed.

WebKit:

        * WebView.subproj/IFWebView.mm:
        (-[IFWebView window]): If the view hasn\'t been added to a window
	yet, get the window from the WindowContext.


git-svn-id: svn://svn.chromium.org/blink/trunk@1489 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-02 02:23:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/91e278d5dcd88486c8817e3f561fa543f84f2f24');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zb01l53y173h5m', 2, e'i        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
        Ensure that _didStopLoading is called for both error case and
        non-error case.


git-svn-id: svn://svn.chromium.org/blink/trunk@1488 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-01 23:31:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/366151f7fb09cc84d8ace46101b96f89516837e0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zc01l5j41kmy21', 2, e'        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
        A completion message was being sent, as well as an error message.
        This, no doubt confused Alexander.  No only send either the final
        error message or the completion message.


git-svn-id: svn://svn.chromium.org/blink/trunk@1487 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-01 23:07:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9696a2508678f3f55d1fdd4ae600fa16a27ef802');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zd01l59v9auf04', 2, e'	Ken fixed the load message sequencing problem in WebFoundation, so now we can
	go back to the original versions of the asserts.

        * WebCoreSupport.subproj/IFResourceURLHandleClient.m:
        (-[IFResourceURLHandleClient dealloc]):
        (-[IFResourceURLHandleClient IFURLHandleResourceDidCancelLoading:]):
        (-[IFResourceURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient dealloc]):
        (-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]):
	Roll out the stuff that\'s ifdef\'d and marked with bug 2954901.


git-svn-id: svn://svn.chromium.org/blink/trunk@1486 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-01 21:17:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/878bcd1ddcca09c6d19cd39fea5bad43c736ed34');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00ze01l5h6dpf5xv', 2, e'        * WebView.subproj/IFDynamicScrollBarsView.m:
        (-[IFDynamicScrollBarsView updateScrollers]): After a closer reading of
	the NSScrollView source code, I see that we don\'t need to explicitly do
	tile or setNeedsDisplay: because the setters take care of that, so I made
	this simpler.
        (-[IFDynamicScrollBarsView reflectScrolledClipView:]): Replace the anti-
	recursion hack that I erroneously removed earlier.

        * WebView.subproj/IFTextView.h: Removed the isRTF flag.
        * WebView.subproj/IFTextView.m:
        (-[IFTextView provisionalDataSourceChanged:]): Do nothing here.
        (-[IFTextView dataSourceUpdated:]): Check the MIME type here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1485 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-01 19:31:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dd50ed67078abddffe20037b6fa1eed270ab520b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zf01l5qwili0g7', 2, e'        Fixed 2976913.

        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView layout]):
        Augmented debugging info.
        (-[IFHTMLView setNeedsDisplay:]):
        Augmented debugging info.
        (-[IFHTMLView setNeedsLayout:]):
        Removed overload of this method to also set display flag.
        Why was this added?
        (-[IFHTMLView setNeedsToApplyStyles:]):
        Augmented debugging info.
        (-[IFHTMLView drawRect:]):
        Augmented debugging info.
        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFrame _timedLayout:]):
        If the view size is zero (width or height) force
        a layout now, rather than depending on the lazy
        layout that will happen in display.  If the view
        size is 0,0 the AppKit will optimize out the display.


git-svn-id: svn://svn.chromium.org/blink/trunk@1484 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-07-01 19:01:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e383cc8b3c71f9724bde176f16a7e73c495050dd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zg01l5ai1wl2kc', 2, e'WebKit:

	Minor cleanup

        * Plugins.subproj/IFNullPluginView.mm:
        (-[IFNullPluginView initWithFrame:mimeType:arguments:]):
        (-[IFNullPluginView dealloc]):

WebBrowser:

	Add support for delete, clear and stop menu items and keyboard shortcuts
	in Downloads.

        * DownloadMonitor.m:
        (-[DownloadMonitor validateUserInterfaceItem:]):
        (-[DownloadMonitor stopLoading:]): added
        (-[DownloadMonitor clear:]): added
        (-[DownloadMonitor didDoubleClick]):
        (-[DownloadMonitor didHitDeleteKey]): added
        * ListView.m:
        (-[ListView keyDown:]): look for delete key
        (-[ListView validateUserInterfaceItem:]):
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1483 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-07-01 18:15:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d7e264743eca44d1584c504c0690660eddb421ae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zh01l5u72jvr6x', 2, e'2002-07-01  Kenneth Kocienda  <kocienda@apple.com>

        Fix for this bug:

        Radar 2967062 (alexander has fit on exit)

        We no longer sync the contents of the cache to disk at quit time. I also
        shortented the amount of time of disk cache waits before
        declaring "idle time" from 5 seconds to 1 second. This might
        need some tuning, but it should keep the disk cache queue with i
        writes pending from getting too long, while not stepping on more i
        time-critical things like page rendering.

        * CacheLoader.subproj/IFURLLoadManager.m:
        (-[IFURLLoadManager initWithDefaultStack])
        (-[IFURLLoadManager loadDidFinish:])
        * Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileDatabase dealloc])
        (-[IFURLFileDatabase setTimer])


git-svn-id: svn://svn.chromium.org/blink/trunk@1482 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-07-01 17:00:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/697a7a317f25e9e9757c54859804fcb1f9f8d7fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zi01l5edp6rwia', 2, e'top level:

        * Tools/CommitLogEditor/.cvsignore: Added.

WebCore:

        * khtml/css/cssparser.cpp:
        * khtml/misc/htmlhashes.cpp:
	Remove workaround for a PFE bug that no longer affects us.

        * khtml/xml/dom_nodeimpl.h:
        * khtml/xml/dom_nodeimpl.cpp:
	Remove some unneeded APPLE_CHANGES.

        * WebCore.exp: One less symbol to export.

WebKit:

        * Plugins.subproj/IFPlugin.m:
        (-[IFPlugin _getPluginInfoForResourceFile:]): Fix off-by one error
	that would cause a memory trasher if we had a 255-character string.

        * WebView.subproj/IFHTMLView.mm:
        * WebView.subproj/IFRenderNode.mm:
	Touch these files so we don\'t have to do a full build of WebKit
	for my WebCore changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1481 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-07-01 16:19:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d88c6447741963788c08e954ba70cc0fe7e161f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zj01l59pj0q3g2', 2, e'WebKit:

        Build fixes (don\'t know why a plain build didn\'t catch these):

	* Plugins.subproj/IFPluginView.mm: openNewWindowWithURL: is not a
	method of the controller any more, nor are the status-related calls.
        * WebView.subproj/IFWebController.h: Un-ifdef the status calls.

WebBrowser:

        Build fixes:

	* BrowserDocument.h,
        * BrowserDocument.m:
        (-[BrowserDocument highestPriorityStatusMessage]): Make this public.
        (-[BrowserDocument _updateStatusInBrowserWindow]): Adjust for rename.
        * WebController.m:
        (-[BrowserWebController statusTextForDataSource:]): Implemented.


git-svn-id: svn://svn.chromium.org/blink/trunk@1480 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-01 12:35:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d2b9eebdbf10b5a2cb96ea481e7935e3ae81dad9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zk01l57umvwxll', 2, e'WebKit:

        Part of fix for Radar 2976618 - links targeting _blank hit
	assertion trying to set provisional data source

	* WebView.subproj/IFWebFrame.mm:
        (-[IFWebFrame frameNamed:]): Show the window.

WebBrowser:

        Part of fix for Radar 2976618 - links targeting _blank hit
	assertion trying to set provisional data source

	* BrowserDocument.m:
        (-[BrowserDocument setShouldStartEmpty]): Ensure the window
	exists, so that there are a frame and web view ready in time.


git-svn-id: svn://svn.chromium.org/blink/trunk@1479 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-01 08:48:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cc608947c5b0835a6c39edbec643a75b013d81c2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zl01l516jgqmio', 2, e'	Fix Radar 2953256 - Auth sheet appears detached when clicking
	directly on auth link with Alex not running

        * Panels.subproj/IFStandardPanels.m:
        (-[IFStandardPanels frontmostWindowLoadingURL:]): Don\'t consider
	windows that are not visible.


git-svn-id: svn://svn.chromium.org/blink/trunk@1478 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-07-01 08:18:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/94e499a124015355cba2ed7b4237d003aac53cd8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zm01l5s2lmh2d9', 2, e'        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer tileInRect:fromPoint:]): Fix calculation of oneTileRect.
	I think this is finally correct now.


git-svn-id: svn://svn.chromium.org/blink/trunk@1477 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-30 05:31:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bc48e3bbc8cb70733db7c1505d8ea55ce359c3c7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zn01l5q8nljpva', 2, e'WebCore:
        WebCore part of fix for:

	Radar 2942074 - JavaScript size, positioning and feature
	parameters to window.open are ignored

        * kwq/WebCoreBridge.h: Add new calls needed for window
	size/position/feature getting and setting.
        * kwq/KWQKHTMLPartBrowserExtension.mm:
        (KHTMLPartBrowserExtension::createNewWindow): Set properties on window
	after creating it using new bridge calls; make it visible.
	* khtml/ecma/kjs_window.cpp:
        (WindowFunc::tryCall): Support scrollbars feature too.
        * kwq/kparts/browserextension.h: Include scrollbar setting stuff.
WebKit:
        WebKit part of fix for:

	Radar 2942074 - JavaScript size, positioning and feature
	parameters to window.open are ignored

	Also, renamed IFScriptContextHandler protocol to IFWindowContext,
	and made it a settable handler like the others rather than
	something implemented by the controller, so it can be used w/o
	subclassing.

        * WebCoreSupport.subproj/IFWebCoreBridge.mm:
        (-[IFWebCoreBridge openNewWindowWithURL:]): Forward to the WindowContext.
        (-[IFWebCoreBridge areToolbarsVisisble]): Likewise.
        (-[IFWebCoreBridge setToolbarsVisible:]): Likewise.
        (-[IFWebCoreBridge areScrollbarsVisible]): Likewise.
        (-[IFWebCoreBridge setScrollbarsVisible:]): Likewise.
        (-[IFWebCoreBridge isStatusBarVisisble]): Likewise.
        (-[IFWebCoreBridge setStatusBarVisible:]): Likewise.
        (-[IFWebCoreBridge setWindowFrame:]): Likewise.
        (-[IFWebCoreBridge window]): Likewise.
        * WebView.subproj/IFWebController.h:
        * WebView.subproj/IFWebController.mm:
        (-[IFWebController setWindowContext:]): Setter for new WindowContext handler
        (-[IFWebController windowContext]): Likewise.
        * WebView.subproj/IFWebControllerPrivate.h:
        * WebView.subproj/IFWebControllerPrivate.mm:
        (-[IFWebControllerPrivate dealloc]): Release window context.
        * WebView.subproj/IFWebFrame.mm:
        (-[IFWebFrame frameNamed:]): Open new windows via WindowContext.

WebBrowser:
        WebBrowser part of fix for:

	Radar 2942074 - JavaScript size, positioning and feature
	parameters to window.open are ignored

        * BrowserDocument.m:
        (-[BrowserDocument init]): Set the WebController as it\'s own WindowContext too.
        * BrowserWindow.h:
        * BrowserWindow.m:
        (-[BrowserWindow _saveFrameIfAllowed]): Don\'t save the frame if the last
        (-[BrowserWindow setFrameWithoutAutosaving:]): Change window size
	and position but without saving the frame; if this is a size
	change and not just a move, avoid saving the frame until the next
	user resize.
        (-[BrowserWindow windowDidResize:]): More stuff for the above.
        (-[BrowserWindow isFavoritesBarVisible]): Implemented.
        (-[BrowserWindow setFavoritesBarVisible:]): Implemented.
        (-[BrowserWindow isStatusBarVisible]): Implemented.
        (-[BrowserWindow setStatusBarVisible:]): Implemented.
        (-[BrowserWindow isToolbarVisible]): Implemented.
        (-[BrowserWindow setToolbarVisible:]): Implemented.
        * WebController.h:
        * WebController.m:
	(-[BrowserWebController openNewWindowWithURL:]): Don\'t initially
	show the window even if no URL is set, so initial parameters can
	be set properly.
        (-[BrowserWebController areToolbarsVisible]): Implemented.
        (-[BrowserWebController setToolbarsVisible:]): Implemented.
        (-[BrowserWebController isStatusBarVisible]): Implemented.
        (-[BrowserWebController setStatusBarVisible:]): Implemented.
        (-[BrowserWebController window]): Implemented.
        (-[BrowserWebController setFrame:]): Implemented.


git-svn-id: svn://svn.chromium.org/blink/trunk@1476 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-06-29 23:28:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/43e0435949b73d180f0e28a295f2d7057c0f4258');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zo01l5hi5eudd0', 2, e'        * WebCoreSupport.subproj/IFImageRenderer.h: Renamed statusOfCache to
	patternColorLoadStatus for clarity.
        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer copyWithZone:]): Add FIXME.
        (-[IFImageRenderer tileInRect:fromPoint:]): Add optimization for the
	case where a single draw of the image will cover the entire area to be
	tiled. Also add comments and make other small improvements.


git-svn-id: svn://svn.chromium.org/blink/trunk@1475 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-28 23:53:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9b88633c7a2db40096dcc919bcad3428b3aa529c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zp01l512twbo8m', 2, e'
        Use float character measurement to determine selection
        region.  Necessary to ensure accuracy of selection
        region.  First step towards weaning khtml off int
        measurements.

        * khtml/rendering/font.cpp:
        (Font::floatWidth):
        (Font::floatCharacterWidth):
        * khtml/rendering/font.h:
        * khtml/rendering/render_text.cpp:
        (TextSlave::checkSelectionPoint):
        * kwq/KWQFontMetrics.mm:
        (QFontMetrics::floatWidth):
        (QFontMetrics::floatCharacterWidth):
        * kwq/WebCoreTextRenderer.h:
        * kwq/qt/qfontmetrics.h:

        Use float character measurement to determine selection
        region.  Necessary to ensure accuracy of selection
        region.  First step towards weaning khtml off int
        measurements.

        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer tileInRect:fromPoint:]):
        Cleaned up use of loadStatus.
        * WebCoreSupport.subproj/IFTextRenderer.m:
        (-[IFTextRenderer slowFloatWidthForCharacters:stringLength:fromCharacterPostion:numberOfCharacters:applyRounding:]):
        (-[IFTextRenderer floatWidthForCharacters:stringLength:characterPosition:]):
        (-[IFTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:applyRounding:attemptFontSubstitution:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1469 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-28 21:13:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b2d2059b66977b319722d4106fdfd493d074088d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zq01l5tahq83f7', 2, e'WebBrowser:

        Bugs fixes for Downloads

        * DownloadMonitor.h:
        * DownloadMonitor.m:
        (-[DownloadMonitor init]): init totals ivars
        (-[DownloadMonitor _findEntryForView:]): added
        (-[DownloadMonitor _makeSelectedDownloadsPerformSelector:]): prepended a "_"
        (-[DownloadMonitor sheetDidDismiss:returnCode:contextInfo:]): cancel downloads before quit
        (-[DownloadMonitor _updateTotals]): added, updates totals ivars
        (-[DownloadMonitor validateUserInterfaceItem:]): simplified, reveal allowed only for 1 item
        (-[DownloadMonitor didDoubleClick]): added, calls reveal
        (-[DownloadMonitor openSelectedDownloads:]): calls _makeSelectedDownloadsPerformSelector
        (-[DownloadMonitor stopSelectedDownloads:]): calls _makeSelectedDownloadsPerformSelector
        (-[DownloadMonitor revealSelectedDownloads:]): calls _makeSelectedDownloadsPerformSelector
        * DownloadProgressEntry.m:
        (-[DownloadProgressEntry stop]): only stops active downloads
        (-[DownloadProgressEntry reveal]): allowed for items currently downloading
        * ListView.m:
        (-[ListView mouseDown:]): watch for double-click

WebKit:

        * WebView.subproj/IFMainURLHandleClient.h:
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient downloadHandler]): added
        (-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]): removed [downloadHandler cancel]
        * WebView.subproj/IFWebDataSource.mm:
        (-[IFWebDataSource stopLoading]): call [downloadHandler cancel] here so clean up is done immediately.


git-svn-id: svn://svn.chromium.org/blink/trunk@1468 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-28 20:20:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/208da5aab90ce95aae14846c55bbaa8e9616cd3b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zr01l5i4sii5uw', 2, e'        Added an APPLE_CHANGES to fix 2894742. The attributes of an EMBED tag
        must override the attributes of PARAM tags.

        * khtml/rendering/render_frames.cpp:
        (RenderPartObject::updateWidget):


git-svn-id: svn://svn.chromium.org/blink/trunk@1467 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-28 00:07:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f7bcad421c8562d3815edd7548abc3c055ce2553');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zs01l5gpa6mx1n', 2, e'        Fixed tiling of progressively loaded images.

        * WebCoreSupport.subproj/IFImageRenderer.h:
        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer initWithSize:]):
        (-[IFImageRenderer incrementalLoadWithBytes:length:complete:]):
        (-[IFImageRenderer loadStatus]):
        (-[IFImageRenderer tileInRect:fromPoint:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1466 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-27 23:25:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8a17c6c5763a6f66dcde4cdd078d06f3a894bac7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zt01l5ky5u6ybk', 2, e'        * WebCoreSupport.subproj/IFTextRenderer.m:
        (-[IFTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:applyRounding:attemptFontSubstitution:]):
        Fixed uninitialized variable warning.  Compile being too aggressive,
        broke deployment build.


git-svn-id: svn://svn.chromium.org/blink/trunk@1465 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-27 23:09:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8ea288e5869f7cd62d2c80a9c6e5b3670b8fc912');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zu01l5sztet6rq', 2, e'        Fixed plug-in positioning.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView
initWithFrame:plugin:url:baseURL:mime:arguments:]): added some logging.
        (-[IFPluginView setWindow]): Use the window\'s content view as the
guide for the port\'s coordinates. Also added a workaround for Java.


git-svn-id: svn://svn.chromium.org/blink/trunk@1464 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-27 21:59:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c114e00330d4a01c50ad08d0d4973e692367afd6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zv01l5zbw1gbuf', 2, e'2002-06-27  Kenneth Kocienda  <kocienda@apple.com>

        Fix for this bug:

        Radar 2971291 (-[IFURLFileDatabase initWithPath:] leak)

        Object now released in delloc.

        * Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileDatabase dealloc]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1463 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-06-27 21:39:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/36428b8ac9db41d43f1135da081cdf2975cf3709');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmvdm00zw01l5uyi63z1j', 2, e'	Fixed DOM tree viewer.

        * WebView.subproj/IFDOMNode.mm: (-[IFDOMNode initWithDOMNode:DOM::]):
	A typo got in here somehow, leading to an infinite loop.


git-svn-id: svn://svn.chromium.org/blink/trunk@1462 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-27 21:05:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a7f77d7cc6e4dd504d4db4f171f76894d475504e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00y901l5ry0fcsyb', 2, e'	- fixed 2973342 -- copied text seems to have an extra blank line between paragraphs

        * khtml/khtml_part.cpp: (KHTMLPart::selectedText):
	Get rid of code that was adding an extraneous newline at the
	ends of various types of nodes, including <P>.


git-svn-id: svn://svn.chromium.org/blink/trunk@1461 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-27 21:01:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dd05d36b35d312d208692f781f7ddeab74b8941c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00ya01l57d7h3l8k', 2, e'        - fixed 2973212 -- bad arg string != nil in _IF_URLWithString

        * WebView.subproj/IFWebDataSourcePrivate.mm:
        (-[IFWebDataSource _startLoading:]): Get rid of essentially-dead code that
	computed but did not use a URL. Also order operations so that we first
	set the flag to say that we\'re loading, then tell the location change
	handler, and only then ask for the actual I/O to being.

        * WebView.subproj/IFBaseLocationChangeHandler.h: Removed.
        * WebView.subproj/IFBaseLocationChangeHandler.m: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1460 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-27 20:22:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/82f6c431cebb359b601db2f9672ad86ebc5c078c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yb01l5ojae2agl', 2, e'	Fix Java. My changes this morning broke it.

        * khtml/rendering/render_applet.cpp: (RenderApplet::processArguments):
	Re-add required APPLE_CHANGES. Pass arguments to KJavaAppletWidget::processArguments.
        * kwq/khtml/java/kjavaappletwidget.h: Added KJavaAppletWidget::processArguments.
        * kwq/KWQKJavaAppletWidget.mm: (KJavaAppletWidget::processArguments): Added.

	Some QFont fixes.

        * kwq/qt/qfont.h: Remove unused setPixelSizeFloat.
        * kwq/KWQFont.mm: Change to keep family names in a set. Since there are only
	a small number of family names ever encountered, this is a bit of a memory win.
        (QFont::QFont): Don\'t retain the family name.
        (QFont::~QFont): Don\'t release the family name.
        (QFont::setFamily): Put the family name in a set, and use the one from the set.
        (QFont::operator=): Don\'t retain or release.
        (QFont::operator==): Use == to compare the name.


git-svn-id: svn://svn.chromium.org/blink/trunk@1459 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-27 20:19:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cc7b245835404576e615402bf879b65e35869e68');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yc01l5iee4epn8', 2, e'Alex-10 version


git-svn-id: svn://svn.chromium.org/blink/trunk@1457 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-06-27 19:28:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/538d1c88813bbeaa4318cfb002f538487134c5f1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yd01l57rvvoo9c', 2, e'        Method name changes in preparation for fixing
        TextSlave::checkSelectionPoint().

        * kwq/WebCoreTextRenderer.h:

        Method name changes in preparation for fixing
        TextSlave::checkSelectionPoint().  Stubbed
        only, no support for new parameters yet.

        * Misc.subproj/IFStringTruncator.m:
        (+[IFStringTruncator centerTruncateString:toWidth:withFont:]):
        * WebCoreSupport.subproj/IFTextRenderer.h:
        * WebCoreSupport.subproj/IFTextRenderer.m:
        (-[IFTextRenderer slowFloatWidthForCharacters:stringLength:fromCharacterPostion:numberOfCharacters:applyRounding:]):
        (-[IFTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:]):
        (-[IFTextRenderer floatWidthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:applyRounding:attemptFontSubstitution:]):
        (-[IFTextRenderer widthForCharacters:length:]):
        (-[IFTextRenderer widthForCharacters:stringLength:fromCharacterPosition:numberOfCharacters:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1456 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-27 18:14:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b80f98c6d6cf2b1832f77792048cb69326e7098e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00ye01l5906bxzlr', 2, e'        Removed old methods and references.

        * WebCoreSupport.subproj/IFTextRenderer.m:
        (-[IFTextRenderer drawString:atPoint:withColor:]):
        (-[IFTextRenderer slowDrawCharacters:length:fromCharacterPosition:toCharacterPosition:atPoint:withTextColor:backgroundColor:attemptFontSubstitution:]):
        (-[IFTextRenderer _drawCharacters:length:fromCharacterPosition:toCharacterPosition:atPoint:withTextColor:backgroundColor:]):
        Fixed final fragment rendering glitch.

        Removed calls to old method.

        * kwq/KWQPainter.mm:
        (QPainter::drawText):
        * kwq/WebCoreTextRenderer.h:
        Removed old methods.


git-svn-id: svn://svn.chromium.org/blink/trunk@1455 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-27 16:29:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e2b9da1051974cf321ecd9c8bd39d2a4861f5c2a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yf01l597h9ox94', 2, e'WebCore:

        * khtml/rendering/render_applet.cpp: Remove include of <iostream.h> to avoid bloat.
        (RenderApplet::RenderApplet): Remove APPLE_CHANGES.
        (RenderApplet::processArguments): Remove APPLE_CHANGES.
	This file is now back to 100% the same as the KDE original.

        * kwq/khtml/java/kjavaappletwidget.h: Added a bit of stuff so we match the interface
	of the KDE original and don\'t need APPLE_CHANGES.
        * kwq/KWQKJavaAppletWidget.mm: Remove include of <iostream.h> to avoid bloat.
        (KJavaAppletWidget::KJavaAppletWidget): Update for parameters that match the
	KDE original.
        (KJavaAppletWidget::~KJavaAppletWidget): Added.
        (KJavaAppletWidget::setBaseURL): Added.
        (KJavaAppletWidget::setParameter): Put strings into an NSMutableDictionary.
        (KJavaAppletWidget::showApplet): Use the new baseURL and parameters dictionary.

        * kwq/WebCoreViewFactory.h: Add baseURL parameter.
        * kwq/WebCoreViewFactory.m:
        (-[WebCoreViewFactory viewForJavaAppletWithFrame:baseURL:parameters:]): Add baseURL parameter.

        * kwq/kdecore/kurl.h: Fix NSURL definition to fit idiom.
        * kwq/qt/qmap.h: Added the const version of the [] operator.

        * khtml/ecma/kjs_navigator.cpp: Tweak whitespace.
        * khtml/html/html_documentimpl.cpp: Tweak to make it a little closer to original.

        * kwq/KWQKCookieJar.h: Reduce includes.
        * kwq/KWQKCookieJar.mm: Move includes in here.

        * kwq/WebCoreCookieAdapter.h: Fix comment that emacs munged.

WebKit:

        * WebCoreSupport.subproj/IFWebCoreViewFactory.m:
        (-[IFWebCoreViewFactory viewForJavaAppletWithFrame:baseURL:parameters:]):
	Pass baseURL as a separate parameter.

        * WebView.subproj/IFBaseLocationChangeHandler.m: Fix a typo. I think this
	file might be unneeded, but I won\'t delete it until I hear from Chris.


git-svn-id: svn://svn.chromium.org/blink/trunk@1454 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-27 16:17:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6b65da9fc6cdeba73a801547f81d2aca8868683f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yg01l5kdp7oxvo', 2, e'        Fix selection in \'slow\' code path (non-base characters and font substitution).

        * WebCoreSupport.subproj/IFTextRenderer.m:
        (-[IFTextRenderer drawGlyphs:numGlyphs:fromGlyphPosition:toGlyphPosition:atPoint:withTextColor:backgroundColor:]):
        (-[IFTextRenderer slowDrawCharacters:length:fromCharacterPosition:toCharacterPosition:atPoint:withTextColor:backgroundColor:attemptFontSubstitution:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1453 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-27 15:54:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/713abf98430116ffec55d5f87d744452bab1dc87');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yh01l567p2esix', 2, e'        Implemented auto scrolling.

        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView mouseDragged:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1452 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-27 15:25:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2b357c1aa107075093749984628f136aebba3123');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yi01l518x7g579', 2, e'        Implement selectAll.

        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView selectAll:]):

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge selectAll]):
        Select all using the part.


git-svn-id: svn://svn.chromium.org/blink/trunk@1451 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-27 15:20:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c70e871eedac84ee6f20aad19dad70cec741ba7e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yj01l5nuzarja4', 2, e'Forgot to commit ChangeLog.


git-svn-id: svn://svn.chromium.org/blink/trunk@1450 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-27 13:52:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7c2ecf59b04f30ac01d0b5827e87df11c5d4c8b1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yk01l5saz6xp0a', 2, e'WebCore:
	WebCore part of fixes for JavaScript cookie bugs:

	2943749 - JavaScript navigator.cookieEnabled property is always "true"
	2856039 - JavaScript document.cookies property is not implemented

	Thereby also fixing:

	2944378 - Trying to log into my Yahoo web mail account sent
	Alexander into a loop

        * kwq/KWQKCookieJar.h: Added.
        * kwq/KWQKCookieJar.mm: Added.
        (KWQKCookieJar::cookie): C++ veneer over WebCoreCookieAdapter call.
        (KWQKCookieJar::setCookie): Likewise.
        (KWQKCookieJar::cookieEnabled): Likewise.
        * kwq/Makefile.am: Add new files to build.
        * kwq/WebCoreCookieAdapter.h: Added.
        * kwq/WebCoreCookieAdapter.m: Added.
	(+[WebCoreCookieAdapter sharedAdapter]): Method to return shared
	instance, al la the WebCoreFactory classes.
        (-[WebCoreCookieAdapter init]): Establish self as shared instance.
        (-[WebCoreCookieAdapter cookiesEnabled]): No-op implementation.
        (-[WebCoreCookieAdapter cookiesForURL:]): Likewise.
        (-[WebCoreCookieAdapter setCookies:forURL:]): Likewise.
        * WebCore.exp: Export WebCoreCookieAdapter class.
        * khtml/ecma/kjs_navigator.cpp:
        (Navigator::getValueProperty): Call appropriate KWQCookieJar method.
        * khtml/html/html_documentimpl.cpp:
        (HTMLDocumentImpl::cookie): Call appropriate KWQCookieJar method.
        (HTMLDocumentImpl::setCookie): Likewise

WebKit:
	WebKit part of fixes for JavaScript cookie bugs:

	2943749 - JavaScript navigator.cookieEnabled property is always "true"
	2856039 - JavaScript document.cookies property is not implemented

	Thereby also fixing:

	2944378 - Trying to log into my Yahoo web mail account sent
	Alexander into a loop

        * WebCoreSupport.subproj/IFCookieAdapter.h: Added.
        * WebCoreSupport.subproj/IFCookieAdapter.m: Added.
        (+[IFCookieAdapter createSharedAdapter]): Set up an instance of
	IFCookieAdapter as the WebCoreCookieAdapter shared instance.
        (-[IFCookieAdapter cookiesEnabled]): Implement in terms of
	WebFoundation stuff.
        (-[IFCookieAdapter cookiesForURL:]): Likewise.
        (-[IFCookieAdapter setCookies:forURL:]): Likewise.
        * WebKit.pbproj/project.pbxproj: Add new files to build.
        * WebView.subproj/IFWebView.mm:
	(-[IFWebView initWithFrame:]): Hook up the cookie adapter just
	like the various factory classes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1449 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-06-27 09:42:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/01e42b0fa3f23a2280e5033bd6672d1a5b413fe7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yl01l5z9c6on6d', 2, e'WebCore:

        Fix to support sending PARAM tags to the Java plug-in.

        * khtml/rendering/render_applet.cpp:
        (RenderApplet::RenderApplet): removed APPLE_CHANGES
        (RenderApplet::layout): removed APPLE_CHANGES
        * kwq/KWQKJavaAppletWidget.mm:
        (KJavaAppletWidget::KJavaAppletWidget): removed setView
        (KJavaAppletWidget::showApplet): call setView here
        * kwq/WebCoreViewFactory.h:
        * kwq/WebCoreViewFactory.m:
        (-[WebCoreViewFactory viewForJavaAppletWithFrame:andArguments:]): renamed
        * kwq/khtml/java/kjavaappletwidget.h: added KJavaApplet

WebKit:

        Support for Java.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView initWithFrame:plugin:url:baseURL:mime:arguments:]): set DOCBASE argument
        * WebCoreSupport.subproj/IFWebCoreViewFactory.m:
        (-[IFWebCoreViewFactory viewForJavaAppletWithFrame:andArguments:]): renamed

WebBrowser:

        Removed some logging.

        * DownloadMonitor.m:
        (-[DownloadMonitor monitorDownload:withProgress:error:dataSource:complete:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1448 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-27 07:29:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/84d9470d17bac6c108652b2ad5659220b33b4043');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00ym01l5zj7lan2k', 2, e'        Many improvements to selection.  More Cocoa like,
        normalized all text drawing code paths for selected
        and unselected cases.  Still need to work on
        TextSlave::checkSelectionPoint.  Fixed redraw region
        problems.

        khtml redraw the entire visible region when selection changes.
        This could be optimzed.

        * khtml/rendering/font.cpp:
        (Font::drawText):
        (Font::width):
        * khtml/rendering/render_text.cpp:
        (TextSlave::printSelection):
        * kwq/KWQPainter.mm:
        (QPainter::drawText):
        (QPainter::selectedTextBackgroundColor):
        * kwq/KWQScrollView.mm:
        (QScrollView::contentsX):
        (QScrollView::contentsY):
        * kwq/WebCoreTextRenderer.h:
        * kwq/qt/qpainter.h:

        Many improvements to selection.  More Cocoa like,
        normalized all text drawing code paths for selected
        and unselected cases.

        Still need to work on:
        1.  \'slow\' drawing cases, i.e. runs with non-base characters
            or runs requiring font substitution.
        2.  Select All menu item.
        3.  Auto scrolling.

        * WebCoreSupport.subproj/IFTextRenderer.m:
        (-[IFTextRenderer drawString:atPoint:withColor:]):
        (-[IFTextRenderer drawGlyphs:numGlyphs:fromGlyphPosition:toGlyphPosition:atPoint:withTextColor:backgroundColor:]):
        (-[IFTextRenderer slowDrawCharacters:length:fromCharacterPosition:toCharacterPosition:atPoint:withTextColor:backgroundColor:attemptFontSubstitution:]):
        (-[IFTextRenderer _drawCharacters:length:fromCharacterPosition:toCharacterPosition:atPoint:withTextColor:backgroundColor:]):
        (-[IFTextRenderer drawCharacters:length:atPoint:withTextColor:backgroundColor:]):
        (-[IFTextRenderer drawCharacters:length:atPoint:withTextColor:]):
        (-[IFTextRenderer drawCharacters:stringLength:fromCharacterPosition:toCharacterPosition:atPoint:withTextColor:backgroundColor:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1447 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-27 04:42:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ef3eaf6040ba0be1c50ca83a10702f7d9ccb147d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yn01l5r0zxhfo7', 2, e'	- fixed 2969280 -- if trailing / not specified for site, relative URLs are
	incorrectly expanded

        * WebCoreSupport.subproj/IFWebCoreBridge.mm:
        (-[IFWebCoreBridge receivedData:withDataSource:]): Update the URL for the
	case where we\'ve already been redirected before we receive any data.


git-svn-id: svn://svn.chromium.org/blink/trunk@1446 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-26 22:47:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ac92ba37dc8c08ae1d13641c1fccf6c9d411f12b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yo01l5243sqxcs', 2, e'        Implement KHTMLPart::findFrame() to fix the following Radar bugs:

        Radar 2943177 - infinite JavaScript loop sfcu.org online bill paying
        Radar 2950580 - Unknown JavaScript properties on the Window object return self instead
of Undefined

        * khtml/khtml_part.cpp:
        (KHTMLPart::findFrame):
        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPartImpl::findFrame):
        * kwq/KWQKHTMLPartImpl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1445 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-06-26 22:14:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7f881cf39259673013721c2456d11da6a0530508');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yp01l50j01hu4a', 2, e'	- fixed 2971532 -- crash with null KHTMLView at gramicci.com

        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView reapplyStyles]): Handle widget == 0 case.
        (-[IFHTMLView layout]): Handle widget == 0 case.

	Fixed a crash I have seen many times where a data source tries
	to use its parent to locate the controller after its parent is
	deallocated.

        * WebView.subproj/IFWebDataSourcePrivate.mm:
        (-[IFWebDataSourcePrivate dealloc]): Use _parentDataSourceWillBeDeallocated
	instead of _setController:nil.

        * WebView.subproj/IFWebFramePrivate.h: Add _parentDataSourceWillBeDeallocated.
        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFrame _parentDataSourceWillBeDeallocated]): Does both
	a _setController:nil, and a _setParent:nil on both data sources.


git-svn-id: svn://svn.chromium.org/blink/trunk@1444 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-26 22:03:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4dc80be9d708cbf9bc88aebd6c2de8733e4f23c1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yq01l5t5049wg6', 2, e'	- fixed 2971024 -- wrong item is bookmarked

	-[IFWebDataSource redirectedURL] was returning the URL of a
	sub-page resource.

        * WebCoreSupport.subproj/IFResourceURLHandleClient.m:
        (-[IFResourceURLHandleClient IFURLHandle:didRedirectToURL:]):
	Removed evil call to _setFinalURL here. It had no right to live.


git-svn-id: svn://svn.chromium.org/blink/trunk@1443 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-06-26 20:44:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/757bd04354ade113dae8193b4f9dc9207bdd0b79');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yr01l53o8qbokg', 2, e'        * WebCoreSupport.subproj/IFImageRendererFactory.m:
        (-[IFImageRendererFactory imageRenderer]): Fix NSBitmapImageRep leak.


git-svn-id: svn://svn.chromium.org/blink/trunk@1442 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-26 19:35:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/26bbce2db46cfbc79950c4f89ce4f83ffe5c3b51');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00ys01l5qlhgb2kq', 2, e'	- fixed 2969378 -- "A with hat" characters (Unicode 00C2) showing up at Zingermans.com

        * kwq/KWQCharsets.mm: (buildDictionaries): Put UTF-16 in the dictionary, but pointing
	at the string encoding for UTF-8. This mimics what Internet Explorer does.

        * kwq/KWQtextcodec.mm: (QTextCodec::fromUnicode): Fix implementation so it will convert
	the specified encoding instead of always Latin-1.


git-svn-id: svn://svn.chromium.org/blink/trunk@1441 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-26 19:01:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ca1b3ba26f3a162e10f47f93899a51ab1379de44');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yt01l5uacp1wwb', 2, e'WebKit:

	- added "complete" to progress methods to indicate last progress message

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView setWindow]): added a draw test
        * WebView.subproj/IFWebController.h:
        * WebView.subproj/IFWebControllerPrivate.mm:
        (-[IFWebController _receivedProgress:forResourceHandle:fromDataSource:complete:]):
        (-[IFWebController _mainReceivedProgress:forResourceHandle:fromDataSource:complete:]):

WebBrowser:

	- added "complete" to progress methods to indicate last progress message

        * DownloadMonitor.h:
        * DownloadMonitor.m:
        (-[DownloadMonitor monitorDownload:withProgress:error:dataSource:complete:]):
        * WebController.m:
        (-[WebController receivedProgress:forResourceHandle:fromDataSource:complete:]):
        (-[WebController receivedError:forResourceHandle:partialProgress:fromDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1440 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-26 18:53:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/43b2db9e2b65bc33d324152f1a16cd9f07ade65c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yu01l59h63nzag', 2, e'        Fixed recursion problems.  +[NSFont findFontLike:forString:withRange:inLanguage:]
        will alternate between suggested fonts with bogus answers.  The work
        around involves adding an explicit flag indicating whether or not
        font substitution should be attempted.

        * Misc.subproj/IFStringTruncator.m:
        (+[IFStringTruncator centerTruncateString:toWidth:withFont:]):
        * WebCoreSupport.subproj/IFTextRenderer.h:
        * WebCoreSupport.subproj/IFTextRenderer.m:
        (-[IFTextRenderer slowDrawCharacters:length:atPoint:withColor:attemptFontSubstitution:]):
        (-[IFTextRenderer drawCharacters:length:atPoint:withColor:]):
        (-[IFTextRenderer floatWidthForCharacters:length:applyRounding:attemptFontSubstitution:]):
        (-[IFTextRenderer widthForCharacters:length:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1439 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-26 17:53:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/28a5e6ef8b46710d703798ac451af7b45f5a88d0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yv01l5gy3m13xp', 2, e'        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView validateUserInterfaceItem:]): Switch to this instead
        of validateMenuItem: so that a Copy toolbar button would work.


git-svn-id: svn://svn.chromium.org/blink/trunk@1438 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-26 16:40:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f9c6349109df0bd2ff9813070dbe6291a22206c9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yw01l5g2x4uzbc', 2, e'	Fixed (or at least worked around) a crash I saw where KWQKHTMLPartImpl::end was
        making calls after the KHTMLView was gone. This is specific to our APPLE_CHANGES
        code; it\'s handled differently in KDE.

        * khtml/khtml_part.h: Added detachView.
        * khtml/khtml_part.cpp: (KHTMLPart::detachView): Added. Nils out the view pointer.
        * khtml/khtmlview.cpp: (KHTMLView::~KHTMLView): Call m_part->detachView().
        * kwq/KWQKHTMLPart.mm: (KWQKHTMLPartImpl::end): Don\'t try to make calls to the view
        if it\'s nil.


git-svn-id: svn://svn.chromium.org/blink/trunk@1437 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-26 16:16:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e441d0d498a3158f574c95c962c9da11fd77e6cc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yx01l5u4znmovt', 2, e'
        Disable the copy menu item when IFHTMLView is key
        and has no selection.

        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView validateMenuItem:]):
        Disable menu if selection is empty.
        (-[IFHTMLView copy:]):
        Factored code that gets the bridge.
        * WebView.subproj/IFHTMLViewPrivate.h:
        Added _bridge.
        * WebView.subproj/IFHTMLViewPrivate.mm:
        (-[IFHTMLView _bridge]):
        We need to access the bridge from the view
        to get the part\'s selection.


git-svn-id: svn://svn.chromium.org/blink/trunk@1436 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-26 02:50:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0fbe46e84662dbbbc752a9c7076bccfe05408791');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yy01l595umnfbj', 2, e'        Support for khtml style selection drawing.  Ugly,
        we\'ll want to make this more Mac like.

        * khtml/rendering/font.cpp:
        (Font::drawText):
            Enable khtml code path.  Removed APPLE_CHANGES
        * kwq/KWQFontMetrics.mm:
        (QFontMetrics::charWidth):
            Implemented in terms of width().
        * kwq/KWQPainter.mm:
        (QPainter::drawText):
            Implemented.
        * kwq/qt/qfontmetrics.h:
            Added QFontMetrics::charWidth.


git-svn-id: svn://svn.chromium.org/blink/trunk@1435 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-26 02:26:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/02765fe61c1d43f727d735843d79bc5799921896');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00yz01l53yz0c5c5', 2, e'        Remove downloaded file if cancelled.

        * Misc.subproj/IFDownloadHandler.mm:
        (-[IFDownloadHandler cancel]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1434 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-25 23:32:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2577e1aee2414dfb671a9d3d5043ffdc683f42fa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00z001l5poxte6ne', 2, e'        Support for rudimentary plain text \'copy\'.

        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer incrementalLoadWithBytes:length:complete:]):
        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView copy:]):
        * WebView.subproj/IFWebViewPrivate.h:
        * WebView.subproj/IFWebViewPrivate.mm:
        (-[IFWebView _controller]):

        Support for rudimentary plain text \'copy\'.

        * kwq/WebCoreBridge.h:
        * kwq/WebCoreBridge.mm:
        (-[WebCoreBridge selectedText]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1433 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-25 22:16:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/35a2c75991f688fa22618ca3319f60ca2b677611');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00z101l5nu4qbtei', 2, e'        Enabled progressive image loading code.

        * WebCoreSupport.subproj/IFImageRenderer.h:
        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer initWithSize:]):
        (-[IFImageRenderer incrementalLoadWithBytes:length:complete:]):
        * WebCoreSupport.subproj/IFImageRendererFactory.m:
        (-[IFImageRendererFactory imageRenderer]):

        Enabled progressive image loading code.

        * khtml/misc/loader.cpp:
        (CachedImage::data):
        * kwq/KWQPixmap.mm:
        (QPixmap::QPixmap):


git-svn-id: svn://svn.chromium.org/blink/trunk@1432 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-25 20:18:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/149dfccf22936d31ecc5c4852761e4d5d3ff80c7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmu0l00z201l5kh41uk1z', 2, e'       Extended our text measurement rounding work-around for integer-float
       mismatch to round on word boundaries as well as spaces.


git-svn-id: svn://svn.chromium.org/blink/trunk@1431 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-25 18:56:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/de5eea5b7caca51d47112abd32f380d28026720b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xf01l5mc0ewt5z', 2, e'        * WebCoreSupport.subproj/IFResourceURLHandleClient.m:
        (-[IFResourceURLHandleClient IFURLHandleResourceDidCancelLoading:]):
        (-[IFResourceURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
        (-[IFResourceURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	Don\'t remove the URL handle from the data source until we\'ve finished the
	loading process in KDE code. This may fix 2968527.

        * WebCoreSupport.subproj/IFTextRenderer.m: Keep around commented printfs so
	I can do the "dump all strings as they are rendered" again.

        * WebKit.pbproj/project.pbxproj: Re-add -Wmissing-format-attribute.


git-svn-id: svn://svn.chromium.org/blink/trunk@1430 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-25 17:38:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9c62098bab747d5bedc20cdc39c7306273c25aa9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xg01l5oojdewn1', 2, e'        * JavaScriptCore.pbproj/project.pbxproj: Re-add -Wmissing-format-attribute.


git-svn-id: svn://svn.chromium.org/blink/trunk@1429 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-25 17:31:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/23f96a963b1e8247b773dc08f0726ebaca52cb66');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xh01l5vxdivi6v', 2, e'	Removed remaining uses of BORROWED defines.
	Made some simplifications and formatting fixes. All safe.

        * kwq/KWQArrayImpl.h:
        * kwq/KWQArrayImpl.mm:
        * kwq/KWQChar.mm:
        * kwq/KWQCharsets.mm:
        * kwq/KWQFile.mm:
        * kwq/KWQKCursor.mm:
        * kwq/KWQKHTMLPart.mm:
        * kwq/KWQListImpl.h:
        * kwq/KWQMapImpl.mm:
        * kwq/KWQString.mm:
        * kwq/KWQValueListImpl.mm:
        * kwq/KWQVectorImpl.h:
        * kwq/KWQtextcodec.mm:
        * kwq/make-charset-table.pl:
        * kwq/make-mac-encodings.c:
        * kwq/qt/qfile.h:
        * kwq/qt/qregexp.h:
        * kwq/qt/qtextcodec.h:

        * WebCore-tests.exp: Small change to exports for the array test.


git-svn-id: svn://svn.chromium.org/blink/trunk@1428 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-25 17:30:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4dc9ccd642437fc733f654a5153c8578df1326c9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xi01l5pfzdr1uu', 2, e'        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer tileInRect:fromPoint:]): Remove stray NSLog.


git-svn-id: svn://svn.chromium.org/blink/trunk@1427 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-25 14:30:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/621ed1df7b44a7998964792d2e4726ca7947ea13');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xj01l5yg47o89v', 2, e'	- fixed 2968298 -- IFImageRenderer crash at download.com

        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer initWithSize:]): Override this instead of [init].
	This is the designated initializer and all the others call this.
        (-[IFImageRenderer copyWithZone:]): Override to nil out fields that
	can\'t be shared by the copy.

	Fix leaks.

        * History.subproj/IFURIEntry.m:
        (-[IFURIEntry initWithURL:title:image:]): Use copy instead of retain
	in case we are passed a mutable string.
        (-[IFURIEntry dealloc]): Release _displayTitle. Fixes a leak.
        (-[IFURIEntry setTitle:]): Use copy instead of retain in case we are
	passed a mutable string.
        (-[IFURIEntry setDisplayTitle:]): Use copy instead of retain in case
	we are passed a mutable string.
        (-[IFURIEntry initFromDictionaryRepresentation:]): Lose the extra
	retain for _lastVisitedDate. Fixes a leak.


git-svn-id: svn://svn.chromium.org/blink/trunk@1426 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-25 07:33:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/968e6da398cf273b0a18b5839885df1c2e3af123');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xk01l51b2owrlp', 2, e'        * Panels.subproj/IFStandardPanels.m:
        (-[IFStandardPanels didStopLoadingURL:inWindow:]): Fix a leak caused
	by calling the wrong method. This was calling objectForKey: instead of
	removeObjectForKey:.


git-svn-id: svn://svn.chromium.org/blink/trunk@1425 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-25 04:50:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/04fc968014708de8f516a937b06a515146c0a8a3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xl01l5p8ngn7hv', 2, e'        Changed our usage of +[NSFont findFontLike:forString:withRange:inLanguage:]
        after talking with Aki.  We were erroneously passing a complete
        string rather than a character cluster.  Fixed 2964793.

        * WebCoreSupport.subproj/IFTextRenderer.m:
        (findLengthOfCharacterCluster):
        (-[IFTextRenderer slowPackGlyphsForCharacters:numCharacters:glyphBuffer:numGlyphs:]):
        (-[IFTextRenderer drawGlyphs:numGlyphs:atPoint:withColor:]):
        (-[IFTextRenderer slowDrawCharacters:length:atPoint:withColor:]):
        (-[IFTextRenderer _drawCharacters:length:atPoint:withColor:]):
        (-[IFTextRenderer drawCharacters:length:atPoint:withColor:]):
        (-[IFTextRenderer floatWidthForCharacters:length:applyRounding:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1424 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-25 01:59:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ef0961249b379592a83e6f722e8088a951c3ddd8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xm01l5eun3b84r', 2, e'        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFrame _transitionProvisionalToCommitted]): Take ownership before
	doing the setWidget. The other way the widget was getting deleted.


git-svn-id: svn://svn.chromium.org/blink/trunk@1423 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-24 23:21:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/deff5f71497f29dd03c59c866064a11e7abbef1f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xn01l5enuxyaha', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@1422 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-24 23:08:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1aa8fd518406e48d9af18925213a5294fb8c98ec');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xo01l5enwsvb81', 2, e'WebKit:

        * Plugins.subproj/IFPlugin.h:
        * Plugins.subproj/IFPlugin.m:
        (-[IFPlugin initWithPath:]): Close resource files when done.
        (-[IFPlugin load]): Remove Java plug-in workaround, load as mach-o
        * Plugins.subproj/IFPluginView.h:
        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView initWithFrame:plugin:url:baseURL:mime:arguments:]): take NSURLs
        (-[IFPluginView dealloc]): release baseURL
        * WebCoreSupport.subproj/IFWebCoreViewFactory.m:
        (-[IFWebCoreViewFactory viewForPluginWithURL:serviceType:arguments:baseURL:]): take NSURLs
        (-[IFWebCoreViewFactory viewForJavaAppletWithArguments:]):

WebCore:

        Changed the plug-in view constructor to take NSURL\'s rather
        than URL strings.

        * kwq/KWQKHTMLPart.mm:
        (KWQKHTMLPartImpl::requestObject):
        * kwq/WebCoreViewFactory.h:
        * kwq/WebCoreViewFactory.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@1421 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-24 22:06:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/41837c98279d40663d121371e928944e2def3e4a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xp01l551cekerw', 2, e'	Remove some unused stuff. Other minor cleanup.

        * WebView.subproj/IFDynamicScrollBarsView.h: Remove breakRecursionCycle,
        don\'t declare updateScrollers or resetCursorRects.

        * WebView.subproj/IFDynamicScrollBarsView.m:
        (-[IFDynamicScrollBarsView updateScrollers]): Make this work even for a view
        that doesn\'t allow scrolling, turning off both scrollers in that case.
        (-[IFDynamicScrollBarsView reflectScrolledClipView:]): Call updateScrollers
	unconditionally, letting it decide what to do, rather than looking at
	allowsScrolling. Also, no need to use a boolean to break the recursion cycle,
	now that updateScrollers does no work if none is needed.
        (-[IFDynamicScrollBarsView setCursor:]): Do nothing if the cursor is not
	changing. Also handle arrowCursor case here.
        (-[IFDynamicScrollBarsView resetCursorRects]): Call discardCursorRects so
	the old rects won\'t keep accumulating.
        (-[IFDynamicScrollBarsView setAllowsScrolling:]): Always call updateScrollers,
	not just when turning scrolling off.

        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView initWithFrame:]): Remove unneeded NSWindowWillCloseNotification
	and isFlipped field.
        (-[IFHTMLView removeNotifications]): Moved here from NSWindowWillCloseNotification.
        (-[IFHTMLView viewWillMoveToWindow:]): Remove all the notifications when the
	view is removed from the window.
        (-[IFHTMLView setNeedsLayout:]): Call setNeedsDisplay in the YES case, so the
	callers don\'t all have to.
        (-[IFHTMLView isFlipped]): Just return YES. No need to store it.
        (-[IFHTMLView windowResized:]): Add a FIXME, since this is not the way we want
	to handle view resizing for the long run.
        * WebView.subproj/IFHTMLViewPrivate.h: Remove isFlipped.


git-svn-id: svn://svn.chromium.org/blink/trunk@1420 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-24 19:20:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8110af55b29f73546ef8ad92c1fc4559c28ee4c0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xq01l5ah4o86oj', 2, e'WebCore:

        * khtml/khtmlview.cpp: (KHTMLView::~KHTMLView): Put APPLE_CHANGES
        later in the sequence so we don\'t deref the part before the code
        gets to run.

        * kwq/kwqdebug.h: Re-add the __format__ attribute, now that Radar
        2920557 is fixed.

WebKit:

        Fix the last of the "leak the world" problems. The KHTMLView was leaking
        in IFHTMLView.

        * WebView.subproj/IFHTMLView.mm:
        (-[IFHTMLView dealloc]): Call _reset instead of _stopPlugins, so we get rid
        of the widget too.
        (-[IFHTMLView viewWillMoveToWindow:]): Use _reset now instead of the old
        _stopPlugins; also check that the window isn\'t already nil so we don\'t do a
        reset as part of our first install.
        (-[IFHTMLView provisionalDataSourceCommitted:]): Use the new widgetOwned
        flag to tell if the widget should be deleted instead of deciding based on
        whether the dataSource is the main document.

        * WebView.subproj/IFHTMLViewPrivate.h: Add a widgetOwned boolean and a
        private _takeOwnershipOfWidget method. Combine _resetWidget and _stopPlugins
        into a single _reset call. Remove _removeSubviews.

        * WebView.subproj/IFHTMLViewPrivate.mm:
        (-[IFHTMLView _reset]): New name for the combination of _resetWidget and
        _stopPlugins. Now it decides whether to delete the widget based on the
        widget owned flag, so it is safe to call even for non-main-document views.
        (-[IFHTMLView _takeOwnershipOfWidget]): Sets widgetOwned to NO.

        * WebView.subproj/IFWebFrame.mm: (-[IFWebFrame reset]): Use _resetWidget
        under its new name _reset.

        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFrame _transitionProvisionalToCommitted]): Don\'t bother doing
        explicit _stopPlugins and _removeSubviews. It\'s now the view\'s own responsibility
        to do this in viewWillMoveToWindow:. Call _takeOwnershipOfWidget after attaching
        the widget to the RenderPart.

        * WebView.subproj/IFImageView.m: (-[IFImageView viewWillMoveToWindow:]): Added.
        Break the reference cycle by stopping animated IFImageRenderer here instead of
        waiting for dealloc.

        * Plugins.subproj/IFPluginView.mm: (-[IFPluginView setWindow]): Fix a warning
        by changing the printf format string to match the parameter type.

        * Misc.subproj/WebKitDebug.h: Re-add the __format__ attribute, now that Radar
        2920557 is fixed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1419 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-24 19:13:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/80fc3af42690a9542b88f962f42df7f7d10b3ae4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xr01l5hgdv4rv3', 2, e'        * WebCoreSupport.subproj/IFImageRenderer.m: (-[IFImageRenderer nextFrame:]):
        Use hasAlpha instead of isOpaque because the latter does not work (Radar 2966937).


git-svn-id: svn://svn.chromium.org/blink/trunk@1418 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-23 18:17:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3f2b3924f6e9ede67df87c1fc5c0b85145604e1a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xs01l5qwtex2qo', 2, e'        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer nextFrame:]): Add back the higher-speed case where
	we draw directly for opaque animated images.


git-svn-id: svn://svn.chromium.org/blink/trunk@1417 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-22 00:24:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/31e45728633622026151874cd087429e17a89058');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xt01l5lvj1a3sl', 2, e'WebCore:

        * kwq/KWQFont.mm: Made it store a copy of the family name instead of
	storing a reference to the mutable CFString.

        * kwq/KWQPainter.mm:
        (QPainter::drawPixmap): Simplified.
        (QPainter::drawTiledPixmap): Used the new [tileInRect:].

        * kwq/WebCoreImageRenderer.h: Added [tileInRect:], removed [drawInRect:],
	and also removed view parameter from [beginAnimation].

        * kwq/qt/qpixmap.h: Removed unneeded getImageRenderer().

WebKit:

	Cache the patterns we make for tiled images for added speed.

        * WebCoreSupport.subproj/IFImageRenderer.h: Removed declarations of
	methods inherited from WebCoreImageRenderer. Added patternColor field.

        * WebCoreSupport.subproj/IFImageRenderer.m:
        (-[IFImageRenderer dealloc]): Release patternColor.
        (-[IFImageRenderer beginAnimationInRect:fromRect:]): Get the view with
	[NSView focusView] rather than taking a parameter that\'s used only for
	the animating case.
        (-[IFImageRenderer tileInRect:fromPoint:]): New. Caches the pattern in
	the patternColor field.

        * WebView.subproj/IFImageView.m: (-[IFImageView drawRect:]): No need to
	pass view to image renderer any more.


git-svn-id: svn://svn.chromium.org/blink/trunk@1416 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-21 23:40:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/94f99d7f8d9a1f5460badf1af3cf1d8c6bb8917a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xu01l51vhte9rc', 2, e'Added bug number:

        - fixed 2964718 -- crash in KWQCheckCacheObjectStatus


git-svn-id: svn://svn.chromium.org/blink/trunk@1415 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-21 17:38:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d9379d349b7c5a886293e1d55aadcadf009a0648');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xv01l5akk09275', 2, e'	Fix rendering of non-opaque animated images.

	* WebCoreSupport.subproj/IFImageRenderer.m:
	(-[IFImageRenderer nextFrame:]): Use [NSView displayRect:] instead of
	drawing explicitly so that views behind us get a chance to draw too.
	This is less efficient than just drawing for opaque images, but NSImage
	doesn\'t offer a way to find out if the image is opaque. Also, this changes
	things a bit because beginAnimationInView gets called again, so we don\'t
	have to reschedule the timer.


git-svn-id: svn://svn.chromium.org/blink/trunk@1414 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-21 17:24:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6c879edf3bfb0c0241ba27fb46eb5eee9889d3fa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xw01l5mdrlupd9', 2, e'	* kwq/KWQKloader.mm: (KWQCheckCacheObjectStatus):
	Handle case of nil object. Add comments. Remove questionable use
	of floating point abs() to convert always positive int to uint.


git-svn-id: svn://svn.chromium.org/blink/trunk@1413 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-21 17:20:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9892846519ade280db0e60c797a99b45b60f5abc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xx01l5njnoh8j1', 2, e'	* WebCoreSupport.subproj/IFImageRenderer.m:
	(-[IFImageRenderer frameDuration]):
	    Added minimum 1/60th second duration per frame.
	* WebView.subproj/IFDynamicScrollBarsView.m:
	(-[IFDynamicScrollBarsView updateScrollers]):
	    Only display scrollview if scrollers changed.
	* WebView.subproj/IFWebFramePrivate.mm:
	(-[IFWebFrame _setState:]):
	    Explicity turn on copiesOnScroll.  This may cause problems w/
	    plugins.  Need to verify once plugins are no longer crashing.


git-svn-id: svn://svn.chromium.org/blink/trunk@1412 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-21 01:27:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/11444a2ede3279c1c7c22c6cfed3bd00eb33ce03');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xy01l51i82mt79', 2, e'WebCore:

	* kwq/KWQKCharsets.mm: Removed unneeded parts.
	* kwq/KWQStyle.mm: Removed.
	* kwq/KWQToolTip.mm: Removed.
	* kwq/KWQVariant.mm: Simplified.
	* kwq/Makefile.am: Removed KWQStyle.mm and KWQToolTip.mm.

	* kwq/KWQRefPtr.h: Streamlined implementation that inlines
	a bit less and is more efficient for creating empty pointers.

	* kwq/KWQStyle.h: Removed unused stuff.

	* kwq/kdecore/kcharsets.h: Removed unneeded parts.
	* kwq/qt/qsortedlist.h: Removed unneeded parts.
	* kwq/qt/qtooltip.h: Removed unneeded parts.
	* kwq/qt/qvariant.h: Removed unneeded parts.

	* khtml/khtmlview.cpp: (KHTMLView::~KHTMLView):
	Remove unneeded APPLE_CHANGES -- no need to nil something out in
	a destructor.

WebKit:

	Fix for leak where sub-frame IFHTMLViews would not call _stopPlugins.

	* Plugins.subproj/IFPluginView.mm:
	(-[IFPluginView viewWillMoveToWindow:]):
	* WebView.subproj/IFHTMLView.mm:
	(-[IFHTMLView viewWillMoveToWindow:]):
	Use this viewWillMoveToWindow instead of removeFromSuperview; it\'s a more
	reliable way to handle cases where the view is removed from the view hierarchy.

	Fix for IFWebFrame -> IFWebDataSource -> LoadProgressMonitor -> IFWebFrame
	reference cycle.

	* WebView.subproj/IFLocationChangeHandler.h: Add dataSource parameters for the
	methods that don\'t have them so this can be "delegate" style.
	* WebView.subproj/IFWebController.h: Pass a dataSource instead of a frame
	when asking for a location change handler.

	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
	Pass dataSource for locationChangeDone.

	* WebView.subproj/IFWebDataSourcePrivate.mm: (-[IFWebDataSource _startLoading:]):
	Pass dataSource for locationChangeStarted.

	* WebView.subproj/IFWebFrame.mm: (-[IFWebFrame setProvisionalDataSource:]):
	Pass a dataSource instead of a frame when asking for a location change handler.

	* WebView.subproj/IFWebFramePrivate.mm:
	(-[IFWebFrame _transitionProvisionalToCommitted]): Pass dataSource for
	locationChangeCommitted.
	(-[IFWebFrame _isLoadComplete]): Pass dataSource for locationChangeDone.

	* force-clean-timestamp: Give this mechanism a try. I\'m not sure
	we really need a clean build right now.

	* WebView.subproj/IFWebDataSource.mm: Simplify.

WebBrowser:

	Fix for IFWebFrame -> IFWebDataSource -> LoadProgressMonitor -> IFWebFrame
	reference cycle.

	* LoadProgressMonitor.h:
	* LoadProgressMonitor.m:
	(-[LoadProgressMonitor monitorLocationChangeHandler:forFrame:]):
	(-[LoadProgressMonitor setError:forLocationChangeHandler:frame:]):
	Changed to pass frames around, since the location change handler can\'t
	store a frame any more.

	* LocationChangeHandler.h: Updated for new API that\'s delegate style,
	where the data source is passed into all methods rather than being retained.
	* LocationChangeHandler.m:
	(-[LocationChangeHandler initWithBrowserDocument:]): A frame isn\'t passed
	any more.
	(-[LocationChangeHandler dealloc]): No frame to release.
	(-[LocationChangeHandler _mainFrame]): Get from document, not frame.
	(-[LocationChangeHandler _loadMonitor]): Get from document, not frame.
	(-[LocationChangeHandler locationChangeStartedForDataSource:]):
	(-[LocationChangeHandler locationChangeCommittedForDataSource:]):
	(-[LocationChangeHandler locationChangeDone:forDataSource:]):
	(-[LocationChangeHandler receivedPageTitle:forDataSource:]):
	(-[LocationChangeHandler serverRedirectTo:forDataSource:]):
	(-[LocationChangeHandler requestContentPolicyForMIMEType:dataSource:]):
	(-[LocationChangeHandler unableToImplementContentPolicy:forDataSource:]):
	Use passed dataSource rather then the frame.

	* WebController.m:
	(-[WebController provideLocationChangeHandlerForDataSource:]):
	No frame to pass in any more.

	* WebBrowser.pbproj/project.pbxproj: Project Builder had some axe to grind.


git-svn-id: svn://svn.chromium.org/blink/trunk@1411 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-20 23:35:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/04effdda40c7d0e555fc83eb7600470372d66d4e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00xz01l5kcv4z4ss', 2, e'2002-06-20  Kenneth Kocienda  <kocienda@apple.com>

        A more complete fix for this bug:

        Radar 2942728 (Link to Yahoo! Finance stocks page fails, says URL is "not a valid location")

        I added a new +(NSURL)_IF_URLWithString: method to IFNSURLExtensions.
        This is now the suggested way to create a URL from a string.

        WebBrowser:

        * AppController.m:
        (-[AppController handleGURLEvent:withReplyEvent:])
        * BookmarksController.m:
        (-[BookmarksController outlineView:writeItems:toPasteboard:])
        * BrowserDocument.m:
        (-[BrowserDocument goHome:])
        * BrowserDocumentController.m:
        (-[BrowserDocumentController URLFromShortcutFile:])
        * BrowserWindow.m:
        (-[BrowserWindow goToToolbarLocation:])
        * Debug/DebugUtilities.m:
        (-[DebugUtilities addDebugBookmarkToMenu:forURL:keyEquivalent:])
        (-[IFWebHistory populateHistoryWithTestData:])
        * GoogleSearchChannel.m:
        (-[GoogleSearchChannel URLWithSearchCriteria:])
        * IFBookmarkAdditions.m:
        (-[IFBookmark goTo])
        * LocationFieldEditor.m:
        (-[LocationFieldEditor concludeDragOperation:])
        (-[LocationFieldEditor paste:])
        * ResourceProgressEntry.m:
        (-[ResourceProgressEntry URL])
        * Scripting.subproj/Scripting.m:
        (-[GetURLCommand performDefaultImplementation])
        (-[OpenURLCommand performDefaultImplementation])
        * Test/PageLoadTestRunner.m:
        (-[PageLoadTestRunner setSingleTestURL:])
        (-[PageLoadTestRunner loadTestSuiteFile:])
        * WebBrowser.pbproj/project.pbxproj:


        WebKit:

        * History.subproj/IFURIEntry.m:
        (-[IFURIEntry initFromDictionaryRepresentation:])
        * History.subproj/IFURLsWithTitles.m:
        (+[IFURLsWithTitles URLsFromPasteboard:])
        * History.subproj/IFWebHistoryPrivate.m:
        (-[IFWebHistoryPrivate updateURL:title:displayTitle:forURL:])
        * Plugins.subproj/IFNullPluginView.mm:
        (-[IFNullPluginView initWithFrame:mimeType:arguments:])
        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView initWithFrame:plugin:url:mime:arguments:])
        (-[IFPluginView loadURL:inTarget:withNotifyData:andHandleAttributes:])
        * WebCoreSupport.subproj/IFWebCoreViewFactory.m:
        (-[IFWebCoreViewFactory viewForPluginWithURL:serviceType:arguments:baseURL:])
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/IFWebDataSource.h:
        * WebView.subproj/IFWebDataSourcePrivate.mm:
        (-[IFWebDataSource _startLoading:])
        * WebView.subproj/IFWebView.mm:
        (-[IFWebView performDragOperation:])


        WebFoundation:

        * AuthenticationManager.subproj/IFAuthenticationManager.m:
        (IFNSURLGetParent):
        * CacheLoader.subproj/IFFileURLProtocolHandler.m:
        (+[IFFileURLProtocolHandler canonicalizeURL:]):
        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
        (+[IFHTTPURLProtocolHandler canonicalizeURL:]):
        (-[IFHTTPURLProtocolHandler URLFromLocationHeader]):
        (-[IFHTTPURLProtocolHandler requestURL]):
        * CacheLoader.subproj/IFURLLoadManager.m:
        (-[IFURLLoadManager canonicalizeCacheURL:]):
        * CookieManager.subproj/IFCookie.m:
        (setDefaultsFromOriginURL):
        * Misc.subproj/IFNSStringExtensions.h:
        * Misc.subproj/IFNSStringExtensions.m:
        * Misc.subproj/IFNSURLExtensions.h:
        * Misc.subproj/IFNSURLExtensions.m:
        (CreateURLStringByAddingPercentEscapes):
        (+[NSURL _IF_URLWithString:]):
        (+[NSURL _IF_URLWithString:relativeToURL:]):
        (+[NSURL _IF_URLWithScheme:user:password:host:port:path:parameter:query:fragment:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1410 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-06-20 20:27:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/25538b33ba128f8fba731d057e1bc0af706a35fb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00y001l56mmjzl71', 2, e'Alexander-9 version & ChangeLog tags


git-svn-id: svn://svn.chromium.org/blink/trunk@1408 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-06-20 19:58:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b008cd0a7d8e68afeb20db29f72f8c554b43674e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00y101l5cr6ag4iw', 2, e'	* kwq/KWQScrollView.mm:
	(QScrollView::addChild):
	    Fixed regression from fix to 2956444.  Wrong view was being checked
	    for conformance to WebCoreFrameView.
	* kwq/KWQWidget.mm:
	(QWidget::internalSetGeometry):
	    Fixed regression from fix to 2956444.  Wrong view was being checked
	    for conformance to WebCoreFrameView.


git-svn-id: svn://svn.chromium.org/blink/trunk@1407 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-20 00:09:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/283499205bc738e60cc6735bd24dc877288a9a5e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00y201l52snhk81q', 2, e'	* khtml/khtmlview.cpp: (KHTMLView::~KHTMLView):
	    Tweak
	* khtml/rendering/render_image.cpp:
	(RenderImage::setPixmap):
	    Call stopAnimations when a image changes, i.e. may be changed
	    by JS.
	* kwq/KWQPixmap.mm:
	(QPixmap::stopAnimations):
	    Call image renderer\'s stopAnimation.
	* kwq/qt/qpixmap.h:
        Added stopAnimations.

    Break image renderer reference cycle.  When a view is removed from the view
    hierarchy active image renderers are told to stop animating,
    which will, in turn, cause them to release their view.  We leverage
    the existing _stopPlugins mechanism.

	* WebCoreSupport.subproj/IFImageRenderer.h:
	* WebCoreSupport.subproj/IFImageRenderer.m:
	(+[IFImageRenderer stopAnimationsInView:]):
	(-[IFImageRenderer beginAnimationInView:inRect:fromRect:]):
	(-[IFImageRenderer frameView]):
	(-[IFImageRenderer stopAnimation]):
	* WebView.subproj/IFHTMLViewPrivate.mm:
	(-[IFHTMLView _stopPlugins]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1406 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-19 21:28:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b158549919a3f306c2659a499592d06b513f233d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00y301l58wt4zh1g', 2, e'	- fixed 2960677 -- attempt to insert nil key; content policy set twice on particular page.

	The problem here was a bad URL not being propogated through the error-handling machinery
	correctly because the url handle was nil, but used to get its string.

	* WebCoreSupport.subproj/IFResourceURLHandleClient.m:
	(+[IFResourceURLHandleClient startLoadingResource:withURL:dataSource:]):
	* WebView.subproj/IFWebControllerPrivate.mm: Use IFError init method that takes
	failingURL.

	(-[IFWebController _receivedProgress:forResourceHandle:fromDataSource:complete:]):
	(-[IFWebController _receivedError:forResourceHandle:partialProgress:fromDataSource:]):
	Check [error failingURL] when resource handle is nil.

	- fixed 2962304 -- No URL shown in Activity Window for certain error types

	* WebController.m:
	(-[WebController receivedError:forResourceHandle:partialProgress:fromDataSource:]):
	Get the URL\'s string from [error failingURL] when handle is nil. This obviates
	earlier workaround.


git-svn-id: svn://svn.chromium.org/blink/trunk@1405 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-06-19 21:18:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d548ab26e222e413616f466eee4e422af510ff8b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00y401l5oq1taqfh', 2, e'Oops.


git-svn-id: svn://svn.chromium.org/blink/trunk@1404 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-19 19:49:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/91ecd96bb8acd8ccb4a59a3bc10de238368a6b80');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00y501l5yzakurq3', 2, e'WebCore:

	- fixed 2956444 -- mac os x feedback form missing textarea

	* kwq/WebCoreFrameView.h: Added.

	* kwq/KWQWidget.mm:
	(QWidget::setCursor): Checked for cursor-setting call based on the
	WebCoreFrameView protocol instead of using an informal protocol.
	Also walk up the view chain so the cursor actually gets set.
	(QWidget::internalSetGeometry): Changed the special case in here to use the new
	WebCoreFrameView protocol, so it won\'t happen for all NSScrollView objects.
	Also add comments to explain the hack better and mention the code in QScrollView.

	* kwq/KWQScrollView.mm:
	(-[NSView _KWQ_isScrollView]): Gave these KWQ names instead of IF names.
	(-[NSView _KWQ_getDocumentView]): Gave these KWQ names instead of IF names.
	(QScrollView::addChild): Changed the special case in here to use the new
	WebCoreFrameView protocol, so it won\'t happen for all NSScrollView objects.
	Also add comments to explain the hack better and mention the code in QWidget.

	Other changes:

	* kwq/kwqdebug.h: Cloned improved assert code from WebFoundation.

	* kwq/KWQTextArea.h: Removed unused isReadOnly/setReadOnly.
	* kwq/KWQTextArea.mm: Removed unused isReadOnly/setReadOnly.

	* kwq/WebCoreViewFactory.h: Removed extraneous import and WebCoreCursorSetting
	API from here.

	* kwq/KWQTextEdit.mm: Tweaked.
	* kwq/kparts/part.h: Tweaked.

WebKit:

	Fixed a storage leak and made some other changes to go along with
	corresponding WebCore changes.

	* WebCoreSupport.subproj/IFResourceURLHandleClient.m:
	(-[IFResourceURLHandleClient didStartLoadingWithURL:]): Added.
	(-[IFResourceURLHandleClient didStopLoading]): Added.
	(-[IFResourceURLHandleClient dealloc]):
	(-[IFResourceURLHandleClient IFURLHandleResourceDidBeginLoading:]):
	(-[IFResourceURLHandleClient IFURLHandleResourceDidCancelLoading:]):
	(-[IFResourceURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
	(-[IFResourceURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	(-[IFResourceURLHandleClient IFURLHandle:didRedirectToURL:]):
	Use didStartLoadingWithURL and didStopLoading to cure problems where the
	handle would be left in the data sources list of loading handles.

	* WebView.subproj/IFDynamicScrollBarsView.h: Changed to conform to the
	WebCoreFrameView protocol.

	* Misc.subproj/WebKitDebug.h: Cloned improved assert code from WebFoundation.

	* WebView.subproj/IFDynamicScrollBarsView.m: Fixed comment.


git-svn-id: svn://svn.chromium.org/blink/trunk@1403 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-19 19:46:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c8b68108571b70837d68472c1dfe29e137a78704');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00y601l57kukcgoc', 2, e'WebKit:

        Call setWindow in layout so that plug-in content is drawn without
        needing to resize.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView layout]):
        (-[IFPluginView viewHasMoved:]):

WebBrowser:

        Fix for 2956361 - use redirected name for downloaded files
        Simplified mime parsing in Defaults.plist

        * Defaults.plist:
        * DownloadProgressEntry.m:
        (-[DownloadProgressEntry _initWithResource:progress:error:dataSource:]):
        * LocationChangeHandler.m:
        (-[LocationChangeHandler requestContentPolicyForMIMEType:dataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1402 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-19 18:51:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/435f73d12f5198a2d9cced54cdf5ce4732035346');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00y701l56nhc379h', 2, e'2002-06-19  Kenneth Kocienda  <kocienda@apple.com>

        I just played alchemical voodoo magic number games with the linker to
        make all our frameworks and Alexander prebound.

	Is voodoo our fate here? ....will B & I come to save us?
	We poor humble groundlings yearn for the light of truth!

	* JavaScriptCore/ChangeLog
	* JavaScriptCore/JavaScriptCore.pbproj/project.pbxproj: Now has -seg1addr 0x8000000
	* WebBrowser/ChangeLog
	* WebBrowser/WebBrowser.pbproj/project.pbxproj
	* WebFoundation/ChangeLog
	* WebFoundation/WebFoundation.pbproj/project.pbxproj: Now has -seg1addr 0x6000000
	* WebKit/ChangeLog
	* WebKit/WebKit.pbproj/project.pbxproj: Now has -seg1addr 0x7000000


git-svn-id: svn://svn.chromium.org/blink/trunk@1401 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-06-19 14:37:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/150fcf53a732952483fbe84ccebf1d6e48477b65');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmstg00y801l5v0rbpdbh', 2, e'WebKit:

        Fix for 2961733 - Progress of plug-in files not shown in activity window
        Plugin classed must call _IF_superviewWithName: not _IF_parentWebView

        * Plugins.subproj/IFNullPluginView.mm:
        (-[IFNullPluginView drawRect:]):
        * Plugins.subproj/IFPluginStream.mm: minor cleanup
        (-[IFPluginStream IFURLHandle:resourceDataDidBecomeAvailable:]):
        (-[IFPluginStream IFURLHandleResourceDidFinishLoading:data:]):
        (-[IFPluginStream IFURLHandleResourceDidCancelLoading:]):
        (-[IFPluginStream IFURLHandle:resourceDidFailLoadingWithResult:]):
        (-[IFPluginStream IFURLHandle:didRedirectToURL:]):
        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView start]):
        (-[IFPluginView layout]):

WebBrowser:

        Renamed content policy API\'s to include the data source.

        * WebController.m:
        (-[WebController haveContentPolicy:andPath:forDataSource:]):
        (-[WebController receivedProgress:forResourceHandle:fromDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1400 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-19 05:50:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5722ef3a91a376f0b813f309fb1d7fa02f7bd126');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wl01l5tno4thpy', 2, e'WebBrowser:

	Only have "View Source", "Save As" and "Print" menu items enabled
	if currently at a web page and that web page is not loading.

	Renamed content policy API\'s to include the data source.

	* BrowserDocument.m:
	(-[BrowserDocument validateUserInterfaceItem:]):
	* LocationChangeHandler.m:
	(-[LocationChangeHandler requestContentPolicyForMIMEType:dataSource:]):
	(-[LocationChangeHandler unableToImplementContentPolicy:forDataSource:]):
	* WebBrowser.pbproj/project.pbxproj:

WebKit:

	Enabled the viewing of plug-in content inline
	(aka direct links to plugin media). Made IFPluginView a
	IFDocumentView and IFPluginStream a IFDocumentRespresentation.

	Renamed content policy API\'s to include the data source.

	* Plugins.subproj/IFPluginDatabase.h:
	* Plugins.subproj/IFPluginDatabase.m:
	(+[IFPluginDatabase installedPlugins]): registers plugins as IFDocument*
	* Plugins.subproj/IFPluginStream.h:
	* Plugins.subproj/IFPluginStream.mm:
	(-[IFPluginStream init]): added for IFDocumentRepresentation
	(-[IFPluginStream initWithURL:pluginPointer:notifyData:attributes:]): removed load initiliazatoin
	(-[IFPluginStream dealloc]):
	(-[IFPluginStream startLoad]): added
	(-[IFPluginStream stop]):
	(-[IFPluginStream receivedData:]): added as the base implementation
	(-[IFPluginStream receivedError]): added as the base implementation
	(-[IFPluginStream finishedLoadingWithData:]): added as the base implementation
	(-[IFPluginStream receivedData:withDataSource:]): added for IFDocumentRepresentation
	(-[IFPluginStream receivedError:withDataSource:]): added for IFDocumentRepresentation
	(-[IFPluginStream finishedLoadingWithDataSource:]): added for IFDocumentRepresentation
	(-[IFPluginStream IFURLHandleResourceDidBeginLoading:]):
	(-[IFPluginStream IFURLHandle:resourceDataDidBecomeAvailable:]): call receivedData
	(-[IFPluginStream IFURLHandleResourceDidFinishLoading:data:]): call finishedLoadingWithData
	(-[IFPluginStream IFURLHandleResourceDidCancelLoading:]): call receivedError
	(-[IFPluginStream IFURLHandle:resourceDidFailLoadingWithResult:]): call receivedError
	(-[IFPluginStream IFURLHandle:didRedirectToURL:]):
	* Plugins.subproj/IFPluginView.h:
	* Plugins.subproj/IFPluginView.mm:
	(-[IFPluginView initWithFrame:plugin:url:mime:arguments:]): removed special-case code for NP_FULL mose
	(-[IFPluginView start]):
	(-[IFPluginView initWithFrame:]): added for IFDocumentView
 	(-[IFPluginView provisionalDataSourceChanged:]): added for IFDocumentView
	(-[IFPluginView provisionalDataSourceCommitted:]): added for IFDocumentView
	(-[IFPluginView dataSourceUpdated:]): added for IFDocumentView
	(-[IFPluginView layout]): added for IFDocumentView
	(-[IFPluginView removeFromSuperview]): call stop
	(-[IFPluginView loadURL:inTarget:withNotifyData:andHandleAttributes:]):
	(-[IFPluginView pluginInstance]): added
	* WebCoreSupport.subproj/IFWebCoreViewFactory.m:
	(-[IFWebCoreViewFactory viewForPluginWithURL:serviceType:arguments:baseURL:]): call new init method
	(-[IFWebCoreViewFactory viewForJavaAppletWithArguments:]): call new init method
	* WebKit.pbproj/project.pbxproj:
	* WebView.subproj/IFLocationChangeHandler.h: content policy method name changes
	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]): content policy method name changes
	* WebView.subproj/IFWebController.h:
	* WebView.subproj/IFWebController.mm:
	(-[IFWebController haveContentPolicy:andPath:forDataSource:]): content policy method name changes
	* WebView.subproj/IFWebDataSourcePrivate.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1399 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-19 04:40:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/05c0305fa63fe382da57abfe33ac1ea5bc4e63af');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wm01l5l0asq5vs', 2, e'2002-06-18  Kenneth Kocienda  <kocienda@apple.com>

        Fix for this bug:

        Radar 2928483 (activity viewer does not show all the pieces of a web page when the page is cached)

        * WebCore/khtml/misc/loader.cpp:
        (DocLoader::requestImage): Added APPLE_CHANGES call to the KWQCheckCacheObjectStatus function
                                   described below
        (DocLoader::requestStyleSheet): ditto
        (DocLoader::requestScript): ditto
        * WebCore/kwq/KWQKloader.mm:
        (KWQCheckCacheObjectStatus): New function that informs WebKit of the
                                     fact that a URL was loaded from the WebCore/khtml cache.
        * WebCore/kwq/KWQLoaderImpl.h: Added prototype for KWQCheckCacheObjectStatus
        * WebCore/kwq/WebCoreBridge.h: Added KWQCheckCacheObjectStatus to WebCoreBridge protocol


        * WebKit/WebCoreSupport.subproj/IFWebCoreBridge.mm:
        (-[IFWebCoreBridge objectLoadedFromCache:size:]): New method that sends the appropriate progress indication.


git-svn-id: svn://svn.chromium.org/blink/trunk@1398 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-06-18 20:49:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a958dfb3a631d34312569366af1394d4f3cfee14');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wn01l5plnt5mv5', 2, e'	* kwq/KWQKHTMLPart.mm: (KWQKHTMLPartImpl::~KWQKHTMLPartImpl):
	Remove an NSLog I left in by accident.


git-svn-id: svn://svn.chromium.org/blink/trunk@1397 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-18 16:28:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/26a0470598a3a9c42726f1f7843358ed902770dc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wo01l54nhxfe42', 2, e'    Fixed window.open regression.
    Partial fix to targeting frame of new name.

	* kwq/KWQKHTMLPart.mm:
	(KWQKHTMLPartImpl::urlSelected):
	    Partial fix to frame not found problem.
	* kwq/KWQKHTMLPartBrowserExtension.mm:
	(KHTMLPartBrowserExtension::createNewWindow):
	    Fix for window.open regression.
	* kwq/WebCoreBridge.h:
        Changed return type of openNewWindowWithURL:

    Fixed window.open regression.
    Partial fix to targeting frame of new name.

	* WebCoreSupport.subproj/IFWebCoreBridge.h:
	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
	(-[IFWebCoreBridge openNewWindowWithURL:]):
	    Return the newly created bridge.
	(-[IFWebCoreBridge receivedData:withDataSource:]):
	    Use setDataSource: method
	(-[IFWebCoreBridge startLoadingResource:withURL:]):
	    No change.
	(-[IFWebCoreBridge setDataSource:]):
	    New method.
	* WebView.subproj/IFHTMLView.mm:
	(-[IFHTMLView mouseMovedNotification:]):
	    Selection support.
	(-[IFHTMLView mouseDragged:]):
	    Selection support.

	* WebView.subproj/IFWebController.mm:
	(-[IFWebController haveContentPolicy:andPath:forLocationChangeHandler:]):
        Only change representation if it hasn\'t been pre-bound, or if it\'s
        class changed.

	* WebView.subproj/IFWebFrame.mm:
	(-[IFWebFrame initWithName:webView:provisionalDataSource:controller:]):
	    More hackery to support window.open.

	* WebController.m:
	(-[WebController openNewWindowWithURL:]):
	    Cleanup.


git-svn-id: svn://svn.chromium.org/blink/trunk@1396 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-18 02:35:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/18724862e9dd9877da57145b72c9e740997c70b8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wp01l5no7zqheq', 2, e'	Fixed many of the reasons that we were leaking the world. But we still leak
	KHTMLPart objects, so there must be more problems.

	* WebCoreSupport.subproj/IFResourceURLHandleClient.m:
	(+[IFResourceURLHandleClient startLoadingResource:withURL:dataSource:]):
	Add missing autorelease. Without this, we leak the world.
	(-[IFResourceURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	Weaken assert. It was firing before.

	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
	(-[IFWebCoreBridge receivedData:withDataSource:]): Don\'t retain the
	dataSource any more. Without this, we leak the world.

	* WebView.subproj/IFWebControllerPrivate.mm:
	(-[IFWebControllerPrivate dealloc]): Release the policy handler too.
	Without this, we leak the world.

	* WebView.subproj/IFWebDataSourcePrivate.mm:
	(-[IFWebDataSourcePrivate dealloc]): Release resourceData, representation,
	downloadPath, encoding, and contentType. Without this, we leak the world.

	* WebView.subproj/IFWebFrame.mm:
	(-[IFWebFrame initWithName:webView:provisionalDataSource:controller:]):
	Release the dummy data source after setting it up so it doesn\'t leak.

	* WebView.subproj/IFHTMLViewPrivate.mm:
	(-[IFHTMLViewPrivate dealloc]): Don\'t release the controller, we didn\'t retain it.
	(-[IFHTMLView _resetWidget]): Delete the provisional widget too.

	* WebView.subproj/IFWebDataSourcePrivate.h: Remove unused "children" array.

	* WebCoreSupport.subproj/IFImageRenderer.m: Fix comment.
	* WebView.subproj/IFHTMLView.mm: Fix comments.


git-svn-id: svn://svn.chromium.org/blink/trunk@1395 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-17 23:49:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2965cd6ecdd03d7becceb6e7f110f4a4fcd5df41');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wq01l5ps3qf37x', 2, e'	Fixed a storage leak.

	* kwq/WebCoreBridge.mm: (-[WebCoreBridge documentTextFromDOM]): Add a missing autorelease.

	Remove a bunch of loader-related APPLE_CHANGES.

	* khtml/misc/loader.h: Remove KWQURLLoadClient and KWQLoaderImpl.
	* khtml/misc/loader.cpp:
	(Loader::Loader): Remove unneeded KWQLoaderImpl object.
	(Loader::~Loader): Remove unneeded KWQLoaderImpl object.
	(Loader::servePendingRequests): Call KWQServeRequest instead of KWQLoaderImpl::serveRequest.
	(Loader::slotFinished): Remove unneeded KWQLoaderImpl::objectFinished.

	* kwq/KWQLoaderImpl.h:
	* kwq/KWQKloader.mm: (KWQServeRequest): Replaces the KWQLoaderImpl class. The rest of what
	was in this class was obsolete.


git-svn-id: svn://svn.chromium.org/blink/trunk@1394 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-17 23:48:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73b387e5556d9747ef44670b3f61472ac20c3d3f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wr01l5pf3inqi7', 2, e'    Fixed call to renamed progress method.

	* Plugins.subproj/IFPluginStream.mm:


git-svn-id: svn://svn.chromium.org/blink/trunk@1393 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-17 22:45:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b067fc51596c3399d866053d555c05000a71762a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600ws01l537316k2g', 2, e'WebBrowser:
        Implemented save as.

        * BrowserDocument.m:
        (-[BrowserDocument dataRepresentationOfType:]): return main
        data source\'s data

        (-[BrowserDocument fileType]): added. Return [dataSource fileType]
        (-[BrowserDocument _isDocumentHTML]): removed obsolete comments.
        * WebBrowser.pbproj/project.pbxproj:

WebKit:
        * WebView.subproj/IFWebDataSource.h:
        * WebView.subproj/IFWebDataSource.mm:
        (-[IFWebDataSource contentType]): no changes
        (-[IFWebDataSource fileType]): added. Returns extension based on MIME.


git-svn-id: svn://svn.chromium.org/blink/trunk@1392 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-17 20:29:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/70da33c87a0afd9413bae323be0b87054eec5cba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wt01l5tpejtiwo', 2, e'    Fixed www.2cpu.com regression.  QWidget::_displayRect was displaying the wrong
    view.  This was a regression that would impact all DHTML.

	* khtml/khtmlview.cpp:
	(KHTMLView::timerEvent):
	* kwq/KWQScrollView.mm:
	(QScrollView::updateContents):
	* kwq/KWQWidget.mm:
	(QWidget::QWidget):
	(QWidget::endEditing):
	* kwq/qt/qwidget.h:

    Added explicit complete check for resources, rather
    than depend on bytesSoFar == totalToLoad.

	* WebCoreSupport.subproj/IFResourceURLHandleClient.m:
	(-[IFResourceURLHandleClient receivedProgressWithHandle:complete:]):
	(-[IFResourceURLHandleClient IFURLHandleResourceDidBeginLoading:]):
	(-[IFResourceURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
	(-[IFResourceURLHandleClient IFURLHandleResourceDidCancelLoading:]):
	(-[IFResourceURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
	* WebView.subproj/IFWebControllerPrivate.h:
	* WebView.subproj/IFWebControllerPrivate.mm:
	(-[IFWebController _receivedProgress:forResourceHandle:fromDataSource:complete:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1391 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-17 20:23:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d66e7ec635acf0d9eae68cfd85a052ea46d560f0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wu01l5nvs4h67p', 2, e'        Fix for 2939881. No more overwritting of one\'s files.

        * Misc.subproj/IFDownloadHandler.mm:
        (-[IFDownloadHandler receivedData:]):
        (-[IFDownloadHandler finishedLoading]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1390 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-17 19:47:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9abb46b92a04203b1cccf9f118ec233c2d97ecc8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wv01l5nef1xftc', 2, e'    Fixed IFImageViews not drawing correctly.

    Changed compeletion to explicity use IFURLHandleResourceDidFinishLoading, rather
    than depend on bytesSoFar == totalToLoad.

	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]):
	(-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
	(-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
	* WebView.subproj/IFWebControllerPrivate.h:
	* WebView.subproj/IFWebControllerPrivate.mm:
	(-[IFWebController _mainReceivedProgress:forResourceHandle:fromDataSource:complete:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1389 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-17 18:18:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9cb8a42b18ef2850e9ea121dc49f8602f1026eef');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600ww01l5155e7ru6', 2, e'	Fixed bug where some images would get left behind when scrolling. Turned out it
	was all the tiled images that were getting left behind.

	* kwq/KWQPainter.mm: (QPainter::drawTiledPixmap): Fixed to get the view for
	coordinates from [NSView focusView] the way drawPixmap does, rather than using
	data->widget->getView(), which gives the scroll view instead of the scrolled view.


git-svn-id: svn://svn.chromium.org/blink/trunk@1388 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-17 18:12:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a5d4b934ace7bcc528d57e9ee361f60557fd1ea1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wx01l551no5bcr', 2, e'WebCore:

	* kwq/KWQKHTMLPart.mm: (KWQKHTMLPartImpl::frames):
	Fixed this function to get from frames to parts properly. It was still
	assuming that [WebCoreBridge childFrames] would return a list of WebCoreBridge
	objects, but now it returns WebCoreFrame objects.

	* kwq/WebCoreFrame.h: Added [WebCoreFrame bridge] for the case above.
	Note that it always gives the "committed" bridge, not the provisional one.

WebKit:

	* WebCoreSupport.subproj/IFWebCoreFrame.m: (-[IFWebCoreFrame bridge]): Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@1387 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-17 01:48:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b7e70dea5e44afad4aca62ba5b2b3fb35a8362fb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wy01l5nrsi3ntx', 2, e'WebCore:

	Add a separate WebCoreFrame alongside WebCoreBridge to facilitate
	handling of frames with no HTML content in them. This probably fixes
	frames named "_blank".

	Also fixed the build, because a clean build failed.

	* kwq/KWQKHTMLPart.mm:
	(KWQKHTMLPartImpl::openURLInFrame):
	(KWQKHTMLPartImpl::urlSelected):
	(KWQKHTMLPartImpl::requestFrame):
	(KWQKHTMLPartImpl::submitForm):
	(KWQKHTMLPartImpl::parentPart):
	Work with WebCoreFrame objects instead of WebCoreBridge objects when dealing with
	frame operations -- loading new URLs mainly.

	* kwq/WebCoreBridge.h: Removed frame-related operations, now they are on WebCoreFrame.
	Broke out WebCoreResourceLoader into its own file. Added comments.

	* kwq/WebCoreFrame.h: Added.

	* kwq/WebCoreResourceLoader.h: Added.
	* kwq/KWQKloader.mm: Include WebCoreResourceLoader.h now that it\'s broken out.

	* WebCore-tests.exp: Tests still need QString::latin1(), although we don\'t need
	to export it for WebKit any more.

WebKit:

	* WebCoreSupport.subproj/IFResourceURLHandleClient.m:
	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
	(-[IFWebCoreBridge frame]): Added.
	(-[IFWebCoreBridge parent]): Changed name from parentFrame, to emphasize that this gives a WebCoreBridge.
	(-[IFWebCoreBridge childFrames]): Return IFWebCoreFrame objects.
	(-[IFWebCoreBridge childFrameNamed:]): Return IFWebCoreFrame object.
	(-[IFWebCoreBridge descendantFrameNamed:]): Return IFWebCoreFrame object.
	(-[IFWebCoreBridge createChildFrameNamed:withURL:renderPart:khtml::allowsScrolling:marginWidth:marginHeight:]):
	Use the loadURL operation in IFWebCoreFrame.
	(-[IFWebCoreBridge mainFrame]): Return IFWebCoreFrame object.
	(-[IFWebCoreBridge frameNamed:]): Return IFWebCoreFrame object.

	* WebCoreSupport.subproj/IFWebCoreFrame.h: Added.
	* WebCoreSupport.subproj/IFWebCoreFrame.m: Added.
	* WebKit.pbproj/project.pbxproj: Update for added files.

	* WebView.subproj/IFHTMLViewPrivate.h: Made this includable from plain Objective C.

	* WebView.subproj/IFWebFrame.mm:
	(-[IFWebFrame initWithName:webView:provisionalDataSource:controller:]): Create the IFWebCoreFrame.

	* WebView.subproj/IFWebFramePrivate.h: Add _bridgeFrame method for getting IFWebCoreFrame.
	* WebView.subproj/IFWebFramePrivate.mm:
	(-[IFWebFramePrivate dealloc]): Release the IFWebCoreFrame.
	(-[IFWebFrame _bridgeFrame]): Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@1386 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-16 17:27:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1373b34466bb20b7a2052dd517335bdafe14b2e0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600wz01l5bgr6sk7x', 2, e'Forgot to save file.


git-svn-id: svn://svn.chromium.org/blink/trunk@1385 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-16 07:46:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4e8e24e3ecb066b652b0863fff3e2429efb7bb5f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600x001l5ftobbr8z', 2, e'WebCore:

	Moved the IFURLHandleClient subclass to WebKit, so it can some day be merged
	with the one for the frames themselves; this one is for resources.

	* kwq/kio/jobclasses.h:
	* kwq/KWQKjobclasses.mm:
	(TransferJob::setHandle): Replaced the old TransferJob::begin with this.

	* kwq/KWQLoaderImpl.h: Remove setClient.
	* kwq/KWQKloader.mm:
	(-[WebCoreResourceLoader initWithLoader:job:]): Added.
	(-[WebCoreResourceLoader dealloc]): Added.
	(-[WebCoreResourceLoader addData:]): Added.
	(-[WebCoreResourceLoader cancel]): Added.
	(-[WebCoreResourceLoader finish]): Added.
	(KWQLoaderImpl::serveRequest): Use [WebCoreBridge startLoadingResource:withURL:].
	* khtml/misc/loader.cpp: (Loader::load): Removed unneeded call to setClient.

	* kwq/WebCoreBridge.h: Remove unneeded methods. Added [WebCoreBridge startLoadingResource:withURL:].

WebKit:

	Moved the IFURLHandleClient subclass here from WebCore, so it can some day be merged
	with the one for the frames themselves; this one is for resources.

	* WebCoreSupport.subproj/IFResourceURLHandleClient.h: Added.
	* WebCoreSupport.subproj/IFResourceURLHandleClient.m: Added.
	* WebKit.pbproj/project.pbxproj: Added IFResourceURLHandleClient.h and .m.

	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
	(-[IFWebCoreBridge startLoadingResource:withURL:]): Added.
	Removed all the old methods, with their guts moved into IFResourceURLHandleClient.


git-svn-id: svn://svn.chromium.org/blink/trunk@1384 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-16 07:45:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4b560d52bcdfee8a438cb812836e6f6719d855dc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600x101l5wji6gr8l', 2, e'WebCore:

	Fix frame-related calls. I was always searching all the frames, which was disastrous.
	Also do name changes.

	* kwq/KWQKHTMLPart.mm:
	(KWQKHTMLPartImpl::urlSelected): Use descendantFrameNamed rather than frameNamed.
	(KWQKHTMLPartImpl::requestFrame): Use childFrameNamed rather than frameNamed.
	(KWQKHTMLPartImpl::frameExists): Use childFrameNamed rather than frameNamed.

	* kwq/KWQScrollView.mm: (QScrollView::addChild): Asserts I used while debugging.

	* kwq/WebCoreBridge.h: Add new calls. Change names of old ones to include the
	word frame consistently. (Also bits of new work that will do no harm, but are
	not really needed yet.)

WebKit:

	Update for frame-related changes in WebCore.

	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
	(-[IFWebFrame _bridge]): Look at provisional data source first.
	(-[IFWebCoreBridge dealloc]): Release the data source.
	(-[IFWebCoreBridge parentFrame]): Renamed.
	(-[IFWebCoreBridge childFrames]): Renamed.
	(-[IFWebCoreBridge childFrameNamed:]): Added.
	(-[IFWebCoreBridge descendantFrameNamed:]): Added.
	(-[IFWebCoreBridge didFinishLoadingWithHandle:]): Don\'t call _didStopLoading twice
	when we finish loading.

	Also changed controller getters to call [dataSource controller] and got rid of the
	[IFWebCoreBridge controller] method.


git-svn-id: svn://svn.chromium.org/blink/trunk@1383 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-16 07:04:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c67bd9b6a13d389575a95bace2aca884bec558cf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600x201l5j0j09umw', 2, e'	* Misc.subproj/IFNSViewExtras.h:
	* Misc.subproj/IFNSViewExtras.m:
	(-[NSView _IF_superviewWithName:]):
	(-[NSView _IF_parentWebView]):
	    Replaced use of _IF_superviewWithName w/ safer _IF_parentWebView.
	* Plugins.subproj/IFNullPluginView.mm:
	(-[IFNullPluginView drawRect:]):
	    Replaced use of _IF_superviewWithName w/ safer _IF_parentWebView.
	* Plugins.subproj/IFPluginStream.mm:
	(-[IFPluginStream IFURLHandle:resourceDataDidBecomeAvailable:]):
	(-[IFPluginStream IFURLHandleResourceDidFinishLoading:data:]):
	(-[IFPluginStream IFURLHandleResourceDidCancelLoading:]):
	(-[IFPluginStream IFURLHandle:resourceDidFailLoadingWithResult:]):
        Call _receiveProgress instead of directly calling handler.
	* Plugins.subproj/IFPluginView.mm:
	(-[IFPluginView start]):
	    Replaced use of _IF_superviewWithName w/ safer _IF_parentWebView.
	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
	(-[IFWebCoreBridge loadURL:attributes:flags:inFrame:withParent:]):
	    Handle changing top frame correctly.  Parent may be nil.
	(-[IFWebCoreBridge didFinishLoadingWithHandle:]):
	    Added non-terminal error case.
	* WebView.subproj/IFHTMLView.mm:
	(-[IFHTMLView provisionalDataSourceCommitted:]):
	    Replaced use of _IF_superviewWithName w/ safer _IF_parentWebView.
	* WebView.subproj/IFMainURLHandleClient.mm:
	* WebView.subproj/IFWebControllerPrivate.mm:
        Comment changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1382 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-16 05:27:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a783aac5474308f341167ef258b384626cdd33a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600x301l5cthot5ax', 2, e'	* kwq/KWQKloader.mm:
	(-[KWQURLLoadClient IFURLHandle:didRedirectToURL:]):
	Rolled out an assert I added by accident that will break Deployment builds.


git-svn-id: svn://svn.chromium.org/blink/trunk@1381 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-16 04:12:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f7c70afd5e478eaba2e822638372b7e7fb5c57cc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600x401l5wpw7kgip', 2, e'	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
	Added a lot of assertions that I had used while debugging.
	(-[IFWebCoreBridge didRedirectWithHandle:fromURL:]):
	Commented out the line of code that calls [serverRedirectTo:forDataSource:].
	Our old code was sending this to the web controller (that was a bug).
	But if we send it to the location change handler, then we confuse Alexander.
	We may return to this later, uncomment it, and change the interface so the
	client can tell what is being redirected. We\'ll need to do that if we want
	the activity window to show redirected URLs at the time of the redirect.


git-svn-id: svn://svn.chromium.org/blink/trunk@1380 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-16 04:03:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1fc36533984642775a2efc8315f85aec009b1955');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600x501l5wi5cf6tr', 2, e'	* kwq/KWQKloader.mm:
	(-[KWQURLLoadClient IFURLHandleResourceDidCancelLoading:]):
	(-[KWQURLLoadClient IFURLHandleResourceDidFinishLoading:data:]):
	(-[KWQURLLoadClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	Fixed the order so the URL handles are removed before we send notifications
	as before my change. This seems to fix the rest of the breakage.


git-svn-id: svn://svn.chromium.org/blink/trunk@1379 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-16 03:27:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e366a9e4e0bc93ec421e8f1d1f0b025516a5346e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600x601l5ms5ts2f2', 2, e'	* kwq/KWQKloader.mm: (-[KWQURLLoadClient initWithLoader:bridge:]):
        Fix bridge/m_bridge typo that was responsible for at least some of the breakage
        I caused.


git-svn-id: svn://svn.chromium.org/blink/trunk@1378 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-16 02:31:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/17fc922447b42b7d606922879c056155e1c871af');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600x701l53hykt1n6', 2, e'2002-06-15  Richard Williamson  <rjw@apple.com>

    Fixed factoring problem.

	* kwq/KWQScrollView.mm:
	(-[NSView _IF_getDocumentView]):
	(-[NSView _IF_isScrollView]):
	(QScrollView::visibleWidth):
	(QScrollView::visibleHeight):
	(QScrollView::contentsWidth):
	(QScrollView::contentsHeight):
	(QScrollView::contentsX):
	(QScrollView::contentsY):
	(QScrollView::setContentsPos):
	(QScrollView::addChild):
	(QScrollView::resizeContents):
	(QScrollView::contentsToViewport):
	(QScrollView::viewportToContents):
	* kwq/qt/qscrollview.h:


    Fixed _bridge not accounting for provisional data source,
    broke access to window.frames during load.

	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
	(-[IFWebFrame _bridge]):
	(-[IFWebCoreBridge children]):
	* WebView.subproj/IFWebFramePrivate.mm:
	(-[IFWebFrame _isLoadComplete]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1377 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-15 22:15:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e6a758f86831942442fcdde0c0e8b4cfe25177f7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600x801l5i4v57xxs', 2, e'	* WebView.subproj/IFHTMLView.mm:
	(-[IFHTMLView provisionalDataSourceChanged:]): Don\'t turn negative numbers into
	0 for margins. This was a mistake.


git-svn-id: svn://svn.chromium.org/blink/trunk@1376 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-15 21:44:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f95f71ba494038ddf2affa95dadb88e695f46180');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600x901l5sxhs2t5w', 2, e'	* kwq/WebCoreBridge.mm:
	(-[WebCoreBridge createKHTMLViewWithNSView:width:height:marginWidth:marginHeight:]):
	Implement the rule where a negative number means "don\'t set the margin".


git-svn-id: svn://svn.chromium.org/blink/trunk@1375 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-15 21:44:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b264e76911f695c64efeaba628e4059301c55403');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600xa01l5sqxuwo5x', 2, e'	* kwq/kio/jobclasses.h: Removed import of WebFoundation.h.
	* kwq/KWQKjobclasses.mm: Added import of IFURLHandle.h.
	* kwq/KWQKloader.mm: Added import of IFError.h and IFURLHandle.h.

	* kwq/WCLoadProgress.h: Removed.
	* kwq/WCWebDataSource.h: Removed.
	* kwq/KWQKHTMLPart.mm: Removed import of WCWebDataSource.h.

	* *.mm: Changed all includes to imports using a perl script.


git-svn-id: svn://svn.chromium.org/blink/trunk@1374 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-15 21:34:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/42f48a59570ef4fb9d6bd668f0bdd760ebb359ee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600xb01l55a3z8bii', 2, e'WebCore:

	- fixed 2942808 -- remove all calls to WebKit from WebCore

	More work on the bridge. Now we don\'t call anything in WebKit explicitly,
	although there are still implicit connections that need to be fixed.

	* WebCore.exp: Remove exports that are no longer needed, now that
	WebKit is using the bridge to get at more things.

	* khtml/misc/loader.h:
	* khtml/misc/loader.cpp:
	(CachedCSSStyleSheet::CachedCSSStyleSheet):
	(CachedScript::CachedScript):
	(CachedImage::CachedImage):
	Remove the extra parameter to the CachedObject constructor. We don\'t
	need it any more, so we can remove all these APPLE_CHANGES.

	* kwq/KWQKHTMLPart.mm: Remove getDataSource.

	* kwq/KWQLoaderImpl.h: Remove destructor.
	* kwq/KWQKloader.mm:
	(-[KWQURLLoadClient initWithLoader:bridge:]): Keep the bridge around instead
	of the data source.
	(-[KWQURLLoadClient dealloc]): Release the bridge instead of the data source.
	Also put another workaround for 2954901 here, like in WebKit.
	(-[KWQURLLoadClient IFURLHandleResourceDidBeginLoading:]):
	(-[KWQURLLoadClient IFURLHandle:resourceDataDidBecomeAvailable:]):
	(-[KWQURLLoadClient doneWithHandle:error:]):
	(-[KWQURLLoadClient IFURLHandleResourceDidCancelLoading:]):
	(-[KWQURLLoadClient IFURLHandleResourceDidFinishLoading:data:]):
	(-[KWQURLLoadClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	(-[KWQURLLoadClient IFURLHandle:didRedirectToURL:]):
	(KWQLoaderImpl::setClient):
	(KWQLoaderImpl::serveRequest):
	Use the bridge to do all the heavy lifting, and put lots of common code into
	a doneWithHandle:error: method. Also store the URL so the redirect code works
	properly for multiple redirects and add asserts like the ones in IFMainURLHandleClient.
	(KWQLoaderImpl::objectFinished): Add a comment.

	* kwq/WebCoreBridge.h: Make header so it can be included from plain Objective C,
	not just Objective C++. Add a bunch of methods for bridging in to WebCore as opposed
	to out of WebCore. Add new methods for bridging out from WebCore too for all the
	progress hooks. Put all the subclass responsibility methods into a protocol
	in such a way that we don\'t need to implement them in the base class, and subclasses
	can set things up so they get errors if they forget to implement anything.

	* kwq/WebCoreBridge.mm:
	(-[WebCoreBridge openURL:]): Added.
	(-[WebCoreBridge addData:withEncoding:]): Added.
	(-[WebCoreBridge closeURL]): Added.
	(-[WebCoreBridge end]): Added.
	(-[WebCoreBridge setURL:]): Added.
	(-[WebCoreBridge createKHTMLViewWithNSView:width:height:marginWidth:marginHeight:]): Added.
	(-[WebCoreBridge documentTextFromDOM]): Added.
	(-[WebCoreBridge scrollToBaseAnchor]): Added.

	* kwq/external.h: Removed.

WebKit:

	- fixed 2942808 -- remove all calls to WebKit from WebCore

	Update to use the WebCore bridge for more things, reducing
	dependencies in both directions. Besides using the bridge for all the
	remaining WebCore to WebKit calls, almost no WebKit code deals with
	KHTMLPart directly any more, instead the other side of the bridge handles it.

	* Plugins.subproj/IFPluginStream.mm:
	(-[IFPluginStream IFURLHandleResourceDidBeginLoading:]): Remove unneeded casts.
	(-[IFPluginStream IFURLHandle:resourceDataDidBecomeAvailable:]):
	(-[IFPluginStream IFURLHandleResourceDidFinishLoading:data:]):
	(-[IFPluginStream IFURLHandleResourceDidCancelLoading:]):
	(-[IFPluginStream IFURLHandle:resourceDidFailLoadingWithResult:]):
	(-[IFPluginStream IFURLHandle:didRedirectToURL:]):
	Use the new IFProgress methods to simplify code.

	* WebCoreSupport.subproj/IFWebCoreBridge.h: Use the new WebCoreBridge protocol
	so we get a compiler error if we forget to implement anything. Add a method for
	IFWebDataSource that gets the WebCoreBridge if it has an IFHTMLRepresentation,
	and nil otherwise.
	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
	(-[IFWebDataSource _bridge]): Add; does checking so that it returns
	nil if the representation is not an IFHTMLRepresentation. This is now used
	almost everywhere so we don\'t have to do so much type casting.
	(-[IFWebCoreBridge loadURL:attributes:flags:inFrame:withParent:]): Remove a
	stray use of [IFWebCoreBridge dataSource] so we can remove it.
	(-[IFWebCoreBridge receivedData:withDataSource:]): Use the
	new [WebCoreBridge openURL:] and [WebCoreBridge addData:] methods from the
	other side of the bridge so we don\'t have to deal with the KHTMLPart directly.
	(-[IFWebCoreBridge addHandle:]): Added.
	(-[IFWebCoreBridge removeHandle:]): Added.
	(-[IFWebCoreBridge didStartLoadingWithHandle:]): Added.
	(-[IFWebCoreBridge receivedProgressWithHandle:]): Added.
	(-[IFWebCoreBridge didFinishLoadingWithHandle:]): Added.
	(-[IFWebCoreBridge didCancelLoadingWithHandle:]): Added.
	(-[IFWebCoreBridge didFailBeforeLoadingWithError:]): Added.
	(-[IFWebCoreBridge didFailToLoadWithHandle:error:]): Added.
	(-[IFWebCoreBridge didRedirectWithHandle:fromURL:]): Added.

	* WebView.subproj/IFHTMLRepresentation.h: Remove unneeded declarations.
	* WebView.subproj/IFHTMLRepresentation.mm: Remove [IFHTMLRepresentation part].
	* WebView.subproj/IFHTMLRepresentationPrivate.h: Remove [IFHTMLRepresentation part].

	* WebView.subproj/IFHTMLView.mm: (-[IFHTMLView provisionalDataSourceChanged:]): Use the bridge.

	* WebView.subproj/IFHTMLViewPrivate.mm: Remove a bunch of unused stuff that was
	there for the render and document tree viewers. I had removed it once before but
	it got re-added as a side effect of the reorganization process.

	* WebView.subproj/IFLoadProgress.h: Remove the unused IFLoadType -- we can add
	it back if we find that it\'s needed. It didn\'t do much good to have it here
	and only partly implemented, and I don\'t think it\'s needed. Added some convenient
	interfaces for creating IFLoadProgress objects.

	* WebView.subproj/IFLoadProgress.mm: Get rid of WCSetIFLoadProgressMakeFunc stuff.
	(-[IFLoadProgress init]): Added.
	(-[IFLoadProgress initWithBytesSoFar:totalToLoad:]): Remove type part.
	(-[IFLoadProgress initWithURLHandle:]): Added.
	(+[IFLoadProgress progress]): Added.
	(+[IFLoadProgress progressWithBytesSoFar:totalToLoad:]): Added.
	(+[IFLoadProgress progressWithURLHandle:]): Added.

	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient dealloc]): Add more workaround for 2954901.
	(-[IFMainURLHandleClient IFURLHandleResourceDidBeginLoading:]):
	(-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]):
	(-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
	(-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
	(-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	(-[IFMainURLHandleClient IFURLHandle:didRedirectToURL:]):
	Remove unneeded type casts and simplify by using new IFLoadProgress methods.
	Also simplify access to _bridge by using [IFWebDataSource _bridge].

	* WebView.subproj/IFWebControllerPrivate.mm:
	* WebView.subproj/IFWebFrame.mm:
	Remove unneeded include of KHTMLPart header.

	* WebView.subproj/IFWebDataSource.mm: (-[IFWebDataSource documentTextFromDOM]):
	* WebView.subproj/IFWebDataSourcePrivate.mm: (-[IFWebDataSource _stopLoading]):
	* WebView.subproj/IFWebFramePrivate.mm: (-[IFWebFrame _isLoadComplete]):
	Use bridge.


git-svn-id: svn://svn.chromium.org/blink/trunk@1373 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-15 21:02:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f2b594ea88e19b2884aaf6567bbc95d7b5c39d1b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600xc01l53g65rbm4', 2, e'	* WebFoundation.pbproj/project.pbxproj: Removed explicit PFE_FILE_C_DIALECTS now that
	Project Builder handles this automatically. Removed explicit USE_GCC3 since that\'s
	implicit now.

	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
	* CacheLoader.subproj/IFNetworkSettings.m:
	* CacheLoader.subproj/IFURLLoad.m:
	* CacheLoader.subproj/IFURLLoadManager.m:
	* CookieManager.subproj/IFCookieManager.m:
	* Database.subproj/IFURLFileDatabase.m:
	* Misc.subproj/IFError.m:
	* Misc.subproj/IFFileTypeMappings.m:
	* Misc.subproj/IFNSThreadExtensions.m:
	Use PTHREAD_ONCE_INIT now that the warning is fixed; also make some minor improvements to how
	it\'s used, making some globals static rather than extern.


git-svn-id: svn://svn.chromium.org/blink/trunk@1372 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-15 20:04:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e6b3e332c2c75605e39463afe08cb18c1677d35f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600xd01l52a3u5t3l', 2, e'	* JavaScriptCore.pbproj/project.pbxproj: Removed explicit PFE_FILE_C_DIALECTS now that
	Project Builder handles this automatically. Removed explicit USE_GCC3 since that\'s implicit
	now. Also, since this project is all C++, only use WARNING_CFLAGS with flags that are appropriate
	for C++; don\'t bother breaking out C vs. C++.

	* kjs/collector.cpp: Now that the system warning is fixed, use PTHREAD_MUTEX_INITIALIZER and
	PTHREAD_COND_INITIALIZER.
	* kjs/internal.cpp: Use PTHREAD_MUTEX_INITIALIZER.
	* kjs/ustring.cpp: Use PTHREAD_ONCE_INIT.


git-svn-id: svn://svn.chromium.org/blink/trunk@1371 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-15 19:59:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0d705c138db5669736a86b0606911d713945e356');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmre600xe01l5nyk41n4z', 2, e'	Get current bits per pixel from CoreGraphics, thereby fixing

        Radar 2943736 - JavaScript screen.colorDepth and
screen.pixelDepth properties always returns 32,
        regardless of real depth

        * kwq/KWQPaintDeviceMetrics.mm:
	(QPaintDeviceMetrics::depth):


git-svn-id: svn://svn.chromium.org/blink/trunk@1370 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-06-15 11:55:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2a2213ac1a9346f3465b7b9537cc1e9c623d1172');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00vr01l5sske0nda', 2, e'        Made Development build mode mean what Unoptimized used to mean.
Removed Unoptimized build mode.
        Added a Mixed build mode which does what Deployment used to. All
this to fix:

        Radar 2955367 - Change default build style to "Unoptimized"


git-svn-id: svn://svn.chromium.org/blink/trunk@1369 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-06-15 11:39:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8739fbdb96f33325c301dd8c57b97ce561280fcf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00vs01l50atfbvhq', 2, e'	Removed product and vendor properties, thereby fixing:

        Radar 2943751 - JavaScript navigator.product property is
"Konqueror/khtml"
        Radar 2943753 - JavaScript navigator.vendor property is "KDE"

        * khtml/ecma/kjs_navigator.cpp:
	(Navigator::getValueProperty): Return undefined for the above
mentioned properties.

        Implemented functionality needed for missing Screen properties,
thereby fixing the following
        bugs:

        Radar 2943730 - JavaScript screen.availHeight property is not
implemented
        Radar 2943732 - JavaScript screen.availLeft property is not
implemented
        Radar 2943734 - JavaScript screen.availTop property not implemented
        Radar 2943735 - JavaScript screen.availWidth property is not
implemented

	* kwq/KWQKWinModule.mm:
	(KWinModule::workArea): Return the correct screen size to fix the
above bugs.


git-svn-id: svn://svn.chromium.org/blink/trunk@1368 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-06-15 09:55:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ce889791ede3f27cf7bc7725e2dca430ce6a6210');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00vt01l5ywe4ueei', 2, e'        Added temporary workardound for Radar 2954901 by making the
assertion more lenient.

	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1367 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-06-15 09:42:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/abf465ea626d46931e32b436e2b1408f043b7aba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00vu01l59ebant3k', 2, e'i    Removed redundant private _isDocumentHTML method.

	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandle:didRedirectToURL:]):
	* WebView.subproj/IFWebDataSourcePrivate.h:
	* WebView.subproj/IFWebDataSourcePrivate.mm:
	(-[IFWebDataSource _stopLoading]):
	(-[IFWebDataSource _addError:forResource:]):
	* WebView.subproj/IFWebFramePrivate.mm:
	(-[IFWebFrame _isLoadComplete]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1366 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-15 02:28:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/426e5c2c5fecfd4fec0444b59a172bc3938d7443');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00vv01l53o2rj8es', 2, e'    Changed IFResourceProgressHandler to pass back resource handle instead of
    string description.  This will address the needs descibed in 2954160.

	* kwq/KWQKloader.mm:
	(-[KWQURLLoadClient IFURLHandleResourceDidBeginLoading:]):
	(-[KWQURLLoadClient IFURLHandleResourceDidCancelLoading:]):
	(-[KWQURLLoadClient IFURLHandleResourceDidFinishLoading:data:]):
	(-[KWQURLLoadClient IFURLHandle:resourceDataDidBecomeAvailable:]):
	(-[KWQURLLoadClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	(-[KWQURLLoadClient IFURLHandle:didRedirectToURL:]):
	(KWQLoaderImpl::serveRequest):
	* kwq/external.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1365 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-15 02:12:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ed8d211b3b1212d15b62c9e34ab1aa9ae0b6f5c3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00vw01l5u59sj0po', 2, e'    Added handlers to IFWebController.  Should eventually be possible to use
    IFWebController w/o subclassing.

    Changed IFResourceProgressHandler to pass back resource handle instead of
    string description.  This will address the needs descibed in 2954160.

    Fixed many incorrect references to datasource reps.

	* Plugins.subproj/IFNullPluginView.mm:
	(-[IFNullPluginView drawRect:]):
	* Plugins.subproj/IFPluginStream.mm:
	(-[IFPluginStream IFURLHandle:resourceDataDidBecomeAvailable:]):
	(-[IFPluginStream IFURLHandleResourceDidFinishLoading:data:]):
	(-[IFPluginStream IFURLHandleResourceDidCancelLoading:]):
	(-[IFPluginStream IFURLHandle:resourceDidFailLoadingWithResult:]):
	* WebCoreSupport.subproj/IFWebCoreBridge.mm:
	(-[IFWebDataSource _bridge]):
	(-[IFWebCoreBridge createNewFrameNamed:withURL:renderPart:khtml::allowsScrolling:marginWidth:marginHeight:]):
	* WebView.subproj/IFDocument.h:
	* WebView.subproj/IFHTMLRepresentation.h:
	* WebView.subproj/IFHTMLRepresentationPrivate.h:
	* WebView.subproj/IFHTMLView.mm:
	(-[IFHTMLView provisionalDataSourceChanged:]):
	(-[IFHTMLView viewWillStartLiveResize]):
	(-[IFHTMLView viewDidEndLiveResize]):
	* WebView.subproj/IFImageView.m:
	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]):
	(-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
	(-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
	(-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	(-[IFMainURLHandleClient IFURLHandle:didRedirectToURL:]):
	* WebView.subproj/IFWebController.h:
	* WebView.subproj/IFWebController.mm:
	(-[IFWebController createFrameNamed:for:inParent:allowsScrolling:]):
	(-[IFWebController setResourceProgressHandler:]):
	(-[IFWebController resourceProgressHandler]):
	(-[IFWebController setPolicyHandler:]):
	(-[IFWebController policyHandler]):
	(+[IFWebController defaultURLPolicyForURL:]):
	* WebView.subproj/IFWebControllerPrivate.h:
	* WebView.subproj/IFWebControllerPrivate.mm:
	(-[IFWebControllerPrivate dealloc]):
	(-[IFWebController _receivedProgress:forResourceHandle:fromDataSource:]):
	(-[IFWebController _mainReceivedProgress:forResourceHandle:fromDataSource:]):
	(-[IFWebController _receivedError:forResourceHandle:partialProgress:fromDataSource:]):
	(-[IFWebController _mainReceivedError:forResourceHandle:partialProgress:fromDataSource:]):
	* WebView.subproj/IFWebDataSource.h:
	* WebView.subproj/IFWebDataSource.mm:
	(-[IFWebDataSource representation]):
	(-[IFWebDataSource isDocumentHTML]):
	(-[IFWebDataSource documentTextFromDOM]):
	* WebView.subproj/IFWebDataSourcePrivate.h:
	* WebView.subproj/IFWebDataSourcePrivate.mm:
	(-[IFWebDataSourcePrivate dealloc]):
	(-[IFWebDataSource _setRepresentation:]):
	(-[IFWebDataSource _stopLoading]):
	(-[IFWebDataSource _isDocumentHTML]):
	* WebView.subproj/IFWebFrame.mm:
	(-[IFWebFrame setProvisionalDataSource:]):
	* WebView.subproj/IFWebFramePrivate.mm:
	(-[IFWebFrame _isLoadComplete]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1364 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-15 02:12:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b014722770a0263a1d565ad854e6ed7732df2c7a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00vx01l5d2nd7ujr', 2, e'real, not read


git-svn-id: svn://svn.chromium.org/blink/trunk@1363 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-15 00:14:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/510e8a3721d987a6f0dce8cd8745706aaff4d76e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00vy01l5y28iecwl', 2, e'	* Panels.subproj/IFStandardPanels.m: Use the read PTHREAD_ONCE_INIT,
	remove the workaround for 2905545.

	* IFWebCoreBridge.h: Moved into WebCoreSupport.subproj.
	* IFWebCoreBridge.mm: Moved into WebCoreSupport.subproj.
	* WebCoreSupport.subproj/IFWebCoreBridge.h: Moved from top level.
	* WebCoreSupport.subproj/IFWebCoreBridge.mm: Moved from top level.

	* WebKit.pbproj/project.pbxproj: Update for new file locations.
	Also pass -no-c++filt so we get mangled names (more useful for .exp files),
	and remove PFE_FILE_C_DIALECTS.


git-svn-id: svn://svn.chromium.org/blink/trunk@1362 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-15 00:13:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9e4a6f0f22fbbbf26608ef357ce142c1b10dc36e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00vz01l5xoupu706', 2, e'WebBrowser:

        Only allow source to be shown if HTML

        * BrowserDocument.m:
        (-[BrowserDocument _isDocumentHTML]): added
        (-[BrowserDocument validateUserInterfaceItem:]):
        (-[BrowserDocument viewSource:]):

WebKit:
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
        If content type is the default type and there is no extension, assume HTML.

        (-[IFMainURLHandleClient IFURLHandle:didRedirectToURL:]):
        * WebView.subproj/IFWebDataSource.h:
        * WebView.subproj/IFWebDataSource.mm:

        Made isDocumentHTML public. Changed where needed.

        (-[IFWebDataSource isDocumentHTML]):
        (-[IFWebDataSource documentSource]):
        (-[IFWebDataSource documentTextFromDOM]):
        * WebView.subproj/IFWebDataSourcePrivate.h:
        * WebView.subproj/IFWebDataSourcePrivate.mm:
        (-[IFWebDataSource _stopLoading]):
        (-[IFWebDataSource _addError:forResource:]):
        * WebView.subproj/IFWebFramePrivate.mm:
        (-[IFWebFrame _isLoadComplete]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1361 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-15 00:12:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0177bd6a8b7c5d94a3a646d5f194e95ad0c7bd9f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00w001l5b5i3lks0', 2, e'	* Panels.subproj/IFStandardPanels.m: Fix what I broke last time.


git-svn-id: svn://svn.chromium.org/blink/trunk@1360 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-14 23:45:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7467e00c2a799f36efa5cfad6a123a0224d5636d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00w101l5k38fqdq9', 2, e'	* Panels.subproj/IFStandardPanels.m:
	(-[IFStandardPanelsPrivate frontmostWindowLoadingURL:]): Change to call webView
	instead of view. Not sure why anyone was able to compile this.

	* Plugins.subproj/IFNullPluginView.mm: Remove include of obsolete WCPluginWidget.h.

	* WebView.subproj/IFHTMLRepresentation.mm: (-[IFHTMLRepresentation part]):
	Call part instead of KHTMLPart. Not sure why anyone was able to compile this.


git-svn-id: svn://svn.chromium.org/blink/trunk@1359 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-14 23:32:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cdd505face1acbe6b999458803b6f105739ddd96');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00w201l56jwehrsy', 2, e'	* kwq/KWQDateTime.mm: Add ifdefs needed to make Deployment build compile.


git-svn-id: svn://svn.chromium.org/blink/trunk@1358 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-14 23:31:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/28e6aecf933924535b4ed1ce974d38f04c07a4bf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00w301l5hjhjpio4', 2, e'WebCore:

	Add the new bridge class that connects us to WebCore in a nicer way.
	Started to use it for some things. More to come.

	* WebKit.pbproj/project.pbxproj:
	* IFWebCoreBridge.h: Added.
	* IFWebCoreBridge.mm: Added.

	* Misc.subproj/IFDownloadHandler.mm:
	(-[IFDownloadHandler initWithDataSource:]): Call [super init].
	(-[IFDownloadHandler dealloc]): Call [super dealloc].
	* Plugins.subproj/IFPluginNullEventSender.m:
	(-[IFPluginNullEventSender initializeWithNPP:functionPointer:window:]): Call [super init].
	(-[IFPluginNullEventSender dealloc]): Call [super dealloc].
	* WebView.subproj/IFDOMNode.mm: (-[IFDOMNode dealloc]): Call [super dealloc].
	* WebView.subproj/IFImageView.m: (-[IFImageView dealloc]): Call [super dealloc].
	* WebView.subproj/IFRenderNode.mm: (-[IFRenderNode dealloc]): Call [super dealloc].

	* WebView.subproj/IFHTMLRepresentation.h: Moved variables into a private structure so
	this class can be made public.
	* WebView.subproj/IFHTMLRepresentationPrivate.h: Added. Has _bridge method.
	* WebView.subproj/IFHTMLRepresentation.mm:
	(-[IFHTMLRepresentation init]): Call [super init]. Also use the new private structure,
	and allocate the IFWebCoreBridge.
	(-[IFHTMLRepresentation dealloc]): Release the private structure and the IFWebCoreBridge.
	Also, call [super dealloc].
	(-[IFHTMLRepresentation _bridge]): Private method to get to the bridge.
	(-[IFHTMLRepresentation receivedData:withDataSource:]): Use IFWebCoreBridge.

	* WebView.subproj/IFWebViewPrivate.h: Add _setMarginWidth and _setMarginHeight.

	* WebView.subproj/IFWebDataSourcePrivate.h: Tweak.
	* WebView.subproj/IFWebDataSource.mm: Tweak.
	* History.subproj/IFWebHistoryPrivate.m: Tweak.

WebKit:

	Worked on eliminating calls to WebKit. About 3/4 done.

	* WebCore.exp: Export new WebCoreBridge class, fewer other things.

	* WebCorePrefix.h: #include <ostream> in debug builds; we couldn\'t
	before because of a PFE bug that has since been fixed (2920556).

	* khtml/html/html_objectimpl.cpp: (HTMLObjectElementImpl::attach):
	Add a comment explaining our latest change here.

	* khtml/khtml_part.cpp: (KHTMLPart::~KHTMLPart): Fix storage leak
	by deleting m_hostExtension.

	* khtml/misc/loader.h: Set type properly on client member so we
	don\'t have to do so much casting.

	* kwq/KWQKHTMLPartImpl.h: Add getBridge and setBridge, remove setDataSource.
	* kwq/KWQKHTMLPart.mm:
	(KWQKHTMLPartImpl::KWQKHTMLPartImpl): Eliminate m_dataSource.
	(KWQKHTMLPartImpl::openURLInFrame): Use WebCoreBridge.
	(KWQKHTMLPartImpl::urlSelected): Use WebCoreBridge.
	(KWQKHTMLPartImpl::requestFrame): Use WebCoreBridge.
	(KWQKHTMLPartImpl::requestObject): Move WebCoreViewFactory code
	here; we don\'t need an entire WCPluginWidget file just for this
	function.
	(KWQKHTMLPartImpl::submitForm): Use WebCoreBridge.
	(KWQKHTMLPartImpl::frameExists): Use WebCoreBridge.
	(KWQKHTMLPartImpl::frames): Use WebCoreBridge.
	(KWQKHTMLPartImpl::setTitle): Use WebCoreBridge.
	(KWQKHTMLPartImpl::getDataSource): Use WebCoreBridge.
	(KWQKHTMLPartImpl::parentPart): Use WebCoreBridge.

	* kwq/KWQKHTMLPartBrowserExtension.mm:
	(KHTMLPartBrowserExtension::createNewWindow): Use WebCoreBridge.

	* kwq/KWQKloader.mm: Move the part of external.h that we still use in
	here, with the expectation of eliminating it soon. Also renamed
	URLLoadClient to KWQURLLoadClient so we don\'t hog namespace.

	* kwq/qt/qscrollview.h:
	* kwq/KWQScrollView.mm: Used helper functions to do the "documentView"
	selector thing more consistently.

	* kwq/KWQWidget.mm: Get interface for changing the cursor from
	WebCoreViewFactory.h instead of from external.h.

	* kwq/WebCoreViewFactory.h:
	* kwq/Makefile.am: Remove WCPluginWidget.mm, add WebCoreBridge.mm.
	* kwq/WCPluginWidget.h: Removed.
	* kwq/WCPluginWidget.mm: Removed.
	* kwq/WebCoreBridge.h: Added.
	* kwq/WebCoreBridge.mm: Added.

	* kwq/qt/qarray.h: Use <ostream> instead of <iostream>.
	* kwq/qt/qcstring.h: Remove <iostream> include since we include <qarray.h>.
	* kwq/qt/qdatetime.h: Replace unconditional <iostream> include with a
	conditional <ostream> include. Also made streaming operators conditional.
	* kwq/qt/qlist.h: Use <ostream> instead of <iostream>.
	* kwq/qt/qmap.h: Use <ostream> instead of <iostream>.
	* kwq/qt/qpoint.h: Use <iosfwd> instead of <iostream>.
	* kwq/qt/qsize.h: Use <iosfwd> instead of <iostream>.
	* kwq/qt/qvaluelist.h: Use <ostream> instead of <iostream>.
	* kwq/qt/qvector.h: Replace unconditional <iostream> include with a
	conditional <ostream> include. Also made streaming operators conditional.


git-svn-id: svn://svn.chromium.org/blink/trunk@1357 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-14 23:15:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5758750f5a77d109c91a1c23bc14f2a7d2b7990c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00w401l511tujgz1', 2, e'    Lots of frame related cleanup.  Added attempt to get
    nested scrollbars to work correctly with window\'s resize
    corner.  Still not quite right.

    Name change [IFWebFrame view] -> [IFWebFrame webView].

	* WebView.subproj/IFDynamicScrollBarsView.m:
	(-[IFDynamicScrollBarsView updateScrollers]):
	* WebView.subproj/IFHTMLView.mm:
	(-[IFHTMLView provisionalDataSourceChanged:]):
	(-[IFHTMLView viewDidEndLiveResize]):
	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
	* WebView.subproj/IFWebController.h:
	* WebView.subproj/IFWebController.mm:
	(-[IFWebController initWithView:provisionalDataSource:]):
	(-[IFWebController createFrameNamed:for:inParent:inScrollView:]):
	(-[IFWebController _frameForView:fromFrame:]):
	(-[IFWebController frameForView:]):
	(-[IFWebController haveContentPolicy:andPath:forLocationChangeHandler:]):
	* WebView.subproj/IFWebControllerPrivate.mm:
	(-[IFWebControllerPrivate _clearControllerReferences:]):
	* WebView.subproj/IFWebFrame.h:
	* WebView.subproj/IFWebFrame.mm:
	(-[IFWebFrame init]):
	(-[IFWebFrame initWithName:webView:provisionalDataSource:controller:]):
	(-[IFWebFrame setWebView:]):
	(-[IFWebFrame webView]):
	(-[IFWebFrame setProvisionalDataSource:]):
	(-[IFWebFrame reset]):
	* WebView.subproj/IFWebFramePrivate.h:
	* WebView.subproj/IFWebFramePrivate.mm:
	(-[IFWebFramePrivate dealloc]):
	(-[IFWebFramePrivate setWebView:]):
	(-[IFWebFrame _timedLayout:]):
	(-[IFWebFrame _transitionProvisionalToCommitted]):
	(-[IFWebFrame _setState:]):
	(-[IFWebFrame _isLoadComplete]):

    Name change [IFWebFrame view] -> [IFWebFrame webView].

	* BrowserDocument.m:
	(-[BrowserDocument mainWebView]):
	(-[BrowserDocument setMainWebView:]):
	* BrowserWindow.m:
	(-[BrowserWindow frameLoadStarted:]):
	(-[BrowserWindow frameLoadCommitted:]):
	(-[BrowserWindow frameLoadRedirected:]):
	* LocationChangeHandler.m:
	(-[LocationChangeHandler _saveScrollPosition]):
	(-[LocationChangeHandler _scrollToTop]):
	(-[LocationChangeHandler _restoreScrollPosition]):

    Name change view -> webView.

	* kwq/KWQKHTMLPart.mm:
	(KWQKHTMLPartImpl::requestFrame):
	* kwq/external.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1356 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-14 22:26:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/97274b2c80cf03168c99bf320c42ba6e3af4b554');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00w501l51ko5xqha', 2, e'        Put #ifndef APPLE_CHANGES around one line that
        was causing EMBED and OBJECT tags to not have render objects.

        * khtml/html/html_objectimpl.cpp:
        (HTMLObjectElementImpl::attach):


git-svn-id: svn://svn.chromium.org/blink/trunk@1355 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-14 20:54:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3739c6f8374208106466d58e6550cc96095ccd13');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00w601l54xesbcvr', 2, e'	* WebView.subproj/IFHTMLView.mm:
	(-[IFHTMLView initWithFrame:]):
	    Added notification so we can intelligently add/remove
	    mouse move observation when the window becomes/resigns
	    main.  Also added window close observation so we can
	    clean up other observers.
	(-[IFHTMLView viewWillStartLiveResize]):\\
	    Backed out removal of scroll bars during resize.
	(-[IFHTMLView viewDidEndLiveResize]):
	    Backed out removal of scroll bars during resize.
	(-[IFHTMLView windowWillClose:]):
        Clean up observers.
	(-[IFHTMLView windowDidBecomeMain:]):
        Add mouse move observer.
	(-[IFHTMLView windowDidResignMain:]):
        Remove mouse move observer.
	(-[IFHTMLView mouseMovedNotification:]):
	    Only pay attention to mouse moves for this window.
	* WebView.subproj/IFImageView.m:
	(-[IFImageView layout]):
	    Removed unnecessary scroll view setDrawBackground calls.
	* WebView.subproj/IFWebFramePrivate.mm:
	(-[IFWebFrame _setState:]):
	    Added calls to scroll view setDrawBackground when the view
	    rect is valid.


git-svn-id: svn://svn.chromium.org/blink/trunk@1354 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-14 19:58:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/496b6842dfb11833231864cb08cddb2b408a35f1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00w701l58dzq25o0', 2, e'        Enabled displaying of text, images and RTF
        Fixed drag & drop
        Committing Richard\'s changes to KWQPainter
        Upated types that Alex can open.
        Uncommented textFromDOM call.


git-svn-id: svn://svn.chromium.org/blink/trunk@1353 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-14 18:22:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3f706f708543a760837f90c02a24a100c7995136');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00w801l5x1g23hsw', 2, e'
	Various changes to better support the pasteboard.

	* Bookmarks.subproj/IFBookmark.h,
	* Bookmarks.subproj/IFBookmark.m:
	(+[IFBookmark bookmarkOfType:]): New method.

	* Bookmarks.subproj/IFBookmarkLeaf.m:
	(-[IFBookmarkLeaf init]): start out with a non-nil _entry
	(-[IFBookmarkLeaf setTitle:]): added assert
	(-[IFBookmarkLeaf setURLString:]): added assert

	* History.subproj/IFURLsWithTitles.h,
	* History.subproj/IFURLsWithTitles.m:
	(+[IFURLsWithTitles arrayWithIFURLsWithTitlesPboardType]),
	(+[IFURLsWithTitles writeURLs:andTitles:toPasteboard:]),
	(+[IFURLsWithTitles titlesFromPasteboard:]),
	(+[IFURLsWithTitles URLsFromPasteboard:]):
	New file with methods for reading/writing pasteboard entry representing
	a list of URLs with associated titles. Used by Bookmarks window and
	History window in Alexander.

	* History.subproj/IFWebHistoryPrivate.m:
	(-[IFWebHistoryPrivate removeEntryForURLString:]): refactored to turn a
	WEBKITDEBUG into a more-appropriate WEBKIT_ASSERT.

	* WebKit.pbproj/project.pbxproj: Updated for new files.

	Many changes for copy/paste & dragging support, and random little tweaks.
	- fixed 2927606 -- Should be able to drag items from History window to Bookmarks

	* BookmarksController.m:
	(-[BookmarksController _droppablePasteboardTypes]),
	(-[BookmarksController _pasteablePasteboardTypes]):
	Added IFURLsWithTitlesPboardType and NSURLPboardType.

	(-[BookmarksController _selectedBookmarks]): Renamed from
	_selectedBookmarksWithoutRedundantDescendants, and removed the descendant-filtering
	code from here (used by some callers instead).
	(-[BookmarksController removeSelectedBookmarks:]): Filter results of _selectedBookmarks.
	(-[BookmarksController outlineView:writeItems:toPasteboard:]): Added support for writing
	BookmarkDictionaryListPboardType, IFURLsWithTitlesPboardType, NSURLPboardType, and
	NSStringPboardType.
	(-[BookmarksController outlineView:validateDrop:proposedItem:proposedChildIndex:]):
	Split code that sets the drag operation from code that retargets the drop; added support
	for NSURLPboardType and IFURLsWithTitlesPboardType.
	(+[BookmarksController _addBookmarksFromURLsWithTitlesOnPasteboard:to:]):
	New convenience routine.
	(-[BookmarksController paste:]),
	(-[BookmarksController outlineView:acceptDrop:item:childIndex:]): Add support for
	NSURLPboardType and IFURLsWithTitlesPboardType.
	(-[BookmarksController copy:]): Just calls outlineView:writeItems:toPasteboard: now
	instead of duplicating code.
	(-[BookmarksController validateMenuItem:]),
	(-[BookmarksController validateUserInterfaceItem:]): Removed all code that modified titles
	of Cut/Copy/Paste/Clear items after realizing that this can\'t work with the Cocoa
	responder chain model (no guarantee that the modified titles will be unmodified in other
	contexts).

	* BrowserWindow.m:
	(-[BrowserWindow windowWillHandleKeyEvent:]): Returns NO always now; this means that
	BrowserWindow will no longer try to handle Page Up/Down, arrow keys, etc. We can remove
	this method entirely (and some other stuff) when 2955757 is addressed.

	* GlobalHistory.m:
	(-[GlobalHistory _entriesFromMixedItems:collapseDates:]): New convenience method that
	returns an array of history entries from an array containing a potential mix of history
	entries and calendar dates.
	(-[GlobalHistory outlineView:writeItems:toPasteboard:]): New method, writes these types
	to pasteboard: IFURLsWithTitlesPboardType, NSURLPboardType, NSStringPboardType
	(-[GlobalHistory _selectedItems]),
	(-[GlobalHistory removeSelectedItems:]): Broke _selectedItems out of removeSelectedItems.
	(-[GlobalHistory copy:]): New method, calls outlineView:writeItems:toPasteboard: with
	the selected items.
	(-[GlobalHistory validateUserInterfaceItem:]): Enable "Copy" if at least one item is
	selected.

	* LocationFieldEditor.m:
	(-[LocationFieldEditor acceptableDragTypes]): Swapped NSURLPboardType and
	NSStringPboardType so that NSURLPboardType is preferred.
	(-[LocationFieldEditor concludeDragOperation:]): Use #defines for pasteboard types
	instead of strings; fix broken use of NSURLPboardType.

	* ResourceProgressEntry.m:
	(-[ResourceProgressEntry setProgress:]): Improved an error message.


git-svn-id: svn://svn.chromium.org/blink/trunk@1348 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-06-13 19:31:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d8f7fb26befb96a5fa4543367e484a7cf85302b8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00w901l5yfm185g7', 2, e'2002-06-13  Kenneth Kocienda  <kocienda@apple.com>

        Fixed typo in ChangeLog comment.


git-svn-id: svn://svn.chromium.org/blink/trunk@1347 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-06-13 16:12:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5342c035494c365bea8033baeff580fb6f2c9e7d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00wa01l5fy6cbe6i', 2, e'2002-06-13  Kenneth Kocienda  <kocienda@apple.com>

        Fixed uninitialized varible that broke the build.

        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1346 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-06-13 16:00:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/351c68a6bcd5d3733c35a767ac5671c72fe23443');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00wb01l5rzm3e1sf', 2, e'    More cleanup to deal with special case of provisional view
    not being in a scrollview.


git-svn-id: svn://svn.chromium.org/blink/trunk@1345 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-13 10:53:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/29060b83ad4a7b4bc93c4eceb7b51e9363177fb7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00wc01l57bxuawia', 2, e'	* kwq/KWQWidget.mm: (QWidget::setCursor):  restored code
	* kwq/external.h:   removed definitions no longer needed
	* khtml/rendering/render_form.cpp: (RenderLineEdit::calcMinMaxWidth): tweaked size


git-svn-id: svn://svn.chromium.org/blink/trunk@1344 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-13 10:32:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/be76a4947f2d81b3f546c9d5ac690637f842eef4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00wd01l54q4oe6e7', 2, e'    Lots of cleanup.  Fixed most regressions.
    Added removal of scrollbars during resizing,
    not sure if it\'s the correct behavior, but it makes resizing
    much smoother.  Let\'s see what people think.


git-svn-id: svn://svn.chromium.org/blink/trunk@1343 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-13 10:31:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f71dfbcf211be04f756259a3f7f7e6c64c4b1a88');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00we01l5wihyplbh', 2, e'        Removed MIME.subproj. Moved IFDownloadHandler to Misc.

        * MIME.subproj/IFDownloadHandler.h: Removed.
        * MIME.subproj/IFDownloadHandler.mm: Removed.
        * Misc.subproj/IFDownloadHandler.h: Added.
        * Misc.subproj/IFDownloadHandler.mm: Added.
        (-[IFDownloadHandler initWithDataSource:]):
        (-[IFDownloadHandler dealloc]):
        (-[IFDownloadHandler receivedData:isComplete:]):
        (-[IFDownloadHandler cancel]):
        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1342 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-13 08:22:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7c49c8ed6bbd665bb5763eaf113812b6f88eb40e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00wf01l53f1vu54d', 2, e'        Fixed downloads.
        Now write out download files as data comes in.
        Removed useless lproj\'s.

        * Dutch.lproj/InfoPlist.strings: Removed.
        * Dutch.lproj/Localizable.strings: Removed.
        * French.lproj/InfoPlist.strings: Removed.
        * French.lproj/Localizable.strings: Removed.
        * German.lproj/InfoPlist.strings: Removed.
        * German.lproj/Localizable.strings: Removed.
        * Italian.lproj/InfoPlist.strings: Removed.
        * Italian.lproj/Localizable.strings: Removed.
        * Japanese.lproj/InfoPlist.strings: Removed.
        * Japanese.lproj/Localizable.strings: Removed.
        * MIME.subproj/IFDownloadHandler.h:
        * MIME.subproj/IFDownloadHandler.mm:
        (-[IFDownloadHandler dealloc]):
        (-[IFDownloadHandler receivedData:isComplete:]): added
        (-[IFDownloadHandler cancel]): added
        * Spanish.lproj/InfoPlist.strings: Removed.
        * Spanish.lproj/Localizable.strings: Removed.
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/IFMainURLHandleClient.h:
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient initWithDataSource:]): removed unused BOOL
        (-[IFMainURLHandleClient dealloc]):
        (-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]):
        (-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
        (-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1341 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-13 08:13:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4bd1aad515a048ade3625565a3bebd4d766bcf61');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00wg01l5i0qt52q7', 2, e'
	Couldn\'t run ChangeLog because it hung with the massize diffs, so here\'s
	a hand-made one.

	Changes to support inline views.

Modified Files:
 	WebBrowser/BrowserDocument.m
 	WebBrowser/LocationChangeHandler.m
 	WebBrowser/Debug/DebugUtilities.m WebCore/WebCore.exp
 	WebCore/kwq/KWQKHTMLPart.mm
 	WebCore/kwq/KWQKHTMLPartBrowserExtension.mm
 	WebCore/kwq/KWQKloader.mm WebCore/kwq/KWQScrollView.mm
 	WebCore/kwq/KWQView.h WebCore/kwq/KWQView.mm
 	WebCore/kwq/KWQWidget.mm WebCore/kwq/external.h
 	WebKit/ChangeLog WebKit/Plugins.subproj/IFNullPluginView.mm
 	WebKit/Plugins.subproj/IFPluginDatabase.h
 	WebKit/Plugins.subproj/IFPluginDatabase.m
 	WebKit/Plugins.subproj/IFPluginView.mm
 	WebKit/WebCoreSupport.subproj/IFImageRenderer.h
	WebKit/WebCoreSupport.subproj/IFWebCoreViewFactory.m
 	WebKit/WebKit.pbproj/project.pbxproj
 	WebKit/WebView.subproj/IFDOMNode.mm
 	WebKit/WebView.subproj/IFDynamicScrollBarsView.m
 	WebKit/WebView.subproj/IFMainURLHandleClient.h
 	WebKit/WebView.subproj/IFMainURLHandleClient.mm
 	WebKit/WebView.subproj/IFRenderNode.mm
 	WebKit/WebView.subproj/IFWebController.h
 	WebKit/WebView.subproj/IFWebController.mm
 	WebKit/WebView.subproj/IFWebControllerPrivate.h
 	WebKit/WebView.subproj/IFWebControllerPrivate.mm
 	WebKit/WebView.subproj/IFWebDataSource.h
 	WebKit/WebView.subproj/IFWebDataSource.mm
 	WebKit/WebView.subproj/IFWebDataSourcePrivate.h
 	WebKit/WebView.subproj/IFWebDataSourcePrivate.mm
 	WebKit/WebView.subproj/IFWebFrame.mm
 	WebKit/WebView.subproj/IFWebFramePrivate.h
 	WebKit/WebView.subproj/IFWebFramePrivate.mm
 	WebKit/WebView.subproj/IFWebView.h
 	WebKit/WebView.subproj/IFWebView.mm
 	WebKit/WebView.subproj/IFWebViewPrivate.h
 	WebKit/WebView.subproj/IFWebViewPrivate.mm
 Added Files:
 	WebKit/Misc.subproj/IFNSViewExtras.h
 	WebKit/Misc.subproj/IFNSViewExtras.m
 	WebKit/WebView.subproj/IFDocument.h
 	WebKit/WebView.subproj/IFHTMLRepresentation.h
 	WebKit/WebView.subproj/IFHTMLRepresentation.mm
 	WebKit/WebView.subproj/IFHTMLView.h
 	WebKit/WebView.subproj/IFHTMLView.mm
 	WebKit/WebView.subproj/IFHTMLViewPrivate.h
 	WebKit/WebView.subproj/IFHTMLViewPrivate.mm
 	WebKit/WebView.subproj/IFImageRepresentation.h
 	WebKit/WebView.subproj/IFImageRepresentation.m
 	WebKit/WebView.subproj/IFImageView.h
 	WebKit/WebView.subproj/IFImageView.m
 	WebKit/WebView.subproj/IFTextRepresentation.h
 	WebKit/WebView.subproj/IFTextRepresentation.m
 	WebKit/WebView.subproj/IFTextView.h
 	WebKit/WebView.subproj/IFTextView.m
Removed Files:
 	WebKit/MIME.subproj/IFContentHandler.h
 	WebKit/MIME.subproj/IFContentHandler.m
	WebKit/MIME.subproj/IFMIMEHandler.h
 	WebKit/MIME.subproj/IFMIMEHandler.m


git-svn-id: svn://svn.chromium.org/blink/trunk@1340 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-13 03:33:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dac314a92cc936362a3eca72cda29087ce54a7c8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00wh01l5z3f9a7tm', 2, e'2002-06-12  Kenneth Kocienda  <kocienda@apple.com>

	Made assertion failure console message bolder and easier to see.

        * WebFoundation/Misc.subproj/WebFoundationDebug.h
	* WebKit/Misc.subproj/WebKitDebug.h
	* WebCore/kwq/kwqdebug.h


git-svn-id: svn://svn.chromium.org/blink/trunk@1339 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-06-12 22:09:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3762e898c92cad99018fc0bde4dffc2829842c71');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00wi01l5dyf1gvr2', 2, e'	* kjs/nodes.cpp: (Node::finalCheck): A bit of APPLE_CHANGES so we
	can compile with KJS_DEBUG_MEM defined if we want to.


git-svn-id: svn://svn.chromium.org/blink/trunk@1338 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-12 16:26:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/85b9be4d94de0b28412e9850bac1c3d54648ce54');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00wj01l50w80x83d', 2, e'	* WebView.subproj/IFMainURLHandleClient.mm:
	Add lots of assertions that allowed me to find the "leak the world" bug that Ken
	fixed in WebFoundation. These are a good idea anyway.

	* Plugins.subproj/IFPluginStream.mm:
	(-[IFPluginStream initWithURL:pluginPointer:notifyData:attributes:]): Use cStringLength
	to get the length for the cString rather than assuming that length will be right.
	(-[IFPluginStream IFURLHandle:didRedirectToURL:]): Add a FIXME.


git-svn-id: svn://svn.chromium.org/blink/trunk@1337 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-11 23:52:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9fb8600ad14134264d0b853705f5c6592473ffe9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmq6p00wk01l5bb6f2ys1', 2, e'Change log should have said: Remove the workaround for CFURL bug 2891336.


git-svn-id: svn://svn.chromium.org/blink/trunk@1336 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-11 23:51:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7cd051952b42bf3da45bbb8962e231476ae0de62');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00ux01l5udfgbbg3', 2, e'	* kwq/KWQKURL.mm:
	(RelativeURLKeyRetainCallBack): Use a ref count.
	(RelativeURLKeyReleaseCallBack): Use a ref count instead of assuming there will
	never be more than one reference.
	(KURL::normalizeRelativeURLString): Use a ref count.
	(operator==): Don\'t put URLs on the autorelease pool just to compare them.


git-svn-id: svn://svn.chromium.org/blink/trunk@1335 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-11 23:48:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5247614ebe729498e86047db29949132485a1754');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00uy01l5g50kb1z4', 2, e'	Made methods that convert bookmarks to and from
	property-list-compatible dictionaries public so they
	can be used in the Bookmarks window for cut/paste.

	* Bookmarks.subproj/IFBookmark.h:
	* Bookmarks.subproj/IFBookmark.m:
	(+[IFBookmark bookmarkFromDictionaryRepresentation:withGroup:]): New method

	(-[IFBookmark initFromDictionaryRepresentation:withGroup:]):
	(-[IFBookmark dictionaryRepresentation]):
	* Bookmarks.subproj/IFBookmarkGroup.m:
	(-[IFBookmarkGroup _loadBookmarkGroupGuts]):
	(-[IFBookmarkGroup _saveBookmarkGroupGuts]):
	* Bookmarks.subproj/IFBookmarkLeaf.m:
	(-[IFBookmarkLeaf initFromDictionaryRepresentation:withGroup:]):
	(-[IFBookmarkLeaf dictionaryRepresentation]):
	* Bookmarks.subproj/IFBookmarkList.m:
	(-[IFBookmarkList initFromDictionaryRepresentation:withGroup:]):
	(-[IFBookmarkList dictionaryRepresentation]):
	* Bookmarks.subproj/IFBookmarkSeparator.m:
	(-[IFBookmarkSeparator initFromDictionaryRepresentation:withGroup:]):
	(-[IFBookmarkSeparator dictionaryRepresentation]):
	* Bookmarks.subproj/IFBookmark_Private.h: Removed leading underscores from
	_initFromDictionaryRepresentation and _dictionaryRepresentation, and made
	them public.

	-fixed 2921580 -- Need Cut/Copy/Paste support in Bookmarks window
	-fixed 2952869 -- Alexander offers to undo Bookmark address change
	when nothing changed
	-made Activity, Bookmarks, and History window set the initial first
	responder to their outline views, so Select All and keyboard navigation
	work without requiring an initial click.
	-eliminated unsightly gray line above outline views in Activity, Bookmarks,
	and History windows

	* ActivityViewer.m:
	(-[ActivityViewer _setUpWindow]):
	Make outline view be first responder.

	* BookmarksController.h: Add ivars for _droppablePasteboardTypes
	and _pasteablePasteboardTypes; maybe these will be the same eventually.

	* BookmarksController.m:
	(-[BookmarksController _droppablePasteboardTypes]),
	(-[BookmarksController _pasteablePasteboardTypes]): Return array of the types we
	handle, lazily creating the array if necessary.
	(-[BookmarksController windowDidLoad]): Use _droppablePasteboardTypes; make outline
	view be first responder.
	(-[BookmarksController dealloc]): release new ivars
	(-[BookmarksController _selectedBookmarksWithoutRedundantDescendants]),
	(-[BookmarksController removeSelectedBookmarks:]): Extracted _selectedBookmarks...
	from removeSelectedBookmarks.
	(-[BookmarksController outlineView:setObjectValue:forTableColumn:byItem:]): Fixed
	copy/paste error that was the cause of 2952869
	(-[BookmarksController outlineView:validateDrop:proposedItem:proposedChildIndex:]):
	Call [NSPasteboard availableTypeFromArray:] instead of making dangerous assumptions.
	(-[BookmarksController _setSelectionToBookmarks:]),
	(-[BookmarksController outlineView:acceptDrop:item:childIndex:]): extracted
	_setSelectionToBookmarks: into its own function, and used availableTypeFromArray:

	(-[BookmarksController copy:]),
	(-[BookmarksController paste:]),
	(-[BookmarksController clear:]),
	(-[BookmarksController cut:]): New methods; the last three are Undoable

	(-[BookmarksController _numberOfBookmarksOnPasteboard:]): New helper method used
	to set title of Paste menu item.

	(-[BookmarksController validateMenuItem:]): New method, used for items whose titles
	change (i.e. Cut/Copy/Paste/Clear)
	(-[BookmarksController validateUserInterfaceItem:]): No change, just moved.

	* English.lproj/ActivityViewer.nib,
	* English.lproj/Bookmarks.nib,
	* English.lproj/History.nib: Made outline views one pixel taller to avoid unsightly
	gray line at top.

	* GlobalHistory.h:
	* GlobalHistory.m:
	(-[selectAll:]): Removed unnecessary method.
	(-[GlobalHistory validateUserInterfaceItem:]): Removed validation for selectAll;
	let outline view handle it.
	(-[GlobalHistory showWindow:]): Make outline view be first responder.


git-svn-id: svn://svn.chromium.org/blink/trunk@1334 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-06-11 21:16:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/09968beaf878e8deeac1e9b962448665eb422ae5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00uz01l5e63gghyu', 2, e'WebKit:

	* WebView.subproj/IFDOMNode.h: Added.
	* WebView.subproj/IFDOMNode.mm: Added.
	* WebView.subproj/IFRenderNode.h: Added.
	* WebView.subproj/IFRenderNode.mm: Added.
	These contain all the interesting bits of the code for the render
	and DOM tree viewers, mostly moved here from WebBrowser.

	* WebView.subproj/IFWebViewPrivate.mm: Remove the methods in here that
	aren\'t declared in the header and are only used for the render and DOM
	tree viewers.

	* WebKit.pbproj/project.pbxproj: Add new files.

WebBrowser:

	Removed all C and Objective C++, making this all Objective C again, which
	helps make build times faster.

	* ___CFA2UC.c: Removed.

	* WebBrowserPrefix.h: Removed code to handle non-Objective C, and also
	removed <config.h>.

	* Debug/DOMTree.m: Renamed from DOMTree.mm. Also changed to use IFDOMNode
	from WebKit for all the interesting bits.
	* Debug/DOMTree.mm: Renamed to DOMTree.m.
	* Debug/DOMTree.h: Put dataSource in object as a step toward making this not
	leak some day.

	* Debug/RenderTree.m: Renamed from RenderTree.mm. Also changed to use
	IFRenderNode from WebKit for all the interesting bits.
	* Debug/RenderTree.mm: Renamed to RenderTree.m.
	* Debug/RenderTree.h: Put dataSource in object as a step toward making this
	not leak some day.

	* WebBrowser.pbproj/project.pbxproj: Change files around. Add warnings that
	weren\'t allowed in C++; this project is now all Objective C. Remove C and
	Objective C++ from PFE dialects list. Remove header search paths.

	* main.m: Use "../config.h" to get at config.h. In the long run, we can
	just get rid of this.

	* Debug/DebugUtilities.m: Unimportant tweaks.


git-svn-id: svn://svn.chromium.org/blink/trunk@1333 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-11 20:50:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4e0da2c6e0543b31401c2ae1afaf25b6267f6223');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00v001l56hl4xuig', 2, e'	* Makefile.am: Do a clean before building if the force-clean-timestamp file is
	newer than the previous-clean-timestamp. Edit force-clean-timestamp (doesn\'t
	matter what you change as long as you change it) to force a clean build in WebKit.
	* force-clean-timestamp: Added.
	* .cvsignore: Ignore previous-clean-timestamp.


git-svn-id: svn://svn.chromium.org/blink/trunk@1332 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-11 00:05:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/20c4bf7899f3b20e3ab5ddcbd22dd7c703b5486e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00v101l5g1r6kaid', 2, e'	* WebCoreSupport.subproj/IFTextRenderer.h: Remove the flavor of
	floatWidthForCharacters without the applyRounding boolean.

	* WebCoreSupport.subproj/IFTextRenderer.m:
	(-[IFTextRenderer drawCharacters:length:atPoint:withColor:]): Remove logic about
	characters in the 0x7F-0xA0 range, since it\'s already handled by the time we get
	around to drawing.
	(-[IFTextRenderer floatWidthForCharacters:length:applyRounding:]): Pass in the
	applyRounding boolean when calling through to slowFloatWidthForCharacters.
	Move logic about characters in the 0x7F-0xA0 range from here into
	[extendCharacterToGlyphMapToInclude:].
	(-[IFTextRenderer widthForCharacters:length:]): Call the version of
	floatWidthForCharacters that takes the applyRounding parameter; this was the only
	client of the flavor that didn\'t take the parameter.
	(-[IFTextRenderer extendCharacterToGlyphMapToInclude:]): Add the logic about
	characters in the 0x7F-0xA0 range into here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1331 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-10 22:18:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e342b7f9c72eb6c0b3565f3c17a284d5ea3ce86b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00v201l50fsjyp2n', 2, e'	* khtml/css/cssstyleselector.cpp: Fix uninitialized variable warning.


git-svn-id: svn://svn.chromium.org/blink/trunk@1330 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-10 20:45:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fbfd091ee52b705207711a1c0c3a8b108fe209d2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00v301l58aucrnzm', 2, e'i    Tweaks to new rounding code.

    Added Cocoa-exact width measurement emulation flag to support IFStringTruncator.

    Remove code that was already conditionally excluded calls to support
    non-specified advance drawing (we now depend on tweaked advances).

	* Misc.subproj/IFStringTruncator.m:
	(+[IFStringTruncator centerTruncateString:toWidth:withFont:]):
	* WebCoreSupport.subproj/IFTextRenderer.h:
	* WebCoreSupport.subproj/IFTextRenderer.m:
	(-[IFTextRenderer initWithFont:]):
	(-[IFTextRenderer drawCharacters:length:atPoint:withColor:]):
	(-[IFTextRenderer slowFloatWidthForCharacters:length:applyRounding:]):
	(-[IFTextRenderer slowFloatWidthForCharacters:length:]):
	(-[IFTextRenderer floatWidthForCharacters:length:applyRounding:]):
	(-[IFTextRenderer floatWidthForCharacters:length:]):
	(-[IFTextRenderer extendCharacterToGlyphMapToInclude:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1329 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-10 20:09:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/20af3760e8a6ed2b678b90ee839347417a0eaf12');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00v401l5ca9ljhq4', 2, e'JavaScriptCore:

	Merged in changes from KDE 3.0.1.

	* kjs/collector.cpp:
	* kjs/date_object.cpp:
	* kjs/function.cpp:
	* kjs/internal.cpp:
	* kjs/lookup.h:
	* kjs/object.cpp:
	* kjs/operations.cpp:
	* kjs/regexp.cpp:
	* kjs/regexp_object.cpp:
	* kjs/regexp_object.h:
	* kjs/string_object.cpp:
	* kjs/testkjs.cpp:
	* kjs/ustring.cpp:
	* kjs/value.cpp:
	* kjs/value.h:
	Do the merge, and add APPLE_CHANGES as needed to make things compile.

	* kjs/date_object.lut.h: Re-generated.

WebCore:

	Merged in changes from KDE 3.0.1.

	* kwq/kdecore/kurl.h:
	* kwq/KWQKURL.mm: (operator==): New, needed by some 3.0.1 code.

	* kwq/qt/qpalette.h: Add QPalette::NColorGroups and QColorGroup::NColorRoles.
	* kwq/KWQPalette.mm: Simplify by getting rid of "private" indirection.
	(QPalette::color): New, needed by some 3.0.1 code.
	* kwq/KWQColorGroup.mm: Simplify by getting rid of "private" indirection.

	* kwq/qt/qstring.h:
	* kwq/KWQString.mm: (QConstString::QConstString): Change parameter to const QChar *
	to match Qt so we compile.

	* kwq/qt/qtextedit.h:
	* kwq/KWQTextEdit.mm: (QTextEdit::setTabStopWidth): Add unimplemented placeholder,
	needed by some 3.0.1 code.

	* kwq/qt/qvaluelist.h:
	* kwq/KWQValueListImpl.h:
	* kwq/KWQValueListImpl.mm: Simplify implementation.

	* WebCore-tests.exp: Update for changes in QValueList implementation.

	* kwq/kdecore/klibloader.h: Add include of <kio/global.h> to make something compile.

	* kwq/khtml/java/kjavaappletcontext.h: Add JType and constructor that takes DCOPObject*.

	* kwq/kio/global.h: Add KIO::CacheControl.

	* khtml/css/css_ruleimpl.cpp:
	* khtml/css/css_ruleimpl.h:
	* khtml/css/css_stylesheetimpl.cpp:
	* khtml/css/css_stylesheetimpl.h:
	* khtml/css/css_valueimpl.cpp:
	* khtml/css/css_valueimpl.h:
	* khtml/css/cssparser.cpp:
	* khtml/css/cssparser.h:
	* khtml/css/cssstyleselector.cpp:
	* khtml/css/cssstyleselector.h:
	* khtml/css/html4.css:
	* khtml/dom/css_rule.cpp:
	* khtml/dom/css_rule.h:
	* khtml/dom/css_stylesheet.cpp:
	* khtml/dom/css_stylesheet.h:
	* khtml/dom/css_value.cpp:
	* khtml/dom/dom2_events.cpp:
	* khtml/dom/dom2_range.cpp:
	* khtml/dom/dom2_range.h:
	* khtml/dom/dom2_views.cpp:
	* khtml/dom/dom_doc.cpp:
	* khtml/dom/dom_element.cpp:
	* khtml/dom/dom_exception.h:
	* khtml/dom/dom_node.cpp:
	* khtml/dom/dom_string.cpp:
	* khtml/dom/dom_text.cpp:
	* khtml/dom/dom_xml.cpp:
	* khtml/dom/html_base.cpp:
	* khtml/dom/html_block.cpp:
	* khtml/dom/html_document.cpp:
	* khtml/dom/html_element.cpp:
	* khtml/dom/html_element.h:
	* khtml/dom/html_form.cpp:
	* khtml/dom/html_head.cpp:
	* khtml/dom/html_image.cpp:
	* khtml/dom/html_inline.cpp:
	* khtml/dom/html_list.cpp:
	* khtml/dom/html_misc.cpp:
	* khtml/dom/html_object.cpp:
	* khtml/dom/html_table.cpp:
	* khtml/ecma/kjs_html.cpp:
	* khtml/ecma/kjs_proxy.cpp:
	* khtml/ecma/kjs_traversal.cpp:
	* khtml/ecma/kjs_window.cpp:
	* khtml/html/html_baseimpl.cpp:
	* khtml/html/html_formimpl.cpp:
	* khtml/html/html_miscimpl.h:
	* khtml/html/html_objectimpl.cpp:
	* khtml/html/html_objectimpl.h:
	* khtml/html/htmlparser.cpp:
	* khtml/html/htmlparser.h:
	* khtml/html/htmltokenizer.cpp:
	* khtml/html/htmltokenizer.h:
	* khtml/khtml_part.cpp:
	* khtml/khtmlpart_p.h:
	* khtml/khtmlview.cpp:
	* khtml/misc/helper.cpp:
	* khtml/misc/khtmllayout.h:
	* khtml/misc/loader.cpp:
	* khtml/misc/loader.h:
	* khtml/misc/loader_client.h:
	* khtml/misc/shared.h: Added.
	* khtml/rendering/bidi.cpp:
	* khtml/rendering/break_lines.cpp:
	* khtml/rendering/font.cpp:
	* khtml/rendering/render_applet.cpp:
	* khtml/rendering/render_applet.h:
	* khtml/rendering/render_container.cpp:
	* khtml/rendering/render_form.cpp:
	* khtml/rendering/render_form.h:
	* khtml/rendering/render_frames.cpp:
	* khtml/rendering/render_image.cpp:
	* khtml/rendering/render_object.cpp:
	* khtml/rendering/render_object.h:
	* khtml/rendering/render_replaced.cpp:
	* khtml/rendering/render_replaced.h:
	* khtml/rendering/render_root.cpp:
	* khtml/rendering/render_style.cpp:
	* khtml/rendering/render_style.h:
	* khtml/rendering/render_table.cpp:
	* khtml/rendering/render_table.h:
	* khtml/rendering/render_text.cpp:
	* khtml/rendering/render_text.h:
	* khtml/xml/dom2_eventsimpl.h:
	* khtml/xml/dom2_rangeimpl.h:
	* khtml/xml/dom2_traversalimpl.cpp:
	* khtml/xml/dom2_traversalimpl.h:
	* khtml/xml/dom2_viewsimpl.h:
	* khtml/xml/dom_docimpl.cpp:
	* khtml/xml/dom_docimpl.h:
	* khtml/xml/dom_elementimpl.h:
	* khtml/xml/dom_nodeimpl.cpp:
	* khtml/xml/dom_nodeimpl.h:
	* khtml/xml/dom_stringimpl.cpp:
	* khtml/xml/dom_stringimpl.h:
	* khtml/xml/xml_tokenizer.h:
	Merge in 3.0.1 changes and add APPLE_CHANGES as necessary to get it to compile.


git-svn-id: svn://svn.chromium.org/blink/trunk@1326 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-10 20:08:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1f52b69b723c77799d27e20e84623d0c99c689ab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00v501l5d26vvqs1', 2, e'	* WebCoreSupport.subproj/IFCachedTextRenderer.m: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1325 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-10 19:44:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/99425e4f810c33533ce9d4ad6362b15417eaf0ca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00v601l539257r3m', 2, e'	Fixed leaks in History mechanism, found by overriding
	release, retain, autorelease, and dealloc and watching
	the spam fly.

	* History.subproj/IFWebHistoryPrivate.m:
	(-[IFWebHistoryPrivate addEntry:]): Make autoreleased array for
	entries on a given date.
	(-[IFWebHistoryPrivate _loadHistoryGuts:]): autorelease entries
	as they are generated from data on disk.

	Added workaround for NSOutlineView leak, by collapsing items
	just before removing them from the history view.

	* GlobalHistory.m:
	(-[GlobalHistory removeSelectedItems:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1324 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-06-10 17:21:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6521e32b6cca4ae2cb6aa6915dd1a7604e684c4c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00v701l5ijvkx1vp', 2, e'	* WebCoreSupport.subproj/IFTextRenderer.m:
	(-[IFTextRenderer drawCharacters:length:atPoint:withColor:]):
	Fix a typo where I left the S off of DRAW_WITHOUT_ADVANCES.


git-svn-id: svn://svn.chromium.org/blink/trunk@1321 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-10 16:20:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/83c41f9cb5048283245521d41d1c890233e20039');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00v801l5hrhfp29e', 2, e'    90% solution to round-off problem.  khtml breaks measures text on space
    boundaries during layout.  It assumes integer measurement, CG uses float
    measurements.  Some common fonts have non-integer space width.  So,
    differences in between drawing advances and measurement of space characters
    can easily accumulate enough to be visually apparent.  We may still accumulate
    differences across words, although it\'s much less visible than for spaces.
    As a next step we can fudge the advances of words to force
    integer widths, although I think, given how khtml work, just accounting for
    consistency in measuring and drawing spaces may be sufficient.
    Many sites that looked flaky before now render correctly.

	* WebCoreSupport.subproj/IFTextRenderer.m:
	(-[IFTextRenderer drawCharacters:length:atPoint:withColor:]):

	Force rounding of advance for space characters.

	(-[IFTextRenderer floatWidthForCharacters:length:]):

	Force rounding of measurement for space characters.


git-svn-id: svn://svn.chromium.org/blink/trunk@1317 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-10 10:23:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d54726703899403940de2679422c60b5400054cb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00v901l5idnwh3o3', 2, e'	WebKit part of fix for 2949646 (Can\'t drag & drop bookmarks
	into auto-expanded folder). To get this to work right, I gave
	each bookmark a unique (per-session) identifier.

	While working on this, I found and fixed some leaks of bookmarks.

	* Bookmarks.subproj/IFBookmark.h:
	New -[identifier] method and _identifier ivar.

	* Bookmarks.subproj/IFBookmark.m:
	(+[IFBookmark _generateUniqueIdentifier]):
	(-[IFBookmark init]):
	(-[IFBookmark dealloc]):
	Remember unique identifier in each bookmark as it is created;
	delete when dealloc\'d.

	(-[IFBookmark identifier]): Return unique identifier.

	(-[IFBookmark _setParent:]): Don\'t retain parent, to avoid
	circular ownership.

	(-[IFBookmark _setGroup:]): Tell coming and going group.

	* Bookmarks.subproj/IFBookmarkGroup.h:
	New +[bookmarkForIdentifier] method and _bookmarksByID ivar.

	* Bookmarks.subproj/IFBookmarkGroup_Private.h:
	Declarations of _removedBookmark: and _addedBookmark:
	* Bookmarks.subproj/IFBookmarkGroup.m:
	(-[IFBookmarkGroup initWithFile:]): alloc _bookmarksByID.
	(-[IFBookmarkGroup dealloc]): release _bookmarksByID.
	(-[IFBookmarkGroup _setTopBookmark:]): Don\'t bail out early;
	would now cause leak.
	(-[IFBookmarkGroup _removedBookmark:]): New method, removes
	bookmark from _bookmarksByID.
	(-[IFBookmarkGroup _addedBookmark:]): New method, adds bookmark to
	_bookmarksByID.
	(-[IFBookmarkGroup bookmarkForIdentifier:]): Looks up bookmark from
	_bookmarksByID dictionary.
	(-[IFBookmarkGroup _loadBookmarkGroupGuts]): autorelease newTopbookmark;
	this had been leaking.

	* Bookmarks.subproj/IFBookmarkList.m:
	(-[IFBookmarkList _initFromDictionaryRepresentation:withGroup:]):
	autorelease children before adding them to parent; this had been leaking.

	WebBrowser part of fix for 2949646 (Can\'t drag & drop bookmarks into
	auto-expanded folder).

	While working on this, I found and fixed some other unreported bugs, including
	leaks of bookmarks.

	* BookmarksController.m:
	(-[BookmarksController windowDidLoad]): Use BookmarkIDListPboardType rather than
	RowListPboardType.

	(-[BookmarksController _endEditing]),
	(-[BookmarksController _toggleEdit:]): Broke _endEditing out of _toggleEdit so
	it could be called by itself.

	(-[BookmarksController _safeRemoveBookmark:]): Workaround for NSOutlineView bug
	where removing expanded items leaks.

	(-[BookmarksController removeSelectedBookmarks:]),
	(-[BookmarksController _redoRemoveBookmarks:]): Call _endEditing to avoid problem
	when removing a bookmark that\'s being edited; call _safeRemoveBookmark to prevent
	leak.

	(-[BookmarksController _anyAncestorOfRow:inArray:]): removed.
	(-[BookmarksController _identifierOfBookmarkOrAnyAncestor:inArray:]):
	Changed name from _rowOrAnyAncestor:inArray:, now deals with array of bookmark
	identifiers rather than array of row numbers.

	(-[BookmarksController outlineView:writeItems:toPasteboard:]),
	(-[BookmarksController outlineView:validateDrop:proposedItem:proposedChildIndex:]),
	(-[BookmarksController outlineView:acceptDrop:item:childIndex:]): Reworked to use
	array of bookmark identifiers rather than array of row numbers.

	* Preferences.subproj/English.lproj/ActiveContentPreferences.nib: Added 2nd sentence
	to "allow JavaScript to open windows automatically" preference at Maciej\'s wise
	suggestion.


git-svn-id: svn://svn.chromium.org/blink/trunk@1316 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-06-10 05:32:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8edb0199d16b369edba7a59192b8dc7e11363e57');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00va01l5qmrup7kc', 2, e'	* WebCoreSupport.subproj/IFTextRenderer.m:
	(-[IFTextRenderer drawCharacters:length:atPoint:withColor:]):
	Fixed a possible uninitialized variable problem that the compiler and Don caught.


git-svn-id: svn://svn.chromium.org/blink/trunk@1315 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-10 04:40:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/65a7cc4f657a162ce92a2f9f547c9399ce90b42b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vb01l5fshc3l4i', 2, e'	* WebCoreSupport.subproj/IFTextRenderer.m:
	(-[IFTextRenderer drawCharacters:length:atPoint:withColor:]):
	Add code to handle drawing when are more than LOCAL_GLYPH_BUFFER_SIZE advances.
	I ran into this loading <http://jersey.apple.com/data/20020606-074404M0.html>.
	Also fix handling of advances for the obscure case where we hit a non-base character,
	slowPackGlyphsForCharacters fails, and substituteFontforCharacters returns nil.


git-svn-id: svn://svn.chromium.org/blink/trunk@1314 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-09 21:16:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6004fc7b1e153f1ca171229d5b9cb83105d219a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vc01l5bpeajgtw', 2, e'	* Makefile.am: Use new shared "embed.am" file so we don\'t need four copies of
	the embedding rules for WebFoundation, JavaScriptCore, WebCore, and WebKit.


git-svn-id: svn://svn.chromium.org/blink/trunk@1313 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-08 06:48:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ae03892f1f2f6fbe0d3bb0d543d27ffb0e47fc7d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vd01l5h10urw8p', 2, e'	* Tests/libiftest/Makefile.am: Make libiftest a static lib, to
	avoid concerns over non-libtool libraries named .dylib.

WebCore:
	* Makefile.am: Rename libwebcore.dylib to libwebcore.a; since this
	target is just a fake for dependency purposes, it doesn\'t matter
	what it\'s called.
	* .cvsignore: Update ignorance.


git-svn-id: svn://svn.chromium.org/blink/trunk@1312 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-06-08 00:53:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cf25cdbcb70d246c32c247de569a68daa386c665');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00ve01l51ow87nv4', 2, e'2002-06-07  Kenneth Kocienda  <kocienda@apple.com>

        Reviewed by: Darin Adler

        Fix for this bug:

        Radar 2949680 (IFURLFileDatabase will not work properly with hard disk quotas)

        Rearranges calls through to the code that expires files from the disk cache
        when the quota is exceeded. Now, files are deleted before writing a new cache
        entry, rather than writing the file first, and deleting files to get back under
        the quota.

        * Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileDatabase performSetObject:forKey:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1303 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-06-07 23:04:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b00f068cf5c040f107cbe48fd417baf6750b1052');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vf01l5bikhht6q', 2, e'2002-06-07  Kenneth Kocienda  <kocienda@apple.com>

        Reviewed by: Darin Adler

        Fix for this bug:

        Radar 2948819 (Disk cache emptying can be cut off by quitting program)

        We kick a thread to delete the disk cache (in order for the cache emptying
        function to return immediately). This involves moving the disk cache
        directory aside and creating a new (empty) disk cache directory. If a user
        quits the apps before the aside directory is completely deleted, it is
        orphaned.

        This patch does a check upon next startup for such orphaned files and
        resumes the delete operation.

        * Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileDatabase open])
        * Misc.subproj/IFNSFileManagerExtensions.h:
        * Misc.subproj/IFNSFileManagerExtensions.m:
        (-[NSFileManager _IF_deleteBackgroundRemoveLeftoverFiles:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1302 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-06-07 22:59:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5634514a6e4d742928a46efeecb8558dfd1d9aac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vg01l52ssraa8r', 2, e'2002-06-07  Kenneth Kocienda  <kocienda@apple.com>

        Reviewed by: Darin Adler

        Fix for this bug:

        Radar 2936755 (.size can get out of synch with actual cache size on disk)

        Four separate fixes to make sure the .size file stays in sync with the
        cumulative size of the cache files on disk.

        These fixes are:

        1) Check that usage decrease when a file is removed is only done when removal succeeds.
        2) Account for a cache file that gets rewritten to disk with a different size
           than the file it is replacing.
        3) Remove pending disk operations when the user clears the cache.
        4) Make sure usage gets set back to zero on a cache clear.

        * Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileDatabase writeSizeFile:])
        (-[IFURLFileDatabase removeAllObjects])
        (-[IFURLFileDatabase performSetObject:forKey:])
        (-[IFURLFileDatabase performRemoveObjectForKey:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1301 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-06-07 22:58:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1c3bc1d4c72c66113c126360bd5e67cf17e3a7c8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vh01l5ze9rtom3', 2, e'2002-06-07  Kenneth Kocienda  <kocienda@apple.com>

        Reviewed by: Darin Adler

        Fix for this bug:

        Radar 2936676 (IFURLFileDatabase should be smarter about expiring cache files)

        This patch adds code to generate a list of cache files sorted by file system
        access time. This list is then used to expire least recently used cache
        files first.

	* Database.subproj/IFURLFileDatabase.m:
	(compare_atimes): New function
	(IFPtrEqual): New function
	(IFFileAccessTimeRelease): New function
	(CreateArrayListingFilesSortedByAccessTime): New function
	(-[IFURLFileDatabase truncateToSizeLimit:]): Uses new functions


git-svn-id: svn://svn.chromium.org/blink/trunk@1300 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-06-07 22:48:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9dc4afa00573141dc080bd7c05c809e1f315153f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vi01l581fwi0z3', 2, e'	* Makefile.am: I was running into failures in the embed rule, so I made it
	always remove the framework before copying the new one in. This is better
	for cases where a header was removed, too, so maybe we should do this in
	the other directories.

	* kwq/KWQDrawUtil.mm:
	* kwq/KWQKComboBox.mm:
	* kwq/KWQKConfigBase.mm:
	* kwq/KWQKDebug.mm:
	* kwq/KWQKMessageBox.mm:
	* kwq/KWQKMimeType.mm:
	* kwq/KWQKPrinter.mm:
	* kwq/KWQKURL.mm:
	* kwq/KWQMapImpl.mm:
	* kwq/KWQObject.mm:
	* kwq/KWQRegExp.mm:
	* kwq/KWQRegion.mm:
	* kwq/KWQScrollView.mm:
	* kwq/KWQStringList.mm:
	Remove repeated default values for parameters -- the new compiler
	won\'t allow these and they are illegal C++.


git-svn-id: svn://svn.chromium.org/blink/trunk@1299 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-07 22:42:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cba19d00310de11deb03f6b3af001b70e4a4fe64');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vj01l5djnqjmcf', 2, e'	* MIME.subproj/IFContentHandler.m: (-[IFContentHandler HTMLDocument]):
	Fix a warning that shows up with the new C++ compiler (not sure why it
	is not showing up with the old one).


git-svn-id: svn://svn.chromium.org/blink/trunk@1298 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-07 22:42:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/41b070e7a2fe6d74a4be10de5a04f73e0164d88a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vk01l5px6aho22', 2, e'        Allow plug-ins to make a NPP_*URLNotify request when
        the target is _self, _top, _parent or _current. This goes
        against the plug-in documentation, but mimics IE.
        Need for iTools.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView loadURL:inTarget:withNotifyData:andHandleAttributes:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1297 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-07 22:02:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6b170b9eb8fc2f58eb64e3b56bb839a7ff309e71');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vl01l5oqc9mvpf', 2, e'	Reviewed by: Ken Kocienda

	Fixed the following bugs:

	Radar 2854498 - Cookies are not saved between sessions
	Radar 2862120 - -[IFCookie dictionaryRepresentation] is not yet implemented
	Radar 2949513 - Session-only cookies should not be saved persistently
	Radar 2949514 - Cookies need to be synchronized between multiple processes

	Also, I moved the optimistic first try code for creating
	directories and files with intermediate directories from the call
	points to the functions themselves.

	* CookieManager.subproj/IFCookie.h:
	* CookieManager.subproj/IFCookie.m:
	(setExpires):
	(-[IFCookie dictionaryRepresentation]):
	(+[IFCookie _requestHeadersFromCookieArray:]):
	(+[IFCookie _cookieArrayFromResponseHeaders:forURL:]):
	(-[IFCookie _compareForHeaderOrder:]):
	(-[IFCookie _key]):
	(-[IFCookie _isExpired]):
	* CookieManager.subproj/IFCookieManager.m:
	(-[IFCookieManagerPrivate init]):
	(-[IFCookieManagerPrivate dealloc]):
	(-[IFCookieManager _registerForCookiePreferenceNotification]):
	(-[IFCookieManager _connectToCookieStorage]):
	(setUpOnLoadThread):
	(runningOnLoadThread):
	(-[IFCookieManager _scheduleSetupOnLoadThread]):
	(-[IFCookieManager _waitForLoadThreadSetup]):
	(-[IFCookieManager _continueSetCookies:context:]):
	(-[IFCookieManager _internalInit]):
	(-[IFCookieManager _cookieRequestHeadersForURL:withExtraCookies:]):
	(-[IFCookieManager cookies]):
	(-[IFCookieManager setCookie:]):
	(-[IFCookieManager deleteCookie:]):
	(-[IFCookieManager setCookiesFromResponseHeaders:forURL:]):
	(-[IFCookieManager description]):
	* CookieManager.subproj/IFCookiePrivate.h:
	* CookieManager.subproj/IFCookieStorage.h: Added.
	* CookieManager.subproj/IFCookieStorage.m: Added.
	(-[IFCookieStoragePrivate init]):
	(-[IFCookieStoragePrivate dealloc]):
	(-[IFCookieStorage _updateCookiesFromServer]):
	(-[IFCookieStorage _connectionDidDie:]):
	(-[IFCookieStorage _establishConnection]):
	(-[IFCookieStorage init]):
	(-[IFCookieStorage initWithNotificationObject:]):
	(-[IFCookieStorage dealloc]):
	(-[IFCookieStorage setCookies:]):
	(-[IFCookieStorage deleteCookies:]):
	(-[IFCookieStorage cookies]):
	(-[IFCookieStorage cookiesMatchingDomain:path:secure:]):
	* CookieManager.subproj/IFCookieStorageServer.h: Added.
	* CookieManager.subproj/IFCookieStorageServer.m: Added.
	(-[IFCookieStorageServerPrivate init]):
	(-[IFCookieStorageServerPrivate dealloc]):
	(-[IFCookieStorageServer _checkForCookieExpiration:]):
	(-[IFCookieStorageServer _updateExpirationTimer:]):
	(-[IFCookieStorageServer _saveCookies]):
	(-[IFCookieStorageServer _saveCookiesIfScheduled]):
	(-[IFCookieStorageServer _scheduleSave]):
	(-[IFCookieStorageServer _notifyChanged]):
	(-[IFCookieStorageServer _setCookiesWithoutSaving:]):
	(-[IFCookieStorageServer init]):
	(-[IFCookieStorageServer dealloc]):
	(-[IFCookieStorageServer setCookies:]):
	(-[IFCookieStorageServer deleteCookies:]):
	(-[IFCookieStorageServer cookies]):
	(makeCookie):
	(-[IFCookieStorageServer loadCookies]):
	* Database.subproj/IFURLFileDatabase.m:
	(-[IFURLFileDatabase performSetObject:forKey:]):
	(-[IFURLFileDatabase open]):
	* Misc.subproj/IFNSArrayExtensions.h:
	* Misc.subproj/IFNSArrayExtensions.m:
	* Misc.subproj/IFNSFileManagerExtensions.m:
	(-[NSFileManager _IF_createDirectoryAtPathWithIntermediateDirectories:attributes:]):
	(-[NSFileManager _IF_createFileAtPathWithIntermediateDirectories:contents:attributes:directoryAttributes:]):
	* WebFoundation.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1296 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-06-07 21:23:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2ba3a8aad3f1990699afecce6dd9dc21ffb8f54a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vm01l5fdtcr89r', 2, e'	* kwq/KWQPtrDictImpl.h: Use CoreFoundation.h -- new compiler
	is picky about the difference between struct and typedef.

	* kwq/KWQValueListImpl.h: Add a friend declaration that we need
	because the new compiler is more strict.

	- fix 2949882 -- joecartoon.com crashes

	* khtml/ecma/kjs_window.cpp: (Window::get): Turn off some code that
	doesn\'t work for us -- similar to code elsewhere in this file that
	was also turned off.


git-svn-id: svn://svn.chromium.org/blink/trunk@1295 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-07 20:02:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fbf8a62b801875beb565f03af34773c50abae1fb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vn01l5f3y9yv0f', 2, e'	* WebKit.pbproj/project.pbxproj: Don\'t use any warning flags for C that won\'t work
	for C++, because PFE uses the C warning flags on a C++ compile.


git-svn-id: svn://svn.chromium.org/blink/trunk@1294 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-07 19:59:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0f5b6591c98d6f5e91d6fda0637612537d4bcc36');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vo01l5c169v8j0', 2, e'	* JavaScriptCore.pbproj/project.pbxproj: Don\'t use any warning flags for C that won\'t work
	for C++, because PFE uses the C warning flags on a C++ compile.


git-svn-id: svn://svn.chromium.org/blink/trunk@1293 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-07 19:59:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d441a86b8c54770220efa31ff309507c017dfe19');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vp01l5lc6aivqj', 2, e'Summary

	Made IFWebController a class.
        Fixed all places where IFWebController was referred to as a protocol.
        Renamed IFBaseWebController files to IFWebController.
        IFWebController.h replaces IFWebBaseController.h.

	Added support for IEPL plug-ins.

WebCore:

	* kwq/KWQKHTMLPart.mm:
	(KWQKHTMLPartImpl::requestFrame):
	* kwq/KWQKHTMLPartBrowserExtension.mm:
	(KHTMLPartBrowserExtension::createNewWindow):
	* kwq/KWQKloader.mm:
	(-[URLLoadClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	(-[URLLoadClient IFURLHandle:didRedirectToURL:]):
	(KWQLoaderImpl::serveRequest):
	* kwq/external.h:

WebKit:

	* Panels.subproj/IFStandardPanels.m:
	(-[IFStandardPanels _didStartLoadingURL:inController:]):
	(-[IFStandardPanels _didStopLoadingURL:inController:]):
	* Panels.subproj/IFStandardPanelsPrivate.h:
	* Plugins.subproj/IFNullPluginView.mm:
	(-[IFNullPluginView drawRect:]):
	* Plugins.subproj/IFPlugin.h:
	* Plugins.subproj/IFPlugin.m:
	(-[IFPlugin _getPluginInfoForResourceFile:]):
	(-[IFPlugin initWithPath:]):
	(-[IFPlugin load]):
	(-[IFPlugin description]):
	* Plugins.subproj/IFPluginStream.mm:
	(-[IFPluginStream IFURLHandleResourceDidBeginLoading:]):
	(-[IFPluginStream IFURLHandleResourceDidFinishLoading:data:]):
	(-[IFPluginStream IFURLHandleResourceDidCancelLoading:]):
	(-[IFPluginStream IFURLHandle:resourceDidFailLoadingWithResult:]):
	(-[IFPluginStream IFURLHandle:didRedirectToURL:]):
	* Plugins.subproj/IFPluginView.h:
	* Plugins.subproj/IFPluginView.mm:
	(-[IFPluginView initWithFrame:plugin:url:mime:arguments:mode:]):
	(-[IFPluginView webController]):
	* WebKit.pbproj/project.pbxproj:
	* WebView.subproj/IFBaseWebController.h: Removed.
	* WebView.subproj/IFBaseWebController.mm: Removed.
	* WebView.subproj/IFBaseWebControllerPrivate.h: Removed.
	* WebView.subproj/IFBaseWebControllerPrivate.mm: Removed.
	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandleResourceDidBeginLoading:]):
	(-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]):
	(-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
	(-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
	(-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	(-[IFMainURLHandleClient IFURLHandle:didRedirectToURL:]):
	* WebView.subproj/IFWebController.h:
	* WebView.subproj/IFWebController.mm: Added.
	(-[IFWebController init]):
	(-[IFWebController initWithView:provisionalDataSource:]):
	(-[IFWebController dealloc]):
	(-[IFWebController setDirectsAllLinksToSystemBrowser:]):
	(-[IFWebController directsAllLinksToSystemBrowser]):
	(-[IFWebController createFrameNamed:for:inParent:inScrollView:]):
	(-[IFWebController setStatusText:forDataSource:]):
	(-[IFWebController statusTextForDataSource:]):
	(-[IFWebController openNewWindowWithURL:]):
	(-[IFWebController receivedProgress:forResource:fromDataSource:]):
	(-[IFWebController receivedError:forResource:partialProgress:fromDataSource:]):
	(-[IFWebController provideLocationChangeHandlerForFrame:]):
	(-[IFWebController receivedPageTitle:forDataSource:]):
	(-[IFWebController serverRedirectTo:forDataSource:]):
	(-[IFWebController _frameForDataSource:fromFrame:]):
	(-[IFWebController frameForDataSource:]):
	(-[IFWebController _frameForView:fromFrame:]):
	(-[IFWebController frameForView:]):
	(-[IFWebController frameNamed:]):
	(-[IFWebController mainFrame]):
	(-[IFWebController pluginNotFoundForMIMEType:pluginPageURL:]):
	(-[IFWebController provideLocationChangeHandlerForFrame:andURL:]):
	(-[IFWebController URLPolicyForURL:]):
	(-[IFWebController unableToImplementURLPolicyForURL:error:]):
	(-[IFWebController haveContentPolicy:andPath:forLocationChangeHandler:]):
	(-[IFWebController stopAnimatedImages]):
	(-[IFWebController startAnimatedImages]):
	(-[IFWebController stopAnimatedImageLooping]):
	(-[IFWebController startAnimatedImageLooping]):
	* WebView.subproj/IFWebControllerPrivate.h: Added.
	* WebView.subproj/IFWebControllerPrivate.mm: Added.
	(-[IFWebControllerPrivate init]):
	(-[IFWebControllerPrivate _clearControllerReferences:]):
	(-[IFWebControllerPrivate dealloc]):
	(-[IFWebController _receivedProgress:forResource:fromDataSource:]):
	(-[IFWebController _mainReceivedProgress:forResource:fromDataSource:]):
	(-[IFWebController _receivedError:forResource:partialProgress:fromDataSource:]):
	(-[IFWebController _mainReceivedError:forResource:partialProgress:fromDataSource:]):
	(-[IFWebController _didStartLoading:]):
	(-[IFWebController _didStopLoading:]):
	* WebView.subproj/IFWebDataSource.h:
	* WebView.subproj/IFWebDataSource.mm:
	(-[IFWebDataSource controller]):
	* WebView.subproj/IFWebDataSourcePrivate.h:
	* WebView.subproj/IFWebDataSourcePrivate.mm:
	(-[IFWebDataSource _setController:]):
	* WebView.subproj/IFWebFrame.h:
	* WebView.subproj/IFWebFrame.mm:
	(-[IFWebFrame initWithName:view:provisionalDataSource:controller:]):
	(-[IFWebFrame controller]):
	(-[IFWebFrame setController:]):
	(-[IFWebFrame frameNamed:]):
	* WebView.subproj/IFWebFramePrivate.h:
	* WebView.subproj/IFWebFramePrivate.mm:
	(-[IFWebFramePrivate setController:]):
	(-[IFWebFrame _setController:]):
	* WebView.subproj/IFWebView.h:
	* WebView.subproj/IFWebView.mm:
	(-[IFWebView controller]):
	* WebView.subproj/IFWebViewPrivate.h:
	* WebView.subproj/IFWebViewPrivate.mm:
	(-[IFWebView _setController:]):

WebBrowser:

	* BrowserDocument.h:
	* WebController.h:
	* WebController.m:
	(-[WebController openNewWindowWithURL:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1292 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-07 19:49:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/07893f565a82b5cbe20323a6397d693518a5d4ca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmouc00vq01l5sshq0kf8', 2, e'Alexander-8 version


git-svn-id: svn://svn.chromium.org/blink/trunk@1290 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-06-07 19:13:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1ea20e8f16ffb6af4b79e9211a4ed6b4ecd242a6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00u301l5wihe3hbk', 2, e'Alexander-8 version


git-svn-id: svn://svn.chromium.org/blink/trunk@1289 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-06-07 19:03:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0e12ead9cd3e1800c1bdd35b064318d3d3c0ad8f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00u401l5nlcz6bbx', 2, e'	Try to make Jersey work again.

	* kwq/KWQInvisibleButton.h: Simplify includes.
	* kwq/KWQInvisibleButton.mm: Simplify includes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1288 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-07 15:56:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/940e6ff18b21f5a943d2ce175b92fab83c6a9ccd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00u501l5ke9tc3y6', 2, e'	* Makefile.am: Update warning flags for compatibility with new C++.
	* configure.in: Update warning flags for compatibility with new C++.

	* Tools/DiskCachePeek/DiskCachePeek.pbproj/project.pbxproj:
	Project Builder wants what it wants.

JavaScriptCore:

	* JavaScriptCore.pbproj/project.pbxproj: Update warning flags for compatibility
	with new C++.

WebFoundation:

	* WebFoundation.pbproj/project.pbxproj: Update warning flags for compatibility
	with new C++.

WebKit:

	* WebKit.pbproj/project.pbxproj: Update warning flags for compatibility
	with new C++.

	* WebCoreSupport.subproj/IFTextRenderer.m: (FillStyleWithAttributes):
	Remove workaround we copied from AppKit, because it\'s a workaround for
	a bug that was fixed in Puma.

WebBrowser:

	* WebBrowser.pbproj/project.pbxproj: Update warning flags for compatibility
	with new C++.


git-svn-id: svn://svn.chromium.org/blink/trunk@1287 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-07 04:39:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f321801d87ad5646853b53618bd054180597543f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00u601l5y3vqx48s', 2, e'2002-06-06  Chris Blumenberg  <cblu@apple.com>

        Added support for key codes and other encodings.
        Send activate to make Java happy.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView keyMessageForEvent:]): added
        (-[IFPluginView keyUp:]): use above.
        (-[IFPluginView keyDown:]): use above.
        (-[IFPluginView windowBecameKey:]): send activate.
        (-[IFPluginView windowResignedKey:]): send activate.


git-svn-id: svn://svn.chromium.org/blink/trunk@1286 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-06 22:58:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/701f6bec0c0cc4b40e25c0ae5f4bf52ee8459632');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00u701l56hlu7tv0', 2, e'Previous commit didn\'t seem to take for some reason; trying again.


	* Bookmarks.subproj/IFBookmarkList.m:
	(-[IFBookmarkList removeChild:]): Added assert.
	(-[IFBookmarkList insertChild:atIndex:]): Set the group of
	the new child, and added assert.


	Added Undo in the Bookmarks window for removing items and for changing
	the titles and addresses of items. Also changed the image used for
	Stop in the Bookmarks window per a conversation with Don and Chris
	yesterday.

	- fixed 2927231 -- should be able to Undo deleting bookmarks
	- fixed 2948496 -- should be able to Undo title & address changes in Bookmarks window

	* BookmarksController.m:
	(-[UndoRemoveInfo initWithBookmark:]),
	(-[UndoRemoveInfo dealloc]),
	(+[UndoRemoveInfo infoWithBookmark:]):
	New little helper class that hangs onto the info needed to put removed
	bookmarks back in the right places.

	(-[BookmarksController _redoRemoveBookmarks:]),
	(-[BookmarksController _undoRemoveBookmarks:]): New methods
	(-[BookmarksController removeSelectedBookmarks:]): Register for undo.

	(-[BookmarksController _undoTitleChange:]),
	(-[BookmarksController _changeTitleForBookmark:to:]),
	(-[BookmarksController _undoAddressChange:]),
	(-[BookmarksController _changeAddressForBookmark:to:]),
	New methods used for undo/redo.

	(-[BookmarksController outlineView:setObjectValue:forTableColumn:byItem:]):
	Register for Undo, but only if the value has actually changed.

	(-[BookmarksController windowWillClose:]): Empty undo/redo stack.

	* Resources/Images/red_globe.tiff: Added, used by Stop in Downloads window.
	* Resources/Images/green_globe.tiff: Added, to be used by Resume in Downloads window.
	* Resources/Images/stop.tiff: Removed.

	* DownloadMonitor.m:
	(-[DownloadMonitor toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:]):
	Use new Stop image.

	* WebBrowser.pbproj/project.pbxproj: Updated for new image files.


git-svn-id: svn://svn.chromium.org/blink/trunk@1285 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-06-06 18:55:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b8af4fff630a463b521bf2d6efc5de584a7d88cf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00u801l5qr5nnk94', 2, e'	* MIME.subproj/IFContentHandler.m:
	(-[IFContentHandler initWithURL:MIMEType:MIMEHandlerType:]): Add call to
	[super init].
	(-[IFContentHandler useTemplate:withGlobal:]): New helper function.
	Also got rid of <title> from templates, since there\'s no need for us to
	provide a fake title if it\'s just the URL.
	(-[IFContentHandler HTMLDocument]): Reduce use of copied and pasted code.
	(-[IFContentHandler dealloc]): Add call to [super dealloc].

	* Resources/image_document_template.html: Remove <title>.
	* Resources/plugin_document_template.html: Remove <title>.
	* Resources/text_document_template.html: Remove <title>.

	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient processData:isComplete:allDataReceived:]):
	Remove some unneeded type casts.


git-svn-id: svn://svn.chromium.org/blink/trunk@1284 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-06 15:18:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d1a71d300c8790af92ad540cc6ac3b5f57f8ae43');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00u901l5b3ghgeuh', 2, e'	Fixed Radar 2936155 - crash in IFAuthenticationPanel

	* Panels.subproj/IFAuthenticationPanel.m:
	(-[IFAuthenticationPanel runAsSheetOnWindow:withRequest:]): Add
	some assertions.

	(-[IFAuthenticationPanel sheetDidEnd:returnCode:contextInfo:]):
	Avoid referencing instance variables after performing a selector
	that might release this object. Also, add some assertions.

	* Panels.subproj/IFPanelAuthenticationHandler.m:
	(-[IFPanelAuthenticationHandler startAuthentication:]): Tweak
	whitespace.


git-svn-id: svn://svn.chromium.org/blink/trunk@1283 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-06-06 00:45:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e27bf9560c2033dd81efecdd6b020e42f9bbde85');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00ua01l5pyxk46ph', 2, e'	Some fixes to speed up the citibank.com page, and other related changes.

	* khtml/ecma/kjs_dom.cpp: (DOMNode::getValueProperty): Only do a layout
	if it\'s actually needed. This speeds things up immensely, and I\'m pretty
	sure it\'s correct.

	* kwq/KWQListImpl.h: To speed things up, get rid of the "private part"
	level of indirection. This is particularly vital for list iterators, which
	are created and destroyed a lot on the stack. Also made trivial functions
	be inline.

	* kwq/KWQListImpl.mm:
	(copyList): Now a static function rather than a member of the now-defunct
	private class.
	(KWQListImpl::KWQListImpl): Set up all the new members that used to be in
	the separate private object.
	(KWQListImpl::~KWQListImpl): Update the iterator-detaching code to do it
	the new way, with intrusive list. Also, use clear() instead of having our
	own code to delete the list -- note this is only used after the level above
	us does a clear() anyway.
	(KWQListImpl::clear): Use a loop to delete all the nodes rather than making
	a delete of one node recursively delete the next -- iteration is more efficient,
	and also easier to understand in this case. Also update all the iterators so
	they don\'t point to deleted nodes.
	(KWQListImpl::containsRef): Update to return the count, rather than just a
	true or false value, since that\'s how the class is defined.
	(KWQListImpl::assign): Delete the items if asked to (fixes a FIXME). Also
	use a new swap member function since there\'s more to swap now.
	(KWQListImpl::addIterator): Rewrite to use an intrusive linked list.
	(KWQListImpl::removeIterator): Rewrite to use an intrusive linked list; this
	makes it much faster since it doesn\'t have to search the list.
	(KWQListImpl::swap): Implement this private member function used by assign.
	(KWQListIteratorImpl::KWQListIteratorImpl): Set up the new members that
	used to be in the separate private object.

	* kwq/qt/qlist.h: Re-add the operator= definition. This would cause a storage
	leak, although I haven\'t actually observed the leak.

	* kwq/qt/qbuffer.h: Initialize opened to false. This was causing a test failure.

	* kwq/KWQDictImpl.h:
	* kwq/KWQDictImpl.mm: Streamline implementation a bit by getting rid of
	unneeded copy constructor definition and making trivial constructor for
	iterator inline.

	* kwq/KWQPtrDictImpl.h: Remove unneeded include.

	* WebCore-tests.exp: Update for changes in the entry points
	used by the tests.


git-svn-id: svn://svn.chromium.org/blink/trunk@1282 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-06 00:33:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c920e614bc05b2bddd5779e18b7ceda1b17bdbb6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00ub01l5ucf3qb26', 2, e'    Fixed snafu in recursion over frame tree.


git-svn-id: svn://svn.chromium.org/blink/trunk@1281 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-05 23:49:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cf9f7d13f3b89da2c8fcbacae9aacf553efd1d90');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00uc01l5ate4ixif', 2, e'    Fixed 2938552.  This required an implementation of KHTMLPart::frames which
    is used by the JS window.frames property.


git-svn-id: svn://svn.chromium.org/blink/trunk@1280 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-05 23:49:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/08642b69bd47d5cbb378ee2de6871931b83ae74b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00ud01l5nyzebj69', 2, e'	Fix problem seen as build failure on Jersey.

	* Makefile.am: JavaScriptCore-stamp needs to be a dependency, not a
	source file, because it doesn\'t have a corresponding object file.
	Making it a dependency causes things to compile in the right order.


git-svn-id: svn://svn.chromium.org/blink/trunk@1279 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-05 21:22:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/033f6f9911b403eec61fbec5d787550c9c46b89c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00ue01l5vnkmxtlp', 2, e'Fixed window.top JS property (2939353).  This caused funny recursion problems at www.megapixel.net and other pages that try to pop frames.


git-svn-id: svn://svn.chromium.org/blink/trunk@1278 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-05 21:14:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/775b1b598c4d3fa5868d98bf7c17a902a3c79eec');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00uf01l5p2arao1v', 2, e'    Cleaned up call to frameNamed:.  Now use frame relative naming.
    Fixed various frame related bugs (including www.heinz.com).


git-svn-id: svn://svn.chromium.org/blink/trunk@1277 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-05 20:25:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6fae4875a24d0ae302dc436799b6ac54430db044');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00ug01l5notm5zcs', 2, e'i    Normalized frame naming.  (We still don\'t support cross
    window name lookups.)


git-svn-id: svn://svn.chromium.org/blink/trunk@1276 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-05 20:24:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e4ffc75fab1847ec5a27b20cb699670c15329212');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00uh01l5rq5b3pjp', 2, e'	* kwq/KWQKHTMLPart.mm:
	(KWQKHTMLPartImpl::timerEvent):
	(KWQKHTMLPartImpl::redirectURL):

	Renamed redirectJS to redirectURL to more correctly reflect it\'s
	function.

	(KWQKHTMLPartImpl::urlSelected):

    Fixed 2935505.  We now pop out of a frame if a link is clicked in a frame
    and that frame is the only frame in a frameset.  This emulates the behavior of IE.

	* kwq/KWQKHTMLPartImpl.h:
	* kwq/external.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1275 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-04 23:47:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/047d1a2eaf9b0f5d45d9c9ca8c2632e5bfe3e1a9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00ui01l5zpkxp2ni', 2, e'WebBrowser:

	Added the Downloads window!

	* AppController.h:
	* AppController.m:
	(-[AppController showReleaseNotes:]): no changes
	(-[AppController showDownloads:]): added for menu item
	* DownloadMonitor.h:
	* DownloadMonitor.m: Removed protocol conforming
	(-[DownloadMonitor init]):
	(+[DownloadMonitor sharedDownloadMonitor]):
	(-[DownloadMonitor windowDidLoad]): added
	(-[DownloadMonitor updateProgressUI]): added
	(-[DownloadMonitor _findEntryForDataSource:]): minor clean up
	(-[DownloadMonitor monitorDownload:withProgress:error:dataSource:]): spawns progress timer
	(-[DownloadMonitor validateUserInterfaceItem:]): added
	(-[DownloadMonitor makeSelectedDownloadsPerformSelector:]): added
	(-[DownloadMonitor openSelectedDownloads:]): added
	(-[DownloadMonitor alwaysOpenSelectedDownloads:]): added
	(-[DownloadMonitor stopSelectedDownloads:]): added
	(-[DownloadMonitor revealSelectedDownloads:]): added
	(-[DownloadMonitor toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:]): added
	(-[DownloadMonitor toolbarAllowedItemIdentifiers:]): added
	(-[DownloadMonitor toolbarDefaultItemIdentifiers:]): added
	* DownloadProgressEntry.h:
	* DownloadProgressEntry.m: Made DownloadProgressEntry own the download entry subview
	(-[DownloadProgressEntry _initWithResource:progress:error:dataSource:]):
	(-[DownloadProgressEntry dealloc]):
	(-[DownloadProgressEntry URLStringResized:]): added
	(-[DownloadProgressEntry awakeFromNib]): added
	(-[DownloadProgressEntry updateProgressUI]): added
	(-[DownloadProgressEntry open]): added
	(-[DownloadProgressEntry alwaysOpen]): added
	(-[DownloadProgressEntry stop]): added
	(-[DownloadProgressEntry reveal]): added
	(-[DownloadProgressEntry view]): added
	* English.lproj/DownloadEntry.nib: Added.
	* English.lproj/Downloads.nib: Added.
	* English.lproj/MainMenu.nib: added Downloads to menu
	* ListView.h: Added.
	* ListView.m: Added. Simple class that appends views to each other. Implements selection.
	(-[ListView initWithFrame:]):
	(-[ListView dealloc]):
	(-[ListView drawRect:]):
	(-[ListView acceptsFirstResponder]):
	(-[ListView mouseDown:]):
	(-[ListView isFlipped]):
	(-[ListView isOpaque]):
	(-[ListView validateUserInterfaceItem:]):
	(-[ListView addViewToList:]):
	(-[ListView isSelectedView:]):
	(-[ListView setDelegate:]):
	* LocationChangeHandler.m:
	(-[LocationChangeHandler requestContentPolicyForMIMEType:]): Better filename from URL algorithm
	* ResourceProgressEntry.h: Made error and statusString public
	* Resources/Images/always_open.tiff: Added.
	* Resources/Images/open.tiff: Added.
	* Resources/Images/reveal.tiff: Added.
	* Resources/Images/stop.tiff: Added.
	* WebBrowser.pbproj/project.pbxproj:

WebKit:

	* MIME.subproj/IFDownloadHandler.mm: Use public methods
	* WebView.subproj/IFWebDataSource.h: Made downloadPath public
	* WebView.subproj/IFWebDataSource.mm:
	(-[IFWebDataSource downloadPath]):
	* WebView.subproj/IFWebDataSourcePrivate.h:
	* WebView.subproj/IFWebDataSourcePrivate.mm:


git-svn-id: svn://svn.chromium.org/blink/trunk@1274 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-06-04 23:27:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/14c6e26f1969c47367ecd158b072f7f11779bb67');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00uj01l59fyo07zq', 2, e'    More exclusion for pre 6C48.


git-svn-id: svn://svn.chromium.org/blink/trunk@1273 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-04 22:49:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/56b7b66a8718f1419f95bc65ba54ff9c3b79ae08');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00uk01l55cbjdvzy', 2, e'	Improve the speed of the JavaScript string append operation by growing
	the capacity so we don\'t need to reallocate the string every time.

	Also fix script execution so it doesn\'t use recursion to advance from
	one statement to the next, using iteration instead.

	* Makefile.am: Stop using BUILT_SOURCES to build JavaScriptCore-stamp,
	because this causes the Project Builder project to build *before* the
	subdir. Intead, use an all-am rule in a way more similar to all our
	other directories.

	* kjs/grammar.y: Link the SourceElementsNode in the opposite direction,
	so we can walk the list and execute each element instead of using
	recursion to reverse the list.
	* kjs/grammar.cpp: Check in new generated file.

	* kjs/nodes.cpp:
	(SourceElementsNode::execute):
	(SourceElementsNode::processFuncDecl):
	(SourceElementsNode::processVarDecls):
	Use loops instead of recursion.

	* kjs/ustring.h: Don\'t initialize all UChar objects to 0. This was
	wasting a *huge* amount of time.
	* kjs/ustring.cpp:
	(UString::Rep::create): Add a "capacity" along with the length.
	(UString::append): Include 50% extra capacity when appending.
	(UString::operator=): Reuse the buffer if possible rather than
	always creating a new one.


git-svn-id: svn://svn.chromium.org/blink/trunk@1272 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 22:33:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/262b64ac9cd16af9e459a83996db6497bcfe7769');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00ul01l5z1qaxjql', 2, e'2002-06-04  Kenneth Kocienda  <kocienda@apple.com>

        * WebCore/kwq/kwqdebug.h: Added a line of stderr output into the
        assertion failure code so that we have some idea of what happened.

        * WebFoundation/Misc.subproj/WebFoundationDebug.h: Added a line of stderr output into the
        assertion failure code so that we have some idea of what happened.

        * WebKit/Misc.subproj/WebKitDebug.h: Added a line of stderr output into
        the assertion failure code so that we have some idea of what happened.


git-svn-id: svn://svn.chromium.org/blink/trunk@1271 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-06-04 22:16:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a33f4f77278ba0e72efa060c5fd5f0f25f391834');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00um01l59rffje6z', 2, e'    Excluded call to new API until everyone has moved to >= 6C48.


git-svn-id: svn://svn.chromium.org/blink/trunk@1270 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-04 22:06:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/84306402e1d87a7f391df8c9f66e3a10185f26f4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00un01l52xp8b9t5', 2, e'Fix stray chars in log.


git-svn-id: svn://svn.chromium.org/blink/trunk@1269 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 19:17:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9e6a3cacae7031f6fd1b958a0daf0d4784c12df8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00uo01l5wkphv1ty', 2, e'    Changes to support progressive image loading.  Currently disabled
    until 2945218 is fixed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1268 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-06-04 18:55:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/054de8025e81df77a67ccf32e377c18bfce768b2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00up01l5yrcpjfi9', 2, e'oops, forgot to save ChangeLog


git-svn-id: svn://svn.chromium.org/blink/trunk@1267 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 18:03:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/118e42dd22d32c80a1f27ba400f6399adb5a6b60');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00uq01l5nhhsc54f', 2, e'	- fixed 2932862 -- exception -[NSCFArray getObjects:range:]: index (137)
	beyond bounds (10)

	* WebView.subproj/IFWebViewPrivate.mm:
	(-[IFWebView _stopPlugins]):
	(-[IFWebView _removeSubviews]):
	Make a copy of the subviews list so that changes to the list don\'t screw
	up the iterating logic.


git-svn-id: svn://svn.chromium.org/blink/trunk@1266 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 18:02:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/84a7f910a999c92194dd64dc0ce73f7af3818077');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00ur01l5mnd5bthp', 2, e'
	Made changes here while working on Undo for removing history entries.

	* History.subproj/IFWebHistory.h:
	New methods addEntries: and removeEntries:, deleted method
	removeEntriesForDay: (use removeEntries: instead).

	* History.subproj/IFWebHistory.m:
	(-[IFWebHistory addEntries:]),
	(-[IFWebHistory removeEntries:]): New methods, each takes an array of
	entries. Useful for doing multiple things at a time to minimize
	notifications.
	(-[IFWebHistory removeEntriesForDay:]): deleted this now-unnecessary method.
	* History.subproj/IFWebHistoryPrivate.h:
	* History.subproj/IFWebHistoryPrivate.m:
	(-[IFWebHistoryPrivate removeEntries:]):
	(-[IFWebHistoryPrivate removeAllEntries]):
	(-[IFWebHistoryPrivate addEntries:]): Private implementations for the
	public changes.


	- fixed 2867813 -- should be able to Undo deleting history entries.
	- fixed awkwardness where item in Bookmarks window would have its
	name selected for edit when you made a multiple selection.

	* GlobalHistory.h: added _performingUndoableAction ivar;
	removed removeAll.

	* GlobalHistory.m:
	(-[GlobalHistory receivedEntriesChangedNotification:]):
	if not _performingUndoableAction, throw away undo/redo stacks
	when change comes in.

	(-[GlobalHistory windowWillClose:]):
	Throw away undo/redo stacks when window closes, to minimize
	memory use.

	(-[GlobalHistory removeSelectedItems:]):
	Collect up items to remove and then remove them in one batch;
	register for undo with _undoRemoveEntries. No longer special-case
	removeAll.

	(-[GlobalHistory _undoRemoveEntries:]):
	Restore items previously removed; register for undo with
	_removeEntries (since we don\'t restore selection, for various
	reasons to boring to go into here).

	(-[GlobalHistory _removeEntries:]): Remove again items previously
	restored; register for undo with _undoRemoveEntries.

	(-[GlobalHistory selectAll:]): Removed obsolete comment.

	* OutlineViewPlus.m:
	(-[OutlineViewPlus mouseDown:]): Only edit the clicked cell if
	it\'s the only selected row.


git-svn-id: svn://svn.chromium.org/blink/trunk@1265 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-06-04 17:34:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b44d1df23c6c717b350ea1ea99d1964b7c834e7d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00us01l5x0ucwtwu', 2, e'	- fixed 2943513 -- move StringTruncator into WebKit from WebBrowser so we
	don\'t need text measuring API exported

	* WebKit.pbproj/project.pbxproj: No longer export the text renderer headers
	as Private.


git-svn-id: svn://svn.chromium.org/blink/trunk@1264 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 17:19:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/da5953f08d88985eb430996d9f58c39c25bf2da5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00ut01l51g6kv8z9', 2, e'	* WebKit.pbproj/project.pbxproj: Exported IFStringTruncator.h as Private.


git-svn-id: svn://svn.chromium.org/blink/trunk@1263 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 17:14:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/559557998abb78c0d9f9d8588fa03cb09ad71523');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00uu01l59m3iat4u', 2, e'	Moved the string truncator class here from WebBrowser so we don\'t have to
	export our text machinery.

	* WebKit.pbproj/project.pbxproj:
	* Misc.subproj/IFStringTruncator.h: Added.
	* Misc.subproj/IFStringTruncator.m: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@1262 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 17:09:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a57aba6d9175540056e64bb1de96558726528db');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00uv01l5vxbsazyc', 2, e'	- fixed 2943897 -- Initial uncached load of amazon.com renders partial page.

	* khtml/khtml_part.cpp: (KHTMLPart::setEncoding): Put the code that
	reloads the page when the encoding is changed back inside APPLE_CHANGES.
	This was causing partial loads because of how it interacts with our
	way of saving up text and not decoding until we discover what the
	encoding is.


git-svn-id: svn://svn.chromium.org/blink/trunk@1261 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 16:47:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1ce0077abff7225faf11f1484d20f973b89161e0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmnkg00uw01l55kemrdq3', 2, e'	* LICENSE: Add 2002.

	* kwq/KWQApplication.mm:
	* kwq/kdecore/kapplication.h:
	* kwq/qt/qapplication.h:
        Found a way to simplify the application objects by making more of
        the functions static so we don\'t need to actually allocate an object.

	* kwq/Makefile.am:
	* kwq/KWQKApplication.mm: Removed.
	* kwq/kdecore/kapp.h: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1260 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 05:23:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bc516686e86447d6e2ed25ef8eb7f5fc3aa2b716');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00t901l5p025tsmy', 2, e'	* WebCoreSupport.subproj/IFImageRenderer.m:
	(-[IFImageRenderer beginAnimationInView:inRect:fromRect:]): Remove the "fix"
	for the nonexistent storage leak. Richard showed me the error of my ways.


git-svn-id: svn://svn.chromium.org/blink/trunk@1259 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 03:40:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/05fb9ade808609cba834ab54b2b9fda401d258c9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00ta01l5tih1yx03', 2, e'	A few more unused things.

	* kwq/Makefile.am: Removed KWQKProcess.mm
	* kwq/KWQKProcess.mm: Removed.
	* kwq/KWQStrList.h: Removed.
	* kwq/kdecore/kprocess.h: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1258 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 01:01:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f56e4067892667915dc6ca3ac70b7522bb62fae5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tb01l5ioj36uy6', 2, e'	Forgot one file.

	* kwq/qt/qframe.h: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@1257 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 00:53:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/29acb1b065a2e2f346890c029e1174f1dd347bc3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tc01l5cf2mz8ju', 2, e'	* acconfig.h: Remove APPLE_CHANGES (done in compiler invocation),
	_KWQ_ (not needed any more), _KWQ_PEDANTIC_ (not needed any more),
	and _KWQ_IOSTREAM_ (set by KWQDef.h now).

	* configure.in: Remove explict gcc3 and g++3; not needed on Jaguar.
	Remove APPLE_CHANGES, _KWQ_, _KWQK_PEDANTIC_, and _KWQ_IOSTREAM_.
	Do an AC_SUBST on COMMON_CFLAGS so the flags are used to generate the
	.pfe files. Add conditional stuff so that WebCore exports less and
	the Tests subdirectory is not build in Deployment style builds.

	* Makefile.am: Only build Tests subdir when configure.in says it should.

	* Tests/draw/*: Removed.

	* Tests/qt/qbuffer-test.cpp: (main): Update for QBuffer changes.
	* Tests/qt/qrect-test.cpp: (main): Remove unused variable.

	* Tools/jersey/README: Fix newlines.
	* Tools/jersey/html/advanced.html: Fix newlines.

WebCore:

	Get rid of many unneeded APPLE_CHANGES.
	Also get rid of _KWQ_ and _KWQ_PEDANTIC_.

	* WebCore.exp: Don\'t export DomShared::ref/deref any more.
	* WebCore-tests.exp: Changed around as needed due to changes in
	the classes being tested.

	* khtml/html/htmlparser.cpp:
	* khtml/html/htmltokenizer.cpp:
	Simplified APPLE_CHANGES for better merging.

	* khtml/dom/dom_misc.h:
	* khtml/dom/dom_misc.cpp:
	* khtml/dom/html_document.cpp:
	* khtml/khtmlview.cpp:
	* khtml/ecma/kjs_css.h:
	* khtml/ecma/kjs_dom.cpp:
	* khtml/ecma/kjs_dom.h:
	* khtml/ecma/kjs_window.cpp:
	* khtml/html/html_formimpl.cpp:
	* khtml/html/html_objectimpl.cpp:
	* khtml/misc/helper.cpp:
	* khtml/rendering/bidi.cpp:
	* khtml/rendering/render_flow.cpp:
	* khtml/rendering/render_form.cpp:
	* khtml/rendering/render_text.cpp:
	* khtml/xml/xml_tokenizer.h:
	* kwq/qt/qtextedit.h:
	Remove now-unneeded APPLE_CHANGES.

	* khtml/misc/loader.cpp: (CachedImage::pixmap): Turned off more of
	the QMovie code.

	* khtml/html/html_documentimpl.cpp:
	* khtml/html/htmltokenizer.h:
	* khtml/xml/dom_elementimpl.h:
	* kwq/KWQKHTMLPart.mm:
	Formatting and other minor tweaks.

	* kwq/KWQApplication.mm: (QApplication::sendEvent): Implemented.
	* kwq/KWQChar.mm: (QChar::direction): Improved implementation.

	* kwq/KWQCollection.h: Removed.
	* kwq/KWQIcon.h: Removed.

	* kwq/Makefile.am: Removed following files.
	* kwq/KWQKCompletionBox.mm: Removed.
	* kwq/KWQKFactory.mm: Removed.
	* kwq/KWQListBox.mm: Removed.
	* kwq/KWQKImageIO.mm: Removed.

	* kwq/KWQObject.mm: (QObject::event): Added, does nothing.
	(QObject::inherits): Put in real implementation (good enough for us).

	* kwq/WCWebDataSource.h: Removed extern declaration of global.

	* kwq/KWQCursor.mm: (QCursor::handle): Made the handle be an
	NSCursor *.

	* kwq/external.h: Moved [IFWebView setFrameSize:] here.
	Got rid of IFAnimatedImage.

	* kwq/KWQDef.h: Remove unused Q_INT8, Q_INT16, Q_UINT8, Q_UINT16,
	QCOORD, WFlags, WId, ASSERT, CHECK_PTR, Q_EXPORT, Q_PACKED,
	QT_STATIC_CONST, QT_STATIC_CONST_IMPL. Define _KWQ_IOSTREAM_ only
	when NDEBUG is not defined.

	* kwq/KWQBuffer.mm:
	* kwq/KWQCString.mm:
	* kwq/KWQCollection.mm:
	* kwq/KWQCompletion.h:
	* kwq/KWQCompletion.mm:
	* kwq/KWQFrame.h:
	* kwq/KWQFrame.mm:
	* kwq/KWQHBox.mm:
	* kwq/KWQKFileItem.mm:
	* kwq/KWQKIconLoader.mm:
	* kwq/KWQKLineEdit.mm:
	* kwq/KWQKProtocolManager.mm:
	* kwq/KWQLabel.mm:
	* kwq/KWQListBox.h:
	* kwq/KWQMovie.mm:
	* kwq/KWQWidget.mm:
	* kwq/KWQxml.mm:
	* kwq/qt/qbuffer.h:
	* kwq/kdecore/kdebug.h:
	* kwq/kdecore/kglobal.h:
	* kwq/kdecore/kglobalsettings.h:
	* kwq/kdecore/kiconloader.h:
	* kwq/kdecore/kstaticdeleter.h:
	* kwq/kdecore/kstringhandler.h:
	* kwq/kdeui/kcombobox.h:
	* kwq/kdeui/kcompletionbox.h:
	* kwq/kdeui/klineedit.h:
	* kwq/kdeui/klistbox.h:
	* kwq/kdeui/kmessagebox.h:
	* kwq/kio/kfileitem.h:
	* kwq/kio/kimageio.h:
	* kwq/kio/kmimetype.h:
	* kwq/kio/kprotocolmanager.h:
	* kwq/kio/netaccess.h:
	* kwq/qt/qxml.h:
	* kwq/kparts/browserinterface.h:
	* kwq/kparts/factory.h:
	* kwq/kparts/part.h:
	* kwq/qt/qarray.h:
	* kwq/qt/qcollection.h:
	* kwq/qt/qcstring.h:
	* kwq/qt/qcursor.h:
	* kwq/qt/qdict.h:
	* kwq/qt/qhbox.h:
	* kwq/qt/qlabel.h:
	* kwq/qt/qlist.h:
	* kwq/qt/qmap.h:
	* kwq/qt/qmovie.h:
	* kwq/qt/qobject.h:
	* kwq/qt/qpaintdevicemetrics.h:
	* kwq/qt/qpainter.h:
	* kwq/qt/qpoint.h:
	* kwq/qt/qradiobutton.h:
	* kwq/qt/qrect.h:
	* kwq/qt/qregion.h:
	* kwq/qt/qscrollview.h:
	* kwq/qt/qsize.h:
	* kwq/qt/qstack.h:
	* kwq/qt/qstringlist.h:
	* kwq/qt/qtextedit.h:
	* kwq/qt/qvaluelist.h:
	* kwq/qt/qvector.h:
	* kwq/qt/qwidget.h:
	* kwq/qt/qxml.h:
	Removed unused stuff.

	* kwq/KWQListBox.mm:
	* kwq/KWQMapImpl.h:
	* kwq/KWQMapImpl.mm:
	* kwq/KWQPainter.mm:
	* kwq/KWQPoint.mm:
	* kwq/KWQRadioButton.mm:
	* kwq/KWQRect.mm:
	* kwq/KWQRegion.mm:
	* kwq/KWQScrollBar.h:
	* kwq/KWQScrollView.mm:
	* kwq/KWQSize.mm:
	* kwq/KWQStringList.mm:
	* kwq/KWQbrowserinterface.mm:
	Simplified.

	* kwq/kdecore/kurl.h:
	Added include to match what\'s expected by clients.

	* kwq/qt/qobjectlist.h: Added. Empty file to make includers happy.

	* kwq/khtml/khtml_printsettings.h: Added. Empty file.
	* kwq/qt/qobjectlist.h: Added. Empty file.

	* kwq/kio/kssl/ksslkeygen.h: Define just enough to make callers
	happy.

	* kwq/qt/qobject.h: Added event().
	* kwq/kparts/part.h: Added bool return type to event().
	* kwq/qt/qvector.h: Added QGVector base class.


git-svn-id: svn://svn.chromium.org/blink/trunk@1256 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-04 00:19:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ab79fc092789c484148713a2b461d4879324763a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00td01l5g0rmgt0g', 2, e'
	Richard told me which line to change to fix 2944237
	(Stop item in View menu enabled on startup if you have
	no home page.)

	* WebView.subproj/IFWebDataSource.mm:
	(-[IFWebDataSource isLoading]):
	Don\'t return YES if !_private->loading.

	- fixed 2943189 -- Single-click to edit in Bookmarks window should
	wait for double-click interval.

	* OutlineViewPlus.h: new _startEditTimerOnMouseUp instance variable
	* OutlineViewPlus.m:
	(-[OutlineViewPlus _cancelEditOnMouseUp]):
	clear _startEditTimerOnMouseUp as well as cancelling timer.

	(-[OutlineViewPlus dragImageForRows:event:dragImageOffset:]):
	clear _startEditTimerOnMouseUp variable.

	(-[OutlineViewPlus mouseDown:]): Don\'t start timer until mouseUp,
	since double-click interval is defined from mouseUp to mouseDown;
	use _startEditTimerOnMouseUp variable beforehand so dragging can
	cancel pending edit.

	* BrowserDocument.m:
	(-[BrowserDocument isLoading]): Tweaked this method while debugging
	another problem; liked the new formulation better.


git-svn-id: svn://svn.chromium.org/blink/trunk@1255 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-06-03 21:35:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f52f07be95935e067203be61b0e383b4dea46c52');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00te01l54fiaa466', 2, e'	* COPYING.LIB: Fix line endings. It was using CRs.


git-svn-id: svn://svn.chromium.org/blink/trunk@1254 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-02 23:16:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/55fa1e4ff79e8a8ac69d048858603d6b006f4f1d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tf01l5v12utiw6', 2, e'	* WebCoreSupport.subproj/IFImageRenderer.m:
	(-[IFImageRenderer beginAnimationInView:inRect:fromRect:]):
	Remove an assert I added, since it is firing, and instead fixed the storage leak
	that inspired me to put the assert in.


git-svn-id: svn://svn.chromium.org/blink/trunk@1253 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-01 19:40:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ec2cd1314ca5ccd686d610fc7b7ca61510b43d08');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tg01l5ajrnzjih', 2, e'	* kwq/KWQPtrDictImpl.mm: (KWQPtrDictPrivate::~KWQPtrDictPrivate):
	Fix compile error.


git-svn-id: svn://svn.chromium.org/blink/trunk@1252 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-01 16:32:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a250af5fd2f9f0b9f05c9396e09ad6e5cd9c3a5e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00th01l5nl9x0d00', 2, e'	Fix infinite loop while cancelling bug that was caused by dictionary
	iterators not getting updated when keys are removed.

	* kwq/KWQPtrDictImpl.mm:
	(KWQPtrDictPrivate::KWQPtrDictPrivate): Set iterators list to 0.
	(KWQPtrDictPrivate::~KWQPtrDictPrivate): Tell iterators dict is gone.
	(KWQPtrDictImpl::remove): Tell each iterator that the item was removed.
	(KWQPtrDictIteratorPrivate::KWQPtrDictIteratorPrivate): Insert the
	iterator into a list with a head stored in the dict.
	(KWQPtrDictIteratorPrivate::~KWQPtrDictIteratorPrivate): Remove the
	iterator from the list.
	(KWQPtrDictIteratorPrivate::remove): Remove the key from the iterator\'s
	private storage.
	(KWQPtrDictIteratorPrivate::dictDestroyed): Clear out the dict pointer
	and set the count to 0.

	* kwq/KWQPtrDictImpl.h: Move private classes out so they can get at each
	other without being friends of each other.

	* kwq/qt/qptrdict.h: Simplify a bit.


git-svn-id: svn://svn.chromium.org/blink/trunk@1251 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-01 06:07:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/157f359acc7705f21cef5dc0e687c2751b8b8dc3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00ti01l5uf1ctnf3', 2, e'	* khtml/khtmlview.h: Add KWQKHTMLPartImpl as friend class, remove khtml_part.h
	include that we added inside APPLE_CHANGES.

	* kwq/KWQKHTMLPart.mm: (KWQKHTMLPartImpl::end): Reinstate a line of code that
	required friend status.

	* kwq/KWQView.mm: Add include of khtml_part.h.


git-svn-id: svn://svn.chromium.org/blink/trunk@1250 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-01 03:57:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1b8978c2c18f92391ebc0411d3d5ec1393c51b89');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tj01l5o1narbgv', 2, e'	* WebView.subproj/IFWebViewPrivate.mm: Add include to prepare for change to WebCore
	that will make it required.


git-svn-id: svn://svn.chromium.org/blink/trunk@1249 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-01 01:11:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/59c2fd95bbb4f2a388cc8e419561e00ad16ee301');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tk01l5riymurz0', 2, e'	* kwq/kwqdebug.h: Don\'t use displayableString; it\'s an SPI and those
	are no nos inside WebCore.


git-svn-id: svn://svn.chromium.org/blink/trunk@1248 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-01 00:04:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d3bfc11e70da45f8c01916a3c0fea4062779a640');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tl01l5t9clgs0v', 2, e'	* WebCoreSupport.subproj/IFImageRenderer.h: Fixed the line endings (they were
	Macintosh CRs instead of Unix LFs). Also made all the methods be private for
	now since there\'s no need to have them be public.

	* WebCoreSupport.subproj/IFImageRenderer.m: Fixed the line endings (they were
	Macintosh CRs instead of Unix LFs). Some minor code tweaks too sharing a bit
	more code.

	* WebCoreSupport.subproj/IFImageRendererFactory.m:
	(-[IFImageRendererFactory imageRendererWithSize:]): Return an IFImageRenderer
	rather than just an NSImage, since an NSImage does not satisfy WebCoreImageRenderer.


git-svn-id: svn://svn.chromium.org/blink/trunk@1247 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-06-01 00:03:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/04460ce7bbf81a5483e5413264db13577467e09a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tm01l5g4np9j2u', 2, e'	* kwq/kio/jobclasses.h: Removed SimpleJob and made Job just enough for
	TransferJob to inherit from it. Removed unused stuff and made url() return
	an NSURL rather than a KURL.
	* kwq/KWQKjobclasses.mm: Removed much of the code, and reworked what
	remains to simplify it.
	* kwq/KWQKloader.mm: Update users of TransferJob::url since it now returns
	an NSURL rather than a KURL.

	* kwq/kio/job.h: Simplify.
	* kwq/KWQKJob.mm: Simplify.

	* kwq/kio/scheduler.h: Emptied this file out.
	* kwq/KWQKScheduler.mm: Removed.
	* kwq/Makefile.am: Removed KWQKScheduler.mm.


git-svn-id: svn://svn.chromium.org/blink/trunk@1246 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-31 18:33:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/57a25547aef9f1b174b970c7fb867e561d3de5c0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tn01l50vxlmk6v', 2, e'	Remove some unused stuff; total of 1000s of lines.

	* Makefile.am: Removed some strange uses of "./" and
	improved stamp-related rules.

	* WebCore-tests.exp: Removed QDir functions.

	* khtml/Makefile.am: Removed java subdirectory.
	* khtml/java/*: Removed.
	* khtml/rendering/render_applet.cpp: Rearrange APPLE_CHANGES so
	that we use our own KJavaAppletWidget rather than a QWidget.
	* kwq/khtml/java/kjavaappletcontext.h: Added.
	* kwq/khtml/java/kjavaappletwidget.h: Added.
	* kwq/KWQKJavaAppletWidget.mm: Added. Replaces WCJavaAppletWidget.mm.
	* kwq/KWQsignals.mm: Removed java-related signals.

	* khtml/css/Makefile.am:
	* khtml/misc/Makefile.am:
	Improve stamp-related rules.

	* khtml/misc/loader.cpp: Move around and add ifdefs so we don\'t
	need as much KWQ code. Maybe revisit this later -- related to the
	KDE implementation of animated and progressive loading images,
	which we probably don\'t need, but it may integrate slightly better than
	doing our hacks inside QPixmap.

	* kwq/KWQApplication.mm:
	* kwq/KWQFontInfo.mm:
	* kwq/KWQInputDialog.mm:
	* kwq/KWQKFileDialog.mm:
	* kwq/KWQKHTMLPartBrowserExtension.mm:
	* kwq/KWQKWin.mm:
	* kwq/KWQKWinModule.mm:
	* kwq/KWQKstddirs.mm:
	* kwq/KWQPixmap.mm:
	Simplified, removed unused code, minor tweaks.

	* kwq/Makefile.am: Removed all the old files, added some new ones.
	* kwq/KWQBitmap.mm: Removed.
	* kwq/KWQBrush.mm: Removed.
	* kwq/KWQDCOPClient.mm: Removed.
	* kwq/KWQDataStream.h: Removed.
	* kwq/KWQDir.mm: Removed.
	* kwq/KWQFontDatabase.mm: Removed.
	* kwq/KWQImage.mm: Removed.
	* kwq/KWQKInstance.mm: Removed.
	* kwq/KWQPaintDevice.mm: Removed.
	* kwq/KWQPart.mm: Removed.
	* kwq/KWQasyncimageio.mm: Removed.
	* kwq/KWQasyncio.mm: Removed.
	* kwq/KWQbrowserextension.mm: Removed.
	* kwq/WCJavaAppletWidget.h: Removed.
	* kwq/WCJavaAppletWidget.mm: Removed.
	* kwq/qt/qdatastream.h: Removed.
	* kwq/qt/qdir.h: Removed.
	* kwq/qt/qlayout.h: Removed.

	* kwq/KWQCursor.mm:
	(QCursor::handle): Return the cursor object as an integer rather than
	just returning 0; makes the code that uses handle() more likely to work
	although it introduces a 64-bit cleanliness problem.

	* kwq/KWQEvent.mm: Initialize event type in QEvent subclasses.

	* kwq/WebCoreImageRenderer.h: Added NSObject and NSCopying protocols to
	the WebCoreImageRenderer protocol.

	* kwq/kwqdebug.h: Use displayableString in DEBUG_OBJECT for better logging.

	* kwq/dcop/dcopclient.h:
	* kwq/kdecore/kstddirs.h:
	* kwq/kdecore/kwin.h:
	* kwq/kdecore/kwinmodule.h:
	* kwq/kfile/kfiledialog.h:
	* kwq/kparts/browserextension.h:
	* kwq/kparts/event.h:
	* kwq/qt/qapplication.h:
	* kwq/qt/qasyncimageio.h:
	* kwq/qt/qasyncio.h:
	* kwq/qt/qbitmap.h:
	* kwq/qt/qbrush.h:
	* kwq/qt/qbutton.h:
	* kwq/qt/qcheckbox.h:
	* kwq/qt/qcollection.h:
	* kwq/qt/qcolor.h:
	* kwq/qt/qcombobox.h:
	* kwq/qt/qcursor.h:
	* kwq/qt/qdrawutil.h:
	* kwq/qt/qevent.h:
	* kwq/qt/qfont.h:
	* kwq/qt/qfontdatabase.h:
	* kwq/qt/qfontinfo.h:
	* kwq/qt/qimage.h:
	* kwq/qt/qinputdialog.h:
	* kwq/qt/qintcache.h:
	* kwq/qt/qintdict.h:
	* kwq/qt/qpaintdevice.h:
	* kwq/qt/qpixmap.h:
	* kwq/qt/qstring.h:
	Removed lots of unused stuff, including old conditionals and the like.

	* khtml/khtml_part.cpp:
	(KHTMLPart::khtmlMouseMoveEvent): Add missing parenthesis.


git-svn-id: svn://svn.chromium.org/blink/trunk@1245 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-31 14:35:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7f4c4e20d5777efe8f099159faae0366590d231d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00to01l5r8118h87', 2, e'        * Makefile.am:
        * kjs/Makefile.am:
        Slight improvements to rules that touch stamp files.


git-svn-id: svn://svn.chromium.org/blink/trunk@1244 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-31 14:05:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/24f3dca633aad62534e53d376c2dfea56c80becd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tp01l5l7nc1f9h', 2, e'	* Misc.subproj/WebKitDebug.h: Use displayableString in DEBUG_OBJECT
	for nicer logging.

	* WebView.subproj/IFWebView.mm:
	(-[IFWebView keyDown:]):
	(-[IFWebView keyUp:]):
	Use DEBUG_OBJECT so we don\'t get exceptions when the key characters
	are not simple ASCII characters.


git-svn-id: svn://svn.chromium.org/blink/trunk@1243 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-31 14:05:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/414247cb29a34677b0ff6bae675738b157a38f70');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tq01l5nkopg97o', 2, e'    API and comment cleanup.


git-svn-id: svn://svn.chromium.org/blink/trunk@1242 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-31 01:48:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d0d3c1c8db26916d1ca9a580896c7441df136e9b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tr01l5lvrhz9d8', 2, e'WebCore:
	WebCore part of fixes for:

	Radar 2926169 - no support for window.open
	Radar 2890469 - Preference to prevent JavaScript from automatically
	opening new windows doesn\'t work
	Radar 2938569 - link cursor does not appear on some pages

	* khtml/ecma/kjs_window.cpp:
	(WindowFunc::tryCall): #ifdef\'d out some parts of this code that are
	broken (but fortunately also unnecessary) in our project.
	* kwq/KWQKConfigBase.mm:
	(KConfig::KConfig): Changes to support JavaScript window opening pref.
	(KConfig::readUnsignedNumEntry): Likewise.
	* kwq/KWQKHTMLPart.mm:
	(KHTMLPart::openURLInFrame): Implemented.
	* kwq/KWQKHTMLPartBrowserExtension.mm:
	(KHTMLPartBrowserExtension::KHTMLPartBrowserExtension): Implemented.
	(KHTMLPartBrowserExtension::openURLRequest): Implemented by
	calling openURLInFrame on the part.
	(KHTMLPartBrowserExtension::createNewWindow): Implemented by
	calling new WebController openNewWindowWIthURL method.
	* kwq/KWQKHTMLSettings.mm:
	(KHTMLSettings::isJavaScriptEnabled): Handle renaming of pref.
	* kwq/KWQView.mm:
	(-[KWQHTMLView setCursor:]): Fixes to set cursor properly even if
	none was set.
	* kwq/external.h: Declare some new WebKit methods.
	* kwq/kparts/browserextension.h: Make formerly empty methods pure virtual.
	* kwq/khtml/khtml_ext.h: Declare some virtual methods.

WebKit:
	WebKit parts of fixes for:

	Radar 2926169 - no support for window.open
	Radar 2890469 - Preference to prevent JavaScript from automatically
	opening new windows doesn\'t work
	Radar 2938569 - link cursor does not appear on some pages

	* WebView.subproj/IFWebController.h:
	Added openNewWindowWithURL: method for the benefit of JavaScript.
	* WebView.subproj/IFBaseWebController.mm:
	(-[IFBaseWebController openNewWindowWithURL:]): No-op default
	implementation.
	* WebView.subproj/IFDynamicScrollBarsView.h:
	* WebView.subproj/IFDynamicScrollBarsView.m:
	(-[IFDynamicScrollBarsView setCursor:]): Fix cursor handling.
	(-[IFDynamicScrollBarsView resetCursorRects]): Likewise.
	* WebView.subproj/IFWebView.mm:
	(-[IFWebView mouseMovedNotification:]): Likewise.
	(-[IFWebView setCursor:]): Likewise.
	* WebView.subproj/IFPreferences.h:
	* WebView.subproj/IFPreferences.mm:
	(-[IFPreferences javaScriptEnabled]): Renamed from jScriptEnabled.
	(-[IFPreferences setJavaScriptEnabled:]): Renamed from setJScriptEnabled.
	(-[IFPreferences javaScriptCanOpenWindowsAutomatically]): New method.
	(-[IFPreferences setJavaScriptCanOpenWindowsAutomatically:]): Likewise.
	* WebView.subproj/IFWebFrame.mm:
	(-[IFWebFrame initWithName:view:provisionalDataSource:controller:]): Create
	a dummy provisional data source if none is provided, so we always have a part
	for the frame.

WebBrowser:


git-svn-id: svn://svn.chromium.org/blink/trunk@1241 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-31 00:41:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1d60dc4d1bd1ae1d2c5704113ac0d62bfeccb4b9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00ts01l5wys5n1al', 2, e'WebCore:

	Cut down our copied and pasted code even more.

	* WebCore.exp: Change what\'s exported for things that moved from
	KHTMLPart into KWQKHTMLPartImpl.

	* khtml/.cvsignore:
	* khtml/css/.cvsignore:
	* khtml/dom/.cvsignore:
	* khtml/ecma/.cvsignore:
	* khtml/html/.cvsignore:
	* khtml/java/.cvsignore:
	* khtml/misc/.cvsignore:
	* khtml/rendering/.cvsignore:
	* khtml/xml/.cvsignore:
	Some .cvsignore hygiene.

	* khtml/khtml_part.cpp: Use a lot more of this file, rather than using a copy inside
	the kwq directory. Now we have KWQKHTMLPartImpl for the part that does need to be in kwq.
	* khtml/khtml_part.h: Add KWQKHTMLPartImpl pointer, remove most of the other APPLE_CHANGES.
	* khtml/khtmlpart_p.h: Remove almost all of the APPLE_CHANGES.
	* kwq/KWQKHTMLPart.mm: Changed everything from being part of KHTMLPart to be a separate
	KWQKHTMLPartImpl class. Minimized copied and pasted code; still more to do.
	* kwq/KWQKHTMLPartImpl.h: Added. Interface so KHTMLPart can call into kwq as necessary.

	* khtml/misc/Makefile.am: Added loader.cpp.
	* khtml/misc/loader.cpp: Added from KDE 3.0. Rolled most of the changes from KWQKloader.mm
	in here. The kwq-specific part is now in a KWQLoaderImpl class.
	* khtml/misc/loader.h: Replace LoaderPrivate with KWQLoaderImpl.
	* khtml/misc/loader.moc: Added empty file.
	* kwq/KWQKloader.mm: Changed everything to be a separate KWQLoaderImpl class.
	Minimized copied and pasted code.
	* kwq/KWQLoaderImpl.h: Added. Interface so loader can call into kwq as necessary.
	* kwq/loader.moc: Removed empty file.

	* kwq/kparts/historyprovider.h: Add HistoryProvider::insert.
	* kwq/KWQKHistoryProvider.mm: Add HistoryProvider::insert.

	* kwq/KWQKLocale.mm: (KLocale::language): Simplify.

	* kwq/KWQListBox.h:
	* kwq/KWQNSTextField.h:
	Use import instead of include for Cocoa.h.

	* kwq/KWQScrollView.mm: (QScrollView::contentsToViewport): Implement this.

	* kwq/external.h: Add declarations so this can be included cleanly.

	* kwq/khtml/khtml_pagecache.h: Put a no-op cache in here so we don\'t have to do so
	many APPLE_CHANGES ifdefs.

	* kwq/kparts/part.h: Put ref/deref and event/customEvent in here so they don\'t need
	to be added to KHTMLPart.

	* kwq/kio/scheduler.h: Add <qtimer.h> include to help us build (not sure if it\'s
	really needed.
	* kwq/kparts/partmanager.h: Add <qdatetime.h> include to help us build (not sure if it\'s
	really needed.

WebKit:

	Use methods in KWQKHTMLPartImpl that were moved there from KHTMLPart.

	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandle:didRedirectToURL:]):
	(-[IFMainURLHandleClient processData:isComplete:allDataReceived:]):
	* WebView.subproj/IFWebDataSource.mm:
	(-[IFWebDataSource documentText]):
	* WebView.subproj/IFWebDataSourcePrivate.mm:
	(-[IFWebDataSource _setController:]):
	* WebView.subproj/IFWebFramePrivate.mm:
	(-[IFWebFrame _isLoadComplete]):
	* WebView.subproj/IFWebView.mm:
	(-[IFWebView provisionalDataSourceChanged:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1240 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-30 21:52:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c79744a8f3dbea21fce571beed3d1674bba58122');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tt01l5w735fqtt', 2, e'	* THANKS: Demangled.


git-svn-id: svn://svn.chromium.org/blink/trunk@1239 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-30 21:01:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e61045733f8d82c4039b008d6ee86fba58241e8d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tu01l5wao0mo7n', 2, e'        Use NSWorkspace methods instead of Launch Services and Finder functions.

        * MIME.subproj/IFDownloadHandler.h:
        * MIME.subproj/IFDownloadHandler.mm:
        * WebView.subproj/IFWebFrame.mm:
        (-[IFWebFrame setProvisionalDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1238 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-30 18:55:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fa68a3211564b012c51688b6df73124135ca9560');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tv01l5tzo5tau2', 2, e'Alex-7 version


git-svn-id: svn://svn.chromium.org/blink/trunk@1236 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-05-30 16:15:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cdd7fc68932771e8a6562ee2589240913a6b68a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tw01l5m8glapzu', 2, e'    Added \'canDraw\' check to ensure that we can render
    an image frame.


git-svn-id: svn://svn.chromium.org/blink/trunk@1235 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-30 15:38:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/40445ff85a38947c6cb6ae893b2a6495ffe10b5d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tx01l5wmkh75ou', 2, e'    Changes to support animated image rendering.
    Moved image rendering into webkit.


git-svn-id: svn://svn.chromium.org/blink/trunk@1234 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-30 05:13:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b51bc35216892be829b040ebdf35e1e9f703d08d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00ty01l5faev4w8c', 2, e'    Changes to support animated image rendering.
    Moved image rendering into webkit.
    Still need to implement preferences stubs and
    start/stop stubs.


git-svn-id: svn://svn.chromium.org/blink/trunk@1233 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-30 05:12:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ea4f5d0a423fcc7943624a5b404dabcf24de726d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00tz01l5xu7aru00', 2, e'	Removed acceptsFirstMouse override, this fixes at least:

	2930713 -- clicking on an empty part of window to bring it to front
	takes focus away from page address field

	2938028 -- Link cursor doesn\'t appear when browser window not
	frontmost, but clicks activate links

	* WebView.subproj/IFWebView.mm:


git-svn-id: svn://svn.chromium.org/blink/trunk@1232 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-29 20:26:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/de49fb1392579939c9bfa91c5090704c9055622d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00u001l5kqb2rv1r', 2, e'    Moved cancellation check before creation on job instance,
    preventing leak.


git-svn-id: svn://svn.chromium.org/blink/trunk@1231 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-29 00:00:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6b040a918c5d0d66c5535765029835108e77c48f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00u101l5b1abkrs4', 2, e'	Made -[IFBookmark group] and -[IFBookmark parent] public
	methods, and renamed them to not use leading underscores,
	as part of support for revealing a particular bookmark in
	the Bookmarks window.

	* Bookmarks.subproj/IFBookmark_Private.h:
	removed _group and _parent.

	* Bookmarks.subproj/IFBookmark.h:
	added group and parent.


	- fixed 2923488 -- Silent failure when bookmark URL is invalid URL
	- fixed 2935830 (urls in Bookmarks should be "canonicalized" like
	urls in location field)
	- fixed 2935388 (errors in Activity window shouldn\'t show numeric
	error codes)

	* IFBookmarkAdditions.h: Added.
	* IFBookmarkAdditions.m: Added.
	(-[IFBookmark goTo]):
	New category, adds browser-specific behavior to IFBookmark. The first
	and only method so far goes to the bookmark\'s address; if the address string
	can\'t be turned into a valid URL, the user is told and given an opportunity
	to fix the address.

	* AppController.h:
	* AppController.m:
	(-[AppController showBookmarks:]):
	Moved initialization of _bookmarksController ivar out of here.
	(-[AppController _takeLocationFromBookmark:]):
	Now calls -[IFBookmark goTo].
	(-[AppController bookmarksController]):
	New public method, initializes _bookmarksController ivar if necessary.

	* BookmarksController.h:
	* BookmarksController.m:
	(-[BookmarksController _goToSelectedItem:]): Now calls -[IFBookmark goTo].
	(-[BookmarksController _expandAncestorsOfBookmark:]): New method, ensures that
	each ancestor folder of the specified bookmark is expanded in the outline view.
	(-[BookmarksController revealBookmark:]): New method, expands the bookmark\'s
	ancestors, then selects the bookmark and scrolls to reveal as necessary.
	(-[BookmarksController _editSelectedColumnWithID:]): New helper method,
	edits the contents of the specified column for the selected row.
	(-[BookmarksController editSelectedAddress]),
	(-[BookmarksController editSelectedName]): New methods, they call
	_editSelectedColumnWithID: for different columns.
	(-[BookmarksController _toggleEdit:]): Now calls editSelectedName.

	* IFErrorAdditions.m:
	(-[IFError errorSummary]): Removed error code from the string this method
	returns.

	* WebBrowser.pbproj/project.pbxproj: Updated for new files; also added new
	WebKit Additions group and moved some existing files into it.


git-svn-id: svn://svn.chromium.org/blink/trunk@1230 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-28 23:55:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f8f06ed1e7db325eaba91def6d042bae835f176e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmm7u00u201l514xjoizf', 2, e'    Fixed edge case cancellation problem (actually happens a lot).
    No new loads are allowed after a data source has been
    set as "stopping".


git-svn-id: svn://svn.chromium.org/blink/trunk@1229 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-28 23:17:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a6b934c2b5e31cad9fa3e9ba049086ff003fa68');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sf01l5kfncr9t2', 2, e'    Backed out band-aid add to fixed malformed resources URLs.


git-svn-id: svn://svn.chromium.org/blink/trunk@1228 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-28 22:11:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b4242e53495c5fb0d8a5ec2ce59456d917ee5556');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sg01l58etj5vxc', 2, e'    Fixed reporting of malformed resources URLs.  This fixed
    exceptions that were being thrown because nil handles were
    being added to datasource handle array.


git-svn-id: svn://svn.chromium.org/blink/trunk@1227 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-28 22:10:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b56e6b3877866559581d02511f0e168cd65c16b6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sh01l5hzwbuzk1', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@1226 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-28 21:07:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dca3c48910ba24105c71bcac824aada01c0e9af7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00si01l5dn2t79tl', 2, e'    Fixed double free of mapped file bytes (it\'s freed
    by munmap).


git-svn-id: svn://svn.chromium.org/blink/trunk@1225 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-28 20:18:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f9134ffbefadafc216e0b51cee807207d17aa3c1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sj01l58q5i9xap', 2, e'WebBrowser:

	Drag & Drop of file and URL support for the location field.

	* LocationFieldEditor.m:
	(-[LocationFieldEditor acceptableDragTypes]): Added URL and file drag types
	(-[LocationFieldEditor draggingEntered:]): new
	(-[LocationFieldEditor draggingUpdated:]): new
	(-[LocationFieldEditor prepareForDragOperation:]): new
	(-[LocationFieldEditor performDragOperation:]): new
	(-[LocationFieldEditor concludeDragOperation:]): support for URL and file types

WebKit:

	* Plugins.subproj/IFPluginDatabase.h:
	* Plugins.subproj/IFPluginDatabase.m:
	(-[IFPluginDatabase pluginForMimeType:]): renamed
	(-[IFPluginDatabase pluginForExtension:]): renamed
	(-[IFPluginDatabase pluginForFilename:]): renamed
	(findPlugins):
	* WebCoreSupport.subproj/IFWebCoreViewFactory.m: support for above renamed
	(-[IFWebCoreViewFactory viewForPluginWithURL:serviceType:arguments:baseURL:]):
	(-[IFWebCoreViewFactory viewForJavaAppletWithArguments:]):
	* WebView.subproj/IFWebDataSourcePrivate.mm:
	(-[IFWebDataSource _addURLHandle:]): fix for a nil handle being added to an array

WebCore:

	Added framework-header-stamp

	* .cvsignore:

WebFoundation:

	Fix for 2938040 - This flash movie at macboy.com doesn\'t load

	* Misc.subproj/IFNSStringExtensions.m:
	(-[NSString _IF_looksLikeAbsoluteURL]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1224 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-28 18:34:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e232ae6c85db3f3c0dbe0b9654d9a9478e409cfc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sk01l5hpgl5m3m', 2, e'	* WebCoreSupport.subproj/IFTextRenderer.m:
	(hasMissingGlyphs): Use recordSize instead of assuming records are sizeof(ATSLayoutRecord).
	(-[IFTextRenderer convertCharacters:length:toGlyphs:]): Free buffer after calling
	ATSUConvertCharToGlyphs; old code was using buffer after freeing it.
	(-[IFTextRenderer widthForString:]): Handle case where string is longer than
	LOCAL_GLYPH_BUFFER_SIZE.
	(-[IFTextRenderer slowPackGlyphsForCharacters:numCharacters:glyphBuffer:numGlyphs:]):
	(-[IFTextRenderer drawString:atPoint:withColor:]): Use recordSize instead of assuming records
	are sizeof(ATSLayoutRecord).
	(-[IFTextRenderer slowFloatWidthForCharacters:length:]): Use recordSize instead of assuming
	records are sizeof(ATSLayoutRecord).
	(-[IFTextRenderer floatWidthForCharacters:length:]): Remove extra rounding. The caller that
	converts the width to an integer already does the rounding.
	(-[IFTextRenderer extendCharacterToGlyphMapToInclude:]): Fix off by one error that caused us
	to include one extra character in each glyph map block. Also use recordSize instead of assuming
	records are sizeof(ATSLayoutRecord).


git-svn-id: svn://svn.chromium.org/blink/trunk@1223 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-28 17:39:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/061344c41aa227de8a0d12497fa48175c7aa2cd8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sl01l55u8se9cs', 2, e'	Part of fix for 2922772 -- page title & location field don\'t
	show redirected URLs.

	* WebView.subproj/IFWebDataSource.mm:
	(-[IFWebDataSource wasRedirected]): Fixed this method, now that
	we have a client that relies on it. Its logic was backwards, and
	it didn\'t handle the null _finalURL case.

	WebBrowser part of fix for 2922772 -- page title & location field don\'t
	show redirected URLs.

	* BrowserDocument.h: added BrowserDocumentRedirectedNotification
	* BrowserDocument.m:
	(-[BrowserDocument currentURL]): Return redirectedURL if appropriate.

	* BrowserWindow.m:
	(-[BrowserWindow windowDidLoad]): register for BrowserDocumentRedirectedNotification
	(-[BrowserWindow frameLoadRedirected:]): Update location field if appropriate.

	* LocationChangeHandler.m:
	(-[LocationChangeHandler serverRedirectTo:forDataSource:]):
	Send BrowserDocumentRedirectedNotification and title-changed
	messages if the frame is the top-level frame.


git-svn-id: svn://svn.chromium.org/blink/trunk@1222 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-27 21:32:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/42ff87219b1bd7fa7fdef96912580d21c2e23f6f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sm01l57zlqo68e', 2, e'	* Resources/linkCursor.tiff: Added. Maciej forgot to cvs add
	this new file. I stole the one from haircut.

	Added FIXME.
	* BrowserDocument.m:
	(-[BrowserDocument displayName]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1221 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-27 19:55:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0759a12214bfb9f2da4449f4ad3af6b60a4624ce');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sn01l5h4rv8moy', 2, e'	Fixed the vexing and long-standing:

	Radar 2894699 - Crash at: http://cb.apple.com/jsplugins.html

	* khtml/ecma/kjs_navigator.cpp: This crash was caused by Plugin
	and MimeType objects referring to data that was held and
	refcounted by PluginBase, without holding a ref. I fixed it by
	making these individual items participate in the refcounting as
	well.


git-svn-id: svn://svn.chromium.org/blink/trunk@1220 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-27 08:58:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f199ab6a6a02bf871173eac786aceba739ba42c5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00so01l5nhdhfef7', 2, e'	Fixed Radar 936147 - debug output in console "keyUp: NSEvent: type=KeyUp"

	* WebView.subproj/IFWebView.mm:
	(-[IFWebView keyDown:]): Turned NSLog into WEBKITDEBUGLEBEL.
	(-[IFWebView keyUp:]): Likewise.


git-svn-id: svn://svn.chromium.org/blink/trunk@1219 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-27 05:59:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4c6c00318d5f8ad9126cd008af77b855ae68ae02');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sp01l5ftvpc0s6', 2, e'WebCore:
	Webcore part of fix for:

	Radar 2884085 - add support for changing cursor over links

	* Makefile.am: Install tiff of link cursor.
	* kwq/qt/qcursor.h, kwq/KWQCursor.mm:
	(QCursor::QCursor): Change QCursor to contain an NSCursor.
	(QCursor::~QCursor): Likewise.
	(QCursor::operator=): Likewise.
	(QCursor::handle): Likewise.
	* kwq/KWQKCursor.mm:
	(+[NSCursor _WebCore_linkCursor]): NSCursor extension method that
	provides the link cursor.
	(KCursor::handCursor): Use the link cursor instead of the default
	arrow cursor.
	* kwq/KWQKHTMLSettings.mm:
	(KHTMLSettings::changeCursor): Return TRUE; we always want cursor
	tracking.
	* kwq/KWQView.h, kwq/KWQView.mm:
	(-[KWQHTMLView setCursor:]): Remember the new cursor and
	invalidate cursor rects.
	(-[KWQHTMLView resetCursorRects]): Establish cursor rect for
	currently set cursor, if not default.
	* kwq/KWQWidget.mm:
	(QWidget::setCursor): Call setCursor: on the underlying
	NSView, if implemented.
	(QWidget::cursor): Implemented.
	(QWidget::unsetCursor): Implemented.

WebKit:
	WebKit part of fix for:

	Radar 2884085 - add support for changing cursor over links

	Also, fix handling of mouseMoved events.

	* WebView.subproj/IFWebView.mm:
	(-[IFWebView mouseMovedNotification:]): Clip mouseMoved events to
	the view rect, otherwise mouseover effects might happen for
	elements past the edge of the window.
	(-[IFWebView setCursor:]): Implement.
	(-[IFWebView resetCursorRects]): Implement.
	* WebView.subproj/IFWebViewPrivate.h:
	* WebView.subproj/IFWebViewPrivate.mm:
	(-[IFWebViewPrivate dealloc]): Added NSCursor *cursor field.


git-svn-id: svn://svn.chromium.org/blink/trunk@1218 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-27 05:01:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3fe627c62df86835d2ddebdcb652f56e5818e838');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sq01l59jv9txbg', 2, e'WebCore:
	Changed WebCore to build as a framework, not a dylib, so resources
	can be added to it.

	* Makefile.am: Actual changes to build WebCore.framework
	* Resources/Info.plist: Added.
	* English.lproj/InfoPlist.strings: Added.
	* WebCore-tests.exp: Added.
	* WebCore.exp: Added.
	* libwebcore.exp: Removed.
	* libwebcoretests.exp: Removed.
	* .cvsignore: Updated.

WebKit:
	* WebKit.pbproj/project.pbxproj: Link against WebCore.framework,
	not libwebcore.dylib.

WebBrowser:
	* WebBrowser.pbproj/project.pbxproj: Link against
	WebCore.framework, not libwebcore.dylib.

Top level:
	Link against WebCore.framework, not libwebcore.dylib.

	* Tests/kde/Makefile.am:
	* Tests/khtmlview/WebViewTest/WebViewTest.pbproj/project.pbxproj:
	* Tests/qt/Makefile.am:


git-svn-id: svn://svn.chromium.org/blink/trunk@1217 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-25 10:47:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ee8446df706848b697f0655daa29569c46b31765');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sr01l5dnsobbyt', 2, e'	Added license and acknowledgements.

	* AUTHORS: Added.
	* COPYING.LIB: Added.
	* THANKS: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@1216 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-24 22:12:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/86c7f95a873a0d41643bf5349b45cf533c08d795');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00ss01l536xmem49', 2, e'modified changelogs with 0.3 markers


git-svn-id: svn://svn.chromium.org/blink/trunk@1214 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-05-24 16:57:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/61546f70603b7a49abee792b95e78e3861a604cc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00st01l52achn7cb', 2, e'Alexander-6 version


git-svn-id: svn://svn.chromium.org/blink/trunk@1212 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-05-24 15:45:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fd71f908b19f6830bddf9e8e3ebf15651e0e403b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00su01l5kji2b35o', 2, e'WebCore:
	Fixes for the following (the first bug also requires WebKit and
	WebBrowser changes):

	Radar 2896391 - command-click should open link in new window
	Radar 2935858 - two mails for each mailto:

	* khtml/html/html_inlineimpl.cpp:
	(HTMLAnchorElementImpl::defaultEventHandler): Set flag for Meta
	key in addition to Control, Shift and Alt, since the Command key
	is treated as Meta.
	* kwq/KWQKHTMLPart.mm:
	(KHTMLPart::urlSelected): Open a new window if the user
	command-clicked.
	(KHTMLPart::khtmlMouseMoveEvent): Clean up use of braces and ifdefs to
	make prepare-ChangeLog happy.
	(KHTMLPart::khtmlMouseReleaseEvent): Remove code that tried to
	process link click events here. This made link clicks get
	processed twice, now that mouse events are hooked up for real.
	* kwq/external.h: prototype openNewWindowWithURL: method.

WebKit:
	WebKit part of the fix for:

	Radar 2896391 - command-click should open link in new window

	* WebView.subproj/IFBaseWebController.mm:
	(-[IFBaseWebController openNewWindowWithURL:]): Default
	implementation silently does nothing.
	* WebView.subproj/IFWebController.h: Add openNewWindowWithURL:
	method.
	* WebView.subproj/IFWebView.mm:
	(-[IFWebView _addModifiers:toState:]): Split out modifier key
	handling to here. Treat Command as Meta.
	(-[IFWebView mouseUp:]): Use new method to set key modifiers for
	mouse events.
	(-[IFWebView mouseDown:]): Use new method to set key modifiers for
	mouse events.
	(-[IFWebView keyDown:]): Use new shared code for key modifiers.
	(-[IFWebView keyUp:]): Use new shared code for key modifiers.

WebBrowser:
	WebBrowser part of the fix for:

	Radar 2896391 - command-click should open link in new window

	* WebController.m:
	(-[WebController openNewWindowWithURL:]): Implement this new
	IFWebController method by opening a new browser window.


git-svn-id: svn://svn.chromium.org/blink/trunk@1211 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-23 22:44:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/90adb6487b9beb1ddf318f62cebf73b70b9d7f81');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sv01l5d5vnp8x5', 2, e'2002-05-23  Kenneth Kocienda  <kocienda@apple.com>

        Reviewed by: Maciej Stachowiak

        Fix for this bug:

        Radar 2935882 (IFURLFileReader class has unbalanaced release count on an NSData ivar)

        IFURLFileReader can create an ivar that points to a data using an method that
        returns an autoreleased object. Then, without retaining the data anywhere
        internally, it releases the data in its dealloc method.

        This has been fixed. Now the retain/release count is guaranteed to be balanced

        * Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileReader initWithPath:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1210 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-23 22:23:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cffed7e481cdeb7b5689ab05dd0ce6e8453e876b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sw01l5wfnl19b0', 2, e'2002-05-23  Kenneth Kocienda  <kocienda@apple.com>

        More work to fix this bug:

        Radar 2883631 (need to implement support for META HTTP_EQUIV=REFRESH)

        There was yet two more cases where the refresh timers were getting clobbered.
        Fixed.

        * khtml/ecma/kjs_window.cpp:
        (WindowQObject::parentDestroyed)
        * khtml/khtmlview.cpp:
        (KHTMLView::clear)


git-svn-id: svn://svn.chromium.org/blink/trunk@1209 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-23 22:11:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1bfcc38b19227b953a93cd2a9d0a5a9ad60fca36');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sx01l5akchvaw2', 2, e'    Fixed crasher 2935757.  I still need to investigate the root cause
    of this problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@1208 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-23 22:01:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5e3e53797a892a775052af68aba3499328457f50');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sy01l5udkjyo2i', 2, e'2002-05-23  Kenneth Kocienda  <kocienda@apple.com>

        Fixes for these bugs:

        Radar 2883631 (need to implement support for META HTTP_EQUIV=REFRESH)
        Radar 2935472 (Non-standard html pages don\'t always get decoded)

	WebCore

        * khtml/khtml_part.cpp: Don\'t kill all timers. Just kill the ones for this object.
        (KHTMLPart::~KHTMLPart):
        * khtml/khtml_part.h: Modified interface to slotData to add a flag for when all data
          for a load has been received.
        * khtml/khtmlview.cpp:
        (KHTMLView::~KHTMLView): Don\'t kill all timers. Just kill the ones for this object.
        * kwq/KWQKHTMLPart.mm:
        (KHTMLPart::slotData): Senses when text encoding is not available, but all data has been received.
        (KHTMLPart::write): Ditto
        (KHTMLPart::scheduleRedirection):
        * libwebcore.exp: Changed symbol for slotData

	WebKit:

        * WebView.subproj/IFMainURLHandleClient.h:
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient setContentPolicy:]): Updated method to use new processData interface.
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]): Senses when all data has been received for a load.
        (-[IFMainURLHandleClient processData:isComplete:allDataReceived:]): Modified interface to add a flag
          for when all data for a load has been received.


git-svn-id: svn://svn.chromium.org/blink/trunk@1207 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-23 18:36:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4d78b7af76473383ae35d59cf569a0b32f9c47f5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00sz01l5u8vtqzv4', 2, e'changing version number back to "unofficial"
tree is open


git-svn-id: svn://svn.chromium.org/blink/trunk@1206 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-05-23 16:38:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9e2c6adb24249f47fc0d4882f11b554200145f48');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00t001l5cm2jogu4', 2, e'WebKit:
	Move authentication panel to WebKit and make it a sheet, fixing:

	Radar 2876445 - Authentication panel should be a sheet
	Radar 2876449 - The Alexander authentication panel should be moved
	to WebKit for use as a standard one

	* Panels.subproj/English.lproj/IFAuthenticationPanel.nib: Added.
	* Panels.subproj/IFAuthenticationPanel.h: Added.
	* Panels.subproj/IFAuthenticationPanel.m: Added.
	* Panels.subproj/IFPanelAuthenticationHandler.h: Added.
	* Panels.subproj/IFPanelAuthenticationHandler.m: Added.
	* Panels.subproj/IFStandardPanels.h: Added.
	* Panels.subproj/IFStandardPanels.m: Added.
	* Panels.subproj/IFStandardPanelsPrivate.h: Added.
	* WebKit.pbproj/project.pbxproj: Add new files to build.
	* Plugins.subproj/IFPluginStream.mm:
	(-[IFPluginStream IFURLHandleResourceDidBeginLoading:]): Notify of
	load start.
	(-[IFPluginStream IFURLHandleResourceDidFinishLoading:data:]): Notify
	of load end.
	(-[IFPluginStream IFURLHandleResourceDidCancelLoading:]): Likewise.
	(-[IFPluginStream IFURLHandle:resourceDidFailLoadingWithResult:]): Likewise.
	(-[IFPluginStream IFURLHandle:didRedirectToURL:]): Notify that old
	URL is no longer loading, but new one is.
	* WebView.subproj/IFBaseWebControllerPrivate.h:
	* WebView.subproj/IFBaseWebControllerPrivate.mm:
	(-[IFBaseWebController _didStartLoading:]): New private method
	used to track what URLs are loading on behalf of this controller.
	(-[IFBaseWebController _didStopLoading:]): Likewise.

	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandleResourceDidBeginLoading:]): Notify
	of load start.
	(-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]): Notify
	of load end.
	(-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]): Likewise.
	(-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]): Likewise.
	(-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]): Likewise.
	(-[IFMainURLHandleClient IFURLHandle:didRedirectToURL:]): Notify of
	load end and start.

WebCore:
	Notify when loads of sub-URLs start and stop, so panels for these
	can be attached to the right windows.

	* kwq/KWQKloader.mm:
	(-[URLLoadClient IFURLHandleResourceDidBeginLoading:]):
	(-[URLLoadClient IFURLHandleResourceDidCancelLoading:]):
	(-[URLLoadClient IFURLHandleResourceDidFinishLoading:data:]):
	(-[URLLoadClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	(-[URLLoadClient IFURLHandle:didRedirectToURL:]):
	* kwq/external.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1204 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-23 13:13:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/697940830e187768ee325cef6bcddcc726fba570');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00t101l537awf3z4', 2, e'        Fixed download data source leaks when downloads are cancelled.

        * WebView.subproj/IFBaseWebControllerPrivate.mm:
        (-[IFBaseWebController _mainReceivedProgress:forResource:fromDataSource:]):
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]):
        (-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1203 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-23 05:18:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d8b2b42940c9ba45cc15dd7da40e651316abd566');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00t201l5pft0jqo4', 2, e'WebKit:
        Removed activate events as this was causing problems
        for the QT plug-in.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView windowBecameKey:]):
        (-[IFPluginView windowResignedKey:]):

WebBrowser:

        Added licensing code.

        * WebBrowser.pbproj/project.pbxproj:
        * ___CFA2UC.c: Added.
        (NSGiantRaise):
        (iszero):
        (newGiant):
        (data_to_giant):
        (giant_with_data):
        (bitlen):
        (bitval):
        (isone):
        (gcompg):
        (gtog):
        (int_to_giant):
        (negg):
        (iaddg):
        (normal_addg):
        (normal_subg):
        (reverse_subg):
        (addg):
        (subg):
        (gshiftleft):
        (bdivg):
        (mulg):
        (binvaux):
        (binvg):
        (initialguess):
        (mulndigits):
        (gsquare):
        (newtondivide):
        (gsane):
        (stablemodg):
        (modg):
        (absg):
        (gshiftright):
        (extractbits):
        (gmersennemod):
        (GiantAuxMul):
        (GiantGrammarMul):
        (make_base):
        (ell_even):
        (ell_odd):
        (sequalg):
        (elliptic):
        (elliptic_simple):
        (which_curve):
        (new_key):
        (new_giant_from_hexstr):
        (__CFValidate):
        (My__CFCopyRegularEthernetAddrString):
        (Alexander___CFA2UC):
        (GetEthernetAddr):
        * main.m:
        (main):


git-svn-id: svn://svn.chromium.org/blink/trunk@1202 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-23 01:35:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/249233e7927922dd02be5a913f5b27344c410e2c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00t301l5a3ng4a2r', 2, e'=== JavaScriptCore-5 ===


git-svn-id: svn://svn.chromium.org/blink/trunk@1199 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-23 01:33:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b7edd6b088297c24bb1bf5ba220e40e1309136c1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00t401l5isdx7mje', 2, e'2002-05-22  Kenneth Kocienda  <kocienda@apple.com>

        Reviewed by: Richard Williamson

        Removed an assertion that was causing problems with cache object removals.

        * Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileDatabaseOp initWithCode:key:object:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1198 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-22 23:10:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1c0bd246598c1c7f42cb1ef1e4538c8d41122dac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00t501l5rz89oush', 2, e'    Additional additional callback when resource is first loaded.


git-svn-id: svn://svn.chromium.org/blink/trunk@1197 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-22 22:45:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1f7e3fc69649d48e9a4fe0326391224acca7cfff');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00t601l5wxhzg73y', 2, e'Added retroactive review comments.


git-svn-id: svn://svn.chromium.org/blink/trunk@1196 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-22 22:43:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/de94b9722293cfa6910df52420038dd389a95e3d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00t701l5wploy0q7', 2, e'        Fixed crasher caused by not retaining.
        Fixed targeting bug.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView initWithFrame:plugin:url:mime:arguments:mode:]):
        (-[IFPluginView getURLNotify:target:notifyData:]):
        (-[IFPluginView getURL:target:]):
        (-[IFPluginView postURLNotify:target:len:buf:file:notifyData:]):
        (-[IFPluginView postURL:target:len:buf:file:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1195 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-22 20:31:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e513ac1dbf0dff601f38710c1ef0fed6f5ec7b3a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmkuh00t801l5kv9utv6d', 2, e'    Changed semantics of isLoading to only return YES if
    the datasource is loading resources related to the intial
    load.  Other resources loaded later by JS will not be
    accounted for by isLoading.


git-svn-id: svn://svn.chromium.org/blink/trunk@1194 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-22 18:34:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d06fca0bd68de671202cf659580dacde3e76d5cf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00rl01l5wf0ajiev', 2, e'WebBrowser:

	- Added an array to the defaults for MIME types for downloaded files
	  that we open after download.
	- Made sure we check for IFContentPolicySave when checking if
	  a data source is a download data source.
	- Set policy to IFContentPolicySave for types not in the defaults.

	* Defaults.plist:
	* DownloadMonitor.m:
	(-[DownloadMonitor monitorDownload:withProgress:error:dataSource:]):
	* LocationChangeHandler.m:
	(-[LocationChangeHandler requestContentPolicyForMIMEType:]):
	* WebController.m:
	(-[WebController receivedProgress:forResource:fromDataSource:]):
	(-[WebController receivedError:forResource:partialProgress:fromDataSource:]):

WebKit:


	- Removed obsolete MIME/download related code.
	- Minor clean-ups.
	- Made WebKit support all text/* MIME types.
	- Now send NPP_URLNotify when pages requested by plug-ins are loaded.
	- Simplified NPP_Get/NPP_Post code.

	* MIME.subproj/IFContentHandler.h:
	* MIME.subproj/IFContentHandler.m:
	* MIME.subproj/IFDownloadHandler.mm:
	* MIME.subproj/IFMIMEDatabase.h: Removed.
	* MIME.subproj/IFMIMEDatabase.m: Removed.
	* MIME.subproj/IFMIMEHandler.h:
	* MIME.subproj/IFMIMEHandler.m:
	(+[IFMIMEHandler MIMEHandlerTypeForMIMEType:]):
	(+[IFMIMEHandler canShowMIMEType:]):
	* Plugins.subproj/IFPluginView.h:
	* Plugins.subproj/IFPluginView.mm:
	(-[IFPluginView initWithFrame:plugin:url:mime:arguments:mode:]):
	(-[IFPluginView dealloc]):
	(-[IFPluginView frameStateChanged:]):
	(-[IFPluginView loadURL:inTarget:withNotifyData:andHandleAttributes:]):
	(-[IFPluginView getURLNotify:target:notifyData:]):
	(-[IFPluginView getURL:target:]):
	(-[IFPluginView postURLNotify:target:len:buf:file:notifyData:]):
	(-[IFPluginView postURL:target:len:buf:file:]):
	(-[IFPluginView invalidateRect:]):
	(-[IFPluginView invalidateRegion:]):
	(-[IFPluginView forceRedraw]):
	* WebKit.pbproj/project.pbxproj:
	* WebView.subproj/IFMainURLHandleClient.h:
	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient dealloc]):
	(-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
	(-[IFMainURLHandleClient processData:isComplete:]):
	* WebView.subproj/IFWebFramePrivate.h:
	* WebView.subproj/IFWebFramePrivate.mm:
	(-[IFWebFrame _setState:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1193 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-22 07:39:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6fa7cbfe25af71f2edb1e1db11200f9f2f71ebee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00rm01l5d7rn0cwd', 2, e'	Fixed Radar 2928775 - Sherlock crashes sitting in stocks channel

	* kjs/internal.cpp:
	(InterpreterImp::InterpreterImp): Set the interp pointer earlier,
	in case garbage collection takes place while creating the global
	values.


git-svn-id: svn://svn.chromium.org/blink/trunk@1192 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-22 07:09:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e6f8360879caa5157c2a8598edbd2b8cf4ba96d7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00rn01l55zxndmtp', 2, e'    Fixed baseline regression.  Obvious of sites that have tables w/ backgrounds,
    i.e. www.slashdot.org.


git-svn-id: svn://svn.chromium.org/blink/trunk@1191 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-22 01:51:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/97f41a67637ec1a5c65530b43555b09b2d4fdcf6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00ro01l59fdfkqt0', 2, e'    Lots of changes for DHTML.
    Bugs fixes, and fixes to regressions.

    Changes to support additional DHTML events.


git-svn-id: svn://svn.chromium.org/blink/trunk@1190 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-22 00:36:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1f5ba51eda03a106982274636b2dcde47ed7d408');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00rp01l5al822frv', 2, e'2002-05-21  Kenneth Kocienda  <kocienda@apple.com>

        Fix for this bug:

        Radar 2924728 (post form fails at pt.apple.com; succeeds at macosx.apple.com)

        Posted forms are now submitted with the IFURLHandleFlagLoadFromOrigin
        load flag set.  This prevents a potential bug which may cause a page
        with a form that uses itself as an action to be returned from the
        cache without submitting.

        * kwq/KWQKHTMLPart.mm:
        (KHTMLPart::submitForm)


git-svn-id: svn://svn.chromium.org/blink/trunk@1189 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-21 21:54:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d145b4bf5d75fc88c92f510d17707a1a8758eac3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00rq01l5ul2cavil', 2, e'WebFoundation:

        Fix for 2925907 - [IFURLHandle resourceData] returns nil until load is complete

        * CacheLoader.subproj/IFURLHandle.m:
        (-[IFURLHandle resourceData]):

WebKit:

        Content policy can now be sent at a later time to avoid blocking.

        * WebView.subproj/IFMainURLHandleClient.h:
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient initWithDataSource:part:]):
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1188 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-21 20:48:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d7bf4647a420ca1771664236a537401a43e5e37');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00rr01l5eys8lhfc', 2, e'        Move the tracking rect after the view has moved.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView viewHasMoved:]):

        Fixed logging.

        * Plugins.subproj/npapi.m:
        (NPN_UserAgent):
        (NPN_MemAlloc):
        (NPN_MemFree):
        (NPN_MemFlush):
        (NPN_ReloadPlugins):


git-svn-id: svn://svn.chromium.org/blink/trunk@1187 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-21 17:25:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/22ac33ab66597e1ed3877f18d627a21cb5248380');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00rs01l5sauuejot', 2, e'2002-05-21  Kenneth Kocienda  <kocienda@apple.com>

        Merged these four include files into the precompiled header.
        These are used for the enhanced assertion/debuggin support I
        added yesterday.

        <signal.h>
        <sys/types.h>
        <sys/time.h>
        <sys/resource.h>

        * WebCore/WebCorePrefix.h
        * WebFoundation/WebFoundationPrefix.h
        * WebKit/WebFoundationPrefix.h

        * WebFoundation/WebFoundation.pbproj/project.pbxproj: PB decided that this file
        changed in some cryptic way.


git-svn-id: svn://svn.chromium.org/blink/trunk@1186 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-21 14:50:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bad02f49f95508c41c53b9605a73788b6f372878');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00rt01l5qss9l1ce', 2, e'        Added support for plug-ins to send URL requests to certain targets.

        Added frameNamed to IFWebFrame.

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView getURLNotify:target:notifyData:]):
        (-[IFPluginView postURLNotify:target:len:buf:file:notifyData:]):
        * WebView.subproj/IFWebFrame.h:
        * WebView.subproj/IFWebFrame.mm:
        (-[IFWebFrame frameNamed:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1185 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-21 01:19:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f8470ae342fb175fe8483ddcd2bd4a7ccad66dc5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00ru01l5izvx2tuc', 2, e'	Forgot one file.

	* khtml/khtml_part.moc: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@1184 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-21 00:51:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6fd60ebd817422e275bfbfb65f1172096acf6131');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00rv01l525313ecr', 2, e'	Use more of the original khtml_part.cpp; a step in the direction of factoring
	our code out so more of it can go in WebKit and we don\'t need external.h.

	* khtml/Makefile.am:
	* khtml/khtml_part.cpp:
	* khtml/khtml_part.h:
	* khtml/khtmlpart_p.h:
	Start compiling khtml_part.cpp and using khtmlpart_p.h again.

	* kwq/KWQKHTMLPart.mm:
	Remove code that was identical to khtml_part.cpp. We aren\'t going to use the
	"copy and hack our copy" approach on this class for the long termk, and this
	is the first step in cleaning things up.

	* khtml/khtml_ext.h: Removed.
	* khtml/khtml_factory.h: Removed.

	* khtml/misc/loader.h:
	* khtml/xml/dom_docimpl.cpp:
	(DocumentImpl::recalcStyleSelector):
	Remove some APPLE_CHANGES ifdefs we don\'t need any more.

	* kwq/KWQDateTime.mm:
	Simplify things like copy constructors.

	* kwq/kdeui/kcursor.h:
	* kwq/KWQKCursor.mm:
	Add handCursor.

	* kwq/KWQKHTMLFactory.mm:
	Put in real implementations, not just placeholders.

	* kwq/KWQKHTMLPartBrowserExtension.mm:
	* kwq/KWQKInstance.mm:
	* kwq/KWQPart.mm:
	* kwq/KWQbrowserextension.mm:
	Empty these files out, nothing in them is needed any more.

	* kwq/khtml/khtml_settings.h:
	* kwq/KWQKHTMLSettings.mm:
	(KHTMLSettings::isJavaEnabled):
	(KHTMLSettings::autoLoadImages):
	(KHTMLSettings::isPluginsEnabled):
	(KHTMLSettings::isJavaScriptEnabled):
	(KHTMLSettings::isJavaScriptDebugEnabled):
	Moved settings here from KWQKHTMLPart.mm

	* kwq/kdecore/kurl.h:
	* kwq/KWQKURL.mm:
	(KURL::encodedHtmlRef):
	(KURL::htmlRef):
	Placeholders for these two, called in KHTMLPart, but maybe not really needed.

	* kwq/KWQKloader.mm:
	(Cache::preloadScript):
	(Cache::preloadStyleSheet):
	Empty functions for these, called in KHTMLPart but no implementation needed.

	* kwq/qt/qtimer.h:
	* kwq/KWQTimer.mm:
	(QTimer::isActive):
	(QTimer::start):
	(QTimer::stop):
	More timer functions.

	* kwq/qt/qscrollview.h: Add one more function.

	* kwq/kdecore/kinstance.h: Simplify.
	* kwq/kdeui/kaction.h: Simplify.
	* kwq/khtml/khtml_factory.h: Simplify.
	* kwq/kparts/browserextension.h: Simplify.
	* kwq/kparts/part.h: Simplify.
	* kwq/qt/qdatetime.h: Simplify.

	* kwq/kdecore/klibloader.h: Added.
	* kwq/khtml/khtml_ext.h: Added.
	* kwq/kparts/partmanager.h: Added.
	Nearly-empty files with just simple placeholders so we can compile more.

	* kwq/dcop/kdatastream.h: Added.
	* kwq/kdecore/kmultipledrag.h: Added.
	* kwq/kdecore/ktempfile.h: Added.
	* kwq/kdecore/kurldrag.h: Added.
	* kwq/kdeui/kstdaction.h: Added.
	* kwq/kdeui/kxmlguifactory.h: Added.
	* kwq/khtml/khtml_find.h: Added.
	* kwq/khtml/khtml_iface.h: Added.
	* kwq/khtml/khtml_pagecache.h: Added.
	* kwq/khtml/khtml_run.h: Added.
	* kwq/kio/kssl/ksslcertchain.h: Added.
	* kwq/kio/kssl/ksslinfodlg.h: Added.
	* kwq/kio/ktrader.h: Added.
	* kwq/qt/private/qucomextra_p.h: Added.
	* kwq/qt/qclipboard.h: Added.
	* kwq/qt/qmetaobject.h: Added.
	Empty files just so includes of these names will compile.

	* libwebcoretests.exp: Remove one export that\'s no longer needed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1183 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-21 00:30:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0724b10f2b0bac4214e64c44bbdcf72022f45f66');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00rw01l5o4aywckp', 2, e'    Added support for onChange and window.location, i.e.:
    http://javascript.internet.com/navigation/menu-automatic.html


git-svn-id: svn://svn.chromium.org/blink/trunk@1182 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-20 23:43:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/08c4c7e3c69a752a1477090811180759e2285f0d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00rx01l5odw2qht3', 2, e'2002-05-20  Kenneth Kocienda  <kocienda@apple.com>

	Now includes <sys/time.h> to prevent possible build breakage
	in the inclusion of <sys/resource.h>

	* WebCore/kwq/kwqdebug.h
	* WebKit/Misc.subproj/WebKitDebug.h
	* WebFoundation/Misc.subproj/WebFoundationDebug.h


git-svn-id: svn://svn.chromium.org/blink/trunk@1181 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-20 23:27:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/835394ca3415002d8de4c92bc9a537284bd93329');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00ry01l5yx5g6wl8', 2, e'2002-05-20  Kenneth Kocienda  <kocienda@apple.com>

        Changed assertion failure code to send a SIGQUIT instead
        of raising an NSException.

        * kwq/kwqdebug.h


git-svn-id: svn://svn.chromium.org/blink/trunk@1180 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-20 22:42:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/46e3a6a95bf635b81e8ad2787eb84b4359d1a4a8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00rz01l5as2cf42z', 2, e'2002-05-20  Kenneth Kocienda  <kocienda@apple.com>

        Changed assertion failure code to send a SIGQUIT instead
        of raising an NSException.

        * Misc.subproj/WebKitDebug.h


git-svn-id: svn://svn.chromium.org/blink/trunk@1179 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-20 22:24:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/91ddbe780121e08b60a6d5ebbc71e9125cb195a0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00s001l59clzcb88', 2, e'2002-05-20  Kenneth Kocienda  <kocienda@apple.com>
        Reviewed by: John Sullivan

        Fix for this bug:

        Radar 2931078 (IFURLFileDatabase initialization is not threadsafe)

        In addition, I have added several assertion checks to the code. Note
        that each of these assertion checks is of the "failure should be impossible"
        variety.

        * Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileReader initWithPath:]):
        (-[IFURLFileDatabaseOp initWithCode:key:object:]):
        (-[IFURLFileDatabaseOp perform:]):
        (databaseInit):
        (-[IFURLFileDatabase initWithPath:]):
        (-[IFURLFileDatabase setObject:forKey:]):
        (-[IFURLFileDatabase removeObjectForKey:]):
        (-[IFURLFileDatabase objectForKey:]):
        (-[IFURLFileDatabase performSetObject:forKey:]):
        (-[IFURLFileDatabase performRemoveObjectForKey:]):
        (-[IFURLFileDatabase lazySync:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1178 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-20 21:54:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e1755a8d8af1ef18f4e5caff4b99dca391452402');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00s101l5vfpe4f4o', 2, e'WebFoundation:

	Added _IF_looksLikeAbsoluteURL.

	* Misc.subproj/IFNSStringExtensions.h:
	* Misc.subproj/IFNSStringExtensions.m:
	(-[NSString _IF_looksLikeAbsoluteURL]):


WebKit:

	Summary:
	- Drag & Drop support.
	- A whole lot of plug-in clean-up and minor bug fixes.

	Moved the following functions from npapi to IFPlugin.

	* Plugins.subproj/IFPlugin.m:
	(functionPointerForTVector):
	(tVectorForFunctionPointer):


	Only supply mouse coords when active.

	* Plugins.subproj/IFPluginNullEventSender.h:
	* Plugins.subproj/IFPluginNullEventSender.m:
	(-[IFPluginNullEventSender initializeWithNPP:functionPointer:window:]):
	(-[IFPluginNullEventSender dealloc]):
	(-[IFPluginNullEventSender sendNullEvents]):


	Minor clean-ups

	* Plugins.subproj/IFPluginStream.mm:
	(-[IFPluginStream dealloc]):
	(-[IFPluginStream IFURLHandleResourceDidFinishLoading:data:]):
	(-[IFPluginStream IFURLHandleResourceDidCancelLoading:]):
	(-[IFPluginStream IFURLHandle:resourceDidFailLoadingWithResult:]):


	Removed the isMouseDown flag from the following functions
	as it was unnecessary.

	Cleaned up logging.

	* Plugins.subproj/IFPluginView.mm:
	(-[IFPluginView modifiersForEvent:]):
	(-[IFPluginView getCarbonEvent:withEvent:]):
	(-[IFPluginView sendUpdateEvent]):
	(-[IFPluginView becomeFirstResponder]):
	(-[IFPluginView resignFirstResponder]):
	(-[IFPluginView mouseDown:]):
	(-[IFPluginView mouseUp:]):
	(-[IFPluginView mouseExited:]):
	(-[IFPluginView setWindow]):
	(-[IFPluginView start]):
	(-[IFPluginView stop]):


	URLForString now uses _IF_looksLikeAbsoluteURL.

	(-[IFPluginView URLForString:]):


	Implemented the following:

	(-[IFPluginView invalidateRect:]):
	(-[IFPluginView invalidateRegion:]):
	(-[IFPluginView forceRedraw]):


	Put implementation of GetValue SetValue in npapi.

	* Plugins.subproj/npapi.h:
	* Plugins.subproj/npapi.m:
	(NPN_GetValue):
	(NPN_SetValue):


	Added drag & drop support.

	* WebView.subproj/IFWebView.mm:
	(-[IFWebView initWithFrame:]):
	(-[IFWebView setCanDragFrom:]):
	(-[IFWebView canDragFrom]):
	(-[IFWebView setCanDragTo:]):
	(-[IFWebView canDragTo]):
	(-[IFWebView draggingEntered:]):
	(-[IFWebView prepareForDragOperation:]):
	(-[IFWebView performDragOperation:]):
	* WebView.subproj/IFWebViewPrivate.h:
	* WebView.subproj/IFWebViewPrivate.mm:
	(-[IFWebViewPrivate dealloc]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1177 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-20 20:56:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4264ea976017524f5210c6889451b92cbf59018d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00s201l5wx98ai3l', 2, e'	- fixed 2923492 -- No way to put separators in Bookmarks menu
	- fixed 2927561 -- Added child of bookmarks folder should be first, not last
	- fixed 2927575 -- New bookmark should have blank URL
	- fixed 2927589 -- "Modify" and "Remove" should be "Edit" and "Delete"
	- fixed 2923220 -- Bookmarks window should reopen at launch if it was open at quit
	- fixed bug where bookmark window would sometimes start with a horiz scrollbar
	- fixed bug where deleting nested bookmark would leave last row selected

	* PreferenceKeys.h: define ShowBookmarksPreferenceKey

	* AppController.m:
	(-[AppController applicationDidFinishLaunching:]):
	Open bookmarks window if preference says to.
	(-[AppController _insertBookmark:intoMenu:atIndex:]):
	Handle separators.

	* BookmarksController.m:
	(-[BookmarksController windowDidLoad]): Set self as delegate so we will receive
	windowWillClose:; setAutoresizesOutlineColumn:NO so column widths won\'t change
	at launch.
	(-[BookmarksController removeSelectedBookmarks:]):
	Reselect previously selected item if it\'s still valid
	(-[BookmarksController _newItemWithTitle:image:URLString:type:]):
	Change isLeaf parameter to bookmark type. Handle separators (don\'t edit title
	of newly-created separator). If expanded folder is selected, make new item first.
	(-[BookmarksController _newSeparator:]): Implemented.
	(-[BookmarksController outlineView:objectValueForTableColumn:byItem:]):
	Return "--" as string to represent separator, for now.
	(-[BookmarksController _newFolder:]),
	(-[BookmarksController _newBookmark:]):
	(-[BookmarksController outlineView:isItemExpandable:]):
	(-[BookmarksController outlineView:validateDrop:proposedItem:proposedChildIndex:]):
	(-[BookmarksController outlineView:shouldEditTableColumn:item:]):
	Replaced uses of isLeaf with bookmarkType.
	(-[BookmarksController toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:]):
	Handle separator item.
	(-[BookmarksController toolbarAllowedItemIdentifiers:]): Include "New Separator" item.
	(-[BookmarksController showWindow:]): Set "bookmarks showing" preference to YES.
	(-[BookmarksController windowWillClose:]): Set "bookmarks showing" preference to NO.

	* BrowserDocument.m:
	(-[BrowserDocument addBookmark:]):
	Replaced use of isLeaf with bookmarkType.

	* GlobalHistory.m:
	(-[GlobalHistory addSelectedItemsToBookmarks:]):
	Replaced use of isLeaf with bookmarkType.

	* Resources/Images/new_separator.tiff: Added.

	* WebBrowser.pbproj/project.pbxproj: Updated for new file.


git-svn-id: svn://svn.chromium.org/blink/trunk@1176 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-20 19:15:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2ba23fb9325ec705e39edf0ae93fe1f0e3f02662');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00s301l5o5hzqurn', 2, e'	* khtml/rendering/render_object.cpp: (RenderObject::drawBorder):
	Add missing break statement so borders don\'t draw strangely.

	* khtml/rendering/render_style.h: Remove unneeded QColor workaround,
	now that we handle invalid colors properly.

	* kwq/KWQColor.mm:
	(createStaticConstructorAutoreleasePool): New solution to the problem
	of autorelease at static constructor time.
	(getNamedColors): Function that creates this dictionary when needed
	rather than creating it inside an init function.
	(QColor::QColor): Share code with setRgb, get rid of _initialize.
	(hex2int): Return -1 for bad digit rather than 0.
	(decodeColorFromHexColorString): Make more robust and simpler.
	(QColor::setNamedColor): Set color to invalid rather than black when
	the passed in name is empty or unrecognized.
	(QColor::red), (QColor::green), (QColor::blue): Round instead of truncating.
	(QColor::setRgb): Set color to invalid if r, g, or b is out of range.
	(QColor::operator=): Simplify.
	(QColor::operator==): Handle invalid colors correctly.
	(QColor::getNSColor): Return black of invalid colors.

	* kwq/KWQCursor.mm: Simplify cursor globals.

	* kwq/KWQPainter.mm:
	(QPainter::_setColorFromBrush): Use getNSColor() to handle invalid colors correctly.
	(QPainter::_setColorFromPen): Use getNSColor() to handle invalid colors correctly.
	(QPainter::drawLine): Add code to respect style and width and handle endpoints in a
	way that will make the lines look like Qt users expect.
	(QPainter::drawText): Use getNSColor() to handle invalid colors correctly.
	(QPainter::drawUnderlineForText): Use getNSColor() to handle invalid colors correctly.
	(QPainter::fillRect): Use getNSColor() to handle invalid colors correctly.

	* kwq/KWQPen.mm: (QPen::QPen): (QPen::setStyle): Remove use of MPenStyle.

	* kwq/KWQPixmap.mm: (QPixmap::QPixmap): Add comments.

	* kwq/qt/qcolor.h: Simplify ifdefs, remove cname, _initialize, globals_init, and
	initGlobalColors.

	* kwq/qt/qnamespace.h: Remove AlignTop, AlignBottom, SingleLine, ExpandTabs, DontPrint,
	DashDotLine, DashDotDotLine, MPenStyle, WResizeNoRease, WRepaintNoErase, color0, color1,
	darkRed, darkGreen, darkBlue, darkCyan, darkMagenta, darkYellow. Simplify the QColor
	and QCursor globals.

	* kwq/qt/qpen.h: QPainter is no longer a friend class. Remove linest.


git-svn-id: svn://svn.chromium.org/blink/trunk@1175 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-19 16:02:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/75c12cae2b40125407fcc3b7dfd501c57555ed8f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00s401l5qarjncmh', 2, e'	* khtml/rendering/render_list.cpp: (RenderListItem::setStyle):
	OK. This time it\'s correct.


git-svn-id: svn://svn.chromium.org/blink/trunk@1174 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-18 01:35:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e86727f18b6cb840567bdd9e476f587315364d91');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00s501l5hp2p9ib3', 2, e'	* khtml/rendering/render_list.cpp: (RenderListItem::setStyle):
	Roll the change out while I see why it causes a crash.


git-svn-id: svn://svn.chromium.org/blink/trunk@1173 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-18 01:22:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/75c631e1eb8e99fd168f288b88a474508c7dc634');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00s601l5owngl2oo', 2, e'Replacing IFPluginStream.m with IFPluginStream.mm.


git-svn-id: svn://svn.chromium.org/blink/trunk@1172 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-18 00:59:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/97561a80eb2062c295195f78ed41995dc63ab7be');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00s701l5tma6xvop', 2, e'Adding this file.


git-svn-id: svn://svn.chromium.org/blink/trunk@1171 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-18 00:55:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d339761a78ca5bafaaa235ad37e9b18a7bb7dcc7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00s801l5u2gbob7k', 2, e'WebKit:
	  - Made IFPluginStream the URL handle client instead of IFPluginView.
        - Added support for NPP_PostURL and NPP_PostNotify.
        - Possible fix for 2928558.

        * Plugins.subproj/IFPluginStream.h:
        * Plugins.subproj/IFPluginView.h:
        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView initWithFrame:plugin:url:mime:arguments:mode:]):NSURL for url
        instead of NSString
        (-[IFPluginView dealloc]):
        (-[IFPluginView setWindow]):
        (-[IFPluginView start]):
        (-[IFPluginView stop]):
        (-[IFPluginView webDataSource]):Accessor for IFPluginStream.
        (-[IFPluginView webController]):Accessor for IFPluginStream.
        (-[IFPluginView URLForString:]):
        (-[IFPluginView getURLNotify:target:notifyData:]):
        (-[IFPluginView postURLNotify:target:len:buf:file:notifyData:]):
        (-[IFPluginView postURL:target:len:buf:file:]):
        (-[IFPluginView destroyStream:reason:]):
        (-[IFPluginView status:]):
        (-[IFPluginView NPP_NewStream]): Accessor for IFPluginStream.
        (-[IFPluginView NPP_WriteReady]):Accessor for IFPluginStream.
        (-[IFPluginView NPP_Write]): Accessor for IFPluginStream.
        (-[IFPluginView NPP_StreamAsFile]): Accessor for IFPluginStream.
        (-[IFPluginView NPP_DestroyStream]): Accessor for IFPluginStream.
        (-[IFPluginView NPP_URLNotify]): Accessor for IFPluginStream.
        * WebCoreSupport.subproj/IFWebCoreViewFactory.m: Use new IFPluginView init method
        (-[IFWebCoreViewFactory viewForPluginWithURL:serviceType:arguments:baseURL:]):
        * WebKit.pbproj/project.pbxproj:

Tools:

        Use rm -rf to remove Labyrinth.

        * Tools/jersey/bin/jersey.pl:
        * Tools/jersey/html/cgi-bin/j.pl:


git-svn-id: svn://svn.chromium.org/blink/trunk@1170 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-18 00:54:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/860c27fe8910200ae28b4f34152eebee5cc4b447');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00s901l5m4xjtvx8', 2, e'	* khtml/rendering/render_list.cpp: (RenderListItem::setStyle):
	Remove an old incorrect fix for a style leak in here and put in
	a new correct fix.


git-svn-id: svn://svn.chromium.org/blink/trunk@1169 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-17 17:57:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e63c277693e2d2f016cdb7b7672f7deb9fedd343');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00sa01l5hqzvh7fm', 2, e'	Fixed 2896350.  Ignore DPI in images and render directly at pixel size.


git-svn-id: svn://svn.chromium.org/blink/trunk@1168 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-16 22:43:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8b8f014dae91aec6f2bba43c5ae9ae212c14ca8e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00sb01l520rgq0wd', 2, e'	Fixed 2925638.  Don\'t send last progress message from resourceDataDidBecomeAvailable,
	it is sent from IFURLHandleResourceDidFinishLoading, avoiding duplication.


git-svn-id: svn://svn.chromium.org/blink/trunk@1167 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-16 19:47:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/90cd81a92308b36db7a5f240ba736524965c5e03');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00sc01l5biulo5yh', 2, e'0.  I was being overly aggressive about
	finding substitute glyphs.


git-svn-id: svn://svn.chromium.org/blink/trunk@1165 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-16 18:10:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5ef7d626b4f27133d3cef6b7fdd17e7b91eb50fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00sd01l5qfr3i2x3', 2, e'	* Plugins.subproj/IFPluginView.mm:
	(-[IFPluginView IFURLHandleResourceDidFinishLoading:data:]):
	Use this new getCarbonPath function rather than hardcoding assumptions
	about "/tmp" being ":private:tmp".
	(getCarbonPath): New.


git-svn-id: svn://svn.chromium.org/blink/trunk@1164 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-16 17:45:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3801b13b82b166e43694b076d2ad29b31575777c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmjfd00se01l5u89mkq2w', 2, e'	* Plugins.subproj/IFPluginView.mm: (-[IFPluginView mouseUp:]):
	Fixed log statement so development builds work again.


git-svn-id: svn://svn.chromium.org/blink/trunk@1163 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-16 16:00:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0b2d403f4c1a230c65e1f8a131058fdba5b1db4d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000qr01l5cwwxazte', 2, e'	* Plugins.subproj/IFPluginView.mm: (-[IFPluginView mouseUp:]):
	Remove unused variable that breaks optimized builds.


git-svn-id: svn://svn.chromium.org/blink/trunk@1162 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-16 15:45:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6808f1c74239eb7a284ddf290ccfec62730968bf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000qs01l5asgnl6ch', 2, e'	Another quick events cleanup pass.

	* Plugins.subproj/IFPluginNullEventSender.m:
	(-[IFPluginNullEventSender sendNullEvents]): Use [IFPluginView getCarbonEvent:].

	* Plugins.subproj/IFPluginView.h: Make almost all methods private.
	* Plugins.subproj/IFPluginView.mm:
	(+[IFPluginView getCarbonEvent:]): New.
	(-[IFPluginView getCarbonEvent:]): New, calls class method.
	(-[IFPluginView modifiersForEvent:isMouseDown:]): Reversed sense of btnState.
	This flag is set if the mouse is up, not if the mouse is down.
	(-[IFPluginView getCarbonEvent:withEvent:isMouseDown:]): New.
	(-[IFPluginView getCarbonEvent:withEvent:]): New.
	(-[IFPluginView sendActivateEvent:]): Now takes parameter for activate vs.
	deactivate and uses [getCarbonEvent:].
	(-[IFPluginView sendUpdateEvent]): Uses [getCarbonEvent:].
	(-[IFPluginView becomeFirstResponder]): Uses [getCarbonEvent:].
	(-[IFPluginView resignFirstResponder]): Uses [getCarbonEvent:].
	(-[IFPluginView mouseDown:]): Uses [getCarbonEvent:withEvent:isMouseDown:].
	(-[IFPluginView mouseUp:]): Uses [getCarbonEvent:withEvent:isMouseDown:].
	(-[IFPluginView mouseEntered:]): Uses [getCarbonEvent:withEvent:].
	(-[IFPluginView mouseExited:]): Uses [getCarbonEvent:withEvent:].
	(-[IFPluginView keyUp:]): Uses [getCarbonEvent:withEvent:].
	(-[IFPluginView keyDown:]): Uses [getCarbonEvent:withEvent:].
	(-[IFPluginView start]): Call [sendActivateEvent:YES].
	(-[IFPluginView windowBecameKey:]): Call [sendActivateEvent:YES].
	(-[IFPluginView windowResignedKey:]): Call [sendActivateEvent:NO].


git-svn-id: svn://svn.chromium.org/blink/trunk@1161 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-16 06:23:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/67736a7fb33b2628992f935b2a387fa86ebe6a3a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000qt01l5whssty58', 2, e'    Fixed problem dealing w/ characters in range 0x7f - 0xa0.


git-svn-id: svn://svn.chromium.org/blink/trunk@1160 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-16 00:22:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/69117e10288e91d6556bbbb978c07b814bd12fb6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000qu01l52mwkxh25', 2, e'        Fixed Flash mouse-down, mouse-over Flash bug.
        Added support for modifiers (control-click etc) (2884451).
        A lot of events clean-up.

        * Plugins.subproj/IFPluginNullEventSender.m:
        (-[IFPluginNullEventSender sendNullEvents]):
        * Plugins.subproj/IFPluginView.h:
        * Plugins.subproj/IFPluginView.mm:
        (newCString):
        (-[IFPluginView initWithFrame:plugin:url:mime:arguments:mode:]):
        (-[IFPluginView start]):
        (-[IFPluginView drawRect:]):
        (-[IFPluginView isFlipped]):
        (-[IFPluginView currentModifiers]):
        (-[IFPluginView modifiersForEvent:isMouseDown:]):
        (-[IFPluginView sendActivateEvent]):
        (-[IFPluginView sendUpdateEvent]):
        (-[IFPluginView becomeFirstResponder]):
        (-[IFPluginView resignFirstResponder]):
        (-[IFPluginView mouseDown:]):
        (-[IFPluginView mouseUp:]):
        (-[IFPluginView mouseEntered:]):
        (-[IFPluginView mouseExited:]):
        (-[IFPluginView keyUp:]):
        (-[IFPluginView keyDown:]):
        (-[IFPluginView windowBecameKey:]):
        (-[IFPluginView windowResignedKey:]):

        Case-sensitivity issue with an include.

        * WebView.subproj/IFWebView.mm:


git-svn-id: svn://svn.chromium.org/blink/trunk@1159 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-15 23:58:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/67487c8ad4f3860cb1b6051ba7fe70ceb6ca75ea');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000qv01l5hgfwlx23', 2, e'    Alerts, useful for validating that js handlers work.
    Validated that onsubmit is working.


git-svn-id: svn://svn.chromium.org/blink/trunk@1158 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-15 23:21:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8e34891bc4a604c2bb8c1c83ea1b86740efbbd6f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000qw01l5pxhwzhp5', 2, e'Oops.


git-svn-id: svn://svn.chromium.org/blink/trunk@1157 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-15 21:00:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9bf4ab2e19402704556aa3e61815c2b138fb771c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000qx01l5x0vrc86s', 2, e'	* kwq/qt/qguardedptr.h: Fix reversed sense of check in isNull. Fixes
	a bug that was causing a lot of DHTML not to work.


git-svn-id: svn://svn.chromium.org/blink/trunk@1156 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-15 20:59:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/51bc05073d9e83cdcbc27aad91af2c485421f863');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000qy01l55onuebnu', 2, e'2002-05-15  Kenneth Kocienda  <kocienda@apple.com>

        * kwq/KWQInvisibleButton.h: Changed an #include of Cocoa.h to an #import


git-svn-id: svn://svn.chromium.org/blink/trunk@1155 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-15 19:45:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c7db1d36e8645bdf20e1c854cb386ef0392fdbe7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000qz01l5zs4jjp8e', 2, e'	* kwq/KWQListImpl.mm:
	(KWQListImpl::KWQListPrivate::copyList): Take out unnecessary line of code.
	(KWQListImpl::KWQListPrivate::~KWQListPrivate): Delete the iterator nodes
	also, not just the item nodes. Fixes a storage leak.
	(KWQListIteratorImpl::KWQListIteratorPrivate::KWQListIteratorPrivate):
	Change interface to take a list pointer so we don\'t rely on the undefined
	behavior of &* on a null pointer.
	(KWQListImpl::addIterator): Set up the prev pointer of the old head of
	the list. This was causing the crash I was debugging.
	(KWQListIteratorImpl::operator=): Simpler implementation.


git-svn-id: svn://svn.chromium.org/blink/trunk@1154 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-15 19:03:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/428a436dd6f2fd727a7adc52a4b2a43b47658554');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000r001l52whxvo10', 2, e'	* Makefile.am:
	Use all-am and clean-am instead of all and clean because it\'s better and
	to make "make check" at the top level work right.


git-svn-id: svn://svn.chromium.org/blink/trunk@1153 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-15 17:05:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3fe646d2571e3d4e3f81a6afc2a297b70032e668');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000r101l5t2dmyyjj', 2, e'	Work to support copying bookmarks, needed for drag & drop
	in Bookmarks window.

	* Bookmarks.subproj/IFBookmark.h: Make IFBookmark conform to NSCopying.

	* Bookmarks.subproj/IFBookmark.m:
	(-[IFBookmark copyWithZone:]): insist that subclasses implement this.

	* Bookmarks.subproj/IFBookmarkGroup.h:
	* Bookmarks.subproj/IFBookmarkGroup.m:
	(-[IFBookmarkGroup insertBookmark:atIndex:ofBookmark:]):
	Removed this unnecessary method.

	* Bookmarks.subproj/IFBookmarkLeaf.m:
	(-[IFBookmarkLeaf copyWithZone:]): New method.

	* Bookmarks.subproj/IFBookmarkList.m:
	(-[IFBookmarkList copyWithZone:]): New method.


	Fixed 2921730 -- Can\'t rearrange bookmarks in Bookmarks window

	You can now drag and drop willy-nilly in the Bookmarks window to
	rearrange items. It\'s currently using a private pasteboard type,
	so you can\'t drop items from elsewhere or drag the bookmarks out
	of the list. I know of one bug (dropping an item inside itself
	makes it poof into nothingness) which I\'ll write up in a moment.

	* BookmarksController.m:
	(-[BookmarksController windowDidLoad]): register for our dragged type.
	(-[BookmarksController _anyAncestorOfRow:inArray:]): New helper method,
	used to avoid copying a folder deep and some of its children at the
	same time.
	(-[BookmarksController outlineView:writeItems:toPasteboard:]):
	Write list of rows to pasteboard, after eliminating items whose ancestors are
	also in set.
	(-[BookmarksController outlineView:validateDrop:proposedItem:proposedChildIndex:]):
	Move a drop on a leaf bookmark to be after the leaf bookmark.
	(-[BookmarksController outlineView:acceptDrop:item:childIndex:]):
	Do the move, by inserting copies of the moved items and then removing
	the originals.

	* OutlineViewPlus.m:
	(-[OutlineViewPlus setAcceptsFirstMouse:]):
	(-[OutlineViewPlus acceptsFirstMouse:]):
	Removed debugging messages I accidentally left in here.


git-svn-id: svn://svn.chromium.org/blink/trunk@1152 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-15 03:35:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9a695d7b1b269daee12a9531cf4bf6463f72e53e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000r201l5af0mfiy6', 2, e'    Fixed exception in log code.


git-svn-id: svn://svn.chromium.org/blink/trunk@1151 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-15 02:32:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a4eb5a164b91f81386b416a51e9622b5ebcfccb6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000r301l5z40j953s', 2, e'    Fixed 2926153, not getting correct messages after cancel.
    Fixed leak of mouse events (Darin wanted this ASAP).

    Added another symbol for stack based event constructor.
    Change to support onLoad.


git-svn-id: svn://svn.chromium.org/blink/trunk@1150 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-15 01:59:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/884899ead8ee4fcd3c4869af2953c9110bfc673d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000r401l5xavn779k', 2, e'WebCore:

        Changed slotData to slotData(NSString *encoding, const char *bytes, int length)

        * khtml/khtml_part.h:
        * kwq/KWQKHTMLPart.mm:
        (KHTMLPart::slotData):
        * libwebcore.exp:


WebKit:

        Removed retain of the URL handle. This was causing everything to leak.

        * WebView.subproj/IFMainURLHandleClient.h:
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient initWithDataSource:part:]):
        (-[IFMainURLHandleClient dealloc]):
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
        (-[IFMainURLHandleClient IFURLHandle:didRedirectToURL:]):
        (-[IFMainURLHandleClient processData:isComplete:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1149 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-15 00:19:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e66f6c9190006f7075dd03ef321645498f7a58bf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000r501l5gnrq9c19', 2, e'	* WebView.subproj/IFWebView.mm: (-[IFWebView initWithFrame:]):
	Remove code that makes us the first responder. That\'s up to the higher levels,
	not the web view.


git-svn-id: svn://svn.chromium.org/blink/trunk@1148 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-15 00:08:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d822cdbae3df94bca0ddafb9262a134c7bc2b95d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000r601l5rq4jhp6n', 2, e'	Fixed 2925291 -- CSS2 test page causes infinite recursion, crash

	* khtml/rendering/render_container.cpp: (RenderContainer::addChild):
	Add code to detect the case of a render object that uses text cell
	style but is not itself a text style, and make sure we don\'t try to
	nest such an object inside an infinite number of tables.


git-svn-id: svn://svn.chromium.org/blink/trunk@1147 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-14 20:53:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d26bec25df6cac6c06219a2c2bfb7a49686c5e75');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000r701l5rp1i2fk1', 2, e'	* History.subproj/IFURIEntry.h:
	Oops, deleted the prototype for setLastVisitedDate
	accidentally, which made Jersey sad.


git-svn-id: svn://svn.chromium.org/blink/trunk@1146 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-14 19:16:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5d9f2863f3f23e6415588d79bfc602b0ac4ee040');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000r801l502s2y9ql', 2, e'	Fixed 2919027 -- Need to remove unused code in WebKit/History.subproj

	* History.subproj/IFAttributedURL.h: Removed.
	* History.subproj/IFBackForwardList.h: Removed large #ifdef.
	* History.subproj/IFURIEntry.h,
	* History.subproj/IFURIEntry.m: Removed all mention of unused
	fields comment, creationDate, modificationDate
	* WebKit.pbproj/project.pbxproj: Updated for removed file.


git-svn-id: svn://svn.chromium.org/blink/trunk@1145 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-14 18:07:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8712b47b388f6f7fdcb241a637b14da5a4110057');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000r901l5k92ri248', 2, e'	* kwq/KWQListImpl.mm: (KWQListIteratorImpl::KWQListIteratorImpl):
	Add a missing check for a null pointer.

	* kwq/KWQGuardedPtr.mm: (KWQGuardedPtrBase::KWQGuardedPtrBase):
	Remove an unnecessary call to "toFirst", because new iterators
	already default to pointing to the first element of the list.


git-svn-id: svn://svn.chromium.org/blink/trunk@1144 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-14 13:52:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a1b8cf2a6dde01e18509fb0395558476fa285253');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000ra01l5yll95gxj', 2, e'	* kwq/KWQListImpl.mm: (KWQListImpl::~KWQListImpl): Detach all the iterators from
	the list when the list is destroyed. I thought this was done before, but it seems not.


git-svn-id: svn://svn.chromium.org/blink/trunk@1143 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-14 06:16:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d949277156e731ad8d1b8613b9c288d9ceac1710');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000rb01l5u269nsvh', 2, e'        Added support for setting the content policy on the location change handler
        and data source at any time instead of depending on an immediate response.

        * WebView.subproj/IFBaseWebController.mm:
        (-[IFBaseWebController haveContentPolicy:andPath:forLocationChangeHandler:]):
        * WebView.subproj/IFMainURLHandleClient.h:
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient initWithDataSource:part:]):
        (-[IFMainURLHandleClient dealloc]):
        (-[IFMainURLHandleClient setContentPolicy:]):
        (-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
        (-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):
        (-[IFMainURLHandleClient IFURLHandle:didRedirectToURL:]):
        (-[IFMainURLHandleClient processData:isComplete:]):
        * WebView.subproj/IFWebController.h:
        * WebView.subproj/IFWebDataSourcePrivate.mm:
        (-[IFWebDataSource _setContentPolicy:]):
        * WebView.subproj/IFWebFrame.mm:
        (-[IFWebFrame setProvisionalDataSource:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1142 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-14 05:43:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/438986d7db156554ccba6115be9e361762b056de');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000rc01l5kh066j9j', 2, e'	Fixed bug 2922884 (JavaScript object leak creating Image object from JavaScript).
	There was a reference loop created when a document contained a variable that
	referenced an image, because images held references to the document; the C++
	kind that do not participate in the JavaScript garbage collection.

	* khtml/ecma/kjs_html.h: Use a QGuardedPtr to the DocumentImpl instead of using
	a Document object.
	* khtml/ecma/kjs_html.cpp:
	(Image::tryPut): Change because the "doc" pointer is now a pointer to the
	DocumentImpl, not the Document. Also check for 0, since it\'s now a QGuardedPtr
	that can become 0.
	(Image::Image): Newly out of line. Changed because the "doc" pointer is now a
	pointer to the DocumentImpl, not the Document.

	Since the solution used QGuardedPtr, I had to implement it.

	* kwq/qt/qguardedptr.h: Put the implementation in a new KWQGuardedPtrBase class,
	with only the bare minimum in a template. This new implementation uses iterators
	on a QPtrList, which means there\'s not much code needed.
	* kwq/KWQGuardedPtr.mm: (KWQGuardedPtrBase::KWQGuardedPtrBase): Rewrite to use
	a QPtrListIterator to a dummy list in the QObject. This reuses code nicely, but
	a custom-coded solution would be a bit more efficient.

	* kwq/qt/qobject.h:
	* kwq/KWQObject.mm: (QObject::QObject): Create the one-element list that\'s used
	by the QGuardedPtr instances.

	Since the above code needed to copy a QPtrListIterator, I needed to support that.

	* kwq/qt/qlist.h: Move the iterator\'s copy constructor out of the private part,
	and implement it. This class was strange in that it has a public assignment
	operator, but a private unimplemented copy constructor. Implementing it was trivial,
	though, so this was no obstacle.


git-svn-id: svn://svn.chromium.org/blink/trunk@1141 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-14 02:57:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e012d3b73f0bbddbda1d594575a02f256f5b93dc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000rd01l5vsj4zddu', 2, e'	* kjs/value.h: Fix comment typos.


git-svn-id: svn://svn.chromium.org/blink/trunk@1140 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-14 02:56:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/039bc74c9a492a9847bf9409224f9a553eae4a4c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000re01l5mv342m35', 2, e'	* Makefile.am: Make WebCore precompiled headers depend on config.h
	to fix build breakage from last change.

WebKit:
	* WebKitPrefix.h: Gratuitous change to make the prefix file
	rebuild.


git-svn-id: svn://svn.chromium.org/blink/trunk@1139 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-14 02:30:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9866d7b42da32ee050d1062fc9e15934c6d3e5f8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000rf01l56nuw1l2m', 2, e'	Removed libjpeg dependency. Turns out we don\'t need it.

	* configure.in: Don\'t check for libjpeg.
	* Updates/update: Don\'t bother with the libjpeg update.
	* Updates/install-libjpeg.sh: Removed.

WebCore:
	Removed libjpeg dependency. Turns out we don\'t need it.

	* Makefile.am: Remove -ljpeg from link line.
	* khtml/misc/loader_jpeg.cpp: Removed.
	* khtml/misc/loader_jpeg.h: Removed.
	* khtml/misc/Makefile.am: Remve loader_jpeg from build.


git-svn-id: svn://svn.chromium.org/blink/trunk@1138 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-14 00:27:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bfd4b872937dec821726957f75b4fe6ba63a6452');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000rg01l5yscv5fu1', 2, e'        * WebView.subproj/IFBaseWebController.mm:
        (-[IFBaseWebController URLPolicyForURL:]):

        Use [IFURLHandle canInitWithURL] instead of hard-coded URL schemes.

        * WebView.subproj/IFBaseWebControllerPrivate.mm:
        (-[IFBaseWebController _mainReceivedProgress:forResource:fromDataSource:]):
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
        * WebView.subproj/IFWebDataSourcePrivate.h:
        * WebView.subproj/IFWebDataSourcePrivate.mm:
        (-[IFWebDataSourcePrivate init]):
        (-[IFWebDataSource _setDownloadPath:]):

        Removed _contentPolicy as contentPolicy is public.

        Initialize contentPolicy in [IFWebDataSourcePrivate init].


git-svn-id: svn://svn.chromium.org/blink/trunk@1137 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-13 18:22:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ad7e094544b266b65c85807573d1b735ce0b7e11');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000rh01l52x7pr7vb', 2, e'	Made log output match webkit logging.


git-svn-id: svn://svn.chromium.org/blink/trunk@1136 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-10 23:08:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/69bf752b256ab2f50ec0fb5e5a627d6946c676fe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000ri01l5rs015okg', 2, e'	Logging changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1135 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-10 23:07:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c1b9b0138c5f355936ebe8b02e36e138e34dc2ba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000rj01l5xf4num5n', 2, e'WebKit:

	Added support for non-html non-file URL data sources.
        Added the init methods below. Removed initWithHandle.

        * WebView.subproj/IFWebDataSource.h:
        * WebView.subproj/IFWebDataSource.mm:
        (IFWebDataSourceMake):
        (-[IFWebDataSource initWithURL:]):
        (-[IFWebDataSource initWithURL:attributes:]):
        (-[IFWebDataSource startLoading:]):

WebCore:

        Changed WCIFWebDataSourceMake to wrap around [IFWebDataSource initWithUR
L: attributes: flags:]
        instead of initWithHandle.

        * kwq/KWQKHTMLPart.mm:
        (KHTMLPart::requestFrame):
        (KHTMLPart::submitForm):
        * kwq/WCWebDataSource.h:
        * libwebcore.exp:


git-svn-id: svn://svn.chromium.org/blink/trunk@1134 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-10 22:28:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff898efc37255927c3594e0aa7aa1543f1bc94a3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmi9000rk01l5e00cr5aj', 2, e'	Fixed 2923728 (ellipsizing text method is taking a lot of CPU time) by writing a
	new string truncator that uses fast text measurement.

	* AppController.m: (-[AppController awakeFromNib]): Remove _setUpStringTruncator.

	* BrowserDocument.h: Remove _cachedPageName; it was not doing any good.
	* BrowserDocument.m:
	(-[BrowserDocument dealloc]): No need to release _cachedPageName.
	(-[BrowserDocument pageName]): No need to use _cachedPageName.
	(-[BrowserDocument _updateWindowTitles]): Name change.

	* StringTruncator.h: Rewrite. Only the name is the same.
	* StringTruncator.m:
	(+[StringTruncator centerTruncateString:length:omitCount:toBuffer:]):
	Does the work of removing the middle of a string.
	(+[StringTruncator centerTruncateString:toWidth:]): Convenience cover version that
	uses the menu font.
	(+[StringTruncator centerTruncateString:toWidth:withFont:]): The code to do the
	truncating.

	* TextCell.m: (-[TextCell drawInteriorWithFrame:inView:]): Use the new truncator
	interface that takes a font, not the old one that took an attributes dictionary.

	* WebBrowser.pbproj/project.pbxproj: Some little tweak.


git-svn-id: svn://svn.chromium.org/blink/trunk@1133 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-10 22:16:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/109991818f9592a6d22300cac9f0e1f83ac814f3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwd00px01l59dbodwvh', 2, e'	* WebCoreSupport.subproj/IFTextRenderer.h: Moved most of the
	stuff from here into the .m file so this header can be included
	by clients. Also added floatWidthForCharacters:length:.
	* WebCoreSupport.subproj/IFTextRenderer.m:
	(freeWidthMap): Check for NULL.
	(freeGlyphMap): Check for NULL.
	(-[IFTextRenderer slowFloatWidthForCharacters:length:]): Renamed,
	and made it return the float.
	(-[IFTextRenderer floatWidthForCharacters:length:]): Renamed, and
	made it return the float.
	(-[IFTextRenderer widthForCharacters:length:]): Do rounding here.

	* WebCoreSupport.subproj/IFTextRendererFactory.h:
	* WebCoreSupport.subproj/IFTextRendererFactory.m:
	Make the interface slightly easier to use by using the specific types.

	* WebKit.pbproj/project.pbxproj: Exported the headers.


git-svn-id: svn://svn.chromium.org/blink/trunk@1132 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-10 22:11:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4ac0caf09fd1d0c9827a6c966580f519f963771b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00py01l59nimbgfp', 2, e'2002-05-10  Kenneth Kocienda  <kocienda@apple.com>

        Fixed build breakage caused by my previous checkin.

        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1131 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-10 21:51:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bdfe9183d1caaa66215581e12fc9bb33a8b5b3e4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00pz01l5o86b9u9u', 2, e'	Fixed 2922756 (@ image in History window is a little too tall)
	Fixed 2923790 (bookmark folders need folder icons)

	* Resources/bookmark_folder.tiff: New image (small folder, copied from elsewhere)
	* Resources/url_icon.tiff: Shrunk this one a little bit.

	* Bookmarks.subproj/IFBookmarkList.m:
	(-[IFBookmarkList image]): Return the default image if no custom image is set.

	* History.subproj/IFURIEntry.m:
	(-[IFURIEntry image]): If the default image\'s file isn\'t found, don\'t try
	to create an NSImage, because it will come out horribly broken and evil if
	you do (I ran into this while adding the bookmark folder image; most of Alexander\'s
	menus did not appear at all because the bookmark folder image was using a bogus
	NSImage).

	* WebKit.pbproj/project.pbxproj: Updated for new files.

	Fixed 2922745 (Bookmark and History window should use same font size)
	Fixed 2923792 (All buttons in Bookmarks window look the same)

	* Resources/Images/new_bookmark.tiff: Added.
	* Resources/Images/new_folder.tiff: Added.
	* Resources/Images/pencil.tiff: Added.
	New images for buttons in Bookmarks window. new_folder
	was stolen from Finder; pencil was stolen from Mail;
	new_bookmark is a Sullivan Original™.

	* AppController.m:
	(-[AppController _addBookmarksToMenu]):
	(-[AppController _updateBookmarksInMenu]):
	Remove count of bookmarks from debug timing message since
	it wasn\'t counting deep.

	* BookmarksController.m:
	(-[BookmarksController toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:]):
	Use the right images for the right buttons.

	* English.lproj/Bookmarks.nib: Change the font size to
	match History window.

	* WebBrowser.pbproj/project.pbxproj: Updated for new files.


git-svn-id: svn://svn.chromium.org/blink/trunk@1130 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-10 21:25:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e7fa201dfac4603ad2a9c19b14b49c1345226e3f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00q001l5lzjvt4vl', 2, e'2002-05-10  Kenneth Kocienda  <kocienda@apple.com>

        Reviewed by: Maciej Stachowiak

        WebFoundation:

        This set of changes enhances the IFError object with two new pieces of
        information:

        1) An error domain, to help separate error codes from different
        sources that may overlap

        2) An indicator of whether the error should be treated as "terminal" by
        code that receives and handles the error.

        I have added a couple of other cleanups in this class, as described by
        the bugs noted below.

        The other code in this set of changes was modified to use the new interface
        and features of IFError.

        Fixes for these four bugs:

        Radar 2923998 (Change IFError private data into a pointer to a private data object)
        Radar 2924002 (IFError should include an error domain)
        Radar 2924013 (IFError initialization is not threadsafe)
        Radar 2924280 (IFError should contain a new field which tells whether the error is terminal)

        * CacheLoader.subproj/IFFileURLProtocolHandler.m:
        (-[IFFileURLProtocolHandler fileLoadThread])
        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
        (-[IFHTTPURLProtocolHandler continueBeginLoadInBackgroundAfterCreatingHTTPRequest])
        (-[IFHTTPURLProtocolHandler retryWithRedirectedURL:])
        (-[IFHTTPURLProtocolHandler handleReadStreamEvent:event:])
        (-[IFHTTPURLProtocolHandler performHTTPHeaderRead:])
        (-[IFHTTPURLProtocolHandler determineErrorAndFail])
        * CacheLoader.subproj/IFURLCacheLoaderConstants.:h
        * CacheLoader.subproj/IFURLHandle.m:
        (-[IFURLHandle _backgroundLoadFailedWithResultCode:inDomain:isTerminal:])
        (-[IFURLHandle _setError:])
        (-[IFURLHandle _notifyClientsDidFailLoading])
        * CacheLoader.subproj/IFURLHandleC.h:
        * CacheLoader.subproj/IFURLHandleC.m:
        (IFURLHandleBackgroundLoadFailedWithResultCode)
        * CacheLoader.subproj/IFURLHandlePrivate.h:
        * CacheLoader.subproj/IFURLLoad.h:
        * CacheLoader.subproj/IFURLLoad.m:
        (-[IFURLLoad failedWithResultCode:inDomain:isTerminal:])
        (-[IFURLLoad scheduleOriginLoad])
        (-[IFURLLoad beginOriginLoad])
        (_loadSweeper)
        * Misc.subproj/IFError.h:
        * Misc.subproj/IFError.m:
        (-[IFErrorPrivate dealloc])
        (classInitialize)
        (+[IFError errorWithCode:inDomain:failingURL:isTerminal:])
        (-[IFError initWithErrorCode:inDomain:failingURL:isTerminal:])
        (-[IFError dealloc])
        (-[IFError errorCode])
        (-[IFError errorDomain])
        (-[IFError terminalError])
        (-[IFError errorDescription])
        (-[IFError failingURL])
        (-[IFError description])


        WebKit:

        This code was modified to use the new interface and features of IFError.
        These features and changes are described in these four bug reports:

        Radar 2923998 (Change IFError private data into a pointer to a private data object)
        Radar 2924002 (IFError should include an error domain)
        Radar 2924013 (IFError initialization is not threadsafe)
	Radar 2924280 (IFError should contain a new field which tells whether the error is terminal)

        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView IFURLHandle:resourceDidFailLoadingWithResult:])
        * WebView.subproj/IFBaseWebControllerPrivate.mm:
        (-[IFBaseWebController _receivedProgress:forResource:fromDataSource:])
        (-[IFBaseWebController _mainReceivedProgress:forResource:fromDataSource:])
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:])


git-svn-id: svn://svn.chromium.org/blink/trunk@1129 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-10 21:07:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a47274363d451177717c1bfaf28191d9c9b71317');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00q101l5sd67b5v4', 2, e'=== JavaScriptCore-4 ===


git-svn-id: svn://svn.chromium.org/blink/trunk@1127 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-10 20:52:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9b7a1095514f114384d932eac4ed69a0c96ec0ac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00q201l5g167htex', 2, e'	Reviewed by: Ken Kocienda and Darin Adler

	Fixed the following bug:

	Radar 2890573 - JavaScriptCore needs to be thread-safe

	Actually this is only a weak form of thread-safety - you can safely
	use different interpreters from different threads at the same
	time. If you try to use a single interpreter object from multiple
	threads, you need to provide your own locking.

	* kjs/collector.h, kjs/collector.cpp:
	(Collector::lock, Collector::unlock): Trivial implementation of a
	recursive mutex.
	(Collector::allocate): Lock around the body of this function.
	(Collector::collect): Likewise.
	(Collector::finalCheck): Likewise.
	(Collector::numInterpreters): Likewise.
	(Collector::numGCNotAllowedObjects): Likewise.
	(Collector::numReferencedObjects): Likewise.
	* kjs/internal.cpp:
	(Parser::parse): use a mutex to lock around the whole parse, since
	it uses a bunch of global state.
	(InterpreterImp::InterpreterImp): Grab the Collector lock here,
	both the mutually exclude calls to the body of this function, and
	to protect the s_hook static member which the collector pokes at.
	(InterpreterImp::clear): Likewise.
	* kjs/ustring.cpp:
	(statBufferKeyCleanup, statBufferKeyInit, UString::ascii): Convert
	use of static variable
	* kjs/value.cpp:
	(ValueImp::ValueImp, ValueImp::mark, ValueImp::marked,
	ValueImp::setGcAllowed): Grab the GC lock around any flag changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1126 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-05-10 16:41:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7a82d031831d05383e4c257ec91fc1442c16aebe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00q301l5cop1bpuv', 2, e'i    Added new method to avoid creation of NSString.


git-svn-id: svn://svn.chromium.org/blink/trunk@1125 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-10 03:18:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/78c7f0889bd9a077ed89c7cecbd328cc3a2b6dd6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00q401l54vwzghhh', 2, e'    Tuned implementation more.  Cleaned up and factored code.


git-svn-id: svn://svn.chromium.org/blink/trunk@1124 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-10 03:18:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d933334f59b7ee34658e841b97fac8a791ce14d9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00q501l50o5x2ffb', 2, e'	* Bookmarks.subproj/IFBookmarkGroup.h:
	* Bookmarks.subproj/IFBookmarkGroup.m:
	(-[IFBookmarkGroup addNewBookmarkToBookmark:withTitle:image:URLString:isLeaf:]):
	(-[IFBookmarkGroup insertNewBookmarkAtIndex:ofBookmark:withTitle:image:URLString:isLeaf:]):
	Gave these two methods return values of the new bookmark created, to make callers\'
	lives easier.

	More work on bookmarks; you can now create new ones and new folders
	from the Bookmarks window. You still can\'t reorder them by dragging.
	There are many details wrong still, including some obvious ones.

	Fixed these radar bugs along the way:
	2921389 -- No way to create a folder in Bookmarks window
	2923495 -- Shouldn\'t be able to create bookmarks with no title and/or URL string

	Also improved what Activity Viewer shows for errors that had no description
	(was "(null)", now is "error").

	* AppController.m:
	(-[AppController _insertBookmark:intoMenu:atIndex:]):
	Made this method handle non-leaf bookmarks (i.e., folders)

	* BookmarksController.m:
	(-[BookmarksController _collapseSelectionToSingleRow]):
	New helper routine that always ends up with a single row
	selected (unless outline view is empty).

	(-[BookmarksController _removeSelectedBookmarks:]):
	Call _collapseSelectionToSingleRow after removing selected items.

	(-[BookmarksController _toggleEdit:]):
	New method, turns edit mode on or off for the selected item.

	(-[BookmarksController _findParentRowOfRow:]):
	New helper routine for finding the row index that\'s the parent of
	a given row.

	(-[BookmarksController _newItemWithTitle:image:URLString:isLeaf:]):
	Bottleneck for new-item-creating methods, finds appropriate place to
	insert new item based on current selection, inserts it, selects it,
	and puts its name into edit mode.

	(-[BookmarksController _newSeparator:]):
	New method, placeholder for now.

	(-[BookmarksController _newFolder:]):
	(-[BookmarksController _newBookmark:]):
	Implement by calling _newItemWithTitle:

	(-[BookmarksController outlineView:setObjectValue:forTableColumn:byItem:]):
	If new value after trimming whitespace is empty, ignore it.

	(-[BookmarksController outlineView:shouldEditTableColumn:item:]):
	Don\'t allow address cell of folder rows to be edited.

	(-[BookmarksController toolbarAllowedItemIdentifiers:]):
	New set of buttons is: New Bookmark, New Folder, Modify, Remove

	(-[BookmarksController validateUserInterfaceItem:]):
	Disable Modify when nothing is selected.

	* English.lproj/Bookmarks.nib:
	I don\'t remember what I changed here, possibly nothing real.

	* IFErrorAdditions.h: Added.
	* IFErrorAdditions.m: Added.
	(-[IFError errorSummary]): New category on IFError, implements just this
	one method, which returns a string of the form "<error description> (<error code>)"
	and handles the case where there\'s no description.

	* FrameProgressEntry.m:
	(-[FrameProgressEntry statusString]): use errorSummary.
	* ResourceProgressEntry.m:
	(-[ResourceProgressEntry statusString]): use errorSummary.

	* GlobalHistory.m:
	(-[GlobalHistory showWindow:]): Changed an NSLog to a WEBKITDEBUG

	* WebBrowser.pbproj/project.pbxproj: Updated for new files.


git-svn-id: svn://svn.chromium.org/blink/trunk@1123 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-10 01:35:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4eda235aa5bc26b33facb40f745e181ffc497bd4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00q601l5n6zs4a8b', 2, e'2002-05-09  Kenneth Kocienda  <kocienda@apple.com>

        Reviewed by: Chris Blumenberg

        Fix for this bug:

        Radar 2922673 (Remove use of private NSData interface in IFURLFileDatabase.m)

        * Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileReader initWithPath:]): Code now uses new Jaguar public API


git-svn-id: svn://svn.chromium.org/blink/trunk@1120 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-09 19:42:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9a0612a76f9e9e999c23e72bbd4b587b4ae3dc7d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00q701l510z1g7v3', 2, e'2002-05-09  Kenneth Kocienda  <kocienda@apple.com>

        Fix for this bug:

        Radar 2890624 (need to remove workaround for double free of image data from QPixmap)

        The appropriate, bug-free AppKit code is now available to us on Jaguar.
        Rolling out the workaround.

        * kwq/KWQPixmap.mm:
        (QPixmap::QPixmap)


git-svn-id: svn://svn.chromium.org/blink/trunk@1119 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-09 19:25:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fd86e205773802ce38bad572cdb8b9200d5e5d75');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00q801l5licer45g', 2, e'2002-05-09  Kenneth Kocienda  <kocienda@apple.com>

        Tiny little string copying cleanup suggested by Darin.

        * Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileDatabase open]): small string copying cleanup.


git-svn-id: svn://svn.chromium.org/blink/trunk@1118 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-09 16:43:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/864caf131a75f771e257ae23c2f9276c8ce7029f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00q901l55dxq959y', 2, e'2002-05-09  Kenneth Kocienda  <kocienda@apple.com>

        Reviewed by: Darin Adler

        Fixes for these two bugs:

        Radar 2859001 (Maintain usage calculation for on-disk cache)
        Radar 2859009 (On-disk cache must be able to be truncated to a specific size)

        Now, the on-disk database keeps track of the amount of data it stores and can enforce
        a usage quota. This new system should work quite well as long as there is a one-to-one
        mapping between processes and on-disk cache paths.

        Further guarantees for synchronous access to a cache from multiple processes will be
        offered if (when) we switch over to using the sleepycat Berkeley DB for the disk cache
        implementation.

        * CacheLoader.subproj/IFURLDiskCache.m:
        (-[IFURLDiskCache initWithSizeLimit:path:]): Added code that calls into new database methods
        (-[IFURLDiskCache dealloc]): Added missing call to [super dealloc]
        (-[IFURLDiskCache setSizeLimit:]): New
        (-[IFURLDiskCache usage]): New
        * Database.subproj/IFDatabase.h:
        * Database.subproj/IFDatabase.m:
        (-[IFDatabase initWithPath:]): Added code to track size limit and usage
        (-[IFDatabase isOpen]): Added code to track size limit and usage
        (-[IFDatabase count]): New
        (-[IFDatabase sizeLimit]): New
        (-[IFDatabase setSizeLimit:]): New
        (-[IFDatabase usage]): New
        * Database.subproj/IFNDBMDatabase.h: Removed.
        * Database.subproj/IFNDBMDatabase.m: Removed.
        * Database.subproj/IFURLFileDatabase.h:
        * Database.subproj/IFURLFileDatabase.m:
        (+[IFURLFileDatabase uniqueFilePathForKey:]): Moved to private category
        (-[IFURLFileDatabase writeSizeFile:]): New
        (-[IFURLFileDatabase readSizeFile]): New
        (-[IFURLFileDatabase truncateToSizeLimit:]): New
        (-[IFURLFileDatabase initWithPath:]): Added code to deal with size reckoning
        (-[IFURLFileDatabase removeAllObjects]): Added code to deal with size reckoning
        (-[IFURLFileDatabase performSetObject:forKey:]): Added code to deal with size reckoning
        (-[IFURLFileDatabase performRemoveObjectForKey:]): Added code to deal with size reckoning
        (-[IFURLFileDatabase open]): Added code to deal with size reckoning
        (-[IFURLFileDatabase close]): Added code to deal with size reckoning
        (-[IFURLFileDatabase sync]): Added code to deal with size reckoning
        (-[IFURLFileDatabase count]): New
        (-[IFURLFileDatabase setSizeLimit:]): New
        * WebFoundation.pbproj/project.pbxproj: PB has its way again.


git-svn-id: svn://svn.chromium.org/blink/trunk@1117 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-05-09 16:35:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0e48c61951cd678d140b1be23c4637fbfd7d7338');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qa01l57hodhtk1', 2, e'Alexander-3 versioning


git-svn-id: svn://svn.chromium.org/blink/trunk@1115 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-05-09 16:19:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/689346f402a0fd069a5fa28f00dbf3c81bdf606a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qb01l5trfmcn95', 2, e'    Added optimizations for text rendering.


git-svn-id: svn://svn.chromium.org/blink/trunk@1114 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-09 03:05:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/31abd75603d0db1692114604e61ac607547bd1cd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qc01l5hjgka3il', 2, e'	* Misc.subproj/IFCache.h: Add more JavaScript object statistics.
	* Misc.subproj/IFCache.mm:
	(+[IFCache javaScriptInterpretersCount]): New.
	(+[IFCache javaScriptNoGCAllowedObjectsCount]): New.
	(+[IFCache javaScriptReferencedObjectsCount]): New.

	* WebKit.pbproj/project.pbxproj: Rearranged two files, dunno why.


git-svn-id: svn://svn.chromium.org/blink/trunk@1113 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-09 00:11:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/561ea087f2ff509b5999f6961b55a63ec9c8cae2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qd01l5olz6wfu9', 2, e'	* kjs/collector.h:
	* kjs/collector.cpp:
	(Collector::numInterpreters):
	(Collector::numGCNotAllowedObjects):
	(Collector::numReferencedObjects):
	Add three new functions so we can see a bit more about leaking JavaScriptCore.


git-svn-id: svn://svn.chromium.org/blink/trunk@1112 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-09 00:11:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3058aaec903999c1320b9310d18f1711b908bdc6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qe01l5lv55p6nq', 2, e'        Cleaned up mach-o plug-in support.

        Changed the init method in IFPlugin to initWithPath.

        * Plugins.subproj/IFPlugin.h:
        * Plugins.subproj/IFPlugin.m:
        (-[IFPlugin initWithPath:]):
        (-[IFPlugin load]):
        * Plugins.subproj/IFPluginDatabase.m:
        (findPlugins):


git-svn-id: svn://svn.chromium.org/blink/trunk@1111 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-08 20:22:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2154fe65f7ec3fd97a717d639fab9c94f6a6a2a2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qf01l5njhwi90z', 2, e'Forgot include.


git-svn-id: svn://svn.chromium.org/blink/trunk@1110 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-08 18:37:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/51727c010c20c5ae440ebe87ac9db90e0fafb3a7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qg01l5st3d8fx1', 2, e'	* WebView.subproj/IFWebDataSourcePrivate.mm: (-[IFWebDataSource _setTitle:]):
	Use _IF_stringByTrimmingWhitespace.


git-svn-id: svn://svn.chromium.org/blink/trunk@1109 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-08 18:29:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/933c288e92a2ead8c7eee5ad1310c53ba3b6e7bb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qh01l52q1aan9j', 2, e'        First pass at font substitution.  Find a substitute font to
        use when the specified font doesn\'t have glyphs for the characters that
        need to be drawn.

        Works correctly but hasn\'t been optimized yet, VERY slow.
        Will optimize this evening and tomorrow.  Try www.yahoo.co.jp,
        it will take a long time to render be eventually will draw correctly.


git-svn-id: svn://svn.chromium.org/blink/trunk@1108 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-07 23:51:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f4afa395313ca7bac1965415c44d205981da7fc8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qi01l59moxdf2l', 2, e'	* kwq/KWQFontMetrics.mm: Fixed storage leak by initializing refCount.


git-svn-id: svn://svn.chromium.org/blink/trunk@1107 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-07 23:36:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a687c23a7d27b7ec65cb4b9ef56e57b9fc24fdaa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qj01l5k69eg8uy', 2, e'	Oops. These files don\'t belong at the top level.

	* IFWebCoreViewFactory.h: Removed.
	* IFWebCoreViewFactory.m: Removed.
	* WebCoreSupport.subproj/IFWebCoreViewFactory.h: Added.
	* WebCoreSupport.subproj/IFWebCoreViewFactory.m: Added.
	* WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1106 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-07 21:41:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6ecab5d7f57818d15808488821a2942ca7e8a484');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qk01l5tlgkco1n', 2, e'WebCore:

	Move more plugin code into WebKit.

	Stop using IF for anything in WebCore to help make it clear what\'s part of
	the BSD licensed stuff and what\'s part of our proprietary stuff.

	* libwebcore.exp: Names of what exported changed.
	* kwq/Makefile.am: Source file names changed.

	* kwq/IFTextRenderer.h: Renamed to WebCoreTextRenderer.
	* kwq/IFTextRendererFactory.h: Renamed to WebCoreTextRendererFactory.
	* kwq/IFTextRendererFactory.m: Renamed to WebCoreTextRendererFactory.
	* kwq/WebCoreTextRenderer.h: Renamed from IFTextRenderer.
	* kwq/WebCoreTextRendererFactory.h: Renamed from IFTextRendererFactory.
	* kwq/WebCoreTextRendererFactory.m: Renamed from IFTextRendererFactory.

	* kwq/KWQFontMetrics.mm:
	* kwq/KWQPainter.mm:
	Updated for IF -> WebCore name change.

	* kwq/WebCoreViewFactory.h: Added.
	* kwq/WebCoreViewFactory.m: Added.

	* kwq/KWQKConfigBase.mm: (KConfig::readEntry): (KConfig::readNumEntry):
	Use the new [WebCoreViewFactory pluginsInfo] so we don\'t have to have
	the plugin database in WebCore any more.

	* kwq/WCJavaAppletWidget.h:
	* kwq/WCJavaAppletWidget.mm: (IFJavaAppletWidgetCreate):
	* kwq/WCPluginWidget.h:
	* kwq/WCPluginWidget.mm: (IFPluginWidgetCreate):
	Remove creation function machinery, and use the WebCoreViewFactory instead.

	* kwq/WCPlugin.h: Moved to WebKit.
	* kwq/WCPlugin.mm: Moved to WebKit.
	* kwq/WCPluginDatabase.h: Moved to WebKit.
	* kwq/WCPluginDatabase.mm: Moved to WebKit.
	* kwq/npapi.h: Moved to WebKit.
	* kwq/npapi.mm: Moved to WebKit.

WebKit:

	Move more plugin code here from WebCore.

	* IFWebCoreViewFactory.h: Added.
	* IFWebCoreViewFactory.m: Added.

	* Plugins.subproj/IFPlugin.h: Moved from WebCore.
	* Plugins.subproj/IFPlugin.m: Moved from WebCore.
	* Plugins.subproj/IFPluginDatabase.h: Moved from WebCore.
	* Plugins.subproj/IFPluginDatabase.m: Moved from WebCore.
	* Plugins.subproj/npapi.h: Moved from WebCore.
	* Plugins.subproj/npapi.m: Moved from WebCore.

	* WebKit.pbproj/project.pbxproj: Source file names changed

	* MIME.subproj/IFMIMEDatabase.m:
	* MIME.subproj/IFMIMEHandler.m:
	* Plugins.subproj/IFPluginView.h:
	* Plugins.subproj/IFPluginView.mm:
	Updated for WC -> IF name change.

	* WebCoreSupport.subproj/IFCachedTextRenderer.h: Renamed to IFTextRenderer.
	* WebCoreSupport.subproj/IFCachedTextRenderer.m: Renamed to IFTextRenderer.
	* WebCoreSupport.subproj/IFCachedTextRendererFactory.h: Renamed to IFTextRendererFactory.
	* WebCoreSupport.subproj/IFCachedTextRendererFactory.m: Renamed to IFTextRendererFactory.
	* WebCoreSupport.subproj/IFTextRenderer.h: Renamed from IFCachedTextRenderer.
	* WebCoreSupport.subproj/IFTextRenderer.m: Renamed from IFCachedTextRenderer.
	* WebCoreSupport.subproj/IFTextRendererFactory.h: Renamed from IFCachedTextRendererFactory.
	* WebCoreSupport.subproj/IFTextRendererFactory.m: Renamed from IFCachedTextRendererFactory.
	Renamed to take "Cached" out of the name now that the simpler name is
	available.

	* WebView.subproj/IFWebView.mm:
	(-[IFWebView initWithFrame:]): Create shared IFWebCoreViewFactory.
	(-[IFWebView delayLayout:]): Use WEBKITDEBUG, not KWQDEBUG.
	(-[IFWebView notificationReceived:]): Use WEBKITDEBUG, not KWQDEBUG.


git-svn-id: svn://svn.chromium.org/blink/trunk@1105 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-07 21:10:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1658a75e9dc3ffc7162b9c638dd97ab0b3900e9d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00ql01l5gg5iyrvc', 2, e'	* Tools/Scripts/cvs-fix-patch: Tweak error handling a tiny bit,
	make usage error go to stderr, and make it not touch the file if
	dift -f doesn\'t end up fixing anything.

	* Tools/Scripts/mv-if-different: Added. Useful to overwrite a file
	with a new version without touching the mod date if they are equal.

	* Tools/Scripts/set-alex-version: Use mv-if-different so we don\'t
	touch files if we aren\'t changing anything.

WebFoundation:

	Use isEqualToString: instead of isEqual: more consistently. But only for strings.

	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
	(+[IFHTTPURLProtocolHandler canonicalizeURL:]):

WebKit:

	Use isEqualToString: instead of isEqual: more consistently. But only for strings.

	* WebCoreSupport.subproj/IFCachedTextRendererFactory.m:
	(-[IFFontCacheKey isEqual:]):
	* WebView.subproj/IFBaseWebController.mm:
	(-[IFBaseWebController _frameNamed:fromFrame:]):

WebBrowser:

	Use isEqualToString: instead of isEqual: more consistently. But only for strings.

	* AppController.m:
	(-[AppController handleGURLEvent:withReplyEvent:]):
	* BookmarksController.m:
	(-[BookmarksController outlineView:objectValueForTableColumn:byItem:]):
	(-[BookmarksController outlineView:setObjectValue:forTableColumn:byItem:]):
	* BrowserWindow.m:
	(-[BrowserWindow setLocationFieldText:]):
	(-[BrowserWindow toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:]):
	(-[BrowserWindow toolbarWillAddItem:]):
	* Debug/DOMTree.mm:
	(-[DOMTreeDataSource outlineView:objectValueForTableColumn:byItem:]):
	* Debug/RenderTree.mm:
	(-[RenderTreeDataSource outlineView:objectValueForTableColumn:byItem:]):
	* LocationChangeHandler.m:
	(-[LocationChangeHandler _saveScrollPosition]):
	(-[LocationChangeHandler _restoreScrollPosition]):
	* StopAndGoButton.m:
	(-[StopAndGoButton setActiveImageSet:]):
	* Test/PageLoadTestController.m:
	(-[PageLoadTestController tableView:objectValueForTableColumn:row:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1104 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-07 15:56:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2d2b8a1b917223c3611eca431ffd473f489175ad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qm01l5dgq5nefi', 2, e'
	Some improvements to the bookmark changed notifications.

	* Bookmarks.subproj/IFBookmarkGroup.h:
	* Bookmarks.subproj/IFBookmarkGroup.m:
	(-[IFBookmarkGroup _sendChangeNotificationForBookmark:childrenChanged:]):
	(-[IFBookmarkGroup _setTopBookmark:]):
	(-[IFBookmarkGroup _bookmarkDidChange:]):
	(-[IFBookmarkGroup _bookmarkChildrenDidChange:]):
	Send bookmark that changed and whether its children changed as part of
	change notifications, so clients can choose to do less unnecessary work.

	* Bookmarks.subproj/IFBookmarkLeaf.m:
	(-[IFBookmarkLeaf setTitle:]): Check for the no-change case
	and bail out without sending notification when you find it.

	Fixed 2919147 (Organize Bookmarks menu item doesn\'t do anything).

	First check-in of Bookmarks window. You can remove one or more bookmarks,
	and you can edit the title & address of existing bookmarks, but that\'s all
	so far. Removed the Erase All Bookmarks item from the Debug menu since you
	can do it easily from the Bookmarks window now. Added keyboard equivalents
	for the Bookmarks, History, and Activity Viewer windows in the style of
	Mail. Also miscellaneous cleanups.

	* BookmarksController.h: Added.
	* BookmarksController.m: Added.
	(-[BookmarksController shouldCascadeWindows]):
	(-[BookmarksController _receivedBookmarksChangedNotification:]):
	(-[BookmarksController _setUpToolbar]):
	(-[BookmarksController windowDidLoad]):
	(-[BookmarksController dealloc]):
	(-[BookmarksController _removeAllBookmarks]):
	(-[BookmarksController _removeSelectedBookmarks:]):
	(-[BookmarksController outlineView:child:ofItem:]):
	(-[BookmarksController outlineView:isItemExpandable:]):
	(-[BookmarksController outlineView:numberOfChildrenOfItem:]):
	(-[BookmarksController outlineView:objectValueForTableColumn:byItem:]):
	(-[BookmarksController outlineView:setObjectValue:forTableColumn:byItem:]):
	(-[BookmarksController outlineView:willDisplayCell:forTableColumn:item:]):
	(-[BookmarksController toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:]):
	(-[BookmarksController toolbarAllowedItemIdentifiers:]):
	(-[BookmarksController toolbarDefaultItemIdentifiers:]):
	(-[BookmarksController toolbarDidRemoveItem:]):
	(-[BookmarksController toolbarWillAddItem:]):
	(-[BookmarksController validateUserInterfaceItem:]):
	New class that manages the Bookmarks window.

	* AppController.h:
	* AppController.m:
	(-[AppController dealloc]): release bookmarks controller.
	(-[AppController showBookmarks:]): create bookmarks controller if necessary,
	and tell it to show its window.

	* BrowserWindow.m:
	Changed static strings to #defines.
	(-[BrowserWindow setUpToolbar]): Remove call that explicitly sets toolbar
	display mode; we\'ve no reason to override the default.

	* Debug/DebugUtilities.m:
	(-[DebugUtilities createDebugMenu]):
	Remove Erase All Bookmarks.

	* English.lproj/Bookmarks.nib: New nib file for Bookmarks window.

	* English.lproj/MainMenu.nib: Wired up "Organize Bookmarks..." and
	"Bookmarks" menu items; added keyboard shortcuts for Window menu items.

	* GlobalHistory.m:
	(-[GlobalHistory outlineView:objectValueForTableColumn:byItem:]):
	Changed two isEquals to isEqualToStrings.
	(-[GlobalHistory _anyURLsSelected]): Replaced anyDatesSelected with this.
	(-[GlobalHistory updateButtons]): Allow Add to Bookmarks to be enabled even if
	some dates are selected; just ignore them (at least one non-date has to be selected).
	(-[GlobalHistory addSelectedItemsToBookmarks:]): Removed obsolete comment.

	* Resources/Images/delete.tiff: New image, stolen for mail, used in Bookmarks window.

	* WebBrowser.pbproj/project.pbxproj: Updated for new files.


git-svn-id: svn://svn.chromium.org/blink/trunk@1103 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-07 01:27:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/10a0d9bf5369ae3e4b0f51fa3b6be55c3cf24f61');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qn01l5ny9pmemr', 2, e'i	* Makefile.am: Generate the PFE precompiled headers to be used
	by automake compiles. Currently these don\'t have any dependency
	tracking, but I\'m sure Maciej can fix that if he wants to.

	* configure.in: Go from "xNDEBUG" to "NDEBUG" now that precompiled
	headers aren\'t in the way. Pass in the --load-pch option to all the
	various compiles so they get the precompiled headers.

	* Tests/libiftest/Makefile.am: Generate a top_srcdir.h file rather
	than passing it in on the command line. This works around a PFE bug
	with -D, Radar 2921026.
	* Tests/libiftest/IFTestDirectory.c: Use top_srcdir.h.
	* Tests/libiftest/.cvsignore: Ignore top_srcdir.h.

	* Tests/qt/qpoint-test.cpp: (main): Take out an unused variable and
	all the USING_BORROWED_QPOINT code.

	* Tools/Makefile.am: Don\'t built the HotSpots directory for now, since
	it runs into a PFE bug and we usually use the application version now.

	* Tools/Scripts/check-non-ASCII: Skip preprocessor directives.
	* Tools/Scripts/cvs-abandon: Tweak.

JavaScriptCore:

	* JavaScriptCorePrefix.h: Added.
	* JavaScriptCore.pbproj/project.pbxproj: Use PFE precompiling.
	Also switch from xNDEBUG to NDEBUG.

WebFoundation:

	Reviewed by Ken Kocienda:

	* WebFoundationPrefix.h: Added.
	* WebFoundation.pbproj/project.pbxproj: Use PFE precompiling.
	Also switch from xNDEBUG to NDEBUG.

	* AuthenticationManager.subproj/IFAuthenticationManager.m:
	* CookieManager.subproj/IFCookie.m:
	* Misc.subproj/IFNSStringExtensions.m:
	* Misc.subproj/WebFoundationDebug.m:
	Add undefs to work around PFE problem with inline functions, Radar 2920554.

	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
	Fix include to work with normal Project Builder way of dealing with frameworks.
	Switch from xNDEBUG to NDEBUG.

	* CacheLoader.subproj/IFURLLoad.m:
	* CookieManager.subproj/IFCookie.m:
	* Database.subproj/IFURLFileDatabase.m:
	* Misc.subproj/IFError.m:
	* Misc.subproj/IFMonitor.h:
	* Misc.subproj/IFMonitor.m:
	* Misc.subproj/IFRecursiveReadWriteLock.h:
	Use import instead of include.

	* Misc.subproj/IFCFNetworkExtensions.m: Added.
	* Misc.subproj/IFCFRunLoopExtensions.m: Added.
	* Misc.subproj/IFCFNetworkExtensions.c: Removed.
	* Misc.subproj/IFCFRunLoopExtensions.c: Removed.
	Renamed so we could share the Objective-C precompile. No need to compile this code
	as plain C, even though it doesn\'t use any Objective-C features.

	* Misc.subproj/WebFoundationDebug.h: Get rid of format attribute because of bug
	2920557. Switch from xNDEBUG to NDEBUG.

WebCore:

	* WebCorePrefix.h: Added.

	* .cvsignore: Ignore the .pfe files in this directory.

	* khtml/dom/dom_doc.cpp:
	* khtml/dom/dom_text.cpp:
	Added namespace directives as a clean workaround for a conflict
	with the struct named Comment in <Carbon/AIFF.h>

	* kwq/KWQFont.mm:
	* kwq/KWQFontMetrics.mm:
	* kwq/KWQKGlobal.mm:
	* kwq/KWQListImpl.mm:
	* kwq/KWQPtrDictImpl.h:
	* kwq/KWQVectorImpl.mm:
	* kwq/kwqdebug.h:
	* kwq/qt/qcolor.h:
	* kwq/qt/qcombobox.h:
	* kwq/qt/qregion.h:
	* kwq/qt/qstring.h:
	* kwq/qt/qwidget.h:
	Remove old workaround for conflicts with Fixed, Rect, and Boolean.
	It does not good with a precompiled header anyway, and there is a
	more elegant small fix in the KDE code itself.

	* kwq/qt/qpoint.h:
	* kwq/KWQPointArray.mm: (QPointArray::setPoints):
	Work around bug with va_arg and PFE by not using varargs here.

	* kwq/KWQRect.mm: (QRect::unite): (QRect::operator&):
	Use std::min and std::max instead of defining our own MIN and MAX, which
	conflict with something in one of the headers we are precompiling (error
	message did not make it clear which).

	* kwq/KWQView.mm: (-[KWQHTMLView layout]), (-[KWQHTMLView drawRect:]):
	Switch from xNDEBUG to NDEBUG.

	* kwq/Makefile.am: Remove stuff for getting at the header inside the
	ApplicationServices and QD frameworks, since that code is now in WebKit.

	* kwq/kwqdebug.h: Get rid of format attribute because of bug 2920557.
	Switch from xNDEBUG to NDEBUG.

	* kwq/kwqdebug.mm: Switch from xNDEBUG to NDEBUG.

	* kwq/qt/qstring.h: Define QT_VERSION in here instead of on the command
	line to work around a PFE bug with -D, Radar 2921026.

WebKit:

	* WebKitPrefix.h: Added.
	* WebKit.pbproj/project.pbxproj: Use PFE precompiling.
	Also switch from xNDEBUG to NDEBUG.

	* Misc.subproj/WebKitDebug.h: Get rid of format attribute because of bug
	2920557. Switch from xNDEBUG to NDEBUG.

	* Misc.subproj/WebKitDebug.m:
	Add undef to work around PFE problem with inline functions, Radar 2920554.

	* Plugins.subproj/IFPluginView.mm: Changed how we work around the bug in
	the CGS defines.

	* WebCoreSupport.subproj/IFCachedTextRenderer.h: Change include of the
	private QD header to use the form that works with more-normal way of
	getting at the private bits of frameworks.

	* WebCoreSupport.subproj/IFCachedTextRenderer.m: Use the header
	<CoreGraphics/CoreGraphicsPrivate.h> instead of <CoreGraphics/CGFontPrivate.h>.

	* Misc.subproj/IFCache.mm:
	* WebView.subproj/IFLoadProgress.mm:
	* WebView.subproj/IFWebFrame.mm:
	* WebView.subproj/IFWebFramePrivate.mm:
	* WebView.subproj/IFWebView.mm:
	Changed includes to imports.

WebBrowser:

	* WebBrowserPrefix.h: Added.
	* WebBrowser.pbproj/project.pbxproj: Use PFE precompiling.
	Also switch from xNDEBUG to NDEBUG.

	* Debug/CacheController.m: Renamed to make it Objective C rather
	than Objective C++.
	* Debug/CacheController.mm: Removed.

	* main.m: Use the real __CFA2UC. Use import instead of include.
	* ___CFA2UC.c: Remove our copy.

	* Debug/DOMTree.mm:
	* Debug/RenderTree.mm:
	* Preferences.subproj/ActiveContentPreferences.h:
	* Preferences.subproj/AppearancePreferences.h:
	* Preferences.subproj/GeneralPreferences.h:
	* Preferences.subproj/SecurityPreferences.h:
	* Preferences.subproj/TextPreferences.h:
	* Preferences.subproj/WBPreferences.h:
	* Test/PageLoadTestLogger.m:
	Use import instead of include.


git-svn-id: svn://svn.chromium.org/blink/trunk@1102 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-06 23:40:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/798649275b2c47557316e5ba9912f29f1d95feb0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qo01l5zeiazfh5', 2, e'        Made start and stop work cleaner.

        Now observe defaults changes so that plug-ins
        are disabled or enabled immediately (2871725).

        * Plugins.subproj/IFPluginNullEventSender.m:
        (-[IFPluginNullEventSender sendNullEvents]):
        * Plugins.subproj/IFPluginView.h:
        * Plugins.subproj/IFPluginView.mm:
        (-[IFPluginView initWithFrame:plugin:url:mime:arguments:mode:]):
        (-[IFPluginView start]):
        (-[IFPluginView stop]):
        (-[IFPluginView drawRect:]):
        (-[IFPluginView windowWillClose:]):
        (-[IFPluginView defaultsHaveChanged:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1101 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-05-06 23:14:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5104b1f351f422b073251b23536fa0f4b6b53116');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qp01l55o50wby7', 2, e'        Fixed width measurement regression.  We lost the final ROUND_TO_INT
        in the width measurement funtion after the move from WebCore.


git-svn-id: svn://svn.chromium.org/blink/trunk@1100 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-06 22:56:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0ea55af897eef824e357aa9ef1fb2c696d86ace4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmgwe00qq01l5dhe8nupe', 2, e'        Changes to support dhmtl.
        Changes to support targeting (regression after 3.0 merge).


git-svn-id: svn://svn.chromium.org/blink/trunk@1099 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-05-06 20:49:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9911729b3bb27b5d41f204bfb04d3b80cdb1da05');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200p301l5ni5o27w2', 2, e'	* Resources/url_icon.tiff: New bookmarks/history icon, looks
	more like the springy @ sign as seen from above, less like text.


git-svn-id: svn://svn.chromium.org/blink/trunk@1098 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-06 16:31:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5ad3d31934abce1d9fa0f9b17b14761dd74f922a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200p401l52ciem2p0', 2, e'	* khtml/css/cssstyleselector.cpp:
	* khtml/dom/css_value.cpp:
	* khtml/xml/dom_stringimpl.cpp:
	Put in some namespace-related statements to more-elegantly work around the
	conflicts between Macintosh and khtml identifiers.


git-svn-id: svn://svn.chromium.org/blink/trunk@1097 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-04 00:27:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3062f59c41e7a357b4726195048326485f254dc4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200p501l5zstk27cu', 2, e'	Along with small corresponding WebBrowser change,
	fixed 2919172 (Bookmarks aren\'t saved between sessions).

	* Bookmarks.subproj/IFBookmark_Private.h: Declarations for new private methods.
	* Bookmarks.subproj/IFBookmark.m:
	(-[IFBookmark _numberOfDescendants]): New private method, counts deep; used
	only for debugging messages at this time.
	(-[IFBookmark _initFromDictionaryRepresentation:withGroup:]):
	(-[IFBookmark _dictionaryRepresentation]): New private methods used to save/load
	bookmarks. Stub	implementations; subclasses must implement.

	* Bookmarks.subproj/IFBookmarkLeaf.m:
	(-[IFBookmarkLeaf _initFromDictionaryRepresentation:withGroup:]):
	(-[IFBookmarkLeaf _dictionaryRepresentation]): New methods.

	* Bookmarks.subproj/IFBookmarkList.m:
	(-[IFBookmarkList _initFromDictionaryRepresentation:withGroup:]):
	(-[IFBookmarkList _dictionaryRepresentation]):
	(-[IFBookmarkList _numberOfDescendants]):
	New methods.
	(-[IFBookmarkList _setGroup:]): Recurse on children.

	* Bookmarks.subproj/IFBookmarkGroup.h: New _loading instance variable.

	* Bookmarks.subproj/IFBookmarkGroup.m:
	(-[IFBookmarkGroup _setTopBookmark:]): Renamed from _resetTopBookmark,
	now has potentially non-nil argument.
	(-[IFBookmarkGroup initWithFile:]),
	(-[IFBookmarkGroup removeBookmark:]): Updated for name change.
	(-[IFBookmarkGroup _sendBookmarkGroupChangedNotification]):
	Don\'t send notifications while loading bookmarks from disk.
	(-[IFBookmarkGroup _loadBookmarkGroupGuts]),
	(-[IFBookmarkGroup loadBookmarkGroup]),
	(-[IFBookmarkGroup _saveBookmarkGroupGuts]),
	(-[IFBookmarkGroup saveBookmarkGroup]): New methods, load/save bookmarks
	and report timings.

	* History.subproj/IFURIEntry.m:
	(-[IFURIEntry dictionaryRepresentation]),
	(-[IFURIEntry initFromDictionaryRepresentation:]): Handle nil URL
	case, which bookmarks run into.

	* WebKit.pbproj/project.pbxproj: version wars

	* AppController.m:
	(-[AppController applicationWillTerminate:]):
	Save bookmarks at quit time.

	* WebBrowser.pbproj/project.pbxproj: version wars


git-svn-id: svn://svn.chromium.org/blink/trunk@1096 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-03 23:05:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7b18afbe204d836a3851b73b210dfe26f56d10de');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200p601l5r0epj4st', 2, e'	* WebCoreSupport.subproj/IFCachedTextRenderer.m: Remove some of the unused code.
	I was going to wait and let Richard do it next week, but I was unable to control
	my urge to hack on it.


git-svn-id: svn://svn.chromium.org/blink/trunk@1095 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-03 21:52:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e082ef10bf5e9fd3dd084614961ba0250e7e4f7c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200p701l5yygbrzn9', 2, e'	* Resources/url_icon.tiff: Improved icon. Could be better.


git-svn-id: svn://svn.chromium.org/blink/trunk@1094 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-03 19:03:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ddf18119002afbf4bc6aa8f8eebb8d5521576965');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200p801l54at45e29', 2, e'Revert icon, oops.


git-svn-id: svn://svn.chromium.org/blink/trunk@1093 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-03 18:42:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4b9c6d82ba7a3f5ad391d5d5472a956e5848c1f1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200p901l5t3r0ubck', 2, e'WebCore:

	* kwq/IFTextRenderer.h: Added.
	* kwq/IFTextRendererFactory.h: Added.
	* kwq/IFTextRendererFactory.m: Added.
	These three are the new API for supplying text rendering machinery for WebCore.
	The implementation is in WebKit. Later we might want to flesh out the default
	implementation in WebCore so that it works OK by itself.

	* khtml/rendering/font.cpp: (Font::width): Function is now "width" without
	an underscore. We don\'t really need to hide the overload we added in this
	case.

	* kwq/qt/qfont.h: Simplify a lot. Doesn\'t hold an NSFont any more.
	* kwq/KWQFont.mm:
	(QFont::QFont): Eliminated the concept of "default font". Also, a QFont no
	longer holds an NSFont object. That\'s handled inside IFTextRenderer machinery.
	(QFont::~QFont): Simplify since we don\'t have an NSFont.
	(QFont::setFamily): Simplify since we don\'t have an NSFont.
	(QFont::setPixelSize): Simplify since we don\'t have an NSFont.
	(QFont::setPixelSizeFloat): Simplify since we don\'t have an NSFont.
	(QFont::setWeight): Simplify since we don\'t have an NSFont.
	(QFont::weight): Fix a bug where it would return Normal for a QFont that was
	both bold and italic.
	(QFont::setItalic): Simplify since we don\'t have an NSFont.
	(QFont::italic): Simplify since we have real "bool".
	(QFont::bold): Simplify since we have real "bool".
	(QFont::operator=): Simplify since we don\'t have an NSFont.
	(QFont::operator==): Rewrite since we don\'t have an NSFont.

	* kwq/qt/qfontmetrics.h: Simplify a little. The _width() method is now just an
	overload of the width() method. The main change was removing the include of Cocoa.h.
	* kwq/KWQFontMetrics.mm:
	Move most of the code out of here into WebKit.
	(QFontMetrics::ascent): Get it from the renderer.
	(QFontMetrics::descent): Get it from the renderer.
	(QFontMetrics::lineSpacing): Get it from the renderer.
	(QFontMetrics::width): Get it from the renderer.
	(QFontMetrics::boundingRect): Combine width and height that came from the renderer.
	(QFontMetrics::size): Combine width and height that came from the renderer.

	* kwq/Makefile.am: Add IFTextRendererFactory.m, remove KWQTextStorage.mm and KWQTextContainer.mm.
	* kwq/KWQMetrics.h: Removed.
	* kwq/KWQTextContainer.h: Removed.
	* kwq/KWQTextContainer.mm: Removed.
	* kwq/KWQTextStorage.h: Removed.
	* kwq/KWQTextStorage.mm: Removed.

	* kwq/KWQPainter.mm:
	Move most of the code out of here into WebKit.
	(QPainter::drawText): Call the renderer to do it.
	(QPainter::drawUnderlineForText): Call the renderer to do it.

	* libwebcore.exp: Export the IFTextRendererFactory class.

WebKit:

	* Misc.subproj/WebKitDebug.h: Add WEBKIT_LOG_MEMUSAGE, WEBKIT_LOG_FONTCACHE, and
	WEBKIT_LOG_FONTCACHECHARMISS for font code moved here from WebCore.

	* Resources/url_icon.tiff: New URL icon?

	* WebCoreSupport.subproj/IFCachedTextRenderer.h: Added.
	* WebCoreSupport.subproj/IFCachedTextRenderer.m: Added.
	* WebCoreSupport.subproj/IFCachedTextRendererFactory.h: Added.
	* WebCoreSupport.subproj/IFCachedTextRendererFactory.m: Added.
	This has code moved here from WebCore.

	* WebKit.pbproj/project.pbxproj: Add the new source files.

	* Bookmarks.subproj/IFBookmarkLeaf.m:
	(-[IFBookmarkLeaf setURLString:]): Use copy instead of initWithString.
	* Bookmarks.subproj/IFBookmarkList.m:
	(-[IFBookmarkList initWithTitle:image:group:]): Use copy instead of stringWithString.
	(-[IFBookmarkList setTitle:]): Use copy instead of stringWithString.
	* WebView.subproj/IFWebDataSourcePrivate.mm: (-[IFWebDataSource _setTitle:]):
	Use mutableCopy instead of stringWithString.
	* WebView.subproj/IFWebView.mm: (-[IFWebView initWithFrame:]): Use copy instead
	of stringWithString.


git-svn-id: svn://svn.chromium.org/blink/trunk@1092 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-03 18:36:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/02b7a4e56e950b355e575a3878c5cf26d2fffd0e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pa01l57t6y3bfu', 2, e'	* AuthenticationManager.subproj/IFAuthenticationRequest.m:
	(-[IFAuthenticationRequest initWithURL:realm:username:passwordSentInClear:previousFailures:callback:]):
	* AuthenticationManager.subproj/IFAuthenticationResult.m:
	(-[IFAuthenticationResult initWithUsername:password:]):
	* Database.subproj/IFDatabase.m:
	(-[IFDatabase initWithPath:]):
	Simplify code by using [copy] instead of [NSString initWithString:].


git-svn-id: svn://svn.chromium.org/blink/trunk@1091 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-05-03 18:07:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1a38b27c2fd31b6903bd193b5a8004c77ffa7701');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pb01l5sw9ock5i', 2, e'	* Bookmarks.subproj/IFBookmark.h:
	* Bookmarks.subproj/IFBookmark.m:
	(-[IFBookmark setTitle:]):
	(-[IFBookmark setImage:]):
	(-[IFBookmark setURLString:]):
	(-[IFBookmark insertChild:atIndex:]):
	(-[IFBookmark removeChild:]):
	(-[IFBookmark _parent]):
	(-[IFBookmark _group]):
	* Bookmarks.subproj/IFBookmarkGroup.h:
	* Bookmarks.subproj/IFBookmarkGroup.m:
	(-[IFBookmarkGroup _resetTopBookmark]):
	(-[IFBookmarkGroup _bookmarkDidChange:]):
	(-[IFBookmarkGroup _bookmarkChildrenDidChange:]):
	(-[IFBookmarkGroup removeBookmark:]):
	(-[IFBookmarkGroup insertNewBookmarkAtIndex:ofBookmark:withTitle:image:URLString:isLeaf:]):
	* Bookmarks.subproj/IFBookmarkLeaf.m:
	(-[IFBookmarkLeaf setTitle:]):
	(-[IFBookmarkLeaf setImage:]):
	(-[IFBookmarkLeaf setURLString:]):
	* Bookmarks.subproj/IFBookmarkList.m:
	(-[IFBookmarkList setTitle:]):
	(-[IFBookmarkList setImage:]):
	(-[IFBookmarkList removeChild:]):
	(-[IFBookmarkList insertChild:atIndex:]):
	* Bookmarks.subproj/IFBookmark_Private.h:
	Made _parent and _group private; made setTitle, setImage, setURLString,
	insertChild:atIndex:, and removeChild: public.

	* Bookmarks.subproj/IFBookmarkGroup_Private.h: Added.
	* WebKit.pbproj/project.pbxproj: Changed for new file.


git-svn-id: svn://svn.chromium.org/blink/trunk@1090 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-02 23:57:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/adf4811a7c799771241c18b3d1c812d6eaf22b13');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pc01l5qyndz2td', 2, e'	Implemented removing the root node bookmark (i.e.,
	removing all bookmarks with one call).

	* Bookmarks.subproj/IFBookmarkGroup.m:
	(-[IFBookmarkGroup _resetTopBookmark]): New method, releases
	old topBookmark and creates new one.
	(-[IFBookmarkGroup initWithFile:]): Call _resetTopBookmark.
	(-[IFBookmarkGroup removeBookmark:]): If the bookmark being
	removed is the top one, call _resetTopBookmark.

	Added "Erase All Bookmarks" menu item to Debug menu, which will be
	handy in the interim between making bookmarks persistent and making
	them organizable (they are neither yet).

	Along the way, made DebugUtilities be a shared instance instead of
	a collection of class methods, to make some innards easier to
	implement.

	* Debug/DebugUtilities.h: new class method sharedDebugUtilities;
	changed other class methods to instance methods; made _debugMenu
	an instance variable.

	* Debug/DebugUtilities.m:
	(-[DebugUtilities dealloc]): release _debugMenu.
	(+[DebugUtilities sharedDebugUtilities]): New method.
	(-[DebugUtilities addDebugBookmarkToMenu:forURL:keyEquivalent:]):
	(-[DebugUtilities pathForDebugBookmarks]):
	(-[DebugUtilities loadDebugBookmarks]):
	(-[DebugUtilities conditionallyDisplayPageLoadTestWindow]):
	Changed class methods to instance methods. Also updated private
	AppController method name that had changed, causing the debug
	bookmarks to become disabled with my last checkin.
	(-[DebugUtilities eraseAllBookmarks:]): New method.
	(-[DebugUtilities createDebugMenu]): Add "Erase All Bookmarks"
	menu item, with -eraseAllBookmarks as callback.

	* AppController.m:
	(-[AppController awakeFromNib]): use sharedDebugUtilities where a
	class method used to work.


git-svn-id: svn://svn.chromium.org/blink/trunk@1089 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-02 22:31:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a61be3258e714ca94db97afe85911db7ce22ebee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pd01l5wdf6u0h9', 2, e'	Some more implementation of bookmarks code, enough to support
	adding bookmarks to the Bookmarks menu (but not yet enough to
	support persistent bookmarks).

	* Bookmarks.subproj/IFBookmark_Private.h:
	* Bookmarks.subproj/IFBookmark.h:
	* Bookmarks.subproj/IFBookmark.m:
	(-[IFBookmark numberOfChildren]): New public method, stub implementation.
	(-[IFBookmark _removeChild:]): New private method, stub implementation.

	* Bookmarks.subproj/IFBookmarkGroup.h:
	* Bookmarks.subproj/IFBookmarkGroup.m:
	(-[IFBookmarkGroup _sendBookmarkGroupChangedNotification]):
	(-[IFBookmarkGroup removeBookmark:]):
	(-[IFBookmarkGroup addNewBookmarkToBookmark:withTitle:image:URLString:isLeaf:]):
	(-[IFBookmarkGroup insertNewBookmarkAtIndex:ofBookmark:withTitle:image:URLString:isLeaf:]):
	(-[IFBookmarkGroup updateBookmark:title:image:URLString:]):
	Changed "URL" to "URLString" in several places, added a "with"
	to some parameter names; added addNewBookmarkToBookmark public
	method; added notification that\'s sent when bookmarks are added or removed.

	* Bookmarks.subproj/IFBookmarkLeaf.h:
	* Bookmarks.subproj/IFBookmarkLeaf.m:
	(-[IFBookmarkLeaf initWithURLString:title:image:group:]):
	Added image parameter.

	* Bookmarks.subproj/IFBookmarkList.m:
	(-[IFBookmarkList numberOfChildren]): New method.
	(-[IFBookmarkList _removeChild:]): Implemented.

	Fixed 2917086 (Add Bookmark is not yet implemented). You
	can now add bookmarks to the Bookmarks menu, and they work.
	However, they aren\'t yet persistent, and there\'s only a flat
	list that you can\'t yet reorder.

	* AppController.h: Added instance variables for bookmarks stuff;
	added +standardBookmarks method.

	* AppController.m:
	(-[AppController awakeFromNib]): Move history notification setup from
	here to -webHistory; added call to _updateBookmarksInMenu, and FIXME
	about doing this lazily eventually.
	(-[AppController dealloc]): release bookmarks.
	(-[AppController webHistory]): Moved history notification setup to here.
	(-[AppController menuTitleForURL:withTitle:]): Improved assert.

	(-[AppController _setUpStringTruncator]):
	(-[AppController _historyFilePath]):
	(-[AppController _receivedHistoryChangedNotification:]):
	(-[AppController _insertHistoryEntry:intoMenu:atIndex:]):
	(-[AppController _insertItemsForDate:intoMenu:atIndex:withRunningTotal:limit:]):
	(-[AppController _insertSubmenu:forDate:atIndex:]):
	(-[AppController _takeLocationFromHistoryEntry:]):
	(-[AppController _addHistoryToMenu]):
	(-[AppController _updateHistoryInMenu]):
	Added leading underscores to private methods, updated callers.

	(-[AppController _standardBookmarksFilePath]):
	(-[AppController _removeBookmarksFromMenu]):
	(-[AppController _takeLocationFromBookmark:]):
	(-[AppController _insertBookmark:intoMenu:atIndex:]):
	(-[AppController _addBookmarksToMenu]):
	(-[AppController _updateBookmarksInMenu]):
	(-[AppController _receivedBookmarksChangedNotification:]):
	(-[AppController standardBookmarks]): New methods.

	* BrowserDocument.h:
	* BrowserDocument.m:
	(-[BrowserDocument addBookmark:]): New method; accessed from menu item.
	(-[BrowserDocument validateUserInterfaceItem:]): Enable Add Bookmark
	menu item only when there\'s a currentURL.

	* English.lproj/MainMenu.nib: Wire up some bookmark-related stuff.

	* WebBrowser.pbproj/project.pbxproj: Version wars?


git-svn-id: svn://svn.chromium.org/blink/trunk@1088 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-05-02 19:53:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/94e9d9a07ed58ac3785fb3801199f73a42602aa2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pe01l5z2ia14p8', 2, e'	Fixed silly bug Darin noticed by inspection where I was
	doing string == @"" instead of [string length] == 0.

	* BrowserWindow.m:
	(-[BrowserWindow setStatus:]):

	Added initial set of files/API and some of the code for
	bookmarks support. Nobody calls it yet, but it compiles.
	I wanted to get this in before I ran into project file
	merge conflicts.

	* Bookmarks.subproj/IFBookmark.h: Added.
	* Bookmarks.subproj/IFBookmark_Private.h: Added.
	* Bookmarks.subproj/IFBookmark.m: Added.
	(-[IFBookmark dealloc]):
	(-[IFBookmark title]):
	(-[IFBookmark _setTitle:]):
	(-[IFBookmark image]):
	(-[IFBookmark _setImage:]):
	(-[IFBookmark isLeaf]):
	(-[IFBookmark URLString]):
	(-[IFBookmark _setURLString:]):
	(-[IFBookmark children]):
	(-[IFBookmark _insertChild:atIndex:]):
	(-[IFBookmark parent]):
	(-[IFBookmark _setParent:]):
	(-[IFBookmark group]):
	(-[IFBookmark _setGroup:]):
	* Bookmarks.subproj/IFBookmarkGroup.h: Added.
	* Bookmarks.subproj/IFBookmarkGroup.m: Added.
	(+[IFBookmarkGroup bookmarkGroupWithFile:]):
	(-[IFBookmarkGroup initWithFile:]):
	(-[IFBookmarkGroup dealloc]):
	(-[IFBookmarkGroup topBookmark]):
	(-[IFBookmarkGroup insertBookmark:atIndex:ofBookmark:]):
	(-[IFBookmarkGroup removeBookmark:]):
	(-[IFBookmarkGroup insertNewBookmarkAtIndex:ofBookmark:title:image:URL:isLeaf:]):
	(-[IFBookmarkGroup updateBookmark:title:image:URL:]):
	(-[IFBookmarkGroup file]):
	(-[IFBookmarkGroup loadBookmarkGroup]):
	(-[IFBookmarkGroup saveBookmarkGroup]):
	* Bookmarks.subproj/IFBookmarkLeaf.h: Added.
	* Bookmarks.subproj/IFBookmarkLeaf.m: Added.
	(-[IFBookmarkLeaf dealloc]):
	(-[IFBookmarkLeaf title]):
	(-[IFBookmarkLeaf _setTitle:]):
	(-[IFBookmarkLeaf image]):
	(-[IFBookmarkLeaf _setImage:]):
	(-[IFBookmarkLeaf isLeaf]):
	(-[IFBookmarkLeaf URLString]):
	(-[IFBookmarkLeaf _setURLString:]):
	* Bookmarks.subproj/IFBookmarkList.h: Added.
	* Bookmarks.subproj/IFBookmarkList.m: Added.
	(-[IFBookmarkList initWithTitle:image:group:]):
	(-[IFBookmarkList dealloc]):
	(-[IFBookmarkList title]):
	(-[IFBookmarkList _setTitle:]):
	(-[IFBookmarkList image]):
	(-[IFBookmarkList _setImage:]):
	(-[IFBookmarkList isLeaf]):
	(-[IFBookmarkList children]):
	(-[IFBookmarkList _insertChild:atIndex:]):

	* WebKit.pbproj/project.pbxproj: Updated for new files.


git-svn-id: svn://svn.chromium.org/blink/trunk@1087 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-04-30 23:50:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/56a01e68a16043f32a1de6d967f7e1ab74eb2aa7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pf01l5x5tc62k4', 2, e'        Fix to 2915688.  I wasn\'t checking if the main document error had an error, only
        the resource errors.


git-svn-id: svn://svn.chromium.org/blink/trunk@1085 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-29 23:34:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f04419b9c1dc740e183e91260415fdf85d94570c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pg01l5wkpaiwg0', 2, e'        Restored file, line, and function to log messages.


git-svn-id: svn://svn.chromium.org/blink/trunk@1084 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-29 17:06:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/944f14691f9f38d652d668df6a4d1da37b5fa6ab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200ph01l57409h8bq', 2, e'	* kwq/make-mac-encodings.c: (main): One more place that needed a workaround
	for Radar 2912404 (kCFStringEncodingInvalidId is negative even though
	CFStringEncoding is unsigned).

	* kwq/KWQTextArea.mm: (-[KWQTextArea paragraphs]): Do this
	ourselves so we don\'t rely on WebFoundation.
	* kwq/Makefile.am: Don\'t do a -I for WebFoundation.


git-svn-id: svn://svn.chromium.org/blink/trunk@1083 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-26 19:23:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/80d63a20238a62344c1e5a4ecff94173b57e590b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pi01l5wu989f9g', 2, e'Check in some old changes from my TiBook so I can trash the source tree.

	Pay no attention to the man who is not supposed to be working.

	* Tools/Scripts/find-unused-symbols: Added. Only partly done.
	* configure.in: Some small tweaks.

WebCore:

	Pay no attention to the man who is not supposed to be working.

	* khtml/Makefile.am:
	* khtml/css/Makefile.am:
	* khtml/ecma/Makefile.am:
	* khtml/html/Makefile.am:
	* khtml/java/Makefile.am:
	* khtml/misc/Makefile.am:
	* khtml/rendering/Makefile.am:
	* khtml/xml/Makefile.am:
	Don\'t generate empty .moc files or khtmldata.h; there\'s no reason
	not to just check them in instead. Also tweak a few build rules to
	use automatic make variables.

	* khtml/ecma/kjs_window.moc: Added.
	* khtml/html/html_documentimpl.moc: Added.
	* khtml/html/htmltokenizer.moc: Added.
	* khtml/java/kjavaapplet.moc: Added.
	* khtml/java/kjavaappletcontext.moc: Added.
	* khtml/java/kjavaappletserver.moc: Added.
	* khtml/java/kjavaappletwidget.moc: Added.
	* khtml/java/kjavadownloader.moc: Added.
	* khtml/java/kjavaprocess.moc: Added.
	* khtml/khtmlview.moc: Added.
	* khtml/misc/khtmldata.h: Added.
	* khtml/rendering/render_form.moc: Added.
	* khtml/rendering/render_frames.moc: Added.
	* khtml/rendering/render_replaced.moc: Added.
	* khtml/xml/dom_docimpl.moc: Added.
	* khtml/xml/xml_tokenizer.moc: Added.

	* kwq/kwqdebug.mm: Make some globals private.


git-svn-id: svn://svn.chromium.org/blink/trunk@1082 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-26 17:11:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7585f9d39e280c5a85612f443ed719263008e82d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pj01l5opbin8mc', 2, e'WebFoundation:
	Reviewed by: Darin Adler

	Changes to authentication to allow the IFAuthenticationHandler
	protocol to be asynchronous, so it\'s cancellable and suitable for
	use by sheets. Fixes the following Radar bugs:

	2874727 - IFAuthenticationHandler protocol is unsuitable for
	clients that want to prompt using a sheet
	2874730 - IFAuthenticationHandler protocol does not allow for cancellation
	2876170 - Authentication handling blocks a loader thread indefinitely

	In addition there is a lot of assorted code cleanup.

	* AuthenticationManager.subproj/IFAuthenticationHandler.h:
	* AuthenticationManager.subproj/IFAuthenticationHandlerDispatcher.h:
	* AuthenticationManager.subproj/IFAuthenticationHandlerDispatcher.m:
	(-[IFAuthenticationDispatchState dealloc]):
	(dispatchStartAuthentication):
	(dispatchCancelAuthentication):
	(dispatchAuthenticationDone):
	(dispatchAuthenticationHandlerBusy):
	(-[IFAuthenticationHandlerDispatcher _dispatchStartAuthentication:]):
	(-[IFAuthenticationHandlerDispatcher IFAuthenticationRequest:authenticationDone:]):
	(-[IFAuthenticationHandlerDispatcher IFAuthenticationRequestAuthenticationHandlerBusy:]):
	(-[IFAuthenticationHandlerDispatcher _dispatchCancelAuthentication:]):
	(-[IFAuthenticationHandlerDispatcher _dispatchAuthenticationDone:]):
	(-[IFAuthenticationHandlerDispatcher _dispatchAuthenticationHandlerBusy:]):
	(-[IFAuthenticationHandlerDispatcher initWithAuthenticationHandler:]):
	(-[IFAuthenticationHandlerDispatcher dealloc]):
	(-[IFAuthenticationHandlerDispatcher hasHandler:]):
	(-[IFAuthenticationHandlerDispatcher startAuthentication:]):
	(-[IFAuthenticationHandlerDispatcher cancelAuthentication:]):
	* AuthenticationManager.subproj/IFAuthenticationManager.m:
	(-[IFAuthenticationRequestState initWithHandlersCopy:index:httpRequest:authenticationRequest:callback:context:]):
	(-[IFAuthenticationRequestState dealloc]):
	(-[IFAuthenticationManagerPrivate init]):
	(-[IFAuthenticationManagerPrivate dealloc]):
	(-[IFAuthenticationManager _invokeHandlersWithURL:realm:forRequest:withCallback:context:]):
	(-[IFAuthenticationManager _tryRequest:]):
	(-[IFAuthenticationManager IFAuthenticationRequest:authenticationDone:]):
	(-[IFAuthenticationManager _addCredentialsToInitialHTTPRequest:]):
	(-[IFAuthenticationManager _addCredentialsToRetryHTTPRequest:afterFailureResponse:withCallback:context:]):
	(-[IFAuthenticationManager _cancelAddCredentialsToRetryHTTPRequest:]):
	* AuthenticationManager.subproj/IFAuthenticationManagerCallback.h:
	* AuthenticationManager.subproj/IFAuthenticationRequest.m:
	(-[IFAuthenticationRequest _authenticationHandlerBusy]):
	(-[IFAuthenticationRequest authenticationDone:]):
	* AuthenticationManager.subproj/IFAuthenticationRequestPrivate.h:
        * WebFoundation.pbproj/project.pbxproj: Added new files to the build.

	* Misc.subproj/IFCFRunLoopExtensions.h, Misc.subproj/IFCFRunLoopExtensions.c: 	Added.
	(IFCallFromCFRunLoop): New convenience wrapper for a one-shot run loop
        callback.
	(IFCallFromRunLoopCFRunLoopTimerCallBack): Helper function for the above.
	(IFCallFromCFRunLoopContextRetain): Likewise.
	(IFCallFromCFRunLoopContextRelease): Likewise.
	(IFCallFromCFRunLoopContextCopyDescription): Likewise.

	* Misc.subproj/IFNSDictionaryExtensions.h,Misc.subproj/IFNSDictionaryExtensions.m:
	(-[NSMutableDictionary _IF_setObject:forUncopiedKey:]): New helper function to put
        things in dictionaries without copying the key.

WebBrowser:
	* AuthenticationHandler.h, AuthenticationHandler.m: Changed to
	conform to new improved IFAuthenticationHandler protocol.

	(-[AuthenticationHandler init]):
	(-[AuthenticationHandler readyToStartAuthentication:]):
	(-[AuthenticationHandler startAuthentication:]):
	(-[AuthenticationHandler cancelAuthentication:]):
	(-[AuthenticationHandler showAuthenticationPanel]):

	* WebBrowser.pbproj/project.pbxproj: I touched it.


git-svn-id: svn://svn.chromium.org/blink/trunk@1081 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-26 06:37:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1bb9e436826e9d500e8aefd04bb4ab1bcae61dce');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pk01l5co6hitr2', 2, e'	* History.subproj/IFWebHistoryPrivate.m:
	(-[IFWebHistoryPrivate _loadHistoryGuts:]): Use NSDictionary instead
	of NSObject to avoid a cast.

	* WebView.subproj/IFLocationChangeHandler.h: Add NSObject as a required
	protocol so we can retain and release.
	* WebView.subproj/IFWebController.h: Add NSObject as a required protocol
	so we can retain and release.

	* WebView.subproj/IFWebDataSourcePrivate.mm:
	(-[IFWebDataSourcePrivate dealloc]):
	(-[IFWebDataSource _setLoading:]):
	(-[IFWebDataSource _setController:]):
	(-[IFWebDataSource _setLocationChangeHandler:]):
	* WebView.subproj/IFWebViewPrivate.mm:
	(-[IFWebViewPrivate dealloc]):
	Removed NSObject * casts that were used to work around the problem fixed above.


git-svn-id: svn://svn.chromium.org/blink/trunk@1080 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-26 01:55:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/04e026dae1d244a208833ea521a1e9875261837e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pl01l5sv0yp6x6', 2, e'	* kwq/KWQMetrics.h: Add NSObject to required protocols for
	the KWQLayoutFragment protocol so we can retain and release.

	* kwq/KWQTextStorage.mm: (-[KWQTextStorage _buildFragmentForString:]):
	Removed a cast to NSObject * that worked around the lack of the above.


git-svn-id: svn://svn.chromium.org/blink/trunk@1079 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-26 01:54:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff28fdcee46ed28cd8848cc5627636ac447991ef');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pm01l5512e6esj', 2, e'        * MIME.subproj/IFDownloadHandler.h:
        * MIME.subproj/IFDownloadHandler.mm:
        (+[IFDownloadHandler launchURL:]):

        Added the above method as a way to universally launch an URL
        within WebKit

        * WebView.subproj/IFBaseWebController.mm:
        (-[IFBaseWebController URLPolicyForURL:]):

        We handle http, https and file URL\'s

        * WebView.subproj/IFWebDataSource.mm:
        (-[IFWebDataSource initWithURL:]):
        (-[IFWebDataSource startLoading:]):

        The IFURLHandle is now lazilly allocated.

        * WebView.subproj/IFWebFrame.mm:
        (-[IFWebFrame setProvisionalDataSource:]):

        We only load a data source if the URL policy is IFURLPolicyUseContentPolicy


git-svn-id: svn://svn.chromium.org/blink/trunk@1078 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-26 00:30:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/caa04e07372c8bf0514e9c1291ae54c253e7484f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pn01l5u945or37', 2, e'        Fixed problem with errors potentially being reported on
        wrong data source by moving collected errors from frame
        to datasource.

        Little changes in preparation for events.


git-svn-id: svn://svn.chromium.org/blink/trunk@1077 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-26 00:01:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d0eb01303c6552d5385b5aa4dfb9fca885274fd0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200po01l554mdyezm', 2, e'	Add a workaround for Radar 2912404 (kCFStringEncodingInvalidId is negative even
	though CFStringEncoding is unsigned)

	* kwq/KWQCharsets.mm:
	(KWQCFStringEncodingFromIANACharsetName):
	(KWQCFStringEncodingFromMIB):
	* kwq/KWQtextcodec.mm:
	(QTextCodec::codecForMib):
	(QTextCodec::codecForName):
	* kwq/make-charset-table.pl:
	Add casts to (CFStringEncoding) wherever we use kCFStringEncodingInvalidId.


git-svn-id: svn://svn.chromium.org/blink/trunk@1076 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-25 21:50:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aa2f147a746232dc706419e2e25538e77935dbaf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pp01l5zx1d02rp', 2, e'WebCore:

	Rework plugin code to prepare to move more of it into WebKit.

	* khtml/rendering/render_applet.cpp:
	(RenderApplet::RenderApplet): Create a widget for the applet using
	the new simpler API.

	* kwq/kdecore/kconfig.h:
	* kwq/KWQKConfigBase.mm: Eliminate KConfigBase.
	Set things up so we are poised to handle the other non-plugin
	config keys easily in the future.

	* kwq/KWQKHTMLPart.mm: (KHTMLPart::requestObject): Use the new simpler
	IFPluginWidgetCreate API instead of the older WCPluginWidget one.

	* kwq/qt/qstring.h: Add simpler conversions to/from NSString.
	* kwq/KWQString.mm: (QString::fromNSString): New.

	* kwq/WCPluginWidget.h: Made this API simpler both for the C++
	side and the Objective-C side. There\'s now no class, and only one
	function that needs to be supplied (normally by WebKit).
	* kwq/WCJavaAppletWidget.h: Same thing for the Java case.

	* kwq/WCJavaAppletWidget.mm:
	(IFSetJavaAppletViewCreationFunction): New.
	(IFJavaAppletWidgetCreate): New. Most of the code that was in here
	is now moved into WebKit.
	* kwq/WCPluginWidget.mm:
	(IFSetPluginViewCreationFunction): New.
	(IFPluginWidgetCreate): New. Most of the code that was in here
	is now moved into WebKit.

	* libwebcore.exp: Update for new function names.

WebKit:

	Rework plugin code to prepare to move more of here from WebCore.

	* Plugins.subproj/IFPluginView.mm:
	(IFPluginViewCreate): New. Does all the work of creating an NSView
	for a plug-in, including stuff previously done in WebCore.
	(IFJavaAppletViewCreate): Same as above, for Java applets.
	(+[IFPluginView load]): Set up the function pointers using the new
	improved WebCore API.

	* Plugins.subproj/IFNullPluginView.mm:
	(-[IFNullPluginView load]): Remove this setup because now there\'s
	no separate call to set up a null plug-in.


git-svn-id: svn://svn.chromium.org/blink/trunk@1075 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-25 18:05:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/06ce924591f900ff6ca3db4d0e7c553c888913c3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pq01l5qtq9g2nv', 2, e'	Fixed 2911915 (Exception in -[IFWebView mouseMoved])

	* WebView.subproj/IFWebView.mm:
	(-[IFWebView mouseDown:]): Changed "mouseUp" to "mouseDown"
	in exception message.

	(-[IFWebView mouseMoved:]): Removed bogus event-type checking
	that caused this method to (always?) throw an exception when
	invoked.


git-svn-id: svn://svn.chromium.org/blink/trunk@1074 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-04-25 16:45:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/06ca99592b31a53493fe92db46d5724f91237922');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pr01l5gt3qsuv6', 2, e'Renamed [IFWebDataSource frame] to [IFWebDataSource webFrame]

        Labyrinth/WebBrowser/ChangeLog
        Labyrinth/WebBrowser/FrameProgressEntry.m
        Labyrinth/WebBrowser/IFWebFrameAdditions.m
        Labyrinth/WebBrowser/LoadProgressMonitor.m
        Labyrinth/WebBrowser/LocationChangeHandler.m
        Labyrinth/WebBrowser/WebController.m
        Labyrinth/WebBrowser/WebBrowser.pbproj/project.pbxproj
        Labyrinth/WebCore/ChangeLog
        Labyrinth/WebCore/kwq/KWQKHTMLPart.mm
        Labyrinth/WebCore/kwq/external.h Labyrinth/WebKit/ChangeLog
        Labyrinth/WebKit/WebKit.pbproj/project.pbxproj
        Labyrinth/WebKit/WebView.subproj/IFBaseWebControllerPrivate.mm
        Labyrinth/WebKit/WebView.subproj/IFMainURLHandleClient.mm
        Labyrinth/WebKit/WebView.subproj/IFWebDataSource.h
        Labyrinth/WebKit/WebView.subproj/IFWebDataSource.mm
        Labyrinth/WebKit/WebView.subproj/IFWebDataSourcePrivate.mm


git-svn-id: svn://svn.chromium.org/blink/trunk@1073 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-25 01:15:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c903920a68415592553d3d69aa45c9cb8b183435');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200ps01l5y5y94doz', 2, e'        Changed ordering of messages so activity viewer doesn\'t get -1 bytesSoFar
        for cancelled messages.


git-svn-id: svn://svn.chromium.org/blink/trunk@1072 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-24 23:02:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ae819022790b1a079139c82ecc916e8ec30d6e73');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pt01l5lphf5zn7', 2, e'added release markers to the changelogs
"Alexander 0.3c2 (v1)"


git-svn-id: svn://svn.chromium.org/blink/trunk@1070 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sheridan', '2002-04-24 22:47:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5a8fd79903edd505e12779d7f3e35ad12b0630b1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pu01l553sjnonb', 2, e'	Get rid of all NEED_BOGUS_XXX.

	* khtml/java/Makefile.am: Remove -DNEED_BOGUS_TEXTSTREAMS and
	-DNEED_BOGUS_X_DEFINES.
	* khtml/rendering/Makefile.am: Remove -DNEED_BOGUS_X_DEFINES.
	* khtml/xml/Makefile.am: Remove -DNEED_BOGUS_TEXTSTREAMS.
	* kwq/Makefile.am: Remove -DNEED_BOGUS_X_DEFINES and KWQKJavaEmbed.mm.
	* kwq/KWQKJavaEmbed.mm: Removed.

	* kwq/KWQDef.h: Remove XEvent define (inside NEED_BOGUS_X_DEFINES).

	* kwq/qt/qtextstream.h: Don\'t look at NEED_BOGUS_TEXTSTREAMS.
	* kwq/KWQtextstream.mm: Don\'t look at NEED_BOGUS_TEXTSTREAMS.

	* khtml/java/javaembed.h: Made this just a QWidget typedef for now.
	* khtml/java/kjavaappletwidget.cpp: ifdef out the unused setWindow function.


git-svn-id: svn://svn.chromium.org/blink/trunk@1069 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-24 16:49:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ecb2f88456a29d330ba1d9510bcaa551470003c6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pv01l53vnmjhmf', 2, e'        * khtml/css/css_valueimpl.cpp:
        (CSSPrimitiveValueImpl::computeLengthFloat):
        * khtml/css/cssstyleselector.cpp:
        (CSSStyleSelector::computeFontSizes):
        Remove our 72/96 dpi changes. They weren\'t doing much good.
        But this doesn\'t fix all the 72/96 dpi issues. It\'s just the start.

        * kwq/khtml/khtml_settings.h:
        * kwq/KWQKHTMLSettings.mm:
        Remove some unused stuff: charset(), setCharset(), availableFamilies(),
        fontSizes(), SCREEN_RESOLUTION.


git-svn-id: svn://svn.chromium.org/blink/trunk@1068 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-23 22:43:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/553d1b6adfc4b159dc87d0311f86588aa37188e6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmfi200pw01l5suhxi6ee', 2, e'WebKit:
        * WebKit.pbproj/project.pbxproj:

        Took IFDownloadHandler.h out of the public headers.

        * WebView.subproj/IFLocationChangeHandler.h:

        Removed deprecated methods.

        * WebView.subproj/IFWebFrame.mm:
        (-[IFWebFrame setProvisionalDataSource:]):

        Don\'t call locationChangeStarted anymore.

WebBrowser:
        * LocationChangeHandler.m:

        Removed locationChangeStarted and downloadingWithHandler as they are
        deprecated.


git-svn-id: svn://svn.chromium.org/blink/trunk@1067 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-23 22:25:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9deedbe3f0b2a39bc59ff4490b95cc7c0e3f1d42');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600o901l52zg0mewy', 2, e'        * MIME.subproj/IFDownloadHandler.h:
        * MIME.subproj/IFDownloadHandler.m: Removed.
        * MIME.subproj/IFDownloadHandler.mm: Added.
        (-[IFDownloadHandler initWithDataSource:]):
        (-[IFDownloadHandler dealloc]):
        * MIME.subproj/IFDownloadHandlerPrivate.h: Removed.
        * MIME.subproj/IFDownloadHandlerPrivate.m: Removed.

        Made IFDownloadHandler a private class that retains the data source
        and saves the data to disk.

        * WebKit.pbproj/project.pbxproj:

        Removed IFDownloadHandlerPrivate

        * WebView.subproj/IFBaseWebControllerPrivate.mm:
        (-[IFBaseWebController _mainReceivedProgress:forResource:fromDataSource:]):

        Only send locationChangeCommitted if its shown inline.

        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):

        Save data with IFDownloadHandler

        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):

        If its a download, set the provisionalDataSource on the frame to nil.

        * WebView.subproj/IFWebDataSource.h:
        * WebView.subproj/IFWebDataSource.mm:
        (-[IFWebDataSource webFrame]):
        (-[IFWebDataSource pageTitle]):
        (-[IFWebDataSource contentPolicy]):

        Added some accessor methods. Spelling fix pageTitle.


git-svn-id: svn://svn.chromium.org/blink/trunk@1066 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-23 21:00:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/12bcc434cead64491c91ad98430cb11328b9a646');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600oa01l5fx29uh7o', 2, e'2002-04-23  Kenneth Kocienda  <kocienda@apple.com>

	Reviewed by: Darin Adler

        Fix for Radar 2908403 (Fix names in WebFoundation extensions code)

        Extensions code in WebFoundation now is in its own namespace.
        Where we have added categories to existing Foundation and AppKit
        classes, the categories begin with the IF prefix. All method names
        begin with the _IF_ prefix.

        The files here were changed to use the new names.

        In addition, private methods on publicly WebFoundation classes
        now have an underscopre prepended to their names.

        * Tests/CookieManager/wkcookiemanager-test.m:
        (main)
        * Tests/WebFoundation-Misc/ifnsarrayextensions-test.m:
        (main)
        * Tests/WebFoundation-Misc/ifnscalendardateextensions-test.m:
        (main)
        * Tests/WebFoundation-Misc/ifnsobjectextensions-test.m:
        (main)
        * Tests/WebFoundation-Misc/ifnsstringextensions-test.m:
        (main)
        * Tests/WebFoundation-Misc/ifnsthreadextensions-test.m:
        (-[ThreadTest run:]):
        (main)
        * Tools/HotSpots/hotspots.m:
        (ProcessLine)
        (SortByValueInDictionary):
        (DumpTables)
        (PrintCallGraphForFrame):
        * Tools/wftool/main.m:
        (main)

        * WebCore/kwq/KWQTextArea.mm:
        (-[KWQTextArea paragraphs])

        * WebBrowser/AppController.m:
        (-[AppController _addHistoryToMenu])
        * WebBrowser/BrowserWindow.m:
        (-[BrowserWindow controlTextDidEndEditing:])
        * WebBrowser/GlobalHistory.m:
        (-[GlobalHistory outlineView:objectValueForTableColumn:byItem:])
        (-[GlobalHistory expandToday])

        * WebFoundation/AuthenticationManager.subproj/IFAuthenticationHandlerDispatcher.m:
        (-[IFAuthenticationHandlerDispatcher checkIfReadyToStartAuthentication:]):
        * WebFoundation/AuthenticationManager.subproj/IFAuthenticationManager.m:
        (-[IFAuthenticationManager removeAuthenticationHandler:]):
        (IFNSURLRemoveAnythingAfterPath):
        (IFNSURLCanonicalRoot):
        (AddAuthenticationHeader):
        (-[IFAuthenticationManager _invokeHandlersWithURL:realm:forRequest:withCallback:context:]):
        (-[IFAuthenticationManager _tryRequest:]):
        (-[IFAuthenticationManager _retryWaitingRequests]):
        (-[IFAuthenticationManager IFAuthenticationRequest:authenticationDone:]):
        (-[IFAuthenticationManager _addCredentialsToInitialHTTPRequest:]):
        (-[IFAuthenticationManager _checkForAuthenticationFailureInHTTPResponse:withURL:]):
        (-[IFAuthenticationManager _addCredentialsToRetryHTTPRequest:afterFailureResponse:withCallback:context:]):
        (-[IFAuthenticationManager _cancelAddCredentialsToRetryHTTPRequest:]):
        * WebFoundation/AuthenticationManager.subproj/IFAuthenticationManagerPrivate.h:
        * WebFoundation/AuthenticationManager.subproj/IFAuthenticationRequest.m:
        (-[IFAuthenticationRequest _readyToStartAuthenticationDone:]):
        * WebFoundation/AuthenticationManager.subproj/IFAuthenticationRequestPrivate.h:
        * WebFoundation/CacheLoader.subproj/IFFileURLHandle.m:
        (+[IFFileURLHandle canInitWithURL:]):
        (-[IFFileURLHandle contentLength]):
        * WebFoundation/CacheLoader.subproj/IFFileURLProtocolHandler.m:
        (+[IFFileURLProtocolHandler canInitWithURL:]):
        * WebFoundation/CacheLoader.subproj/IFHTTPURLHandle.m:
        (+[IFHTTPURLHandle canInitWithURL:]):
        (-[IFHTTPURLHandle setResponseHeaders:]):
        * WebFoundation/CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
        (+[IFHTTPURLProtocolHandler canInitWithURL:]):
        (-[IFHTTPURLProtocolHandler endLoadInBackground]):
        (-[IFHTTPURLProtocolHandler dealloc]):
        (-[IFHTTPURLProtocolHandler requestURL]):
        (-[IFHTTPURLProtocolHandler addIfModifiedSinceHeader:]):
        (-[IFHTTPURLProtocolHandler addCookieHeaders:]):
        (-[IFHTTPURLProtocolHandler addAuthenticationHeaders:andCall:]):
        (-[IFHTTPURLProtocolHandler addRequestMessageBody:]):
        (-[IFHTTPURLProtocolHandler performHTTPHeaderRead:]):
        (-[IFHTTPURLProtocolHandler setRedirectedURL:]):
        (-[IFHTTPURLProtocolHandler cacheObjectIsValid:]):
        (-[IFHTTPURLProtocolHandler cacheObjectRequiresRevalidation:]):
        (-[IFHTTPURLProtocolHandler shouldCacheResourceData]):
        (-[IFHTTPURLProtocolHandler parseCacheControlAttributes:]):
        * WebFoundation/CacheLoader.subproj/IFURLHandle.m:
        (_sendCallbacks):
        (-[IFURLHandleInstanceVariables initWithHandle:]):
        (-[IFURLHandle cancelLoadInBackground]):
        (+[IFURLHandle initialize]):
        (-[IFURLHandle _submittedAttributes]):
        (-[IFURLHandle _setAttribute:forKey:]):
        (-[IFURLHandle _setContentLength:]):
        (-[IFURLHandle _loadType]):
        (-[IFURLHandle _backgroundLoadDidBegin]):
        (-[IFURLHandle _backgroundLoadDidBegin:]):
        (-[IFURLHandle _didLoadData:]):
        (-[IFURLHandle _backgroundLoadComplete]):
        (-[IFURLHandle _backgroundLoadFailedWithResultCode:]):
        (-[IFURLHandle _didRedirectToURL:]):
        (+[IFURLHandle _registerDefaults]):
        (-[IFURLHandle _cacheable]):
        (-[IFURLHandle _setCacheable:]):
        (-[IFURLHandle _setStatusCode:]):
        (-[IFURLHandle _setResultCode:]):
        (-[IFURLHandle _setFinalURL:]):
        (-[IFURLHandle _postCallback:]):
        (-[IFURLHandle _sendCallbacks]):
        (-[IFURLHandle _notifyClientsDidBeginLoading]):
        (-[IFURLHandle _notifyClientsDidCancelLoading]):
        (-[IFURLHandle _notifyClientsDataDidBecomeAvailable]):
        (-[IFURLHandle _notifyClientsDidFinishLoading]):
        (-[IFURLHandle _notifyClientsDidFailLoading]):
        (-[IFURLHandle _notifyClientsDidRedirectToURL]):
        * WebFoundation/CacheLoader.subproj/IFURLHandleC.m:
        (IFURLHandleBackgroundLoadDidBegin):
        (IFURLHandleBackgroundLoadComplete):
        (IFURLHandleBackgroundLoadFailedWithResultCode):
        (IFURLHandleDidRedirectToURL):
        * WebFoundation/CacheLoader.subproj/IFURLHandlePrivate.h:
        * WebFoundation/CacheLoader.subproj/IFURLLoad.m:
        (-[IFURLLoad doubleAttributeForKey:]):
        (-[IFURLLoad updateHandles]):
        (-[IFURLLoad succeeded]):
        (-[IFURLLoad failedWithResultCode:]):
        (+[IFURLLoad initialize]):
        (-[IFURLLoad didBeginLoading:]):
        * WebFoundation/CacheLoader.subproj/IFURLLoadManager.m:
        (-[IFURLLoadManager initWithDefaultStack]):
        (-[IFURLLoadManager requestWithURLHandle:]):
        (-[IFURLLoadManager _syncCachesNotification:]):
        * WebFoundation/CookieManager.subproj/IFCookie.m:
        (setDefaultsFromOriginURL):
        (setDomain):
        (-[IFCookie _cookieToV0HeaderSegment]):
        (+[IFCookie requestHeadersFromCookieArray:]):
        (+[IFCookie cookieWithV0Spec:forURL:]):
        (+[IFCookie cookieArrayFromResponseHeaders:forURL:]):
        (-[IFCookie compareForHeaderOrder:]):
        * WebFoundation/CookieManager.subproj/IFCookieManager.m:
        (-[IFCookieManager cookieRequestHeadersForURL:]):
        (-[IFCookieManager _cookieRequestHeadersForURL:withExtraCookies:]):
        (-[IFCookieManager description]):
        * WebFoundation/CookieManager.subproj/IFCookieManagerPrivate.h:
        * WebFoundation/Database.subproj/IFURLFileDatabase.m:
        (-[IFURLFileDatabase removeAllObjects]):
        (-[IFURLFileDatabase performSetObject:forKey:]):
        (-[IFURLFileDatabase open]):
        * WebFoundation/Misc.subproj/IFMultipartForm.m:
        (-[IFMultipartForm encodeMultipartForm]):
        * WebFoundation/Misc.subproj/IFNSArrayExtensions.h:
        * WebFoundation/Misc.subproj/IFNSArrayExtensions.m:
        (-[NSArray _IF_mappedArrayWithSelector:]):
        (-[NSArray _IF_mappedArrayWithFunction:context:]):
        (-[NSArray _IF_filteredArrayWithSelector:]):
        (-[NSArray _IF_arrayByRemovingIfSelector:]):
        (-[NSArray _IF_filteredArrayWithSelector:withObject:]):
        (-[NSArray _IF_doesEveryElementSatisfyPredicate:]):
        (-[NSArray _IF_indexOfObjectSatisfyingPredicate:withObject:]):
        (-[NSArray _IF_encodeWWWFormURLData]):
        * WebFoundation/Misc.subproj/IFNSCalendarDateExtensions.h:
        * WebFoundation/Misc.subproj/IFNSCalendarDateExtensions.m:
        (-[NSCalendarDate _IF_compareDay:]):
        (-[NSCalendarDate _IF_isToday]):
        * WebFoundation/Misc.subproj/IFNSDictionaryExtensions.h:
        * WebFoundation/Misc.subproj/IFNSDictionaryExtensions.m:
        (-[NSDictionary _IF_doubleForKey:]):
        (-[NSDictionary _IF_floatForKey:]):
        (-[NSDictionary _IF_unsignedLongForKey:]):
        (-[NSDictionary _IF_longForKey:]):
        (-[NSDictionary _IF_unsignedIntForKey:]):
        (-[NSDictionary _IF_intForKey:]):
        (-[NSDictionary _IF_unsignedShortForKey:]):
        (-[NSDictionary _IF_shortForKey:]):
        (-[NSDictionary _IF_boolForKey:]):
        (-[NSDictionary _IF_encodeWWWFormURLData]):
        (-[NSMutableDictionary _IF_setDouble:forKey:]):
        (-[NSMutableDictionary _IF_setFloat:forKey:]):
        (-[NSMutableDictionary _IF_setUnsignedLong:forKey:]):
        (-[NSMutableDictionary _IF_setLong:forKey:]):
        (-[NSMutableDictionary _IF_setUnsignedInt:forKey:]):
        (-[NSMutableDictionary _IF_setInt:forKey:]):
        (-[NSMutableDictionary _IF_setUnsignedShort:forKey:]):
        (-[NSMutableDictionary _IF_setShort:forKey:]):
        (-[NSMutableDictionary _IF_setBool:forKey:]):
        * WebFoundation/Misc.subproj/IFNSFileManagerExtensions.h:
        * WebFoundation/Misc.subproj/IFNSFileManagerExtensions.m:
        (-[NSFileManager _IF_createDirectoryAtPathWithIntermediateDirectories:attributes:]):
        (-[NSFileManager _IF_createFileAtPathWithIntermediateDirectories:contents:attributes:directoryAttributes:]):
        (-[NSFileManager _IF_createIntermediateDirectoriesForPath:attributes:]):
        (-[NSFileManager _IF_fileExistsAtPath:isDirectory:traverseLink:]):
        (-[NSFileManager _performRemoveFileAtPath:]):
        (-[NSFileManager _IF_backgroundRemoveFileAtPath:]):
        * WebFoundation/Misc.subproj/IFNSMutableDataExtensions.h:
        * WebFoundation/Misc.subproj/IFNSMutableDataExtensions.m:
        (-[NSMutableData _IF_appendFormat:]):
        (-[NSMutableData _IF_appendEncodedString:format:arguments:]):
        (-[NSMutableData _IF_appendEncodedString:format:]):
        * WebFoundation/Misc.subproj/IFNSObjectExtensions.h:
        * WebFoundation/Misc.subproj/IFNSObjectExtensions.m:
        (-[NSObject _IF_performBooleanSelector:]):
        (-[NSObject _IF_performBooleanSelector:withObject:]):
        (-[NSObject _IF_encodeWWWFormURLData]):
        * WebFoundation/Misc.subproj/IFNSStringExtensions.h:
        * WebFoundation/Misc.subproj/IFNSStringExtensions.m:
        (-[NSString _IF_isCaseInsensitiveEqualToString:]):
        (-[NSString _IF_hasCaseInsensitiveSuffix:]):
        (-[NSString _IF_countOfString:]):
        (-[NSString _IF_looksLikeDomainName]):
        (-[NSString _IF_looksLikeIPAddress]):
        (-[NSString _IF_domainMatches:]):
        (-[NSString _IF_splitAtNonDateCommas]):
        (-[NSString _IF_parseAsKeyValuePair]):
        (-[NSString _IF_parseAsKeyValuePairHandleQuotes:]):
        (-[NSString _IF_stringByTrimmingWhitespace]):
        (-[NSString _IF_hasSubstring:atIndex:]):
        (-[NSString _IF_encodeStringBase64]):
        (-[NSString _IF_encodeWWWFormURLData]):
        (-[NSString _IF_encodeWWWFormURLData:]):
        (-[NSString _IF_mimeTypeFromContentTypeHeader]):
        (-[NSString _IF_characterSetFromContentTypeHeader]):
        * WebFoundation/Misc.subproj/IFNSThreadExtensions.h:
        * WebFoundation/Misc.subproj/IFNSThreadExtensions.m:
        (+[NSThread _joinableThreadBody:]):
        (+[NSThread _IF_createJoinableThreadWithSelector:toTarget:withObject:]):
        (+[NSThread _IF_joinThread:]):
        (+[NSThread _IF_sleep:]):
        * WebFoundation/Misc.subproj/IFNSURLExtensions.h:
        * WebFoundation/Misc.subproj/IFNSURLExtensions.m:
        (+[NSURL _IF_URLWithScheme:user:password:host:port:path:parameter:query:fragment:]):

        * WebKit/History.subproj/IFWebHistoryPrivate.m:
        (-[IFWebHistoryPrivate findIndex:forDay:]):
        (-[IFWebHistoryPrivate arrayRepresentation]):
        (-[IFWebHistoryPrivate _loadHistoryGuts:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1065 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-04-23 18:39:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/da4a162606454e6a175f564f75d23553478e53a3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600ob01l5kpneas0j', 2, e'2002-04-23  Kenneth Kocienda  <kocienda@apple.com>

        * kwq/KWQPixmap.mm:
        (QPixmap::QPixmap): Fixed unneeded leak of an NSImage in
        the case where we are still covering for a double-release
        bug in AppKit. No need to add insult to injury. :)


git-svn-id: svn://svn.chromium.org/blink/trunk@1064 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-04-23 15:49:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/520bf33589c2c89adea917b54fcefcf62ec1d610');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600oc01l5thmew87g', 2, e'	Fix width of non-breaking spaces. There\'s code to hack this
	at the KDE level for fonts that don\'t have non-breaking space
	characters, but we need it even for fonts that do.

	Not sure why this worked better on Puma, but now it\'s fine on
	both Puma and Jaguar.

	* kwq/KWQFontMetrics.mm:
	(ConvertCharactersToGlyphs): New. Turns non-breaking spaces into
	normal spaces if needed.
	(-[KWQLayoutInfo drawString:atPoint:withFont:color:]),
	(-[KWQLayoutInfo _initializeCaches]), (_rectForString): Change to
	call ConvertCharactersToGlyphs instead of ATSUConvertCharToGlyphs.


git-svn-id: svn://svn.chromium.org/blink/trunk@1063 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-23 01:37:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0ead2ca9ae01098faf9a19130d77eb9c989b0aa1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600od01l5dyzhp9jy', 2, e'WebFoundation:
        * Misc.subproj/IFError.h:
        * Misc.subproj/IFError.m:
        (+[IFError initialize]):

        Removed old WebKit errors, added IFCantShowMIMEType.

WebKit:
        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):

        Send an IFError when we\'re asked to show content we can\'t handle.

        * WebView.subproj/IFWebDataSourcePrivate.mm:

        Cleaning

WebBrowser:
        * LocationChangeHandler.m:
        (-[LocationChangeHandler requestContentPolicyForMIMEType:]):

        Cleaned this up a little.


git-svn-id: svn://svn.chromium.org/blink/trunk@1062 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-23 01:08:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5670570dd895fa887899c5bf154d04bff6c43de8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600oe01l5qblrsssj', 2, e'WebBrowser:
        * LocationChangeHandler.m:
        (-[LocationChangeHandler requestContentPolicyForMIMEType:]):

        A nil type means that this is a file URL.

WebKit:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/IFBaseWebController.mm:
        (-[IFBaseWebController haveContentPolicy:andPath:forLocationChangeHandler:]):
        * WebView.subproj/IFWebDataSourcePrivate.h:
        * WebView.subproj/IFWebDataSourcePrivate.mm:

        Fixed frames which I broke in the previous commit. We now set the content policy
        on all child frames instead of just the main frame.


git-svn-id: svn://svn.chromium.org/blink/trunk@1061 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-23 00:09:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3e4da8824fb5bf08d59eea1f2d94c7fbe6525604');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600of01l5rqeo3nqw', 2, e'Updated log.


git-svn-id: svn://svn.chromium.org/blink/trunk@1060 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-22 22:19:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e5024bff998554bf4e3fc118d509d8710bfb4a67');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600og01l57d5gwv2n', 2, e'	* kwq/qt/qpixmap.h:
	* kwq/KWQPixmap.mm:
	(QPixmap::QPixmap): Clear needsCopyOnWrite flag in all the
	constructors other than the copy constructor. Set it in the copy
	constructor.
	(QPixmap::~QPixmap): Simplify.
	(QPixmap::mask): Always return 0 rather than leaking a QBitmap each time,
	since Qt uses 0 to mean "no mask".
	(QPixmap::isNull): Simplify.
	(QPixmap::resize): Do the copy here if we need it, and do the setScalesWhenResized:
	call in here instead of trying to do it elsewhere.
	(QPixmap::xForm): Only copy the pixmap once.
	(QPixmap::operator=): Set the needsCopyOnWrite flag. Also change the retain/release
	idiom around so we don\'t need to check for self-assignment.

	* khtml/ecma/Makefile.am: Don\'t build kjs_debugwin any more.
	* khtml/ecma/kjs_debugwin.cpp: Removed.
	* khtml/ecma/kjs_debugwin.h: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@1059 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-22 22:14:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c8d3e940d0d5fe9c4fc649ed241e5a2d4d6732fa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600oh01l590ftxf49', 2, e'WebBrowser:
        * LocationChangeHandler.m:
        (-[LocationChangeHandler requestContentPolicyForMIMEType:]):
        Initial implementation of Alex\'s interaction with out content policy API.
        Simply made Alex show types that we handle inline and save types we don\'t

        * WebController.m:
        Removed some deprecated methods.

WebKit:
        * MIME.subproj/IFMIMEHandler.h:
        * MIME.subproj/IFMIMEHandler.m:
        (+[IFMIMEHandler showableMIMETypes]):
        (+[IFMIMEHandler saveFileWithPath:andData:]):
        (+[IFMIMEHandler saveAndOpenFileWithPath:andData:]):

        Added the above factory methods.

        * WebView.subproj/IFBaseWebController.mm:
        (-[IFBaseWebController haveContentPolicy:andPath:forLocationChangeHandler:]):

        Save the content policy and download path on the datasource.

        * WebView.subproj/IFMainURLHandleClient.mm:
        (-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]):
        (-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]):
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):
        (-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):

        Made IFMainURLHandleClient use our new content policy API rather than
        IFDownloadHandler.

        * WebView.subproj/IFWebController.h:

        Removed some deprecated methods.

        * WebView.subproj/IFWebDataSourcePrivate.h:
        * WebView.subproj/IFWebDataSourcePrivate.mm:
        (-[IFWebDataSource _downloadPath]):
        (-[IFWebDataSource _setDownloadPath:]):
        (-[IFWebDataSource _contentPolicy]):
        (-[IFWebDataSource _setContentPolicy:]):

        Added the above methods.

WebCore:
        Added a new method to WCPluginDatabase allHandledMIMETypes.
        It returns an  array of the mime types that plug-ins handle.

        * kwq/WCPluginDatabase.h:
        * kwq/WCPluginDatabase.mm:
        (-[WCPluginDatabase allHandledMIMETypes]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1058 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-22 18:28:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/972149d49f1e254bd5c3f1135c7f2f91b9450a30');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600oi01l5xd42ixzk', 2, e'Fix ChangeLog typo.


git-svn-id: svn://svn.chromium.org/blink/trunk@1057 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-22 16:35:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/57132ccd9f42602994f967fb09ac6fd7a16cce55');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600oj01l56qbxv9n7', 2, e'	* Plugins.subproj/IFPluginView.mm:
	(-[IFPluginView initWithFrame:plugin:url:mime:arguments:mode:]):
	Fix the fix. It was bumping argsCount even when not putting an
	argument into the array.


git-svn-id: svn://svn.chromium.org/blink/trunk@1056 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-22 14:39:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6dcd1dd2141b387cdc3c512816e91ca045836716');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600ok01l5vum81txn', 2, e'	Fix a plugins memory trasher that was making Alexander crash on
	the abcnews.com test page in cvs-torture-test:

	* Plugins.subproj/IFPluginView.mm:
	(-[IFPluginView initWithFrame:plugin:url:mime:arguments:mode:]):
	Use a new maxArguments variable to size the argument and value
	arrays - with the old code argsCount would end up twice the size
	it should be, and the arguments would all get written past the end
	of the argument array.


git-svn-id: svn://svn.chromium.org/blink/trunk@1055 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-22 07:02:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd181f1737b56e6ab62cbaaf45cb17688d53f8d1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600ol01l5awypmpbc', 2, e'	Problems loading iframes seemed to be due to NSURL objects that
	were not normalized, so I made the NSURL creation all be done
	by KURL, which fixed the problem.

	* kwq/KWQKHTMLPart.mm: (KHTMLPart::requestFrame), (KHTMLPart::submitForm),
	(KHTMLPart::khtmlMouseReleaseEvent):
	* kwq/KWQKjobclasses.mm:
	Call getNSURL instead of creating NSURLs by converting to strings.

	* kwq/kdecore/kurl.h:
	* kwq/KWQKURL.mm: (KURL::getNSURL): New.


git-svn-id: svn://svn.chromium.org/blink/trunk@1054 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-20 14:52:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7d3ada57c7577b892967c14f5d4e60330cc880e7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600om01l5bs5zp7w2', 2, e'2002-04-19  Kenneth Kocienda  <kocienda@apple.com>

	WebFoundation:

        Changes to support submission of forms using HTTP POST.

        These changes focus on adding the form data to a post request.

        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (-[IFHTTPURLProtocolHandler
        addRequestMessageBody:]):
        * ChangeLog:
        * WebFoundation.pbproj/project.pbxproj:


	WebCore:

        Changes to support submission of forms using HTTP POST.

        These changes move us over to using the new WebKit interface for creating
        WebDataSource instances, one that passes a handle rather than just a URL,
        enabling the specific request method to be communicated to WebFoundation.
        This fixes:

        Radar 2903602 (IFWebDataSource API must passes attributes and flags to IFURLHandle)

        Fixed handling of password fields:

        Radar 2903605 (WebCore form processing drops out password input data)

        Added some hacks to get form <input type=image ...> working correctly:

        Radar 2907198 (Forms not getting submitted correctly when <input type=image>)


        * khtml/rendering/render_form.cpp: (RenderImageButton::RenderImageButton),
        (RenderImageButton::~RenderImageButton), (RenderImageButton::printObject):
        * khtml/rendering/render_form.h:
        * kwq/KWQKHTMLPart.mm: (KHTMLPart::requestFrame), (KHTMLPart::submitForm),
        (KHTMLPart::khtmlMouseReleaseEvent):
        * kwq/KWQNSTextField.mm: (-[KWQNSTextField setPasswordMode:]), (-[KWQNSTextField
        textDidChange:]), (-[KWQNSTextField stringValue]):
        * kwq/Makefile.am:
	* kwq/KWQInvisibleButton.h: Added
	* kwq/KWQInvisibleButton.mm: Added

	WebKit:

        Changes to support submission of forms using HTTP POST.

        These changes move us over to using the new WebKit interface for creating
        WebDataSource instances, one that passes a handle rather than just a URL,
        enabling the specific request method to be communicated to WebFoundation.
        This fixes:

        Radar 2903602 (IFWebDataSource API must passes attributes and flags to IFURLHandle)

        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/IFWebDataSource.h:
        * WebView.subproj/IFWebDataSource.mm: (IFWebDataSourceMake), (-[IFWebDataSource
        initWithURL:]), (-[IFWebDataSource initWithHandle:]):
        * WebView.subproj/IFWebDataSourcePrivate.h:
        * WebView.subproj/IFWebDataSourcePrivate.mm: (-[IFWebDataSource _startLoading:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1053 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-04-19 22:09:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/820ba291aa23a5ccc9ac69f9de4ef9ca522e3b7c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600on01l50d5edwhk', 2, e'        Updated comments to reflect new API.


git-svn-id: svn://svn.chromium.org/blink/trunk@1052 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-19 16:57:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0d5aa35e327cd1474368f89ea82d52a06389bdf2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600oo01l5uhre9vxk', 2, e'	* Plugins.subproj/IFPluginView.h: Re-add the attributes and values arrays,
	since they need to live the life of the plugin.
	* Plugins.subproj/IFPluginView.mm: (newCString): New function to make a C++
	new-allocated C string from an NSString.
	(-[IFPluginView initWithFrame:plugin:url:mime:arguments:mode:]): Move code
	to allocate the arrays back here.
	(-[IFPluginView dealloc]): Deallocate the arrays and their contents.
	(-[IFPluginView start]): Simplify now that it does no work.


git-svn-id: svn://svn.chromium.org/blink/trunk@1051 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-19 15:45:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aab239f36ddeb72fc7b906d9adb621e90a227dab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600op01l581g3hal2', 2, e'2002-04-18  Chris Blumenberg  <cblu@apple.com>

        Made stop and start work better. Fixed a bug darin made.

        * Plugins.subproj/IFPluginView.h:
        * Plugins.subproj/IFPluginView.mm: (-[IFPluginView
        initWithFrame:plugin:url:mime:arguments:mode:]), (-[IFPluginView setWindow]),
        (-[IFPluginView start]), (-[IFPluginView stop]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1050 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-19 03:18:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bac02235ca4bf89c2c056a6ec1ad8da6ebe34f1b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600oq01l5z625q04w', 2, e'Fixed typo.


git-svn-id: svn://svn.chromium.org/blink/trunk@1049 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-19 03:07:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/39b2fcf3a9e7bfcd129bfbdc7ab76484786a1a1c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600or01l57nwctdse', 2, e'New API for content policy.


git-svn-id: svn://svn.chromium.org/blink/trunk@1048 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-19 03:02:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6aa94326ebb8c7536a4b036c6e0948a1e8e44f92');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600os01l5i1jwolyy', 2, e' Oops. Take out -Wstrict-prototypes, put back -Wmissing-prototypes.


git-svn-id: svn://svn.chromium.org/blink/trunk@1047 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-18 23:01:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6c693b37e2cf7022f1ea99ea5a677ec0827b7b8c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600ot01l5xe64deyu', 2, e'	Take out -Wmissing-prototypes
	because system headers are triggering it when we don\'t have
	precompiled headers on.


git-svn-id: svn://svn.chromium.org/blink/trunk@1046 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-18 22:54:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d10f603fa75fcd7da750160cb735be4de5203f8c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600ou01l5f7vzcexd', 2, e'	* Makefile.am: Pass the -f flag to ln so it doesn\'t fail when
	there\'s already a link there.

	* configure.in: Use gcc3 and g++3 so we always get gcc 3.0, no
	matter how the system is configured. Besides the fact that gcc
	3.0 includes more in -Wall, turned on the following additional
	warnings that were not on before:
	    -W
	    -Wbad-function-cast
	    -Wformat-security
	    -Wmissing-format-attribute
	    -Wstrict-prototypes
	    -Wwrite-strings
	Also removed the -fno-coalesce-static-vtables flag for C++
	and removed explicit mention of C++ warnings that are part of
	-Wall in gcc 3.0 at least.

	* Tests/harness.c: (main): Const string fix.
	* Tests/kde/kurl-test.cpp: (testURL): Std namespace and const string fix.
	* Tests/libiftest/IFTestDirectory.c: (IFSetUpTestDirectory): Const string fix.
	* Tests/libiftest/IFTestDirectory.h: Const string fix.

	* Tests/qt/qarray-test.cpp:
	* Tests/qt/qbuffer-test.cpp:
	* Tests/qt/qchar-test.cpp:
	* Tests/qt/qcstring-test.cpp:
	* Tests/qt/qdate-test.cpp:
	* Tests/qt/qdatetime-test.cpp:
	* Tests/qt/qdict-test.cpp:
	* Tests/qt/qdir-test.cpp:
	* Tests/qt/qfile-test.cpp:
	* Tests/qt/qlist-test.cpp:
	* Tests/qt/qmap-test.cpp:
	* Tests/qt/qpoint-test.cpp:
	* Tests/qt/qptrdict-test.cpp:
	* Tests/qt/qrect-test.cpp:
	* Tests/qt/qregexp-test.cpp:
	* Tests/qt/qsize-test.cpp:
	* Tests/qt/qsortedlist-test.cpp:
	* Tests/qt/qstack-test.cpp:
	* Tests/qt/qstring-test.cpp:
	* Tests/qt/qstringlist-test.cpp:
	* Tests/qt/qtime-test.cpp:
	* Tests/qt/qvaluelist-test.cpp:
	* Tests/qt/qvector-test.cpp:
	Add "using namespace std" to each test as a simple std namespace fix.

WebFoundation:

	Reviewed by Maciej

	Fixes for compiling with gcc3 and more warnings.

	* WebFoundation.pbproj/project.pbxproj: Turn on gcc3 and the same set of warnings
	as in the rest of Labyrinth (see top level ChangeLog for details).

	* CacheLoader.subproj/IFURLHandle.m: (-[IFURLHandle percentComplete]):
	Rearrange code to avoid a cast to (float) that gcc3 didn\'t like.

	* Database.subproj/IFNDBMDatabase.m: (-[IFNDBMDatabase objectForKey:]):
	Mark some variables volatile to make gcc3 happy about their values and the
	use of longjmp. Good catch on the compiler\'s part.

	* Database.subproj/IFURLFileDatabase.m: Work around bug 2905545 so we can
	have -W on for all the rest of WebFoundation.
	(URLFileReaderInit): Mark this as (void) so it\'s not a non-prototyped function.
	(-[IFURLFileReader initWithPath:]): Don\'t assign to self so gcc3 is not unhappy
	about the use of it with longjmp.
	(-[IFURLFileDatabase objectForKey:]): Mark some variables volatile to make gcc3
	happy about their values and the use of longjmp.

	* Misc.subproj/IFNSObjectExtensions.m: (-[NSObject performBooleanSelector:]),
	(-[NSObject performBooleanSelector:withObject:]): Do a new implementation that
	does\'t make the compiler unhappy about type casts.

	* Misc.subproj/IFNSThreadExtensions.m: Work around bug 2905545 so we can
	have -W on for all the rest of WebFoundation.
	(InitJoinableThreads): Mark this as (void) so it\'s not a non-prototyped function.

JavaScriptCore:

	Reviewed by Maciej

	* JavaScriptCore.pbproj/project.pbxproj: Turn on gcc3 and the same set of warnings
	as in the rest of Labyrinth (see top level ChangeLog for details).

WebCore:

	Fixes for compiling with gcc3 and more warnings.

	* khtml/html/.cvsignore: Add kentities.c; I could have sworn I did this
	already.
	* khtml/html/Makefile.am: Remove erroneous duplicate definition of
	CLEAN_FILES.

	* libwebcore.exp:
	* libwebcoretests.exp:
	Rebuilt these lists from scratch. Almost everything in here is different
	since the C++ name mangling rules changed.

	* khtml/css/cssparser.cpp:
	* khtml/misc/htmlhashes.cpp:
	Disable inlining in part of this file as a workaround for Radar 2905890.

	* kwq/KWQApplication.mm: (QDesktopWidget::screenGeometry):
	Add casts to int needed to make gcc3 happy.
	* kwq/KWQArrayImpl.mm: Add missing #include of <string.h>.

	* kwq/KWQBitmap.mm:
	* kwq/KWQFrame.mm:
	* kwq/KWQLineEdit.mm:
	Removed some unused copy constructors and assignment operators to avoid
	warnings in them.

	* kwq/KWQButton.mm: (QButton::setText):
	* kwq/KWQListBox.mm: (QListBox::~QListBox), (QListBox::clear),
	(QListBox::setSelectionMode), (QListBox::currentItem), (QListBox::insertItem),
	(QListBox::setSelected), (QListBox::isSelected), (QListBoxItem::width),
	(QListBoxItem::height):
	* kwq/KWQScrollView.mm: (QScrollView::setContentsPos), (QScrollView::addChild),
	(QScrollView::resizeContents), (QScrollView::viewportToContents),
	Use local variables to work around Radar 2905835.

	* kwq/KWQCString.mm: (operator<<):
	* kwq/KWQPoint.mm: (operator<<):
	* kwq/KWQRect.mm: (operator<<):
	* kwq/KWQSize.mm: (operator<<):
	* kwq/qt/qarray.h:
	* kwq/qt/qcstring.h:
	* kwq/qt/qdatetime.h:
	* kwq/qt/qdict.h:
	* kwq/qt/qlist.h:
	* kwq/qt/qmap.h:
	* kwq/qt/qpainter.h:
	* kwq/qt/qpoint.h:
	* kwq/qt/qptrdict.h:
	* kwq/qt/qrect.h:
	* kwq/qt/qsize.h:
	* kwq/qt/qstack.h:
	* kwq/qt/qvaluelist.h:
	* kwq/qt/qvector.h:
	Say std::ostream instead of just ostream.

	* kwq/KWQCharsets.mm: Fix a const problem.

	* kwq/KWQDateTime.mm: (QTime::elapsed), (QTime::restart): Use int instead
	of uint, since these functions try to handle values that are less than 0.
	(operator<<): Say std::ostream instead of just ostream.
	* kwq/KWQTextArea.mm: (RangeOfParagraph): Fix an int/uint issue.

	* kwq/KWQFile.mm: (QFile::KWQFilePrivate::KWQFilePrivate),
	(QFile::KWQFilePrivate::~KWQFilePrivate): Use new/delete instead of
	malloc/free so we don\'t get void * warnings.

	* kwq/KWQFontMetrics.mm: (__IFFillStyleWithAttributes),
	(-[KWQLayoutInfo drawString:atPoint:withFont:color:]),
	(-[KWQLayoutInfo _initializeCaches]),
	(_rectForString):
	* kwq/KWQKURL.mm: (KURL::KWQKURLPrivate::KWQKURLPrivate),
	(RelativeURLKeyRetainCallBack), (RelativeURLKeyReleaseCallBack),
	(RelativeURLKeyEqualCallBack), (RelativeURLKeyHashCallBack),
	(KURL::normalizeURLString), (KURL::normalizeRelativeURLString):
	* kwq/KWQPainter.mm: (QPainter::save):
	* kwq/KWQKloader.mm:
	(-[URLLoadClient IFURLHandle:resourceDidFailLoadingWithResult:]),
	(-[URLLoadClient IFURLHandle:didRedirectToURL:]):
	Add type casts where necessary to make the stricter gcc3 happy.

	* kwq/KWQPixmap.mm: (QPixmap::QPixmap): Explicitly initialize the underlying
	QPaintDevice.
	(QPixmap::size), (QPixmap::rect): Add type casts where necessary to make
	the stricter gcc3 happy.

	* kwq/KWQPtrDictImpl.mm: (KWQPtrDictImpl::KWQPtrDictPrivate::KWQPtrDictPrivate):
	Say std::bad_alloc instead of just bad_alloc.
	(invokeDeleteFuncOnValue), (KWQPtrDictImpl::clear): Pass a pointer to a function
	pointer rather than a function pointer to avoid a warning about turning function
	pointers into void *.

	* kwq/KWQRegion.mm: (QRegion::_initialize), (QRegion::~QRegion): Use new/delete
	rather than calloc/free so we don\'t get void * warnings.
	(QRegion::boundingRect): Add type casts.

	* kwq/KWQString.mm: (QString::fromStringWithEncoding): Add cast.
	(QString::setNum): use %ld and %lu rather than %D and %U.
	(QString::fill), (QString::convertToQCString): Add casts.

	* kwq/KWQTextStorage.mm: (-[KWQTextStorage _buildFragmentForString:]):
	Add a cast to make gcc3 happy.

	* kwq/KWQVariant.mm: Say "friend class" instead of "friend".

	* kwq/KWQVectorImpl.mm: (KWQVectorImpl::KWQVectorPrivate::KWQVectorPrivate):
	Say std::bad_alloc instead of just bad_alloc.
	(KWQVectorImpl::data): Replace the old autorelease trick with a new one that
	doesn\'t require mixing malloc with NSData.

	* kwq/KWQView.mm: (-[KWQHTMLView mouseUp:]), (-[KWQHTMLView mouseDown:]):
	Add casts to make gcc3 happy.

	* kwq/KWQWidget.mm: (QWidget::frameGeometry), (QWidget::mapToGlobal),
	(QWidget::minimumSizeHint): Add casts to make gcc3 happy. Also another
	workaround for Radar 2905835.

	* kwq/WCPlugin.mm: (-[WCPlugin load]): Add tons of type casts so we don\'t have
	to mix void * with function pointer types.

	* kwq/WCPluginWidget.h:
	* kwq/WCPluginWidget.mm: (WCIFPluginMakeFunction), (WCIFNullPluginMakeFunction):
	Change types so we don\'t have to mix void * with function pointer types.
	This caught a mistake where WCIFNullPluginMakeFunction was returning the wrong
	function pointer.

	* kwq/external.h: Add some missing interfaces that the pickier gcc3 needed to see.

	* kwq/kwqdebug.mm: Don\'t compile the file if xNDEBUG is set. Otherwise we get
	a warning in here.

	* kwq/npapi.h: Use function pointer types for function pointers and transition
	vectors so we don\'t have to mix void * with function pointer types.

	* kwq/npapi.mm: (NPN_GetURLNotify), (NPN_GetURL),
	(NPN_PostURLNotify), (NPN_PostURL), (NPN_NewStream), (NPN_Write),
	(NPN_DestroyStream), (NPN_Status), (NPN_GetValue), (NPN_SetValue),
	(NPN_InvalidateRect), (NPN_InvalidateRegion), (NPN_ForceRedraw):
	Use local variables to work around Radar 2905835.
	(functionPointerForTVector), (tVectorForFunctionPointer):
	Change types around so we don\'t have to mix void * with function pointer types.

WebKit:

	Fixes for compiling with gcc3 and more warnings.

	* WebKit.pbproj/project.pbxproj: Turn on gcc3 and the same set of warnings
	as in the rest of Labyrinth (see top level ChangeLog for details).

	* Plugins.subproj/IFPluginView.mm:
	Avoid warnings about malloc by not using it.
	(-[IFPluginView initWithFrame:plugin:url:mime:arguments:mode:]): Keep the arguments
	dictionary around instead of keeping the C format version of it around. Also don\'t
	bother keeping the C string form of the MIME type around, and simplify some other
	stuff in here.
	(-[IFPluginView dealloc]): Corresponding changes since we keep a different set of things.
	(-[IFPluginView newStream:mimeType:notifyData:]): Use [mimeType cString].
	(-[IFPluginView start]): Build the lists of attributes and values in here. Do it using
	[NSString cString] for simplicity and don\'t keep the lists around after we\'re done with
	them.
	(-[IFPluginView IFURLHandleResourceDidFinishLoading:data:]): Use [filenameClassic cString].

	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandleResourceDidCancelLoading:]),
	(-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]),
	(-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]),
	(-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	* WebView.subproj/IFWebDataSourcePrivate.mm: (-[IFWebDataSourcePrivate dealloc]),
	(-[IFWebDataSource _setLoading:]), (-[IFWebDataSource _setController:]),
	(-[IFWebDataSource _setLocationChangeHandler:]):
	* WebView.subproj/IFWebView.mm: (-[IFWebView provisionalDataSourceChanged:]),
	(-[IFWebView mouseUp:]), (-[IFWebView mouseDown:]):
	Add type casts required by pickier gcc3.

	* WebView.subproj/IFWebViewPrivate.mm: (-[IFWebViewPrivate dealloc]):
	Add type cast required by pickier gcc3.
	(-[IFWebView _stopPlugins]): Use local variable to work around Radar 2905835.

WebBrowser:

	Fixes for compiling with gcc3 and more warnings.

	* WebBrowser.pbproj/project.pbxproj: Turn on gcc3 and the same set of warnings
	as in the rest of Labyrinth (see top level ChangeLog for details).

	* InternetConfigUtilities.m: (stringValueForICKey), (setStringValue):
	Some const string fixes.
	* Preferences.subproj/TextPreferences.m: (-[TextPreferences changeFont:]):
	Remove a cast that makes gcc3 unhappy.
	* ___CFA2UC.c: (NSGiantRaise): Const string fix.
	(gcompg): Old-style function prototype fix.
	(initialguess): Remove a cast that makes gcc3 unhappy.


git-svn-id: svn://svn.chromium.org/blink/trunk@1045 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-18 22:38:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c4cee0dd06ef2c8edbcf855c9a88177d88699de5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600ov01l5294kbmov', 2, e'        Moved plugin instance creation to the start method in IFPluginView.

        * Plugins.subproj/IFPluginView.h:
        * Plugins.subproj/IFPluginView.mm: (-[IFPluginView
        initWithFrame:plugin:url:mime:arguments:mode:]), (-[IFPluginView dealloc]),
        (-[IFPluginView newStream:mimeType:notifyData:]), (-[IFPluginView start]),
        (-[IFPluginView stop]), (-[IFPluginView drawRect:]), (-[IFPluginView
        windowBecameKey:]), (-[IFPluginView windowResignedKey:]), (-[IFPluginView
        IFURLHandle:resourceDataDidBecomeAvailable:]), (-[IFPluginView
        IFURLHandleResourceDidFinishLoading:data:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1044 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-18 18:49:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2d400f9f28a9d25b0690bc2f8eedad2ae9197b3c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600ow01l54aurc4p9', 2, e'	Reviewed by: Darin Adler  <darin@apple.com>

	* kjs/testkjs.cpp: Don\'t include <iostream.h> to avoid gcc3
	warning.


git-svn-id: svn://svn.chromium.org/blink/trunk@1041 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-18 01:00:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/14e9c4803c504b80c14d0c433f5f8860d81ba181');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600ox01l5jtn27i4t', 2, e'	Fix build problem.

	* Makefile.am: Don\'t build this directory before subdirs, because
	we link at this level. Move the kentities.c build out of here,
	because it needs to be done before khtml/html.
	* khtml/html/Makefile.am: Move kentities.c build rules here.

	* kentities.gperf: Removed.
	* khtml/html/kentities.gperf: Added.

	* .cvsignore: Don\'t ignore kentities.c.
	* khtml/html/.cvsignore: Ignore kentities.c.


git-svn-id: svn://svn.chromium.org/blink/trunk@1040 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-17 23:37:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/41cd63131f53622e0034d807d08c9f23c13eb93e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600oy01l5wkqk76j9', 2, e'top level:

	* configure.in: Update for new organization of WebCore.

	* Tools/HotSpotFinder/HotSpotFinder.pbproj/project.pbxproj: Switch to gcc3 and
	turn on more warnings.
	* Tools/HotSpotFinder/SamplingData.m:
	(-[SamplingDataAccumulator processFunction:depth:]): Fix a signed/unsigned warning.

WebCore:

	* .cvsignore: Ignore new generated files at this level.

	* include/*: Removed. We don\'t need this hack any more.
	* src/*: Removed. Sources are now in their new locations.
	* src/libwebcore.exp: Removed. This is now in its new location.
	* src/libwebcoretests.exp: Removed. This is now in its new location.

	* Makefile.am: Build khtml and kwq subdirs, don\'t build src and include.
	Also add the rules that used to be in src about linking the library and
	the rules that used to be in src/kdelibs/kdecore about building the
	kentitices.c file.

	* dummy.mm: Moved here from src by hand.
	* kentities.gperf: Moved here from src/kdelibs/kdecore by hand.

	* khtml/html/Makefile.am: Add WebCore directory to includes so the
	include of "kentities.c" will work.

	* kwq/KWQKHTMLPart.mm:
	* kwq/KWQKJavaEmbed.mm:
	* kwq/KWQKloader.mm:
	Correct includes so we don\'t need a -I for each of the subdirectories.

	* kwq/khtml/java/javaembed.h: Removed. We use the one in the real
	khtml directory.

	* kwq/kwqdebug.h: Rolled over Chris\'s changes, which were done after
	the cvs surgery was done.

WebKit:

	* WebKit.pbproj/project.pbxproj: Update header search paths to find
	WebCore in the new location and eliminate WebCore/include.

WebBrowser:

	* WebBrowser.pbproj/project.pbxproj: Update header search paths to find
	WebCore in the new location and eliminate WebCore/include.


git-svn-id: svn://svn.chromium.org/blink/trunk@1039 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-17 23:12:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/95a6c175a56c4754fe23eb449c66bc677da67ebf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600oz01l5lihawtx3', 2, e'	Added a debug bit mask for plugins and downloads.

	* MIME.subproj/IFDownloadHandlerPrivate.m: (-[IFDownloadHandlerPrivate
	_openFile]), (-[IFDownloadHandlerPrivate _saveFile]), (-[IFDownloadHandler
	_initWithURLHandle:mimeHandler:]):
	* Misc.subproj/WebKitDebug.h:
	* Plugins.subproj/IFPluginView.mm: (-[IFPluginView
	initWithFrame:plugin:url:mime:arguments:mode:]), (-[IFPluginView setWindow]),
	(-[IFPluginView newStream:mimeType:notifyData:]), (-[IFPluginView stop]),
	(-[IFPluginView sendUpdateEvent]), (-[IFPluginView becomeFirstResponder]),
	(-[IFPluginView resignFirstResponder]), (-[IFPluginView mouseDown:]),
	(-[IFPluginView mouseUp:]), (-[IFPluginView mouseEntered:]), (-[IFPluginView
	mouseExited:]), (-[IFPluginView keyUp:]), (-[IFPluginView keyDown:]),
	(-[IFPluginView IFURLHandle:resourceDataDidBecomeAvailable:]), (-[IFPluginView
	IFURLHandleResourceDidFinishLoading:data:]), (-[IFPluginView
	getURLNotify:target:notifyData:]), (-[IFPluginView getURL:target:]),
	(-[IFPluginView postURLNotify:target:len:buf:file:notifyData:]), (-[IFPluginView
	postURL:target:len:buf:file:]), (-[IFPluginView newStream:target:stream:]),
	(-[IFPluginView write:len:buffer:]), (-[IFPluginView destroyStream:reason:]),
	(-[IFPluginView status:]), (-[IFPluginView getValue:value:]), (-[IFPluginView
	setValue:value:]), (-[IFPluginView invalidateRect:]), (-[IFPluginView
	invalidateRegion:]), (-[IFPluginView forceRedraw]):
	* WebView.subproj/IFMainURLHandleClient.mm: (-[IFMainURLHandleClient
	IFURLHandle:resourceDataDidBecomeAvailable:]):

	* src/kwq/kwqdebug.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@1038 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-17 19:53:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/667e6947b4943f58da7f88c0c0f34090a632489c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600p001l5fy7ym5c1', 2, e'	* WebView.subproj/IFPreferences.mm: (+[IFPreferences load]):
	Changed another Georgia that I missed to Times New Roman.


git-svn-id: svn://svn.chromium.org/blink/trunk@1037 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-17 14:56:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/eecaee944cc6112bfc5fe2875a1b2f7255711398');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600p101l57plkng5b', 2, e'	* WebView.subproj/IFWebDataSource.mm:
	* WebView.subproj/IFWebDataSourcePrivate.mm:
	Touch these files to try to make Jersey build again.


git-svn-id: svn://svn.chromium.org/blink/trunk@1036 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-17 05:58:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7c1882108cc48026425f923200d4674dad89e67f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnme7600p201l5aaji81pg', 2, e'WebCore:

	* src/kdelibs/khtml/khtml_part.cpp: Added. Not used yet, but maybe we\'ll use
	part of it some time soon.

	* src/kdelibs/khtml/khtml_part.h: Reenabled this file, and made changes so it
	could be used instead of our own header.
	* src/kwq/KWQKHTMLPart.h: Removed.

	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::KHTMLPart): Add parameter to match KDE.
	(KHTMLPart::settings): Add const to match KDE.
	(KHTMLPart::scheduleRedirection): Add parameter to match KDE.
	(KHTMLPart::encoding): Add const to match KDE.
	(KHTMLPart::urlCursor): Update return value to match KDE.
	(KHTMLPart::urlSelected): Add parameter to match KDE.
	(KHTMLPart::requestObject): Put plugins array on private object.
	(KHTMLPart::frames): Remove const to match KDE.
	(KHTMLPart::documentSource): Add const to match KDE.
	(KHTMLPart::setTitle): Put dataSource on private object.
	(KHTMLPart::setDataSource): New, not inline any more.
	(KHTMLPart::getDataSource): New, not inline any more.

	* src/libwebcore.exp: Update for function name changes.

	* src/kwq/khtml/khtml_settings.h:
	* src/kwq/KWQKHTMLSettings.mm: (KHTMLSettings::changeCursor): Add const.

	* src/kwq/KWQView.mm: (-[KWQHTMLView layout]): No need to check xmlDocImpl()
	and renderer() for NULL now, because KHTMLView::layout does.

	* src/kwq/KWQKloader.mm: (Loader::load): Use type instead of id.

WebKit:

	* WebView.subproj/IFBaseWebControllerPrivate.mm: Include khtml_part.h instead
	of KWQKHTMLPart.h.

	* WebView.subproj/IFWebFrame.mm: Include khtml_part.h instead of KWQKHTMLPart.h.

	* WebView.subproj/IFWebDataSource.mm: (-[IFWebDataSource documentTextFromDOM]):
	Remove an unneeded cast and an extra retain/autorelease.


git-svn-id: svn://svn.chromium.org/blink/trunk@1035 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-17 01:07:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/116aa49fb9ed8327d5c359060fc3b4a13802dc48');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nf01l5awtwt5z5', 2, e'	* WebView.subproj/IFWebFrame.h:
	* WebView.subproj/IFWebFrame.mm:
	* WebView.subproj/IFWebFramePrivate.h:
	Change view/setView back to be id, rather than IFWebView.
	In the future, the view may be some other kind of object.


git-svn-id: svn://svn.chromium.org/blink/trunk@1034 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-16 23:46:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d7e607ef0c1615dae96bb9be1fbcd3cf282ff867');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100ng01l5f3wdnbhp', 2, e'	Fixed bug Chris noticed where Alexander wasn\'t putting up
	an error sheet on failed page visits.

	* WebView.subproj/IFWebFramePrivate.mm:
	(-[IFWebFrame _isLoadComplete]): Don\'t set provisionalDataSource
	to nil until after sending it locationChangeDone.


git-svn-id: svn://svn.chromium.org/blink/trunk@1033 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-04-16 22:37:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b1249cc5e727659c77df96e105a20516e67f2e48');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nh01l5cqxopq0v', 2, e'	* WebView.subproj/IFBaseWebController.mm: Remove special release handling because
	data sources now retain the controller as long as they are loading.

	* WebView.subproj/IFWebDataSource.mm: Remove special release handling because
	data sources now retain themselves as long as they are loading.

	* WebView.subproj/IFWebFrame.mm: Remove special release handling, because
	data sources now retain the controller as long as they are loading, and the
	controller retains the frame.

	* WebView.subproj/IFWebDataSourcePrivate.h: Add a "loading" boolean.
	* WebView.subproj/IFWebDataSourcePrivate.mm: (-[IFWebDataSource _setLoading:]):
	Change the "loading" state, retaining or releasing this object and the controller
	as necessary.
	(-[IFWebDataSource _updateLoading]): Update the loading state; called when
	some part of loading is done to see if it\'s all done.
	(-[IFWebDataSource _setController:]): Retain the new controller and release the
	old controller when loading.
	(-[IFWebDataSource _setPrimaryLoadComplete:]): Call _updateLoading.
	(-[IFWebDataSource _startLoading:]): Call _setLoading:YES.
	(-[IFWebDataSource _addURLHandle:]): Call _setLoading:YES.
	(-[IFWebDataSource _removeURLHandle:]): Call _updateLoading.

	* WebView.subproj/IFWebFrame.h: Use the real type, IFWebView, for setView and view.
	* WebView.subproj/IFWebFramePrivate.h: Formatting tweak.
	* WebKit.pbproj/project.pbxproj: Version wars.


git-svn-id: svn://svn.chromium.org/blink/trunk@1032 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-16 22:30:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a05accfe1d29ef80781ddf943c18114d23f6e0e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100ni01l5q5h1ojxf', 2, e'	* src/kwq/kio/jobclasses.h:
	* src/kwq/KWQKjobclasses.mm: (TransferJob::setError): New.

	* src/kwq/KWQKloader.mm: (-[URLLoadClient IFURLHandleResourceDidCancelLoading:]),
	(-[URLLoadClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	Set an error code so that the load will abort intead of continuing.

	* src/kwq/KWQKHTMLPart.mm: Removed some unused code.


git-svn-id: svn://svn.chromium.org/blink/trunk@1031 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-16 22:30:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6441b713de46c52b5d73cb182ec55784aab1084d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nj01l59h8own5l', 2, e'	* WebView.subproj/IFWebViewPrivate.mm:
	(-[IFWebView _setController:]): removed a mistaken
	retain/release pair here for Darin.

	More code restructuring. BrowserDocument no longer implements
	the IFWebController protocol; its WebController object does all
	the progress handling now.

	Also made BrowserDocument stop loading on close for Darin, which fixes
	a problem he discovered.

	* BrowserDocument.h:
	* BrowserDocument.m: (-[BrowserDocument init]), (-[BrowserDocument dealloc]),
	(-[BrowserDocument close]), (-[BrowserDocument _webController]),
	(-[BrowserDocument goToURL:withFrameLoadType:]), (-[BrowserDocument isLoading]):
	* BrowserDocumentPrivate.h:
	* LoadProgressEntry.h:
	* LoadProgressEntry.m: (-[LoadProgressEntry status]):
	* LoadProgressMonitor.m: (-[LoadProgressMonitor
	addEntryForFrame:withType:stage:isMain:]):
	* LocationChangeHandler.h:
	* LocationChangeHandler.m: (-[LocationChangeHandler
	initWithFrame:forBrowserDocument:]), (-[LocationChangeHandler _webController]),
	(-[LocationChangeHandler _saveScrollPosition]), (-[LocationChangeHandler
	_scrollToTop]), (-[LocationChangeHandler _restoreScrollPosition]),
	(-[LocationChangeHandler locationChangeStarted]), (-[LocationChangeHandler
	locationChangeCommitted]), (-[LocationChangeHandler displayError:withStage:]),
	(-[LocationChangeHandler locationChangeDone:]), (-[LocationChangeHandler
	receivedPageTitle:forDataSource:]):
	* WebController.h:
	* WebController.m: (-[WebController initWithBrowserDocument:]), (-[WebController
	dealloc]), (-[WebController resetDocument]), (-[WebController document]),
	(-[WebController loadMonitor]), (-[WebController
	receivedProgress:forResource:fromDataSource:]), (-[WebController
	receivedError:forResource:partialProgress:fromDataSource:]), (-[WebController
	setStatusText:forDataSource:]), (-[WebController
	provideLocationChangeHandlerForFrame:]), (-[WebController
	pluginNotFoundSheetEnded:returnCode:contextInfo:]), (-[WebController
	pluginNotFoundForMIMEType:pluginPageURL:]), (-[WebController
	startedDownloadWithHandler:]), (-[WebController
	receivedProgress:forDownloadHandler:]), (-[WebController
	receivedError:forDownloadHandler:partialProgress:]):
	Much code moved from here to there; some code moved from there to here;
	callers updated to call the code on this object that used to be on that
	object, and vice-versa.


git-svn-id: svn://svn.chromium.org/blink/trunk@1030 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-04-16 22:22:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2c6d3ae7eb5e05841515d2035f151952bef9f832');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nk01l50kq0d9td', 2, e'	Change default font to "Times New Roman 11" rather than
	"Georgia 12" to be more like Macintosh Internet Explorer.

	* WebView.subproj/IFPreferences.mm:

	A little simplifying of private pointers.

	* MIME.subproj/IFDownloadHandler.h:
	* MIME.subproj/IFDownloadHandler.m:


git-svn-id: svn://svn.chromium.org/blink/trunk@1029 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-16 18:50:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4262d9ab89f8324424c14af517639631e304cb1f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nl01l5bjb8ft0f', 2, e'	A little simplifying of private pointers.


git-svn-id: svn://svn.chromium.org/blink/trunk@1028 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-16 18:47:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e1e1b5743ab01e5c4961f118792b9e6f6dc51bc6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nm01l5o9sacnz5', 2, e'	Change headers so they don\'t include so much.
	Also change IF_LOAD_TYPE to IFLoadType.


git-svn-id: svn://svn.chromium.org/blink/trunk@1027 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-16 17:43:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9444a9f5b36749c1c70c65046f0d953b104e5528');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nn01l500t2kd1h', 2, e'2002-04-16  Kenneth Kocienda  <kocienda@apple.com>

        Moved IFError class from WebKit to WebFoundation.

	Labyrinth:

        Updated test and tool code to track this change.

        * Tests/WebFoundationC/ifurlhandlec-test.c: (ResourceDidFailLoadingCallBack):
        * Tools/wftool/WFTool.m: (-[WFTool
        IFURLHandle:resourceDidFailLoadingWithResult:]):


	WebBrowser:

        Updated includes due to this change.

        * BrowserDocument.m:
        * FrameProgressEntry.m:
        * LoadProgressEntry.m:
        * LocationChangeHandler.m:
        * WebBrowser.pbproj/project.pbxproj:


	WebCore:

        Updated URL handle client interface to pass an IFError in
        an error callback rather than a plain int. These files were
        modified due to this change.

        * src/kwq/KWQKHTMLPart.mm: (WCSetIFWebDataSourceMakeFunc):
        * src/kwq/KWQKloader.mm: (-[URLLoadClient
        IFURLHandle:resourceDidFailLoadingWithResult:]):

        Removed now unneeded file and function pointer symbol entry
        since WebCore code never needs to create an IFError now that
        those objects are created at a lower level (in WebFoundation).

        * src/kwq/WCError.h: Removed.
        * src/libwebcore.exp:


	WebFoundation:

        Updated URL handle client interface to pass an IFError in
        an error callback rather than a plain int. These files were
        modified due to this change.
        I added some additional API to the C glue to make IFError objects
        accessible from C code.

        * CacheLoader.subproj/IFURLHandle.m: (-[IFURLHandleInstanceVariables dealloc]),
        (-[IFURLHandleSynchronousClient IFURLHandle:resourceDidFailLoadingWithResult:]),
        (-[IFURLHandle notifyClientsDidFailLoading]):
        * CacheLoader.subproj/IFURLHandleC.h:
        * CacheLoader.subproj/IFURLHandleC.m: (IFErrorGetErrorCode),
        (IFErrorGetErrorDescription), (IFErrorGetFailingURL):
        * CacheLoader.subproj/IFURLHandleCallBackClient.m: (-[IFURLHandleCallBackClient
        IFURLHandle:resourceDidFailLoadingWithResult:]):
        * CacheLoader.subproj/IFURLHandleClient.h:
        * Misc.subproj/IFError.h:
        * Misc.subproj/IFError.m: (+[IFError initialize]), (+[IFError errorWithCode:]),
        (+[IFError errorWithCode:failingURL:]), (-[IFError initWithErrorCode:]),
        (-[IFError errorDescription]), (-[IFError description]):
        * Misc.subproj/WebFoundation.h:
        * WebFoundation.pbproj/project.pbxproj:


	WebKit:

        Moved IFError class from WebKit to WebFoundation.
        Updated includes due to this change.
        Updated URL handle client interface to pass an IFError in
        an error callback rather than a plain int. The URL client was
        modified due to this change.

        * Misc.subproj/IFError.h: Removed.
        * Misc.subproj/IFError.m: Removed.
        * Plugins.subproj/IFPluginView.mm:
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/IFBaseWebControllerPrivate.mm:
        * WebView.subproj/IFMainURLHandleClient.mm: (-[IFMainURLHandleClient
        IFURLHandle:resourceDidFailLoadingWithResult:]):
        * WebView.subproj/IFWebFramePrivate.mm:


git-svn-id: svn://svn.chromium.org/blink/trunk@1026 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-04-16 15:18:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5b55963ef8a88387fa0a9a66a2291bde08e4a26d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100no01l57iw8b0xg', 2, e'Retroactively reviewed Darin\'s last two commits.


git-svn-id: svn://svn.chromium.org/blink/trunk@1025 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-16 00:55:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/94745984d0ebaedad1b921d23f705e270ed96363');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100np01l57y4fdepn', 2, e'Merged KDE 3.0 final code in and:

JavaScriptCore:

	* kjs/internal.cpp:
	* kjs/property_map.cpp:
	* kjs/ustring.h:
	Removed some unneeded <config.h> includes so we are more similar
	to the real KDE sources.

	Merged changes from KDE 3.0 final and did some build fixes.

	* JavaScriptCore.pbproj/project.pbxproj: Added nodes2string.cpp.

	* kjs/grammar.*: Regenerated.
	* kjs/*.lut.h: Regenerated.

WebCore:

	* src/kdelibs/khtml/rendering/render_text.cpp: (TextSlave::printDecoration):
	Remove some minor gratuitous diffs vs. KDE.

	* src/kdelibs/khtml/rendering/render_text.cpp: (TextSlave::printDecoration):
        Richard updated to reflect changes in KDE.

	* src/kdelibs/khtml/css/css_valueimpl.cpp:
	(FontFamilyValueImpl::FontFamilyValueImpl): Fix comment.
	* src/kdelibs/khtml/css/cssstyleselector.cpp: Remove some gratuitous diffs vs. KDE.
	* src/kdelibs/khtml/html/html_objectimpl.cpp:
	(HTMLEmbedElementImpl::parseAttribute): Remove unneeded copy from KWQ\'s early days.
	* src/kdelibs/khtml/html/html_tableimpl.cpp:
	(HTMLTableElementImpl::parseAttribute),
	(HTMLTablePartElementImpl::parseAttribute): Remove unneeded copy from KWQ\'s early days.
	* src/kdelibs/khtml/html/htmltokenizer.cpp: (HTMLTokenizer::processToken): Redo the
	APPLE_CHANGES ifdef here.
	* src/kdelibs/khtml/khtmlpart_p.h: Update to latest kde.
	* src/kdelibs/khtml/khtmlview.cpp: (KHTMLView::KHTMLView): Add ifdef APPLE_CHANGES.
	(KHTMLView::~KHTMLView): Add ifdef APPLE_CHANGES.
	(KHTMLView::print): Remove code left in here during merge process.
	* src/kwq/KWQKHTMLPart.mm: Remove unused setFontSizes(), fontSizes(), and
	resetFontSizes(). After the merge is landed, remove more.
	* src/libwebcore.exp: Export updateStyleSelector() for WebKit.

	Fix text to it displays at the right font size.

	* src/kdelibs/khtml/css/cssstyleselector.cpp:
	(CSSStyleSelector::computeFontSizes): Apply the same SCREEN_RESOLUTION hack here
	that we do elsewhere.
	* src/kdelibs/khtml/rendering/font.cpp: (Font::width): Use kMin instead of max (oops).
	(Font::update): Turn off font database chicanery.
	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::zoomFactor): Use zoom factor 100, not 1.

	More fixes so text displays (still at wrong font size).

	* src/kdelibs/khtml/rendering/font.cpp: (max): New helper.
	(Font::drawText): Simplified implementation for now.
	(Font::width): Simplified implementation for now.
	* src/kwq/KWQColorGroup.mm: Reinstated QCOLOR_GROUP_SIZE.

	* src/kwq/qt/qfontmetrics.h: Removed charWidth and changed _width to take QChar *.
	* src/kwq/KWQFontMetrics.mm: Removed charWidth and changed _width to take QChar *.

	Merged changes from KDE 3.0 final. Other fixes to get things compiling.

	* src/kdelibs/khtml/css/css_valueimpl.cpp:
	(CSSStyleDeclarationImpl::setProperty): Fix unused variable.
	* src/kdelibs/khtml/khtmlview.cpp: (KHTMLView::contentsContextMenuEvent):
	Fix unused variable.
	* src/kdelibs/khtml/rendering/font.cpp: (Font::drawText), (Font::width),
	(Font::update): Disable special "nsbp" logic for now. We can reenable it
	if necessary.
	* src/kdelibs/khtml/rendering/render_replaced.cpp: Fix mismerge.
	* src/kdelibs/khtml/rendering/render_text.cpp: (RenderText::nodeAtPoint):
	Fix unused variable.
	* src/kwq/KWQApplication.mm: (QDesktopWidget::width), (QApplication::desktop):
	Fix mismerge.
	* src/kwq/KWQColorGroup.mm: Fix QCOLOR_GROUP_SIZE.
	* src/kwq/KWQFontMetrics.mm: (QFontMetrics::lineSpacing): New.
	(QFontMetrics::width): Remove unused optimization.
	* src/kwq/qt/qfontmetrics.h: Add lineSpacing().

        Merged changes from previous merge pass.

        2002-03-25  Darin Adler  <darin@apple.com>

        Last bit of making stuff compile and link. Probably will drop the merge now
        and take it up again when it\'s time to merge in KDE 3.0 final.

	* src/kwq/KWQEvent.mm: (QFocusEvent::reason): New.
	* src/kwq/KWQPainter.mm: (QPainter::drawText): New overload.

        2002-03-25  Darin Adler  <darin@apple.com>

	* src/kdelibs/khtml/rendering/font.cpp: (Font::width): Make it call _width so we
        don\'t lose the optimization.

	* src/kwq/KWQApplication.mm: (QDesktopWidget::screenNumber): New.
	(QDesktopWidget::screenGeometry): New.
        (QApplication::style): New.
	* src/kwq/KWQColorGroup.mm: (QColorGroup::highlight): New.
	(QColorGroup::highlightedText): New.
	* src/kwq/KWQFont.mm: (QFont::setPixelSize): New.
	* src/kwq/KWQFontMetrics.mm: (QFontMetrics::charWidth): New.
	* src/kwq/KWQKGlobal.mm: (KGlobal::locale): Implement.
        (KLocale::KLocale): New.
	(KLocale::languageList): New.
	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::sheetUsed): New.
	(KHTMLPart::setSheetUsed): New.
        (KHTMLPart::zoomFactor): New.
	* src/kwq/KWQKHTMLSettings.mm: (KHTMLSettings::mediumFontSize): New.
	* src/kwq/KWQScrollView.mm: (QScrollView::childX): New.
        (QScrollView::childY): New.

	* src/kwq/qt/qapplication.h: style() returns a QStyle &.
	* src/kwq/qt/qpalette.h: Add Highlight and HighlightedText.

        2002-03-24  Darin Adler  <darin@apple.com>

        More compiling. Still won\'t link.

	* src/kdelibs/khtml/khtmlview.cpp: Disable printing and drag and drop code.
	* src/kdelibs/khtml/rendering/render_text.cpp: (TextSlave::printDecoration):
        Temporarily turn off our smarter underlining since it relies on access to the
        string, and TextSlave doesn\'t have that any more.
	(RenderText::nodeAtPoint): Get rid of a workaround we don\'t need any more for
        a bug that was fixed by KDE folks.
	* src/kwq/KWQApplication.mm: (QApplication::desktop): Make the desktop be a
        QDesktopWidget.
	* src/kwq/qt/qnamespace.h: Add MetaButton.
	* src/kwq/qt/qtooltip.h: Add a maybeTip virtual function member and a virtual
        destructor.

        2002-03-24  Darin Adler  <darin@apple.com>

        Some fixes to get more stuff to compile.

	* src/kdelibs/khtml/ecma/kjs_dom.cpp: (DOMDocument::getValueProperty):
        Don\'t try to look at the private m_bComplete to display "complete". Just do
        "loading" and "loaded".
        * src/kdelibs/khtml/khtmlpart_p.h: #ifdef this all out for APPLE_CHANGES.
	* src/kdelibs/khtml/rendering/font.cpp: (Font::update): Add an explicit cast to
        int to avoid float -> int warning.
	* src/kdelibs/khtml/rendering/render_table.cpp: (RenderTable::calcColMinMax):
        Add an explicit cast to int to avoid uint compared with int warning.
	* src/kdelibs/khtml/xml/dom_docimpl.cpp: (DocumentImpl::recalcStyleSelector):
        Use sheetUsed() and setSheetUsed() functions on KHTMLPart intead of getting
        at private fields the way the real KDE code does.

        * src/kwq/KWQKHTMLPart.h: Declare zoomFactor(), sheetUsed(), and setSheetUsed().
	* src/kwq/KWQStyle.h: Add PM_DefaultFramWidth as another metric.
	* src/kwq/kdecore/klocale.h: Add languageList().
	* src/kwq/khtml/khtml_settings.h: Add mediumFontSize().
	* src/kwq/qt/qapplication.h: Add style() and QDesktopWidget.
	* src/kwq/qt/qevent.h: Add reason().
	* src/kwq/qt/qfont.h: Add setPixelSize(int).
	* src/kwq/qt/qfontmetrics.h: Add charWidth() and _charWidth() functions.
	* src/kwq/qt/qpainter.h: Add drawText() overload with position parameter.
	* src/kwq/qt/qpalette.h: Add highlight() and highlightedText().
	* src/kwq/qt/qscrollview.h: Add childX() and childY().

	* src/kwq/KWQApplication.mm: Change KWQDesktopWidget to QDesktopWidget.

WebKit:

	* WebView.subproj/IFPreferences.h:
	* WebView.subproj/IFPreferences.mm: (+[IFPreferences load]): Remove the old
	WebKitFontSizes preference.
	(-[IFPreferences mediumFontSize]), (-[IFPreferences setMediumFontSize:]): New.

	* WebView.subproj/IFWebView.mm: (-[IFWebView reapplyStyles]): Call
	updateStyleSelector() instead of recalcStyle().

        Merged changes from previous merge branch.

        2002-03-25  Darin Adler  <darin@apple.com>

	* WebView.subproj/IFPreferences.mm: (+[IFPreferences load]):
        Add WebKitMediumFontSizePreferenceKey.

WebBrowser:

	* Preferences.subproj/TextPreferences.m: (-[TextPreferences defaultFontSize]),
	(-[TextPreferences setDefaultFontSize:]): Just get and set the new mediumFontSize
	preference rather than doing the whole fontSizes preference dance.


git-svn-id: svn://svn.chromium.org/blink/trunk@1024 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-15 23:43:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cbc0a810a423ff1b0c7dfa817a4324301f3c5eed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nq01l57aq76vh9', 2, e'	* Plugins.subproj/IFNullPluginView.mm: (-[IFNullPluginView drawRect:]):
	Moved a line of code to prevent pluginNotFound message from being
	sent twice.

Fixed 2896326 -- Alexander should show an error when pluginNotFoundForMIMEType: pluginPageURL: is called

Also made the minimum change required to use Alexander without running into
assertions, until the locationChangeHandler changes are finished.

	* BrowserDocument.m:
	(-[BrowserDocument _saveScrollPosition]),
	(-[BrowserDocument _restoreScrollPosition]):
	Commented out guts of these methods, which were triggering an assertion.
	(The assertion is being triggered by the in-flux state of the
	locationChangeHandler stuff.)

	(-[BrowserDocument locationChangeStartedForFrame:]),
	(-[BrowserDocument locationChangeCommittedForFrame:]),
	(-[BrowserDocument locationChangeDone:forFrame:]):
	Changed wording of WEBKITDEBUG messages.

	(-[BrowserDocument pluginNotFoundSheetEnded:returnCode:contextInfo:]),
	(-[BrowserDocument pluginNotFoundForMIMEType:pluginPageURL:]):
	Implementation for sheet that appears if plugin isn\'t found.


git-svn-id: svn://svn.chromium.org/blink/trunk@1017 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-04-15 20:34:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/283ff4bf54035816477977f5603fb62de274e34c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nr01l515lp7owd', 2, e'Fixed (removed) experimental code.


git-svn-id: svn://svn.chromium.org/blink/trunk@1016 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-15 20:21:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/60d1fba06350b257788f2822bebf109fc8bb98db');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100ns01l51r085rmz', 2, e'Fixed compile problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@1014 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-15 20:12:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9e52eb8b54ac54460aaf3a687e10c671c14d7ba1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nt01l5v2zcsjoo', 2, e'removerd o


git-svn-id: svn://svn.chromium.org/blink/trunk@1013 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-15 20:05:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a2b81a8fa37989d5abf963286854fdd6240ba5bf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nu01l5a6jfkyma', 2, e'        Changes to IFLocationChangeHandler.

        Experimental allocator code, not to be used, not thread safe.!


git-svn-id: svn://svn.chromium.org/blink/trunk@1012 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-15 19:56:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e052edba6ca7abc47beb2e94d0e9a296eed2b5ae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nv01l5xr3p4qs1', 2, e'        * MIME.subproj/IFContentHandler.m: (-[IFContentHandler HTMLDocument]):

        Made sure I didn\'t unnecessarily allocate html document strings

        * MIME.subproj/IFDownloadHandler.h:
        * MIME.subproj/IFDownloadHandler.m: (-[IFDownloadHandler suggestedFilename]),
        (-[IFDownloadHandler openAfterDownload:]):

        Added the mentioned API\'s

        * MIME.subproj/IFDownloadHandlerPrivate.h:
        * MIME.subproj/IFDownloadHandlerPrivate.m: (-[IFDownloadHandlerPrivate init]),
        (-[IFDownloadHandlerPrivate dealloc]), (-[IFDownloadHandlerPrivate
        _suggestedFilename]), (-[IFDownloadHandlerPrivate _cancelDownload]),
        (-[IFDownloadHandlerPrivate _storeAtPath:]), (-[IFDownloadHandlerPrivate
        _finishedDownload]), (-[IFDownloadHandlerPrivate _openAfterDownload:]),
        (-[IFDownloadHandlerPrivate _openFile]), (-[IFDownloadHandlerPrivate _saveFile]),
        (-[IFDownloadHandler _initWithURLHandle:mimeHandler:]):

        Cleaned up and added a lot error checking code to IFDownloadHandlerPrivate

        * Plugins.subproj/IFNullPluginView.mm: (-[IFNullPluginView
        initWithFrame:mimeType:arguments:]), (-[IFNullPluginView drawRect:]):

        Made sure I didn\'t unnecessarily allocate images

        * Resources/plugin_document_template.html:

        Plugins now have 100% of the window


git-svn-id: svn://svn.chromium.org/blink/trunk@1011 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-15 19:26:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/62b77cafc9af0589d2dc8d42d160b42609d6cbc3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nw01l55bmwhfmp', 2, e'        Fixed build failure. Forgot to make IFDownloadHandler.h
        a public header.

        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@1004 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-13 02:28:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e33d0f05cffa389ef0d1ae84bb0a193d210d15d3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nx01l5d818z411', 2, e'        First implementation of IFDownloadHandler and IFDownloadHandlerPrivate.

        Added:
        - (void) startedDownloadWithHandler:(IFDownloadHandler *)downloadHandler
        - (void) receivedProgress:(IFLoadProgress *)progress forDownloadHandler$
        - (void) receivedError:(IFError *)error forDownloadHandler:(IFDownloadH$

        to Alex\'s WebController.


git-svn-id: svn://svn.chromium.org/blink/trunk@1003 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-13 01:03:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/db9419f3304762af675be08dbc361b30a14d12a2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100ny01l5sd4y2a4p', 2, e'
        Added support for non-html content. Non-html content is embedded in a
        contrived HTML document.

        * English.lproj/IFError.strings:
        * MIME.subproj/IFContentHandler.h: Added.
        * MIME.subproj/IFContentHandler.m: Added.
         (-[IFContentHandler initWithMIMEHandler:URL:]), (-[IFContentHandler
        HTMLDocument]), (-[IFContentHandler dealloc]):
        * MIME.subproj/IFMIMEDatabase.h:
        * MIME.subproj/IFMIMEDatabase.m: (-[IFMIMEDatabase MIMEHandlerForMIMEType:]),
        (setMimeHandlers):
        * MIME.subproj/IFMIMEHandler.h:
        * MIME.subproj/IFMIMEHandler.m: (-[IFMIMEHandler
        initWithMIMEType:handlerType:handlerName:]), (-[IFMIMEHandler description]):
        * Misc.subproj/IFError.h:
        * Misc.subproj/IFError.m: (+[IFError initialize]):
        * Plugins.subproj/IFPluginView.mm: (-[IFPluginView
        initWithFrame:plugin:url:mime:arguments:mode:]), (-[IFPluginView dealloc]),
        (-[IFPluginView stop]):
        * Resources/plugin_document_template.html: Added.
        * Resources/text_document_template.html: Added.
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/IFMainURLHandleClient.h:
        * WebView.subproj/IFMainURLHandleClient.mm: (-[IFMainURLHandleClient
        initWithDataSource:part:]), (-[IFMainURLHandleClient dealloc]),
        (-[IFMainURLHandleClient IFURLHandleResourceDidFinishLoading:data:]),
        (-[IFMainURLHandleClient IFURLHandle:resourceDataDidBecomeAvailable:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1002 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-11 21:28:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ed41d7e2c7bd71bdfbdaebb417d02ff7c3949894');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100nz01l51mpaz9t0', 2, e'        Cleaned up stream deallocations.

        * Plugins.subproj/IFPluginStream.h:
        * Plugins.subproj/IFPluginStream.m: (-[IFPluginStream
        initWithURL:mimeType:notifyData:]), (-[IFPluginStream incrementOffset:]),
        (-[IFPluginStream dealloc]):
        * Plugins.subproj/IFPluginView.mm: (-[IFPluginView
        newStream:mimeType:notifyData:]), (-[IFPluginView
        IFURLHandleResourceDidCancelLoading:]), (-[IFPluginView
        IFURLHandle:resourceDidFailLoadingWithResult:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@1001 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-11 03:32:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/614ec41c57908ee440d025d11d41182b5df1a8b5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100o001l5d0chtf1e', 2, e'Jersey Test


git-svn-id: svn://svn.chromium.org/blink/trunk@995 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-10 20:33:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e0d45cd08778d5a5f0b7b42d34a52620757cef4b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100o101l5hlcqjp01', 2, e'	Fixed 2891396 -- window fills with garbage if you resize or hide/show toolbar
	before loading first page

	* WebView.subproj/IFWebView.mm: (-[IFWebView drawRect:]):
	Made webview fill rect with white if there\'s no widget.

	Fixed 2883815 -- JavaScript window-opening preference should mention ad suppression
	Fixed 2890818 -- If Alexander window is opened when home page is invalid, sheet appears
	behind window
	Fixed 2896685 -- Crash in CFStringAppendCString putting up alert dialog if nonexistent file
	has spaces in name

	* BrowserDocument.m:
	(-[BrowserDocument goHome:]): Changed comments, added assert
	(-[BrowserDocument displayError:forFrame:withStage:]): Made error message be a parameter to
	format string @"%@" instead of a format string with no parameters, to handle the case where
	error message contains % characters that look like format characters.
	* BrowserWindow.m:
	(-[BrowserWindow _goToInitialURLFromTimer:]): New method, called from timer, just goes to initial URL.
	(-[BrowserWindow windowDidLoad]): Use timer to go to initial URL, to ensure that window is visible
	before sheet-displaying code runs.

	* Preferences.subproj/ActiveContentPreferences.nib: Added another sentence of fine print to JavaScript
	preferences.


git-svn-id: svn://svn.chromium.org/blink/trunk@994 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-04-10 18:48:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/799ad8cfd01b387b4572ceaeff3b283d274705b0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100o201l5udxx1xmv', 2, e'Jersey test


git-svn-id: svn://svn.chromium.org/blink/trunk@993 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-10 18:06:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b9daf23a1fbbb5b31f128e76f23ff357e30be4bd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100o301l5rcvcqzw4', 2, e'- Moved plug-in streams to IFPluginStream
- Put IFPluginNullEventSender to it own file.


git-svn-id: svn://svn.chromium.org/blink/trunk@992 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-09 23:45:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f4e8295e3e374fc6ae61b706585b5e12e6d56b4e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100o401l5jkaozz7m', 2, e'        * Plugins.subproj/IFPluginView.h:
        * Plugins.subproj/IFPluginView.mm: (-[IFPluginView
        initWithFrame:plugin:url:mime:arguments:mode:]), (-[IFPluginView setWindow]),
        (-[IFPluginView newStream:mimeType:notifyData:]), (-[IFPluginView start]),
        (-[IFPluginView stop]), (-[IFPluginView dealloc]), (-[IFPluginView
        findSuperview:]), (-[IFPluginView sendUpdateEvent]), (-[IFPluginView drawRect:]),
        (-[IFPluginView isFlipped]), (-[IFPluginView viewHasMoved:]), (-[IFPluginView
        windowBecameKey:]), (-[IFPluginView windowResignedKey:]), (-[IFPluginView
        windowWillClose:]), (-[IFPluginView IFURLHandleResourceDidBeginLoading:]),
        (-[IFPluginView IFURLHandle:resourceDataDidBecomeAvailable:]), (-[IFPluginView
        IFURLHandleResourceDidFinishLoading:data:]), (-[IFPluginView
        IFURLHandleResourceDidCancelLoading:]), (-[IFPluginView
        IFURLHandle:resourceDidFailLoadingWithResult:]), (-[IFPluginView
        IFURLHandle:didRedirectToURL:]), (-[IFPluginView forceRedraw]), (IFPluginMake),
        (+[IFPluginView load]):
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/IFLoadProgress.h:

        Cleaned up the IFPluginView code. Moved a lot of things around.

        Added support for plug-in file download progress.


git-svn-id: svn://svn.chromium.org/blink/trunk@991 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-09 23:44:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d514b50cc85055d33391fc29b1f24f9ade21de9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100o501l5zrufz2jf', 2, e'Added bug number to the last ChangeLog entry:

	Fix Radar 2896001 (crashes in KURL):


git-svn-id: svn://svn.chromium.org/blink/trunk@990 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-09 00:17:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/982ccde0fe1dc736913e33dc172b7d50cbdfc994');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100o601l5r7dhhty1', 2, e'	* src/kwq/KWQKURL.mm: (KURL::KWQKURLPrivate::KWQKURLPrivate):
	Initialize refCount to 0 in the copy constructor.


git-svn-id: svn://svn.chromium.org/blink/trunk@989 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-09 00:14:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f62f65e20045c08fa3a833b0e53243d1b1878369');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100o701l55mdpyjhp', 2, e'Retroactively reviewed Darin\'s change.


git-svn-id: svn://svn.chromium.org/blink/trunk@986 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-08 21:14:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e4690287b7103913817cf2d5dc074d993717c643');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmcq100o801l5sgzifekr', 2, e'        * src/kwq/KWQKHTMLPart.mm: (KHTMLPart::requestObject):
        * src/kwq/WCPluginWidget.h:
        * src/kwq/WCPluginWidget.mm: (WCPluginWidget::WCPluginWidget):

        * Plugins.subproj/IFPluginView.h:
        * Plugins.subproj/IFPluginView.mm: (-[IFPluginView
        initWithFrame:plugin:url:mime:arguments:mode:]), (-[IFPluginView drawRect:]),
        (-[IFPluginView newStream:mimeType:notifyData:]), (-[IFPluginView
        getURLNotify:target:notifyData:]):

        Support new stream requests from plug-ins that are relative URL\'s.


git-svn-id: svn://svn.chromium.org/blink/trunk@985 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-08 21:08:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d39bff0ab37f5130e9aa74406538a68b124bff34');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00ml01l5hspx1t04', 2, e'Re-added -Wno-format-y2k.


git-svn-id: svn://svn.chromium.org/blink/trunk@984 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-08 20:12:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/195cfde2380eb5c5e21772e9d4b5b1bcde80cb4a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00mm01l5k2f5idob', 2, e'        Added logs for Shelley to note start and completion of document load.
        -WebKitLogLevel 0x1000.  Also, as a bonus, note time to load.


git-svn-id: svn://svn.chromium.org/blink/trunk@983 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-08 19:39:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/18c027b11dba9fb1afe5940288e3f8cd1a3aa218');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00mn01l503hemuwc', 2, e'        * Plugins.subproj/IFNullPluginView.h:
        * Plugins.subproj/IFNullPluginView.mm: (-[IFNullPluginView
        initWithFrame:mimeType:arguments:]), (-[IFNullPluginView drawRect:]):
        * WebView.subproj/IFBaseWebController.mm: (-[IFBaseWebController
        pluginNotFoundForMIMEType:pluginPageURL:]):
        * WebView.subproj/IFWebController.h:

        Added pluginNotFoundForMIMEType: pluginPageURL: to WebKit. This gets called
        by IFNullPluginView when a plug-in for a certain mime type is requested but
        not installed.


git-svn-id: svn://svn.chromium.org/blink/trunk@982 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-08 18:51:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/45db4dad2ad01e972da201265a4f3cff95f5c292');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00mo01l5hmsw8ido', 2, e'i        Added frameForView:
        Cleaned up out-of-date comments.


git-svn-id: svn://svn.chromium.org/blink/trunk@981 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-08 17:58:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dfe9f04553a00d66b7f6c476bdb581e0f9f12602');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00mp01l5j1piqjww', 2, e'        * Plugins.subproj/IFNullPluginView.mm: (+[IFNullPluginView load]):

        Enabled the null plugin code.

        * src/libwebcore.exp:

        Added symbol for IFNullPluginView


git-svn-id: svn://svn.chromium.org/blink/trunk@980 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-06 01:46:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7d7ea9985bc1ae123e3c163d0da0879a8a7e5ddb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00mq01l5jz8hnwnv', 2, e'        Various scrolling, hit detection, and goto anchor fixes to account for frames being
        translated in scroll views.


git-svn-id: svn://svn.chromium.org/blink/trunk@979 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-05 23:51:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7dcf91909031a65579925aad6b13bccb78069205');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00mr01l54x01fxsf', 2, e'        * Plugins.subproj/IFNullPluginView.h: Added.
        * Plugins.subproj/IFNullPluginView.mm: Added.
         (-[IFNullPluginView initWithFrame:mimeType:arguments:]), (-[IFNullPlug$
        findSuperview:]), (-[IFNullPluginView drawRect:]):
        * Resources/nullplugin.tiff: Added.
        * WebKit.pbproj/project.pbxproj:

        * src/kwq/WCPluginWidget.h:
        * src/kwq/WCPluginWidget.mm: (WCSetIFNullPluginMakeFunc),
        (WCPluginWidget::WCPluginWidget), (WCIFPluginMakeFunction),
        (WCIFNullPluginMakeFunction):

        An IFNullPluginView is now created when no plug-in for a requested
        mime type is found. IFNullPluginView displays a null plug-in icon
        and will eventually report this error to the WebController.


git-svn-id: svn://svn.chromium.org/blink/trunk@978 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-05 23:13:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e8c038f7406838eded46a803a684410be730ddd1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00ms01l5af0d07ec', 2, e'        Back out some changes to lazily dealloc frame.


git-svn-id: svn://svn.chromium.org/blink/trunk@976 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-05 21:15:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/831fcbde2cb0bed06aefe580ec94851f9d366fa2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00mt01l5aaw2cxtu', 2, e'        Hacks to support:

        1.  Not loading a document when a link is to an anchor on same page.
        2.  Correctly targeting frames.

        Our documentation is actually useable now.

        New method on controller to find a frame of a particular name
        anywhere in the frame hierarchy.


git-svn-id: svn://svn.chromium.org/blink/trunk@975 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-05 20:46:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bf9dcf2a7fae4a0e5edf1e16bbd85d81b8a04b03');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00mu01l5e6gdzewj', 2, e'WebFoundation:

	* CacheLoader.subproj/IFURLHandle.h: Eliminated [availableResourceData]
	in favor of the new [resourceData], which is nil until load is complete.
	* CacheLoader.subproj/IFURLHandle.m: (-[IFURLHandle loadInForeground:]):
	Wean from availableResourceData; use resourceData instead.
	(-[IFURLHandle resourceData]): New name, now returns nil unless statusCode
	is IFURLHandleStatusLoadComplete.

	* CacheLoader.subproj/IFURLHandleC.h:
	* CacheLoader.subproj/IFURLHandleC.m: (IFURLHandleGetResourceData):
	Replace IFURLHandleGetAvailableResourceData with IFURLHandleGetResourceData.

	* WebFoundation.pbproj/project.pbxproj: The battle of the Project Builder
	versions.

WebCore:

	* src/kwq/KWQKloader.mm:
	(-[URLLoadClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	Use contentLengthReceived rather than getting the length of
	availableResourceData to determine how much data has arrived.

WebKit:

	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	Use contentLengthReceived rather than getting the length of
	availableResourceData to determine how much data has arrived.


git-svn-id: svn://svn.chromium.org/blink/trunk@974 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-05 19:05:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/007fe260a69265f0f10d3c565108b475348a374e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00mv01l5hgjvu4wg', 2, e'i        Implemented the same lazily deallocation scheme on frame as in controller
        and data source.
        More bulletproofing to deal with cleanup during deallocation.


git-svn-id: svn://svn.chromium.org/blink/trunk@973 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-05 18:56:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8f7b869fa25a700ae0d33c6968a495d9bb83cef4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00mw01l5q6ze1486', 2, e'	* src/kwq/qt/qmap.h (QMapNode::~QMapNode): Cast left() and right()
	to the right type to fix a leak detected by the automated leak
	checking on Jersey.


git-svn-id: svn://svn.chromium.org/blink/trunk@972 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-05 08:36:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b94845c96841864be1fc9db0e544e18075549e7e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00mx01l55gtk9wpv', 2, e'        Clear controller references from data source and view, as well as
        frame.


git-svn-id: svn://svn.chromium.org/blink/trunk@971 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-05 06:56:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/23f4f27f1ce485af2d260e49d1cb8083d39cf265');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00my01l5vh8ei6hc', 2, e'        Lazily dealloc controller and data source ONLY after all loads
        have completed.

        Extra bulletproofing to prevent script execution when in partially
        dealloced state.

        Guarantee that browser document isn\'t dangling after
        deallocing the WebController.


git-svn-id: svn://svn.chromium.org/blink/trunk@970 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-05 03:07:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/96dd1e7856585be65001018626f921d7678061fb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00mz01l5ug3hb5o4', 2, e'2002-04-04  Chris Blumenberg  <cblu@apple.com>

        * src/kwq/WCPlugin.mm: (-[WCPlugin load]):
        * src/kwq/npapi.h:
        * src/kwq/npapi.mm: (NPN_GetJavaEnv), (NPN_GetJavaPeer):

        Added stubs for NPN_GetJavaEnv and NPN_GetJavaPeer. This fixes a flash crasher.


git-svn-id: svn://svn.chromium.org/blink/trunk@969 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-05 01:15:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7e8911aa245c57cbf212d16291d107ccc14c9e24');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00n001l5bt9296yl', 2, e'2002-04-04  Chris Blumenberg  <cblu@apple.com>

        * src/kdelibs/khtml/rendering/render_frames.cpp:
        (RenderPartObject::updateWidget):
        * src/kwq/WCPluginWidget.mm: (WCPluginWidget::WCPluginWidget):

        Moved the removal of __KHTML__ EMBED attributes to WCPluginWidget. One less APPLE_CHANGES.


git-svn-id: svn://svn.chromium.org/blink/trunk@968 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-05 00:27:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2e74f27e03bd88fec7cc74066989362f07338a4d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00n101l5kvuvengq', 2, e'2002-04-04  Kenneth Kocienda  <kocienda@apple.com>

        Hack to handle displaying image URLs. The trick is to sense when
        the main URL is an image type and wrap the URL in a small generated
        HTML document and hand that off to the engine to display.

        Works like a charm! :)

        There may be some longer-term issues, but for now, this lets us
        do something we could not before. It also lets us handle some iframes
        that contain only image URLs.

        * Resources/image_document_template.html: Added.
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/IFMainURLHandleClient.h:
        * WebView.subproj/IFMainURLHandleClient.mm: (loadImageDocumentTemplate),
        (-[IFMainURLHandleClient initWithDataSource:part:]), (-[IFMainURLHandleClient
        IFURLHandle:resourceDataDidBecomeAvailable:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@967 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-04-04 23:31:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/68827c50a9a957e71ce0328e92b3f56f22a49a78');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00n201l534dk5lo1', 2, e'2002-04-04  Chris Blumenberg  <cblu@apple.com>

        * English.lproj/IFError.strings:
        * Misc.subproj/IFError.h:
        * Misc.subproj/IFError.m: (+[IFError initialize]):
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/IFMainURLHandleClient.mm: (-[IFMainURLHandleClient
        IFURLHandle:resourceDataDidBecomeAvailable:]):

        Added the IFNonHTMLContentNotSupportedError to IFError.


git-svn-id: svn://svn.chromium.org/blink/trunk@966 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-04 22:50:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a972d46465250425e2db623a0b4ad65359669056');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00n301l57gwbmp4p', 2, e'	Redo clobbered fixes for problems that show up only when xNDEBUG is set

	* src/kwq/KWQApplication.mm: (QApplication::sendEvent):
	* src/kwq/KWQKloader.mm: (-[URLLoadClient IFURLHandleResourceDidBeginLoading:]):
	Remove or ifdef otherwise-unused variables.

	* src/kwq/KWQFontMetrics.mm: (_rectForString):
	Add missing semicolons.


git-svn-id: svn://svn.chromium.org/blink/trunk@965 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-04 19:41:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4ca8d6937f71c7342fd46417af42531525f6aa7b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00n401l5oojq4fqx', 2, e'	* src/kwq/KWQString.mm: (QString::unicode), (QString::latin1),
	(QString::convertToQCString): Remove some excessive logging that
	was getting in the way of important log messages.


git-svn-id: svn://svn.chromium.org/blink/trunk@964 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-04 19:10:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c367744cbc9eb2ab13538a2fd33df50ea518e0ce');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00n501l5pd78u7n0', 2, e'        Tuned and re-enabled resource layouts.


git-svn-id: svn://svn.chromium.org/blink/trunk@963 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-04 18:38:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/41e3b93e0619fb19890681662338ce69def6a46b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00n601l5w2x5edgh', 2, e'	* configure.in: Replace the --disable/enable-debug with the new
	--with-build-style option that Maciej added.

	Use --with-build-style=Development for development. You can also
	use --with-build-style=Deployment for timings and official builds
	and --with-build-style=Unoptimized for debugging.

Main Project Builder projects:

	Add an Unoptimized build style: exactly like Development except without the -O.


git-svn-id: svn://svn.chromium.org/blink/trunk@962 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-04 16:09:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1275d1002a15c3ff6857b41f15eb9e5ae132880b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00n701l5s9deca3x', 2, e'Somehow this log entry didn\'t get in.


git-svn-id: svn://svn.chromium.org/blink/trunk@961 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-04 15:52:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/efbbd5cc6bfc97950259b7b9a02f4e105b3b1089');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00n801l5wpxe8mth', 2, e'        Changed name of finalURL to redirectedURL.
        Disabled layout after resource load.  It appears to really slow us down.


git-svn-id: svn://svn.chromium.org/blink/trunk@960 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-04 02:05:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/305922b4438b4a6904bd291267664c77468eaa75');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00n901l5r57l90l5', 2, e'        Added support for finalURL in data source.
        Added support for finalURL and wasRedirected to datasource.
        Added additional layouts on resource loads.
        Added more implementations of frame related methods in data source.


git-svn-id: svn://svn.chromium.org/blink/trunk@959 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-04 00:54:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/09e3716a9e4ad796a7af8ebd3ebe38f572172a3b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00na01l5uhuhmbo7', 2, e'	* src/Makefile.am: Concatenate libwebcore.exp and libwebcoretests.exp.
	* src/libwebcore.exp: Update with exports that are needed when inlining is
        turned off.
	* src/libwebcoretests.exp: Added. Exports that we need to run the test in the
        Tests directory.
        * .cvsignore: Ignore the concatenated file.


git-svn-id: svn://svn.chromium.org/blink/trunk@958 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-03 23:57:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/41f18189b28388d9a3f33275a0bf2803e82f7b84');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00nb01l5lo9blvz5', 2, e'	* acconfig.h: Remove a bunch of unused stuff.
	* configure.in: Remove a bunch of unused stuff. Pass "" for the
	strip flags rather than "-x" for debug case so we don\'t do
	any stripping at all and have symbols.

WebCore:

	* src/Makefile.am: Don\'t strip at all if STRIP_FLAGS are empty.
	* src/kwq/qt/qtextcodec.h: Remove stray undef.


git-svn-id: svn://svn.chromium.org/blink/trunk@957 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-03 22:17:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/33b880cdc729262abecc4812fc9ec736b07d9249');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00nc01l5pvay57pz', 2, e'2002-04-03  Kenneth Kocienda  <kocienda@apple.com>

	WebBrowser:

        Updated debugging log messages to use new varargs macros.

        * ActivityViewer.m: (-[ActivityViewer showActivity:]):
        * AppController.m: (-[AppController _computeHistoryFilePath]), (-[AppController
        updateHistoryInMenu]):
        * BrowserDocument.m: (-[BrowserDocument _saveScrollPosition]), (-[BrowserDocument
        _restoreScrollPosition]), (-[BrowserDocument locationChangeStartedForFrame:]),
        (-[BrowserDocument locationChangeCommittedForFrame:]), (-[BrowserDocument
        locationChangeDone:forFrame:]):
        * Debug/DebugUtilities.m: (+[DebugUtilities loadDebugBookmarks:]):
        * LoadProgressEntry.m: (-[LoadProgressEntry status]):
        * WebBrowser.pbproj/project.pbxproj:


	WebCore:

        Updated debugging log messages to use new varargs macros.

        * src/kwq/KWQApplication.mm: (QApplication::sendEvent),
        (QApplication::_initialize):
        * src/kwq/KWQColor.mm: (QColor::setNamedColor):
        * src/kwq/KWQComboBox.mm: (QComboBox::setCurrentItem):
        * src/kwq/KWQFont.mm: (QFont::getFont):
        * src/kwq/KWQFontMetrics.mm: (-[KWQLayoutInfo _initializeCaches]),
        (_rectForString):
        * src/kwq/KWQKHTMLPart.mm: (recursive), (KHTMLPart::write), (KHTMLPart::end),
        (KHTMLPart::nodeActivated):
        * src/kwq/KWQKloader.mm: (-[URLLoadClient IFURLHandleResourceDidBeginLoading:]),
        (-[URLLoadClient IFURLHandleResourceDidCancelLoading:]), (-[URLLoadClient
        IFURLHandleResourceDidFinishLoading:data:]), (-[URLLoadClient
        IFURLHandle:resourceDataDidBecomeAvailable:]), (-[URLLoadClient
        IFURLHandle:resourceDidFailLoadingWithResult:]), (-[URLLoadClient
        IFURLHandle:didRedirectToURL:]), (Loader::servePendingRequests):
        * src/kwq/KWQObject.mm: (QObject::connect), (QObject::performAction):
        * src/kwq/KWQScrollView.mm: (QScrollView::addChild),
        (QScrollView::resizeContents), (QScrollView::updateContents),
        (QScrollView::repaintContents):
        * src/kwq/KWQString.mm: (QString::unicode), (QString::latin1):
        * src/kwq/KWQView.mm: (-[KWQHTMLView notificationReceived:]), (-[KWQHTMLView
        layout]), (-[KWQHTMLView drawRect:]), (-[KWQHTMLView resetView]), (-[KWQHTMLView
        mouseDragged:]):
        * src/kwq/KWQWidget.mm: (QWidget::resize), (QWidget::move):
        * src/kwq/WCPlugin.mm: (-[WCPlugin initializeWithPath:]), (-[WCPlugin load]):
        * src/kwq/WCPluginDatabase.mm: (findPlugins):
        * src/kwq/kwqdebug.h:
        * src/kwq/kwqdebug.mm: (timestamp), (KWQLog):


	WebFoundation:

        Updated debugging log messages to use new varargs macros.

        * WebFoundation.pbproj/project.pbxproj:


	WebKit:

        Updated debugging log messages to use new varargs macros.

        * History.subproj/IFWebHistoryPrivate.m: (-[IFWebHistoryPrivate
        removeEntryForURLString:]), (-[IFWebHistoryPrivate _loadHistoryGuts:]),
        (-[IFWebHistoryPrivate loadHistory]), (-[IFWebHistoryPrivate _saveHistoryGuts:]),
        (-[IFWebHistoryPrivate saveHistory]):
        * Misc.subproj/WebKitDebug.h:
        * Misc.subproj/WebKitDebug.m: (timestamp), (WebKitLog):
        * Plugins.subproj/IFPluginView.mm: (-[IFPluginView
        initWithFrame:plugin:url:mime:arguments:mode:]), (-[IFPluginView setWindow]),
        (-[IFPluginView newStream:mimeType:notifyData:]), (-[IFPluginView
        IFURLHandle:resourceDataDidBecomeAvailable:]), (-[IFPluginView
        IFURLHandleResourceDidFinishLoading:data:]), (-[IFPluginView
        becomeFirstResponder]), (-[IFPluginView resignFirstResponder]), (-[IFPluginView
        sendUpdateEvent]), (-[IFPluginView mouseDown:]), (-[IFPluginView mouseUp:]),
        (-[IFPluginView mouseEntered:]), (-[IFPluginView mouseExited:]), (-[IFPluginView
        keyUp:]), (-[IFPluginView keyDown:]), (-[IFPluginView
        getURLNotify:target:notifyData:]), (-[IFPluginView getURL:target:]),
        (-[IFPluginView status:]), (-[IFPluginView stop]):
        * WebKit.pbproj/project.pbxproj:
        * WebView.subproj/IFBaseWebControllerPrivate.mm: (-[IFBaseWebController
        _receivedProgress:forResource:fromDataSource:]), (-[IFBaseWebController
        _mainReceivedProgress:forResource:fromDataSource:]):
        * WebView.subproj/IFMainURLHandleClient.mm: (-[IFMainURLHandleClient
        IFURLHandleResourceDidBeginLoading:]), (-[IFMainURLHandleClient
        IFURLHandleResourceDidCancelLoading:]), (-[IFMainURLHandleClient
        IFURLHandleResourceDidFinishLoading:data:]), (-[IFMainURLHandleClient
        IFURLHandle:resourceDataDidBecomeAvailable:]), (-[IFMainURLHandleClient
        IFURLHandle:resourceDidFailLoadingWithResult:]), (-[IFMainURLHandleClient
        IFURLHandle:didRedirectToURL:]):
        * WebView.subproj/IFWebDataSource.mm: (-[IFWebDataSource isLoading]):
        * WebView.subproj/IFWebDataSourcePrivate.mm: (-[IFWebDataSource _stopLoading]):
        * WebView.subproj/IFWebFramePrivate.mm: (-[IFWebFrame
        _transitionProvisionalToLayoutAcceptable]), (-[IFWebFrame _timedLayout:]),
        (-[IFWebFrame _setState:]), (-[IFWebFrame _isLoadComplete]):
        * WebView.subproj/IFWebView.mm: (-[IFWebView reapplyStyles]), (-[IFWebView
        layout]), (-[IFWebView setNeedsDisplay:]), (-[IFWebView setNeedsLayout:]),
        (-[IFWebView setNeedsToApplyStyles:]), (-[IFWebView drawRect:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@956 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-04-03 21:05:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fde6e2b53e95ccb5ef5914f94c2077256b519c4e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00nd01l52ivr6m5g', 2, e'	Fix problems that show up only when xNDEBUG is set.

	* src/kwq/KWQApplication.mm: (QApplication::sendEvent):
	* src/kwq/KWQKloader.mm: (-[URLLoadClient IFURLHandleResourceDidBeginLoading:]):
	* src/kwq/KWQView.mm: (-[KWQHTMLView layout]), (-[KWQHTMLView drawRect:]):
	Remove or ifdef otherwise-unused variables.

	* src/kwq/KWQFontMetrics.mm: (_rectForString):
	* src/kwq/KWQPainter.mm: (QPainter::setRasterOp), (QPainter::translate),
	(QPainter::scale):
	Add missing semicolons.

	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::begin):
	Fix an ifdef.


git-svn-id: svn://svn.chromium.org/blink/trunk@955 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-03 19:41:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fa26c9db512990fcbd46122d47ab10718806f178');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnmb4k00ne01l5yyp3p066', 2, e'	* configure.in: Set up STRIP_FLAGS for use when building
	libwebcore.dylib. For debug mode, we\'ll use "-x", and for
	deployment mode we\'ll use "-x -S".

	* Tests/kde/Makefile.am:
	* Tests/qt/Makefile.am:
	Link with the unstripped libwebcore, since we need to call
	unexported functions to do our testing.

WebCore:

	* src/Makefile.am: Use nmedit and strip to remove the symbols
	we don\'t want to export.

	* src/libwebcore.exp: Added. List of symbols exported.


git-svn-id: svn://svn.chromium.org/blink/trunk@954 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-03 18:43:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b707a796a49af3e68828fb83d7bf25656bcbc821');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00lr01l5va37hay3', 2, e'	* kjs/Makefile.am: Gratuitous cleanup.


git-svn-id: svn://svn.chromium.org/blink/trunk@953 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-03 18:40:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f9e17f53181a212beb96246a23f0f41724bd5cde');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00ls01l54bcn8i4n', 2, e'	* src/Makefile.am: Pave the way for cutting down the exports
	list. Also, make the embed target when installing libwebcore.


git-svn-id: svn://svn.chromium.org/blink/trunk@952 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-03 17:58:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/32a3d3f5fff2d2e2343bb8ecc3a2ce2337622ab0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00lt01l5ur5qmoiz', 2, e'2002-04-03  Ken Kocienda  <kocienda@apple.com>

        Labyrinth:

        Updated tests to handle new WebFoundation logging output.

        * Tests/WebFoundation-CacheLoader/never-expires-test:
        * Tests/WebFoundation-CacheLoader/never-expires-test.chk:


        WebFoundation:

        Many logging changes.

        - Removed all DEBUG1, DEBUG2, ... variants, and replaced with a single
          macro that relies on cpp varargs (a new cpp feature that landed recently)

        - Updated log messages to be more consistent. Messages now log a time, and
          the string [WEBFOUNDATION] by default.

        - Touched all debugging calls to clean them up and bring them into line
          with the new conventions.

        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (+[IFHTTPURLProtocolHandler
        parseHTTPDateString:]), (-[IFHTTPURLProtocolHandler createHTTPRequest]),
        (-[IFHTTPURLProtocolHandler performHTTPHeaderRead:]), (-[IFHTTPURLProtocolHandler
        setResponseHeaders:]), (-[IFHTTPURLProtocolHandler determineError]),
        (-[IFHTTPURLProtocolHandler willReturnCacheObject:]), (-[IFHTTPURLProtocolHandler
        cacheObjectIsValid:]), (-[IFHTTPURLProtocolHandler
        cacheObjectRequiresRevalidation:]), (-[IFHTTPURLProtocolHandler
        shouldCacheResourceData]):
        * CacheLoader.subproj/IFURLCacheLoaderConstantsPrivate.h:
        * CacheLoader.subproj/IFURLDiskCache.m: (-[IFURLDiskCache objectForURL:]),
        (-[IFURLDiskCache invalidateURL:]), (-[IFURLDiskCache clearCache]),
        (-[IFURLDiskCache syncCache]):
        * CacheLoader.subproj/IFURLHandle.m: (-[IFURLHandle
        notifyClientsBackgroundLoadCancelled]), (-[IFURLHandle
        notifyClientsBackgroundLoadDidBegin]), (-[IFURLHandle notifyClientsDidLoadData]),
        (-[IFURLHandle notifyClientsBackgroundLoadComplete]), (-[IFURLHandle
        notifyClientsBackgroundLoadFailed]), (-[IFURLHandle notifyClientsURLRedirected]):
        * CacheLoader.subproj/IFURLLoad.m: (-[IFURLLoad succeeded]), (-[IFURLLoad
        didBeginLoading:]), (+[IFURLLoad IFURLLoadCacheCheckerRun:]), (_loadSweeper):
        * CacheLoader.subproj/IFURLMemoryCache.m: (-[IFURLMemoryCache
        truncateToSizeLimit]), (-[IFURLMemoryCache objectForURL:]):
        * Database.subproj/IFNDBMDatabase.m: (-[IFNDBMDatabase objectForKey:]):
        * Database.subproj/IFURLFileDatabase.m: (-[IFURLFileReader initWithPath:]),
        (-[IFURLFileDatabase removeAllObjects]), (-[IFURLFileDatabase objectForKey:]),
        (-[IFURLFileDatabase performSetObject:forKey:]), (-[IFURLFileDatabase
        performRemoveObjectForKey:]):
        * Misc.subproj/WebFoundationDebug.h:
        * Misc.subproj/WebFoundationDebug.m: (WebFoundationDebugAtLevel):


git-svn-id: svn://svn.chromium.org/blink/trunk@950 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-04-03 15:17:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a4d50b32089dc784c7acf41613333c8918bbc71');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00lu01l5xpsrzcnl', 2, e'	Fixed Radar 2893361 (Two frames with same name cause memory
	trasher (likely double-free)) by implementing the mechanism KDE
	uses to guarantee unique frame names.

	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::frameExists): Actually
	implement this, so that the khtml code can guarantee unique frame
	names on each page.

	* src/kwq/external.h: Prototype IFWebDataSource\'s frameExists:
	method here.


git-svn-id: svn://svn.chromium.org/blink/trunk@949 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-03 14:33:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/34dc1bbac6b617073b645272bec4d3b7945f4297');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00lv01l5uk0jgxci', 2, e'Top level:

	* Tests/kde/kurl-test.chk, Tests/kde/kurl-test.cpp: Added test
	cases to check that Radar 2893298 (KURL rejects spaces and other
	illegal but unambiguous characters, leading to load failures) is
	fixed.

WebCore:

	Fixed Radar 2893298 (KURL rejects spaces and other illegal but
	unambiguous characters, leading to load failures).

	* src/kwq/KWQKURL.mm: (KURL::KWQKURLPrivate::makeRef,
	KURL::normalizeRelativeURLString): Escape forbidden characters
	(ones that are never legal in a URL), except \'#\' (since that can
	start a fragment identifier) and \'%\'
	(since that can be the start of a valid escape sequence).

	(KURL::KWQKURLPrivate::KWQKURLPrivate,
	KURL::KWQKURLPrivate::compose): out of paranoia, make sure urlRef
	is set to NULL if not a valid value.


git-svn-id: svn://svn.chromium.org/blink/trunk@948 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-03 13:35:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/55ae1aaefceb843b0f377312bc0c06d2236742fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00lw01l564sreliq', 2, e'	* src/kwq/kwqdebug.mm: (KWQGetLogLevel): Allocate and release
	NSScanner instead of using an autoreleased one, to fix Jersey
	redness whereby the regression tests leak.


git-svn-id: svn://svn.chromium.org/blink/trunk@947 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-03 13:27:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f7de5b71897fa2090b4746b5ae8c15e46a07cbcc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00lx01l5pc1uvbxa', 2, e'	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
	* CacheLoader.subproj/IFMutableData.m:
	* CacheLoader.subproj/IFMutableDataPrivate.m:
	* CacheLoader.subproj/IFURLDiskCache.m:
	* CacheLoader.subproj/IFURLHandle.m:
	* CacheLoader.subproj/IFURLHandleCGlue.m:
	* CacheLoader.subproj/IFURLLoad.m:
	* CacheLoader.subproj/IFURLMemoryCache.m:
	* Database.subproj/IFURLFileDatabase.m:
	* Database.subproj/IFNDBMDatabase.m:
	* Misc.subproj/IFLockFile.m:
        Add the newlines I omitted in my previous commits.


git-svn-id: svn://svn.chromium.org/blink/trunk@946 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-03 06:08:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/72a9aeaf800ee38fc9da872b33ce1756866faaa0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00ly01l5v30qgwou', 2, e'	* WebView.subproj/IFWebDataSourcePrivate.mm: (-[IFWebDataSource _setTitle:]):
        Update title if the page is already in the committed state.


git-svn-id: svn://svn.chromium.org/blink/trunk@945 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-03 05:17:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ebafa1839ccea79ffcf97f8ad426f02c6fd69013');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00lz01l54dv41nv9', 2, e'WebFoundation:

	* WebFoundation.pbproj/project.pbxproj: Update warning flags, add -DAPPLE_CHANGES,
	make sure we don\'t get debugging symbols in non-debug builds.

	* Misc.subproj/WebFoundationDebug.h: Get rid of the log variants.
	* Misc.subproj/WebFoundationDebug.m: Get rid of the log variants.

	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
	* CacheLoader.subproj/IFURLDiskCache.m:
	* CacheLoader.subproj/IFURLHandle.m:
	* CacheLoader.subproj/IFURLLoad.m::
	* CacheLoader.subproj/IFURLMemoryCache.m:
	Wean from the NSLog variants so they get printf type checking.

JavaScriptCore:

	* JavaScriptCore.pbproj/project.pbxproj: Update flags as I did for
	WebFoundation.

WebCore:

	* src/kwq/kwqdebug.h: Turn off logging when xNDEBUG is defined.
	Remove unused stuff. Add checking for printf parameters.
	* src/kwq/kwqdebug.mm: Remove unused variants.

	* src/kwq/KWQApplication.mm:
	* src/kwq/KWQKGlobal.mm:
	* src/kwq/KWQKloader.mm:
	* src/kwq/KWQObject.mm:
	* src/kwq/KWQString.mm:
	* src/kwq/KWQToolTip.mm:
	* src/kwq/KWQWidget.mm:
	* src/kwq/WCPlugin.mm:
	* src/kwq/WCPluginDatabase.mm:
	* src/kwq/npapi.mm:
	Fix types in log statements caught by the compiler.

WebKit:

	* WebKit.pbproj/project.pbxproj: Fix flags as I did in WebFoundation.

	* Misc.subproj/WebKitDebug.h: Turn off logging when xNDEBUG is defined.
	Remove unused stuff. Add checking for printf parameters.
	* Misc.subproj/WebKitDebug.m: Remove unused variants.

	* Plugins.subproj/IFPluginView.mm: Change to use WebKit logging, not
	WebCore logging.

	* WebView.subproj/IFMainURLHandleClient.mm:
	* WebView.subproj/IFWebView.mm:
	Fix types in log statements caught by the compiler.

WebBrowser:

	* WebBrowser.pbproj/project.pbxproj: Update flags as I did for
	WebFoundation.


git-svn-id: svn://svn.chromium.org/blink/trunk@944 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-03 02:50:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/21d679aa7776b3fc366b139b2025df683b75cbb1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00m001l5mps61a6u', 2, e'        Changes to get rid of logging from our non-development builds. We now define
        xNDEBUG (will be NDEBUG some day if we can resolve the precompiled header issue)
        for any non-development builds, and compile out logging code for those.

        * CacheLoader.subproj/IFURLCacheLoaderConstantsPrivate.h: Update comment.

	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
	* CacheLoader.subproj/IFURLDiskCache.m:
	* CacheLoader.subproj/IFURLHandle.m:
	* CacheLoader.subproj/IFURLLoad.m:
        * CacheLoader.subproj/IFURLMemoryCache.m:
        Change callers to use macros instead of doing their own ifdefs in most cases.
        In the other cases, use an ifdef on xNDEBUG.

	* Misc.subproj/WebFoundationDebug.h: Put in empty definitions for the xNDEBUG
        case. Also make macros for logging, not just debugging.

	* Misc.subproj/WebFoundationDebug.m: Don\'t compile any of this when xNDEBUG is
        set.

	* WebFoundation.pbproj/project.pbxproj: Remove the unused build style. Make
        the default build style set xNDEBUG using DEBUG_CFLAGS. Move our warning flags
        into WARNING_CFLAGS. Make the Development style override DEBUG_CFLAGS. Some
        other minor build setting cleanups.


git-svn-id: svn://svn.chromium.org/blink/trunk@943 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-02 23:34:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/325429d80071eeb03abd712b6ebe7161fe7e8342');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00m101l56kuhcbnp', 2, e'	* JavaScriptCore.pbproj/project.pbxproj: Pass -Wno-format-y2k so
	the project builds with gcc3.

	* kjs/nodes.cpp: Avoid including an obsolete header to avoid
	warning with gcc3.


git-svn-id: svn://svn.chromium.org/blink/trunk@941 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-02 23:01:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a640e5b9b33c0b31e50c38e124270e4e6c731dd8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00m201l5i2e93dmp', 2, e'2002-04-02  Chris Blumenberg  <cblu@apple.com>

        * Plugins.subproj/IFPluginView.mm: (-[IFPluginView
        IFURLHandleResourceDidCancelLoading:]), (-[IFPluginView
        IFURLHandle:resourceDidFailLoadingWithResult:]), (-[IFPluginView
        IFURLHandle:didRedirectToURL:]):

        Added support for the above callbacks.

        * WebView.subproj/IFMainURLHandleClient.mm: (-[IFMainURLHandleClient
        IFURLHandle:resourceDataDidBecomeAvailable:]):

        Return an error if non-html is requested.


git-svn-id: svn://svn.chromium.org/blink/trunk@940 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-04-02 22:39:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/912a6cf8e687675566075cb5b8a35a105bd5f9ad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00m301l5bl9a5m8t', 2, e'        Fixed a fix, shoulda\' been a #ifndef to exclude unnecessary code.


git-svn-id: svn://svn.chromium.org/blink/trunk@939 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-02 22:08:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/215d503475407904f994f46ed7272902b5d4c076');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00m401l57c2cuci4', 2, e'        More noisy bulletproofing.  Still need to find source of problem.

        More relaxed about invalid states.


git-svn-id: svn://svn.chromium.org/blink/trunk@937 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-02 20:47:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fada13ca12e33b182636d1f52d763846f78717f8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00m501l533jaxwdc', 2, e'	* kjs/property_map.cpp: (PropertyMap::~PropertyMap): Deallocate the
        map by calling clear so we don\'t leak the entire map.


git-svn-id: svn://svn.chromium.org/blink/trunk@936 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-02 19:36:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e52351ebc856cb9f185b8972b31a0ce8cafb56f6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00m601l5l2xczu9q', 2, e'	* WebView.subproj/IFWebDataSourcePrivate.mm: (-[IFWebDataSource _setTitle:]):
        Fix a leak I introduced here by copying the string in a better way.


git-svn-id: svn://svn.chromium.org/blink/trunk@935 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-02 19:35:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ffa7b5441ddee087e250bf44763a1c578a340f48');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00m701l5graephmn', 2, e'        Fix some small storage leaks.

	* src/kwq/KWQWidget.mm: (QWidget::QWidget): Use a single shared default style
        instead of creating a new one for each widget.
        (QWidget::setFont): Since we store a QFont here, we don\'t have to delete the
        old font and we don\'t leak.
        (QWidget::setCursor): Since now store a QCursor here, we don\'t have to delete
        the old cursor.
        Also removed a lot of unused code in here.

	* src/kwq/KWQKURL.mm: Minor code cleanup.


git-svn-id: svn://svn.chromium.org/blink/trunk@934 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-02 19:34:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f902bb0aaddd5fdb94dc47491e9d7a967a58d612');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00m801l5ttd8annd', 2, e'        Added ref() of part from KHTMView.
        Added log to catch m_doc == 0 case.  Should never happen.


git-svn-id: svn://svn.chromium.org/blink/trunk@933 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-02 19:01:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4c8f0926cc674692bdc6c6fb68b42f89279b92fa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00m901l554c2z9nk', 2, e'        Removed unnecessary and erroneous call to CGContextSetCharacterSpacing.


git-svn-id: svn://svn.chromium.org/blink/trunk@932 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-02 17:37:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/30dca2780b5773b800e7b950df71e767589888e7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00ma01l56fm2b9b0', 2, e'	* kjs/internal.cpp: (InterpreterImp::globalClear): Add code to
        deallocate and null out emptyList, because once the last interpreter
        is destroyed there\'s nothing to keep it from being garbage collected.


git-svn-id: svn://svn.chromium.org/blink/trunk@931 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-02 17:20:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/56fa6bab8a3b5e4d2fa04794fed7d21061928ae6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00mb01l5qhg5scov', 2, e'	* src/kwq/KWQKHTMLPart.mm (KHTMLPartPrivate::~KHTMLPartPrivate):
	Delete the jScript interpreter if it exists, to avoid leaking
	it. Also, garbage collect in this case because when we destroy the
	interpreter a lot of objects will become garbage and this seems
	like a good time to clean it all up.


git-svn-id: svn://svn.chromium.org/blink/trunk@930 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-02 07:16:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4d819efeb35111c9b83ae1a306e16a3f98a201af');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00mc01l5w2cpdbly', 2, e'        Added log to catch more problems with NS/CFURL.


git-svn-id: svn://svn.chromium.org/blink/trunk@929 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-02 06:01:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c585d0dacf5138c45d76a90ce3ed74e8263b4d38');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00md01l5txewpt54', 2, e'        Cleaned up lots of potentially stale references to controller.
        Added ref count to part.


git-svn-id: svn://svn.chromium.org/blink/trunk@928 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-02 05:17:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/87e50ddaa9ac76f216b33674a72842b33a3c98f3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00me01l5m7l7uojj', 2, e'i        Logging changes.
        Changes to support correct i/frame behavior.

        Changes to support correct behavior is i/frame margins and
        scroll views.

        Changed method name.
        Support showing frames in render tree.  This isn\'t a direct reflection of the
        kde render tree.  I nest the render trees for each part.


git-svn-id: svn://svn.chromium.org/blink/trunk@927 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-02 03:32:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/091c94470982cb72b1f7589ba4421013aeb41255');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00mf01l5kf3r0fd6', 2, e'	Added method for updating url, title, and/or displayTitle
	on existing entry.

	* History.subproj/IFWebHistory.h:
	* History.subproj/IFWebHistory.m:
	(-[IFWebHistory	updateURL:title:displayTitle:forURL:]):
	Calls through to IFWebHistoryPrivate.

	* History.subproj/IFWebHistoryPrivate.h:
	* History.subproj/IFWebHistoryPrivate.m:
	(-[IFWebHistoryPrivate _entryForURLString:]): Broke this out
	from containsURL.
	(-[IFWebHistoryPrivate containsURL:]): Call broken-out method.
	(-[IFWebHistoryPrivate updateURL:title:displayTitle:forURL:]):
	Find existing entry (if any), change its attributes.

	* BrowserDocument.m:
	(-[BrowserDocument displayName]): removed obsolete comment
	(-[BrowserDocument receivedPageTitle:forDataSource:]):
	update existing history entry; also use [NSArray makeObjectsPerformSelector]
	to simplify code.

	* BrowserWindow.m:
	(-[BrowserWindow updateTitle]): removed; unbeknownst to me, there
	was already a synchronizeWindowTitleWithDocumentName that did this
	same thing.
	(-[BrowserWindow frameLoadCommitted:]):
	use synchronizeWindowTitleWithDocumentName


git-svn-id: svn://svn.chromium.org/blink/trunk@926 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-04-02 01:03:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d787bca9654616267bf136e8e8006eeaa1912489');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00mg01l5bvxtwfat', 2, e'	* Misc.subproj/IFError.h: Add the failing URL to IFError.
	* Misc.subproj/IFError.m: (-[IFError initWithErrorCode:]): Call through
	with nil for the URL.
	(-[IFError initWithErrorCode:failingURL:]): Retain the passed URL.
	(-[IFError dealloc]): Autorelease the URL.
	(-[IFError failingURL]): Return the URL.
	(-[IFError description]): Include the URL in the description.

	* WebView.subproj/IFBaseWebControllerPrivate.mm:
	(-[IFBaseWebController _receivedProgress:forResource:fromDataSource:]),
	(-[IFBaseWebController _mainReceivedProgress:forResource:fromDataSource:]):
	Put the URL into the IFError.

	* WebView.subproj/IFMainURLHandleClient.mm:
	(-[IFMainURLHandleClient IFURLHandle:resourceDidFailLoadingWithResult:]):
	Put the URL into the IFError.


git-svn-id: svn://svn.chromium.org/blink/trunk@925 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-01 23:49:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/11792e803ad4713f8a8da45091db2f52ed5968fa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00mh01l5e3tzn65v', 2, e'2002-04-01  Kenneth Kocienda  <kocienda@apple.com>

        The guts of the fix for this bug:

        Radar 2879234 (Redirected URLs not used for subsequent GETs)

        This change, though small, will fix most of the outstanding problems
        with URL redirects. Some little bits of work need to be done, but much
        of that is on the UI level.

        * src/kwq/KWQKHTMLPart.mm: (KHTMLPart::begin), (KHTMLPart::setBaseURL):


git-svn-id: svn://svn.chromium.org/blink/trunk@924 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-04-01 21:59:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/581209800eb0a8f173af42eed7ba210d92ae4247');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00mi01l5eonxqtyu', 2, e'	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::jScriptEnabled): Hook this up to the
        preference from WebKit.
        (KHTMLPart::jScript): Return 0 if JavaScript is disabled. This is exactly what
        the original KHTMLPart from KDE did.


git-svn-id: svn://svn.chromium.org/blink/trunk@923 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-01 21:42:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7a04663aab93ffa2d9caa1c2f851ea940be3afbd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00mj01l5jbulwgws', 2, e'Made timing logs relative to start of document, not start of each data source.


git-svn-id: svn://svn.chromium.org/blink/trunk@922 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-01 21:00:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/869736f15e8a2ca610c0e19c267831f913dee475');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm9pv00mk01l58tww4213', 2, e'        Added more logging to show time of layouts.


git-svn-id: svn://svn.chromium.org/blink/trunk@921 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-04-01 20:46:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5361815f65dbb66321aa779ebd8c0fe866385e02');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00kx01l56lcwx70j', 2, e'WebKit:

        Added operations for JavaScript objects. Not sure if this was the best
        place for them, but it should be OK for now.

        * Misc.subproj/IFCache.h:
        * Misc.subproj/IFCache.mm: (+[IFCache setDisabled:]), (+[IFCache
        javaScriptObjectsCount]), (+[IFCache garbageCollectJavaScriptObjects]):
        * WebKit.pbproj/project.pbxproj:

WebBrowser:

        Rearranged caches window, renamed it, and added stuff about
        JavaScript objects.

        * Debug/CacheController.h:
        * Debug/CacheController.mm: (-[CacheController windowDidLoad]),
        (-[CacheController emptyWebCoreCaches:]), (-[CacheController
        setStat:toKey:fromDict:]), (-[CacheController setTotal:fromDict:]),
        (-[CacheController refreshWebCoreStatisticsMatrix]), (-[CacheController
        refreshStatistics:]), (-[CacheController toggleDisableWebCoreCaches:]),
        (-[CacheController garbageCollectJavaScriptObjects:]):
        * Debug/CacheController.nib:
        * Debug/DebugUtilities.m: (+[DebugUtilities createDebugMenu]):


git-svn-id: svn://svn.chromium.org/blink/trunk@920 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-01 20:40:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dabef64fc114b665c750dbba4e4ab0726fa92ef9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00ky01l5nxzif8l3', 2, e'JavaScriptCore:

        Got rid of KWQDef.h because it\'s dangerous to have two files with
        the same name and different contents.

	* JavaScriptCore.pbproj/project.pbxproj:
	* kjs/KWQDef.h: Removed.
	* kjs/ustring.h: Defines unsigned int types inline now.

WebCore:

	* src/kwq/KWQDef.h: Use KWQ_UNSIGNED_TYPES_DEFINED for compatibility with code
        in JavaScriptCore that has to do the same thing.


git-svn-id: svn://svn.chromium.org/blink/trunk@918 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-01 20:01:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/95ddf74a1cf533b74f23d0de7768d7d997ce05fa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00kz01l5p43b8n9u', 2, e'	* src/kdelibs/khtml/khtmlview.cpp: (KHTMLView::restoreScrollBar): Disable code
        that checks if the scroll bar is visible, because it currently doesn\'t do us
        any good. We may want to turn it back on if we ever implement setVScrollBarMode.
	(KHTMLView::viewportWheelEvent): Disable this code for now since it requires
        access to the vertical scroll bar object.
	* src/kdelibs/khtml/rendering/render_form.cpp:
        (RenderTextArea::calcMinMaxWidth): Use our own verticalScrollBarWidth and
        horizontalScrollBarHeight rather than getting scroll bar widgets.

	* src/kwq/qt/qscrollview.h: Remove QScrollView::horizontalScrollBar() and
        QScrollView::verticalScrollBar(), since we don\'t have QWidgets to return for
        these two. We can re-add these later if we need to.

	* src/kwq/qt/qtextedit.h: Removed QMultiLineEdit, and QTextEdit() constructor.
	* src/kwq/kdeui/keditcl.h: Removed.
	* src/kwq/KWQTextEdit.mm: Remove unused functions.
	(QTextEdit::verticalScrollBarWidth), (QTextEdit::horizontalScrollBarHeight):
        Implement these two new ones.
	* src/kwq/KWQScrollView.mm: Remove unused functions.

	* src/kdelibs/khtml/rendering/render_form.cpp: Fixed spelling error.


git-svn-id: svn://svn.chromium.org/blink/trunk@917 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-01 17:42:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a23a5081d9cd2c7235e9f9bb01c3a1557d491071');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00l001l5jarl5tnz', 2, e'        Added an icon for HotSpotFinder.

	* Tools/HotSpotFinder/HotSpotFinder.pbproj/project.pbxproj:
	* Tools/HotSpotFinder/noBikes.icns: Added.


git-svn-id: svn://svn.chromium.org/blink/trunk@916 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-04-01 17:05:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5828dafdf61428b662a94802c163b54d7ae1645a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00l101l5uew4p6aa', 2, e'	Fix Radar 2890464 (abcnews.com renders as a blank blue page (probably a JavaScript
	problem).) It turns out not to be a JavaScript problem:

	* src/kwq/KWQKloader.mm: (-[URLLoadClient
	IFURLHandle:resourceDidFailLoadingWithResult:]): Report that load
	is finished to KDE layers. Otherwise, the tokenizer will wait
	forever for a script load completion message that never comes.


git-svn-id: svn://svn.chromium.org/blink/trunk@915 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-04-01 00:06:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/646504a21b9c01711c246e1ca25ff2d9d2d8655c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00l201l50fynuc9n', 2, e'2002-03-31  Ken Kocienda  <kocienda@apple.com>

        Labyrinth:

        Modified check file to correspond to new flow of control
        in the loader involving results returned from cache.

        * Tests/WebFoundation-CacheLoader/never-expires-test.chk:

        Tweaked output of dates

        * Tools/DiskCachePeek/DiskCachePeek.pbproj/project.pbxproj:
        * Tools/DiskCachePeek/main.m: (main):


        WebFoundation:

        Better handling of cases where a revalidated cache object is returned,
        including correct setting of headers and updating of cache object with revalidated
        results.

        The disk cache database now includes its own mmap code. Now, failed attempts to mmap a cache
        file return better result codes. This makes it possible for the cache
        to cut down on speculative disk I/O that had been necessary until now since
        the mmap code in Foundation does not report why an mmap attempt failed.

        * CacheLoader.subproj/IFHTTPURLProtocolHandler.h:
        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (-[IFHTTPURLProtocolHandler
        initWithURLLoad:]), (+[IFHTTPURLProtocolHandler parseHTTPDateString:]),
        (-[IFHTTPURLProtocolHandler debugStringForCacheAttributeValue:]),
        (-[IFHTTPURLProtocolHandler createHTTPRequest]), (-[IFHTTPURLProtocolHandler
        cacheObjectIsValid:]), (-[IFHTTPURLProtocolHandler
        cacheObjectRequiresRevalidation:]), (-[IFHTTPURLProtocolHandler
        shouldCacheResourceData]), (-[IFHTTPURLProtocolHandler
        timeIntervalFromHTTPResponseHeader:]), (-[IFHTTPURLProtocolHandler
        calculateObjectAge]):
        * CacheLoader.subproj/IFURLLoad.m: (-[IFURLLoad succeeded]), (-[IFURLLoad
        shouldCacheResourceData]), (-[IFURLLoad didBeginLoading:]), (+[IFURLLoad
        IFURLLoadCacheCheckerRun:]):
        * Database.subproj/IFURLFileDatabase.m: (URLFileReaderInit), (-[IFURLFileReader
        initWithPath:]), (-[IFURLFileReader data]), (-[IFURLFileReader dealloc]),
        (-[IFURLFileDatabase objectForKey:]), (-[IFURLFileDatabase
        performSetObject:forKey:]), (-[IFURLFileDatabase performRemoveObjectForKey:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@912 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-04-01 00:01:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7825d07943c35bc8384f569b0293f608069a9821');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00l301l5muoerzyz', 2, e'	* src/kwq/KWQString.mm: (QString::toDouble): Fix to properly handle
        an empty string.


git-svn-id: svn://svn.chromium.org/blink/trunk@911 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-31 15:33:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9ca44161d2dfe28c5ab552ec0b5b44555968d0aa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00l401l5ujcoip2z', 2, e'	Fixed Radar 2891272 (JavaScript crashes loading quicktime.com and
	apple.com)

	* kjs/object.cpp: (ObjectImp::~ObjectImp): Don\'t call setGCAlloc
	on object internals pointed to, because they may have already been
	collected by the time this object is collected, and in that case
	we would corrupt the malloc arena.

	* Makefile.am: Make the stamp file depend on all the sources and
	headers so the framework gets rebuilt properly.

	* JavaScriptCore.pbproj/project.pbxproj: Some random numbers moved
	around. No idea what I really changed.


git-svn-id: svn://svn.chromium.org/blink/trunk@910 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-31 06:48:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/88328f8ce33ce39b3ad264ea76d2c96938668d21');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00l501l5gn0bovnl', 2, e'        Corrected comments describing the new \'acceptable to layout\' state
        transition.


git-svn-id: svn://svn.chromium.org/blink/trunk@909 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-31 03:25:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7d255515a851d8bbc56d19eb56d8371f8e0dfd2e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00l601l5v2jfu601', 2, e'	* prepare-ChangeLog: Added a new "--open" option, which opens the
	ChangeLog files for you.

WebCore:

	* src/kdelibs/khtml/xml/dom_docimpl.cpp: (DocumentImpl::setTitle):
	Call through to a new KHTMLPart::setTitle instead of the old
	setWindowCaption. We want to skip the special logic for using
	the URL if the title is blank, and for squeezing the title into
	a smaller string, because those are handled at a higher level.

	* src/kwq/KWQKHTMLPart.h: Add setTitle. Also clean up ifdefs.
	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::setTitle): New. Calls
	[IFWebDataSource _setTitle].

	* src/kwq/kparts/part.h: Removed setWindowCaption.
	* src/kwq/KWQPart.mm: Removed setWindowCaption.

	* src/kwq/external.h: Add [IFWebDataSource _setTitle].

WebKit:

	* WebView.subproj/IFBaseWebController.mm:
	(-[IFBaseWebController receivedPageTitle:forDataSource:]):
	Remove the exception from here. This is really a "do nothing,
	subclasses override me" method.

	* WebView.subproj/IFWebDataSource.mm:
	(-[IFWebDataSource pageTitle]): Implement.

	* WebView.subproj/IFWebDataSourcePrivate.h: Add pageTitle
	and [IFWebDataSource _setTitle].
	* WebView.subproj/IFWebDataSourcePrivate.mm:
	(-[IFWebDataSourcePrivate dealloc]): autorelease pageTitle.
	(-[IFWebDataSource _setTitle:]): Update the title, trimming
	whitespace and using nil, rather than empty string, to mean
	no title at all. Call [receivedPageTitle: forDataSource:]
	as necessary too.

	* WebView.subproj/IFMainURLHandleClient.mm: Did a gratuitious
	whitespace edit to force this file to recompile so everyone
	doesn\'t have to "make clean".

WebBrowser:

	* BrowserDocument.m: (-[BrowserDocument currentTitle]): New.
	(-[BrowserDocument displayName]): Pass the title into the
	[AppController menuTitleForURL: withTitle:] method.
	(-[BrowserDocument addHistoryEntryForCurrentPage]): Pass the
	title into [IFURIEntry initWithURL: title:]. This isn\'t quite
	right, because we want to update the title later in case we
	add this history entry before the title is parsed.
	(-[BrowserDocument receivedPageTitle:forDataSource:]): If a
	new title arrives for the main frame\'s dataSource, then tell
	all the window controllser to synchronize their window titles
	with the document name. I stole this code from NSDocument.


git-svn-id: svn://svn.chromium.org/blink/trunk@908 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-31 01:02:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7d1a7a9d04b461a1d768785d1fe5dcea1812067e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00l701l5og9ux89u', 2, e'        Added support for scrolling to anchor points.
        Optimization:  we always load the page, even if the URL that contains
        the anchor is the current page.


git-svn-id: svn://svn.chromium.org/blink/trunk@907 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-31 00:15:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/35894d8ad4835b591cfb38f028c066f4bfc21535');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00l801l52pitrre5', 2, e'        Added log to note cases of NSURL (CFURL) being unable to
        correctly initialize from URLs.  This log will likely indicate
        bugs in CFURL.


git-svn-id: svn://svn.chromium.org/blink/trunk@906 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-30 21:40:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/83bcdbf84fddbc6476ff562fb2426b719b2b6ed9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00l901l5znptn28i', 2, e'        Twiddling with baselines.  kde 2.2 appears to not line up baselines correctly.
        Need to experiment with kde 3.

        Removed copy of function prototype, instead included the correct header.

	Fixed crasher in setFocusPolicy, I don\'t think we even need to use kde\'s focus policy.
        This was added during the kde 3 beta 2 merge.


git-svn-id: svn://svn.chromium.org/blink/trunk@905 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-30 20:57:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4af4d229cdc20d6822236b573db2811c7c5e5fbe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00la01l5s1xs9nt7', 2, e'	* Tests/kde/kurl-test.chk: Add test results for new tests. Fix spelling
        error in results for one existing test.

	* Tests/kde/kurl-test.cpp: Don\'t bother using endl, since it just makes
        things more verbose and doesn\'t help.
        (testURL): Add a new overload to use for relative URL tests.
        (main): Add two new tests for relative URLs with colons in them.

	* Tools/HotSpotFinder/HotSpotFinder.pbproj/project.pbxproj: Just update to
        newer Project Builder.

        * Tests/libiftest/IFCheckLeaks.c: Ignore another reported leak,
        IOPSAllocateBlitEngine, although I haven\'t tracked down whether this is a
        real leak or not.

	* WebCore/src/kwq/KWQKURL.mm: (copyAndReplaceAll), (needToHideColons): New
        functions used in workaround for CFURL bug.
	(KURL::normalizeRelativeURLString): Add workaround for CFURL bug; hide colons
        that would confuse CFURL from the CFURL code.

	* WebCore/src/kwq/KWQFont.mm: (QFont::getFont): Use lossyCString instead of cString for
        debugging messages.


git-svn-id: svn://svn.chromium.org/blink/trunk@904 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-30 19:43:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/94c0c2308ea6c2c5f2b127815c60238f50f5c371');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00lb01l56lp2ugbb', 2, e'	* kjs/grammar.y: Took out Id tag so we won\'t constantly need to
        update grammar.cpp.
	* kjs/grammar.cpp: Regenerated without Id tag.

	* .cvsignore: Ignore some additional autogenerated files.
	* kjs/.cvsignore: Ignore some additional autogenerated files.


git-svn-id: svn://svn.chromium.org/blink/trunk@903 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-30 19:17:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/555482202d2ec371f70b28fb91d593dd72d26670');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00lc01l5b16w75hu', 2, e'	* JavaScriptCore.pbproj/project.pbxproj: Install some of the
	headers.


git-svn-id: svn://svn.chromium.org/blink/trunk@902 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-30 11:19:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7d03aea125fb7a31486b6ad138cee873c97e3379');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00ld01l5l2qan374', 2, e'Turned JavaScriptCore into a framework, and made it build with Project
Builder in preparation for submission:

Top level:
	* Tests/kde/Makefile.am: Link against JavaScriptCore.framework
	instead of the defunct libJavaScriptCore.dylib.
	* Tests/khtmlview/WebViewTest/WebViewTest.pbproj/project.pbxproj: Likewise.
	* Tests/qt/Makefile.am: Likewise.

JavaScriptCore:
	Converted JavaScriptCore to build with Project Builder, in
	preparation for B&I submission.

	* English.lproj/InfoPlist.strings: Added.
	* JavaScriptCore.pbproj/.cvsignore: Added.
	* JavaScriptCore.pbproj/project.pbxproj: Added.

	* .cvsignore: Update the set of ignored things.

	* Makefile.am: Hand off to PB for the main build, but still handle
	the generated files and the test program.

	* kjs/Makefile.am: Don\'t build anything except the generated
	source files.

	* kjs/KWQDef.h, kjs/config.h: Added minimal versions of these
	files to get kjs to build.

	Check in all the genrated files, since Project Builder isn\'t up to
	the task of handling built sources:

	* kjs/array_object.lut.h: Added.
	* kjs/date_object.lut.h: Added.
	* kjs/grammar.cpp: Added.
	* kjs/grammar.cpp.h: Added.
	* kjs/grammar.h: Added.
	* kjs/lexer.lut.h: Added.
	* kjs/math_object.lut.h: Added.
	* kjs/number_object.lut.h: Added.
	* kjs/string_object.lut.h: Added.

	* kjs/.cvsignore: Update set of ignored things.

WebCore:
	* src/Makefile.am: Link against JavaScriptCore.framework instead
	of the defunct libJavaScriptCore.dylib.

WebKit:
	* WebKit.pbproj/project.pbxproj: Link against
	JavaScriptCore.framework instead of the defunct
	libJavaScriptCore.dylib.

WebBrowser:
	* WebBrowser.pbproj/project.pbxproj: Link against
	JavaScriptCore.framework instead of the defunct
	libJavaScriptCore.dylib.


git-svn-id: svn://svn.chromium.org/blink/trunk@901 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-30 11:01:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c6389e2e3d290f36ddb6199cfcf0a772be763be1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00le01l5ndnml4sw', 2, e'        * src/kdelibs/khtml/rendering/render_image.cpp: (RenderImage::updateFromElement):
        Make images with no src, or src="" be empty rather than being the page itself
        loaded as an image.


git-svn-id: svn://svn.chromium.org/blink/trunk@900 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-30 00:04:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ad732e17946acd575dddef0477a86129fa58b619');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00lf01l56n1gc697', 2, e'        More fixes for cancelling.  Fixed some code that appears to have been
        mis-merged after the KDE 3 beta 2 landing.

        Fixes for cancelling.  Still need to think about a better
        solution than putting data sources in stopped mode.

        Temporary bandaid to get past extra release crasher.


git-svn-id: svn://svn.chromium.org/blink/trunk@899 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-29 23:05:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bb579f81c488297508f6b7eb90e28c0f0befbff8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00lg01l50n4lujl9', 2, e'	* src/kwq/KWQKloader.mm: (Cache::getStatistics), (Cache::flushAll):
        Fix both of these to work when cache is not yet allocated.


git-svn-id: svn://svn.chromium.org/blink/trunk@898 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-29 19:44:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3415f644de87a01d00afc2bbacca6fb4927360c6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00lh01l55u2vg530', 2, e'
        Hooked up redirect.  Now we see many more ads.  :(
        Fixed cancel of main handle for document.
        Moved stop before start from frame to data source.

        Hooked up redirect.


git-svn-id: svn://svn.chromium.org/blink/trunk@897 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-29 19:35:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8fb4a583ed572f09989b2fb0eb4e3c4cdb1065c9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00li01l56hiwcuzj', 2, e'        Added stopLoading to startLoading to cancel any pending loads before
        new loads start.  This doesn\'t work yet because of loader bugs, but will
        once those are fixed.

        Adding logging for redirects.


git-svn-id: svn://svn.chromium.org/blink/trunk@891 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-29 18:13:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dfb7cf874aa88f7193ae6254ccc26492b943085a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00lj01l5hp8ktjyz', 2, e'2002-03-29  Kenneth Kocienda  <kocienda@apple.com>

        Added exception handling to the code that reads cache files from
        disk. This should isolate the application from exiting when
        an exception is thrown by NSArchiver in its efforts to unarchive
        cache files.

        * Database.subproj/IFURLFileDatabase.m: (-[IFURLFileDatabase objectForKey:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@890 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-29 17:53:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ebde2ace07e487447f16eab91524d9cfc76a41f1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00lk01l5au0iojfi', 2, e'	* WebView.subproj/IFWebFramePrivate.mm: (-[IFWebFramePrivate dealloc]): Deref the
        renderFramePart, and autorelease the provisionalDataSource.
	(-[IFWebFramePrivate setRenderFramePart:]): Ref renderFramePart while we hold it.


git-svn-id: svn://svn.chromium.org/blink/trunk@889 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-29 17:12:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/70d8d81479164ce2f387418421437e9a9370a3ff');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00ll01l56cpd3y4e', 2, e'2002-03-29  Kenneth Kocienda  <kocienda@apple.com>

        Workaround for Radar 2890624 (Double free of image data in QPixmap)
        This hack is necessary for the app to run on some Jaguar system. Otherwise
        images that the GIF library cannot decode will cause a crash.

        * src/kwq/KWQPixmap.mm: (QPixmap::QPixmap):


git-svn-id: svn://svn.chromium.org/blink/trunk@888 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-29 16:51:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3490163278dc9db0c6a3b6feea1abc10819aa720');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00lm01l5fduerznl', 2, e'        Fixed basic font horkage caused by removal of KDE font matching code.  We
        now work correctly for the basic font families.

        Increased size default for initial layout.


git-svn-id: svn://svn.chromium.org/blink/trunk@887 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-29 05:43:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/36e4a7c4a71d7ab72e347d00df99960deed8d8bb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00ln01l512ameoxd', 2, e'        Fixed big leak of any document that had a frame or iframe.


git-svn-id: svn://svn.chromium.org/blink/trunk@886 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-29 03:29:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c73d3ffecea8ec12d9204c7b2e89f613fdf64080');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00lo01l59pvyuz3e', 2, e'        Modified the initial layout policy.


git-svn-id: svn://svn.chromium.org/blink/trunk@885 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-29 01:44:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b4f30f64563742c5d6b73df8f987af92a85ea097');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00lp01l58suxubqr', 2, e'	* src/kwq/KWQKloader.mm: (Cache::requestImage), (Cache::requestStyleSheet),
	(Cache::requestScript): Set flags so the objects get freed when they are done
        in cases where the cache is disabled.


git-svn-id: svn://svn.chromium.org/blink/trunk@884 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-29 01:13:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fa84cfa6addb008aed362c34371bc28c663d0054');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm8dn00lq01l57iyjlp11', 2, e'Top level:
	Fix the regression tests:

	* Tests/WebFoundation-Misc/ifnsthreadextensions-test.chk,
	Tests/WebFoundation-Misc/ifnsthreadextensions-test.m:
	(-[ThreadTest run:], main): Don\'t

	* Tests/harness.c: (runtest): Make leaks count as failures again.

	* Tests/libiftest/IFCheckLeaks.c: (IFCheckLeaksAtExitHandler):
	Exclude the leak in +[NSUserDefaults standardDefaults]

	* Tests/qt/qlist-test.chk, Tests/qt/qlist-test.cpp: (main): Fix a
	leak in this test program.

	* Tests/test.list: Fix path to JavaScript test.
JavaScriptCore:
	* kjs/kjs-test.chk: Update output for new test results.


git-svn-id: svn://svn.chromium.org/blink/trunk@883 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-29 01:10:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6fd7083edf40cb9c0506b56dcb39203170de3354');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00k301l583rgiq0l', 2, e'	Fix Radar 2890340 (JavaScript doesn\'t work)

	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::executeScript): Implement
	the other overloaded version of this function. This is needed for
	JavaScript to work.


git-svn-id: svn://svn.chromium.org/blink/trunk@882 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-29 00:50:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0558a53c924f3c2057c1b4639bfe5768a1cfb324');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00k401l5madxobo7', 2, e'        New private interface for getting at the cache.

	* Misc.subproj/IFCache.h: New.
	* Misc.subproj/IFCache.mm: New.
	* WebKit.pbproj/project.pbxproj: Added IFCache files.


git-svn-id: svn://svn.chromium.org/blink/trunk@881 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-28 23:18:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/889b507c947eba4567bb4080f61570cf226cb165');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00k501l57ljah89t', 2, e'	* src/kdelibs/khtml/misc/loader.h: Added API for looking at the contents of the
        cache, flushing the cache, and disabling the cache.
	* src/kwq/KWQKloader.mm: (Cache::requestImage): Don\'t cache if disabled.
        (Cache::requestStyleSheet): Don\'t cache if disabled.
	(Cache::requestScript): Don\'t cache if disabled.
        (Cache::flush): Simplify ifdefs.
        (Cache::getStatistics), (Cache::flushAll), (Cache::setCacheDisabled): New.


git-svn-id: svn://svn.chromium.org/blink/trunk@880 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-28 23:17:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/37d8a0106d6e498fb4399ab8a1097210e7c5ab4e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00k601l5gv6oukmv', 2, e'	* WebView.subproj/IFBaseWebController.mm:
        (-[IFBaseWebController locationChangeDone:forFrame:]): Remove log of errors
        loading now that we have the activity viewer.


git-svn-id: svn://svn.chromium.org/blink/trunk@879 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-28 19:12:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/384cc8a2404fc0994eed0dbf2b1e9ef96434ad8d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00k701l58ycfoqu1', 2, e'        Modified the initial layout policy.  We now try to layout as close
        as possible to WebKitInitialTimedLayoutDelay seconds after the
        load was started, not after the provisional-to-committed transition.
        If the time to the provisional-to-committed transition exceeds
        WebKitInitialTimedLayoutDelay we layout immediately.

        Fixed crasher.  Removed unnecessary cleanup to widget that was called after the
        widget was already disposed.


git-svn-id: svn://svn.chromium.org/blink/trunk@878 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-28 19:03:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6e6623b66ca2a92bf6594394349f37f4edded92d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00k801l56dkebuol', 2, e'	* History.subproj/IFWebHistoryPrivate.m:
	(-[IFWebHistoryPrivate _loadHistoryGuts:]):
	Made this more robust about bad data from the disk file. I
	don\'t know how bad data could get into the disk file in normal
	use, but it seems to have happened to Richard.

	* AppController.m: (-[AppController menuTitleForURL:withTitle:]),
	(-[AppController _menuTitleForURIEntry:]), (-[AppController
	insertHistoryEntry:intoMenu:atIndex:]): Added asserts in various
	places to catch bad callers earlier.


git-svn-id: svn://svn.chromium.org/blink/trunk@877 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-28 17:36:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e527bda586245bbb9e675fa5291dd64fd3567ff6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00k901l5v4jznq5z', 2, e'	Private preferences.


git-svn-id: svn://svn.chromium.org/blink/trunk@876 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-28 03:36:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cef9f391e6b6b3db662aefe030b9d661476c0ad1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00ka01l5c84nm2q0', 2, e'        Added initial-layout-after-delay-if-not-layed-out-yet feature.

        Turned on live layout when font size or type is changed.

        Removed problematic code.  Not sure why it was necessary.  For now
        it prevents crasher.


git-svn-id: svn://svn.chromium.org/blink/trunk@875 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-28 03:35:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7b1392ce4a5d275f7ca658ff71c3bcebb8c42aca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kb01l5xckwqi8z', 2, e'	* src/kwq/KWQListImpl.mm: (KWQListImpl::insert): Fix disastrous name
        collision which could lead to infinite loops.


git-svn-id: svn://svn.chromium.org/blink/trunk@874 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-28 01:25:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cd39dc17b813094108426a5ac6c43f62d65cf114');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kc01l5pthjqe02', 2, e'	* src/kwq/KWQCString.mm: (QCString::isEmpty): The || should be &&.


git-svn-id: svn://svn.chromium.org/blink/trunk@873 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-28 01:11:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/597dac308e4fb883bbce7aa53ec39289d0160948');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kd01l5ynwbg50f', 2, e'	* src/kdelibs/khtml/css/css_valueimpl.cpp:
	(FontFamilyValueImpl::FontFamilyValueImpl): Disable misguided font matching
        code in khtml.

	* src/kwq/KWQFont.mm: (QFont::getFont): Change the fallback so that it uses
        the default font family, but the other settings as requested, rather than
        using the default font.


git-svn-id: svn://svn.chromium.org/blink/trunk@872 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-28 00:55:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7f711b9541e93e6a005617a4aa383f13c951fc09');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00ke01l5ziqah4cb', 2, e'2002-03-27  Kenneth Kocienda  <kocienda@apple.com>

        Changed loadProgress->bytesSoFar to use [sender contentLengthReceived]
        instead of the size of the chunk that was delivered in the callback.
        This makes the activity window data more correct than it was.

	WebCore:

        * src/kwq/KWQKloader.mm: (-[URLLoadClient
        IFURLHandle:resourceDataDidBecomeAvailable:]):


	WebKit:

        * WebView.subproj/IFMainURLHandleClient.mm: (-[IFMainURLHandleClient
        IFURLHandle:resourceDataDidBecomeAvailable:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@871 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-27 21:54:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0aced9ac980dac87f7ce96ec19cdf9ecd1ea4b0f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kf01l5ktlqp55r', 2, e'2002-03-27  Chris Blumenberg  <cblu@apple.com>

        Now setting the modifier bit for the activate and cursor events.

        * Plugins.subproj/IFPluginView.h:
        * Plugins.subproj/IFPluginView.mm: (-[IFPluginView drawRect:]), (-[IFPluginView
        windowBecameKey:]), (-[IFPluginView windowResignedKey:]), (-[IFPluginView
        mouseEntered:]), (-[IFPluginView mouseExited:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@870 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-27 21:52:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e0c7e52979f5b3f32822e48116eb17d023beb671');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kg01l5lrr0u7rj', 2, e'	* NSStringBrowserAdditions.m: (+[NSString urlStringWithUserTypedString:]):
        Add ".com" to the end if there\'s no ".". Add "file:" to the beginning if the
        thing begins with a "/".

	* Preferences.subproj/TextPreferences.m:
        (-[TextPreferences initializeFromDefaults]): Switch back to serif font, since
	using Luicida Grande was exposing some font bugs.

	* WebView.subproj/IFPreferences.mm: (+[IFPreferences load]): Switch back
        to serif font, since using Luicida Grande was exposing some font bugs.


git-svn-id: svn://svn.chromium.org/blink/trunk@868 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-27 16:23:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/eac3ea5eed26d4c2cf1d3495d96cc09baf8314d6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kh01l5ixs6ohng', 2, e'	* src/kdelibs/khtml/ecma/Makefile.am: Get the create_hash_table tool
        from JavaScriptCore. We might need a better way to handle this later.


git-svn-id: svn://svn.chromium.org/blink/trunk@867 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-27 15:59:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d8ccda244f5c9e03396cc5503827f9c1d1599849');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00ki01l5vi2hc779', 2, e'top level:
	* configure.in: Remove WebCore/src/kjs and add JavaScriptCore to
	build.
JavaScriptCore:
	Set up kjs to build by itself into libJavaScriptCore.dylib.

	* .cvsignore: Added.
	* Makefile.am: Added.
	* dummy.cpp: Added.
	* kjs/.cvsignore: Added.
WebCore:
	Removed kjs from here - it\'s now been moved to JavaScriptCore at
	the top level.

	* src/Makefile.am: Don\'t link libkjs.o.
	* src/kdelibs/Makefile.am: Remove kjs from subdirs.
	* src/kdelibs/kjs/.cvsignore: Removed.
	* src/kdelibs/kjs/Makefile.am: Removed.
	* src/kdelibs/kjs/array_object.cpp: Removed.
	* src/kdelibs/kjs/array_object.h: Removed.
	* src/kdelibs/kjs/bool_object.cpp: Removed.
	* src/kdelibs/kjs/bool_object.h: Removed.
	* src/kdelibs/kjs/collector.cpp: Removed.
	* src/kdelibs/kjs/collector.h: Removed.
	* src/kdelibs/kjs/create_hash_table: Removed.
	* src/kdelibs/kjs/date_object.cpp: Removed.
	* src/kdelibs/kjs/date_object.h: Removed.
	* src/kdelibs/kjs/debugger.cpp: Removed.
	* src/kdelibs/kjs/debugger.h: Removed.
	* src/kdelibs/kjs/error_object.cpp: Removed.
	* src/kdelibs/kjs/error_object.h: Removed.
	* src/kdelibs/kjs/function.cpp: Removed.
	* src/kdelibs/kjs/function.h: Removed.
	* src/kdelibs/kjs/function_object.cpp: Removed.
	* src/kdelibs/kjs/function_object.h: Removed.
	* src/kdelibs/kjs/grammar.y: Removed.
	* src/kdelibs/kjs/internal.cpp: Removed.
	* src/kdelibs/kjs/internal.h: Removed.
	* src/kdelibs/kjs/interpreter.cpp: Removed.
	* src/kdelibs/kjs/interpreter.h: Removed.
	* src/kdelibs/kjs/keywords.table: Removed.
	* src/kdelibs/kjs/kjs-test: Removed.
	* src/kdelibs/kjs/kjs-test.chk: Removed.
	* src/kdelibs/kjs/lexer.cpp: Removed.
	* src/kdelibs/kjs/lexer.h: Removed.
	* src/kdelibs/kjs/lookup.cpp: Removed.
	* src/kdelibs/kjs/lookup.h: Removed.
	* src/kdelibs/kjs/math_object.cpp: Removed.
	* src/kdelibs/kjs/math_object.h: Removed.
	* src/kdelibs/kjs/nodes.cpp: Removed.
	* src/kdelibs/kjs/nodes.h: Removed.
	* src/kdelibs/kjs/nodes2string.cpp: Removed.
	* src/kdelibs/kjs/number_object.cpp: Removed.
	* src/kdelibs/kjs/number_object.h: Removed.
	* src/kdelibs/kjs/object.cpp: Removed.
	* src/kdelibs/kjs/object.h: Removed.
	* src/kdelibs/kjs/object_object.cpp: Removed.
	* src/kdelibs/kjs/object_object.h: Removed.
	* src/kdelibs/kjs/operations.cpp: Removed.
	* src/kdelibs/kjs/operations.h: Removed.
	* src/kdelibs/kjs/property_map.cpp: Removed.
	* src/kdelibs/kjs/property_map.h: Removed.
	* src/kdelibs/kjs/regexp.cpp: Removed.
	* src/kdelibs/kjs/regexp.h: Removed.
	* src/kdelibs/kjs/regexp_object.cpp: Removed.
	* src/kdelibs/kjs/regexp_object.h: Removed.
	* src/kdelibs/kjs/string_object.cpp: Removed.
	* src/kdelibs/kjs/string_object.h: Removed.
	* src/kdelibs/kjs/test.js: Removed.
	* src/kdelibs/kjs/testkjs.cpp: Removed.
	* src/kdelibs/kjs/types.cpp: Removed.
	* src/kdelibs/kjs/types.h: Removed.
	* src/kdelibs/kjs/ustring.cpp: Removed.
	* src/kdelibs/kjs/ustring.h: Removed.
	* src/kdelibs/kjs/value.cpp: Removed.
	* src/kdelibs/kjs/value.h: Removed.
WebKit:
	* WebKit.pbproj/project.pbxproj: Fixed to build with standalone
	libJavaScriptCore.dylib.
WebBrowser:
	* WebBrowser.pbproj/project.pbxproj: Include libJavaScriptCore.dylib


git-svn-id: svn://svn.chromium.org/blink/trunk@866 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-27 04:19:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/92d370748e623ceffd607591b848595d57557074');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kj01l57nntb42z', 2, e'Top level:
	Removed all the borrowed Qt code.

	* Makefile.am: Don\'t bother to reconfigure when ChangeLog changes.
	* acconfig.h: Remove BORROWED #defines.
	* borrowed-classes.txt: Removed.
	* configure.in: Remove setting of unused flags.
WebCore:
	Removed all the borrowed Qt code.

	* src/kwq/KWQGlobal.mm: Renamed from qt/_qglobal.cpp to avoid
	confusion about the borrowedness status of this file.
	* src/kwq/Makefile.am: Removed references to kde and qt
	subdirectories.
	* src/kwq/kde/.cvsignore: Removed.
	* src/kwq/kde/Makefile.am: Removed.
	* src/kwq/kde/_kurl.cpp: Removed.
	* src/kwq/kde/_kurl.h: Removed.
	* src/kwq/qt/Makefile.am: Removed.
	* src/kwq/qt/_qarray.h: Removed.
	* src/kwq/qt/_qbuffer.cpp: Removed.
	* src/kwq/qt/_qbuffer.h: Removed.
	* src/kwq/qt/_qcollection.cpp: Removed.
	* src/kwq/qt/_qcollection.h: Removed.
	* src/kwq/qt/_qcolor.h: Removed.
	* src/kwq/qt/_qcstring.cpp: Removed.
	* src/kwq/qt/_qcstring.h: Removed.
	* src/kwq/qt/_qdatetime.cpp: Removed.
	* src/kwq/qt/_qdatetime.h: Removed.
	* src/kwq/qt/_qdict.h: Removed.
	* src/kwq/qt/_qdir.cpp: Removed.
	* src/kwq/qt/_qdir.h: Removed.
	* src/kwq/qt/_qdir_unix.cpp: Removed.
	* src/kwq/qt/_qfile.cpp: Removed.
	* src/kwq/qt/_qfile.h: Removed.
	* src/kwq/qt/_qfileinfo.cpp: Removed.
	* src/kwq/qt/_qfileinfo.h: Removed.
	* src/kwq/qt/_qfileinfo_unix.cpp: Removed.
	* src/kwq/qt/_qgarray.cpp: Removed.
	* src/kwq/qt/_qgarray.h: Removed.
	* src/kwq/qt/_qgdict.cpp: Removed.
	* src/kwq/qt/_qgdict.h: Removed.
	* src/kwq/qt/_qglist.cpp: Removed.
	* src/kwq/qt/_qglist.h: Removed.
	* src/kwq/qt/_qglobal.cpp: Removed.
	* src/kwq/qt/_qgvector.cpp: Removed.
	* src/kwq/qt/_qgvector.h: Removed.
	* src/kwq/qt/_qiodevice.cpp: Removed.
	* src/kwq/qt/_qiodevice.h: Removed.
	* src/kwq/qt/_qlist.h: Removed.
	* src/kwq/qt/_qmap.cpp: Removed.
	* src/kwq/qt/_qmap.h: Removed.
	* src/kwq/qt/_qpoint.cpp: Removed.
	* src/kwq/qt/_qpoint.h: Removed.
	* src/kwq/qt/_qptrdict.h: Removed.
	* src/kwq/qt/_qrect.cpp: Removed.
	* src/kwq/qt/_qrect.h: Removed.
	* src/kwq/qt/_qregexp.cpp: Removed.
	* src/kwq/qt/_qregexp.h: Removed.
	* src/kwq/qt/_qregion.cpp: Removed.
	* src/kwq/qt/_qregion.h: Removed.
	* src/kwq/qt/_qshared.h: Removed.
	* src/kwq/qt/_qsize.cpp: Removed.
	* src/kwq/qt/_qsize.h: Removed.
	* src/kwq/qt/_qsortedlist.h: Removed.
	* src/kwq/qt/_qstack.h: Removed.
	* src/kwq/qt/_qstring.cpp: Removed.
	* src/kwq/qt/_qstring.h: Removed.
	* src/kwq/qt/_qstringlist.cpp: Removed.
	* src/kwq/qt/_qstringlist.h: Removed.
	* src/kwq/qt/_qstrlist.h: Removed.
	* src/kwq/qt/_qtextcodec.h: Removed.
	* src/kwq/qt/_qtextstream.h: Removed.
	* src/kwq/qt/_qtl.h: Removed.
	* src/kwq/qt/_qurl.cpp: Removed.
	* src/kwq/qt/_qurl.h: Removed.
	* src/kwq/qt/_qvaluelist.h: Removed.
	* src/kwq/qt/_qvector.h: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@865 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-27 00:54:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fa6b4b8c0dccbfe93bdbff707796d2013b9ff816');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kk01l5s1et4net', 2, e'2002-03-26  Kenneth Kocienda  <kocienda@apple.com>

        These changes help the transition to the new build system which unifies
        our development build setting with the settings we use to ship
        releases.

        Labyrinth:

        Removed --enable-alexander-test configure option
        Added --with-buildstyle option

        * configure.in:


        WebFoundation:

        * WebFoundation.pbproj/project.pbxproj:


        WebKit:

        * Makefile.am:
        * WebKit.pbproj/kocienda.pbxuser:
        * WebKit.pbproj/project.pbxproj:


        WebBrowser:

        * Makefile.am:
        * WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@864 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-27 00:18:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d5430c62e4bc6ff791d931ed71ef3690bbb98f83');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kl01l5k610hu87', 2, e'	* src/kwq/KWQKjobclasses.mm: (TransferJobPrivate::TransferJobPrivate):
        Nil out the handle so we don\'t autorelease garbage.

	* src/kwq/KWQKloader.mm:
        (-[URLLoadClient IFURLHandleResourceDidCancelLoading:]),
	(-[URLLoadClient IFURLHandleResourceDidFinishLoading:data:]),
        (-[URLLoadClient IFURLHandle:resourceDidFailLoadingWithResult:]):
        Delete the job instead of just autoreleasing the sender. Fixes a leak.


git-svn-id: svn://svn.chromium.org/blink/trunk@863 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-26 23:06:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/122a418e092f25c25076b3f7b206b599d6e08815');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00km01l5m084v4gg', 2, e'i        Try to ensure that display needed bits are correctly set.

        Fixed leak of decoder.  This caused us to leak the entire
        document text for every load!


git-svn-id: svn://svn.chromium.org/blink/trunk@862 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-26 23:05:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2a3379da43aba492ecc889febf6ce3162a86726e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kn01l5vygqqt76', 2, e'	* src/kdelibs/khtml/rendering/render_list.cpp: (RenderListItem::setStyle):
        Fix a leak (missing delete).

	* src/kwq/KWQMetrics.h:
	* src/kwq/KWQFontMetrics.mm:
        (-[KWQLayoutInfo drawString:atPoint:withFont:color:]): Don\'t bother keeping things
        around that we only need to use once.
	(-[KWQLayoutInfo _initializeCaches]): Create them here instead.
        (-[KWQLayoutInfo dealloc]): Don\'t need to free them here.


git-svn-id: svn://svn.chromium.org/blink/trunk@861 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-26 21:40:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7f185121d015481af90d516a3c15b7dcd9554263');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00ko01l5bdt3688e', 2, e'Testing cvs mail.


git-svn-id: svn://svn.chromium.org/blink/trunk@860 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-26 21:38:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b94050206e9e1545eee8ba3e785f2fe80dc734a2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kp01l50ovlswew', 2, e'Testing cvs mail.


git-svn-id: svn://svn.chromium.org/blink/trunk@859 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-26 21:29:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f1c588e7861f77b50400b721cabd4e2980c353c5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kq01l5cicv2x0p', 2, e'Testing cvs mail.


git-svn-id: svn://svn.chromium.org/blink/trunk@858 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-26 21:27:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c380f29a9466dc27cdbf794b5f330eb1b6acc0a4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kr01l515l8flw0', 2, e'Testing commit emails.


git-svn-id: svn://svn.chromium.org/blink/trunk@857 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-26 21:15:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dfc8126a47d317df3a42341b1710bd5c064cfa3d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00ks01l5kvwfytp9', 2, e'Testing cvs mail...


git-svn-id: svn://svn.chromium.org/blink/trunk@856 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-26 21:02:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1146aab0b49f678fb81feedce92fefbb0ddc8fe6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kt01l5xah363m5', 2, e'Testing cvs mail...


git-svn-id: svn://svn.chromium.org/blink/trunk@855 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-26 21:00:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6e37029b90be54d331b1ef7796ec9ad153ced69c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00ku01l56pm8ca5a', 2, e'	* Misc.subproj/IFError.m: (+[IFError initialize]): Fix a typo where
        we said "unvailable".

	* WebView.subproj/IFPreferences.mm: (+[IFPreferences load]): Change
        the default sans-serif font to "Lucida Grande" to match the OS X
        system font, and also make that the defalt standard font.


git-svn-id: svn://svn.chromium.org/blink/trunk@854 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-26 20:28:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1c3ef9c17893f53878d0377dfb862536345ff8bd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kv01l522qv999m', 2, e'	* src/kwq/KWQFontMetrics.mm: (-[KWQLayoutInfo dealloc]): Free the
        style groups, styles, and glyph vectors.

	* src/kwq/KWQFont.mm: (QFont::getFont): Use default font if we can\'t
        find a font from the passed-in family. Before, we were raising an
        exception and quitting the application.

	* src/kwq/KWQCString.mm: (QCString::isEmpty): Faster version that
        doesn\'t call strlen.


git-svn-id: svn://svn.chromium.org/blink/trunk@853 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-26 20:20:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a696ab76ec9a0d8276eae2f43342428062107c91');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm73m00kw01l5i5mop6g9', 2, e'2002-03-26  Kenneth Kocienda  <kocienda@apple.com>

        Moved a constant that need not be visible externally into the .m file.

        * CacheLoader.subproj/IFHTTPURLProtocolHandler.h:

        Protocol handlers are now given an opportunity to act upon an object that
        will be returned from cache. This is so that things like cached HTTP
        response headers can be set properly.

        I also added some code to check to see if a cached object needs revalidation
        as described the HTTP RFC sections on caching. This is not fully implemented
        yet, but the support for revalidation is better than it was.

        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (-[IFHTTPURLProtocolHandler
        performHTTPHeaderRead:]), (-[IFHTTPURLProtocolHandler willReturnCacheObject:]),
        (-[IFHTTPURLProtocolHandler cacheObjectIsValid:]), (-[IFHTTPURLProtocolHandler
        cacheObjectRequiresRevalidation:]), (-[IFHTTPURLProtocolHandler
        shouldCacheResourceData]):

        Added a version field that will allow the cache to tell when incompatible
        changes have been made to the cache format.

        * CacheLoader.subproj/IFURLCacheObject.h:
        * CacheLoader.subproj/IFURLCacheObject.m: (-[IFURLCacheObject initWithCoder:]),
        (-[IFURLCacheObject encodeWithCoder:]):

        Added support for more sophisticated cache checking, using the new protocol
        handler methods.

        * CacheLoader.subproj/IFURLLoad.m: (-[IFURLLoad returnCacheObject:]),
        (+[IFURLLoad IFURLLoadCacheCheckerRun:]):

        Cached attributes are now returned properly from memory cached objects.

        * CacheLoader.subproj/IFURLMemoryCache.m:

        Changed name of isValidCacheObject: method to willReturnCacheObject:
        Added new cacheObjectRequiresRevalidation: method.

        These now support improved cache checking and object validation

        * CacheLoader.subproj/IFURLProtocolHandler.h:
        * CacheLoader.subproj/IFURLProtocolHandler.m: (-[IFURLProtocolHandler
        willReturnCacheObject:]), (-[IFURLProtocolHandler cacheObjectIsValid:]),
        (-[IFURLProtocolHandler cacheObjectRequiresRevalidation:]):

        Added nil check for returned cache object

        * Database.subproj/IFURLFileDatabase.m: (-[IFURLFileDatabase objectForKey:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@852 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-26 19:22:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b932d3360af2ac0e6db7d8ebfb31658266c53ac9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00j901l5ff63d6kx', 2, e'	* WebKit.pbproj/project.pbxproj:
	Marked IFProgress.h Public.


git-svn-id: svn://svn.chromium.org/blink/trunk@851 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-26 19:22:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7ab4a2be8bdfc96d03da1227e62289ee5518df4b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00ja01l598q6vh1a', 2, e'	Broke IFLoadProgress out into its own file, and added
	an init method and getters, without which this class
	is useless in Objective-C files (but strangely usable
	in Objective-C++ files, see radar 2887253).

	* WebView.subproj/IFWebController.h:
	* WebView.subproj/IFBaseWebController.mm:
	Took IFLoadProgress declaration and implementation out of here.

	* WebView.subproj/IFLoadProgress.h,
	* WebView.subproj/IFLoadProgress.mm:
	Moved IFLoadProgress declaration and implementation to here;
	added -[IFLoadProgress initWithBytesSoFar:totalToLoad:type:]
	and getters for each field.

	* WebKit.pbproj/project.pbxproj: Updated for new files


git-svn-id: svn://svn.chromium.org/blink/trunk@850 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-26 05:31:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/217cd1838d961e65a283a920fa0fbfd5cebd33e0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jb01l5iidmwpn2', 2, e'        Removed conditional check that prevent layout of iframes.  I don\'t
        understand why the check was being done.

        Tweaks to force layout of frames and iframes.


git-svn-id: svn://svn.chromium.org/blink/trunk@849 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-26 02:52:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5cce9319f318ad296efc1817718dbd97a7ca9427');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jc01l53vpld21d', 2, e'WebFoundation:
	* CacheLoader.subproj/IFURLHandle.m (-[IFURLHandle
	initWithURL:attributes:flags:]): Instantiate the right concrete
	subclass.
WebCore:
	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::slotData): Use
	-[IFURLHandle characterSet] to get the character set, instead of
	parsing it out of the header by hand.
WebKit:
	* WebView.subproj/IFWebDataSourcePrivate.mm: (-[IFWebDataSource
	_startLoading:]): Just create an IFURLHandle, since it now creates
	the proper concrete subclass automagically.


git-svn-id: svn://svn.chromium.org/blink/trunk@847 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-26 01:40:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5c96128547758ca1bf3a7610252d4a53fc627305');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jd01l5lkbvheqf', 2, e'        * MIME.subproj/IFMIMEDatabase.m: (+[IFMIMEDatabase sharedMIMEDatabase]),
        (-[IFMIMEDatabase MIMEHandlerForMIMEType:]), (setMimeHandlers):
        * MIME.subproj/IFMIMEHandler.h:
        * MIME.subproj/IFMIMEHandler.m: (-[IFMIMEHandler
        initWithMIMEType:handlerType:handlerName:]), (-[IFMIMEHandler MIMEType]),
        (-[IFMIMEHandler MIMESupertype]), (-[IFMIMEHandler MIMESubtype]),
        (-[IFMIMEHandler handlerName]), (-[IFMIMEHandler handlerType]), (-[IFMIMEHandler
        description]):

        Initial implementation of the above.

        Also recommitted the TestPlugin


git-svn-id: svn://svn.chromium.org/blink/trunk@846 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-26 00:06:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d166555a49c0dfecf65824e04843d70dc7a609fc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00je01l53fzozavv', 2, e'        Added private API to allow browser to access the DOM tree.
        Added support for the "View BOM Tree" menu.


git-svn-id: svn://svn.chromium.org/blink/trunk@845 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-25 23:59:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8828624dd5da29f6e89e2469af689ced95af9822');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jf01l5sgvz07g6', 2, e'        Added support for the "View Render Tree" menu.
i        Added private API to allow browser to access the render tree.


git-svn-id: svn://svn.chromium.org/blink/trunk@844 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-25 22:18:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c5ba2b0f5910fd87fb0c739ffc7395550f81cc16');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jg01l5w2gzh5ee', 2, e'2002-03-25  Kenneth Kocienda  <kocienda@apple.com>

        Disk cache now has accessor for path on disk

        * CacheLoader.subproj/IFURLDiskCache.h:
        * CacheLoader.subproj/IFURLDiskCache.m: (-[IFURLDiskCache path]):

        Fixed bug introduced in lazy cache code. This simple typo quite effectively
        prevented data from being written out to disk.

        * Database.subproj/IFURLFileDatabase.m: (-[IFURLFileDatabase setObject:forKey:]),
        (-[IFURLFileDatabase objectForKey:]), (-[IFURLFileDatabase
        performSetObject:forKey:]):
        * WebFoundation.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@843 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-25 20:02:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/389be660a807b3a2b84b124147ed0c827cf534f5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jh01l5wt9koeog', 2, e'2002-03-25  Kenneth Kocienda  <kocienda@apple.com>

        Fix for this bug:

        Radar 2867562 (Disk cache should write new entries lazily)

        * Database.subproj/IFURLFileDatabase.h:
        * Database.subproj/IFURLFileDatabase.m: (+[IFURLFileDatabaseOp
        opWithCode:key:object:]), (-[IFURLFileDatabaseOp initWithCode:key:object:]),
        (-[IFURLFileDatabaseOp opcode]), (-[IFURLFileDatabaseOp key]),
        (-[IFURLFileDatabaseOp object]), (-[IFURLFileDatabaseOp perform:]),
        (-[IFURLFileDatabaseOp dealloc]), (-[IFURLFileDatabase initWithPath:]),
        (-[IFURLFileDatabase dealloc]), (-[IFURLFileDatabase setTimer]),
        (-[IFURLFileDatabase setObject:forKey:]), (-[IFURLFileDatabase
        removeObjectForKey:]), (-[IFURLFileDatabase removeAllObjects]),
        (-[IFURLFileDatabase objectForKey:]), (-[IFURLFileDatabase
        performSetObject:forKey:]), (-[IFURLFileDatabase performRemoveObjectForKey:]),
        (-[IFURLFileDatabase lazySync:]), (-[IFURLFileDatabase sync]):
        * WebFoundation.pbproj/project.pbxproj:

        Simple fix to remove Objective-C include when compiling with
        a straight C compiler.

        * CacheLoader.subproj/IFURLCacheLoaderConstants.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@840 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-25 17:45:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cee12c8a42995862398cb69ee0308790a3cae273');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00ji01l5qpyozum0', 2, e'	Improved KURL performance:

	* src/kwq/kdecore/kurl.h, src/kwq/KWQKURL.mm:
	(KURL::normalizeURLString): New function to cache rewritten URL
	strings.
	(RelativeURLKeyRetainCallBack, RelativeURLKeyReleaseCallBack,
	RelativeURLKeyCopyDescriptionCallBack,
	RelativeURLKeyEqualCallBack, RelativeURLKeyHashCallBack,
	KURL::normalizeRelativeURLString): Cache results of relative URL
	resolution.
	(KURL::clearCaches): function to clear the caches so they don\'t
	grow forever.
	(KURL::KURL): Set nothing but the string at construction time.
	(KURL::isEmpty, KURL::isMalformed, KURL::hasPath, KURL::url,
	KURL::protocol, KURL::host, KURL::port, KURL::pass, KURL::user,
	KURL::ref, KURL::query, KURL::path, KURL::setProtocol,
	KURL::setHost, KURL::setPort, KURL::setRef, KURL::setQuery,
	KURL::setPath, KURL::prettyURL, KURL::copyOnWrite, KURL::parse,
	KURL::assemble): Parse into parts on demand instead.
	(KURL::swap, KURL::operator=): Handle KURL\'s new urlString field.

	* src/kwq/KWQKloader.mm: (Cache::requestImage, Cache::requestStyleSheet,
	Cache::requestScript): Don\'t redundantly check if KURL isMalformed.

	* src/kwq/KWQKHTMLPart.mm (KHTMLPart::end): Clear KURL caches at
	the end of each page load.


git-svn-id: svn://svn.chromium.org/blink/trunk@839 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-25 12:18:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/14a29f35393c53162ba7fcef04efda98cec2f7df');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jj01l5fp7rcz3u', 2, e'	* src/kwq/KWQListImpl.mm: (KWQListImpl::getFirst), (KWQListImpl::getLast):
        Apparently getLast needs to handle cases where the list is empty. Since
        getFirst didn\'t handle it either, I added a check in both cases.


git-svn-id: svn://svn.chromium.org/blink/trunk@836 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-25 06:19:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8c4b70455a5e71176844cf86e19dc670e2f567a6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jk01l59hp9uu3u', 2, e'        Add tail pointer to KWQListImpl, since that shows up on so many profiles.

	* src/kwq/KWQListImpl.mm: (KWQListImpl::KWQListPrivate::copyList): Return
        a tail pointer too.
	(KWQListImpl::KWQListPrivate::KWQListPrivate): Set up tail pointer.
        (KWQListImpl::clear): Clean tail pointer too.
	(KWQListImpl::at): Special case the tail so we don\'t walk the whole list
        when we ask for the last element.
        (KWQListImpl::insert): Update the tail node to when inserting. Also add
        a special case for adding at the end so we don\'t walk the whole list.
        (KWQListImpl::remove): Update the tail node. Also, use at() in the index-
        based remove so we don\'t ahve to replicate the logic about finding a
        node with the special case for the tail.
	(KWQListImpl::getLast): Trivial now.
        (KWQListImpl::last): Trivial now.
	(KWQListIteratorImpl::toLast): Trivial now.

	* src/kwq/KWQString.mm: (QString::operator=): Remove unneeded line of code.


git-svn-id: svn://svn.chromium.org/blink/trunk@835 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-24 23:06:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/21fc7c092a730787690922424a23accc46a4e704');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jl01l53v890247', 2, e'        A number of fixes to support non-latin1 decoding
        and font measurement/drawing.

        Changed data source to create IFURLHandle of the appropriate class.
        The prevented us from getting the response headers correctly.


git-svn-id: svn://svn.chromium.org/blink/trunk@834 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-24 22:48:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/65e105479a2679528e4f355207e83ff7865002c5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jm01l5lgo7aic9', 2, e'        Merged kdelibs from KDE 3.0 RC 3 into our 3.0 beta 2-based sources.


git-svn-id: svn://svn.chromium.org/blink/trunk@830 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-24 22:23:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/72befab5ad716462440494a421a4790a7ff4286c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jn01l5ul1ctoaa', 2, e'        Cached available families from NSFontManager.
        http://www.gamespy.com/gdc2002/okamoto went from 4.8 seconds
        to 0.7 seconds. [Do we need to worry about updating the cache if
        the available fonts change?]


git-svn-id: svn://svn.chromium.org/blink/trunk@824 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-24 19:49:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bde35964254c15fba3ae3878467eb5f2de01fcbb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jo01l56549zjqk', 2, e'        Removed erroneous comments.


git-svn-id: svn://svn.chromium.org/blink/trunk@823 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-24 18:53:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/94f3687fede91c44edb2a8478c8e25b598f85558');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jp01l5dvzn5hut', 2, e'        Fixed big leak in QString assignment operator.
        Updated comments.  Removed old fprintfs.
        Added some frame debugging logs.


git-svn-id: svn://svn.chromium.org/blink/trunk@822 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-24 17:47:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8ec80f282216683ae3c2cfeb91b4b675bb9bac7d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jq01l5fkb6zn3h', 2, e'        Fixed problem with extra empty items in menus.

	* src/kwq/KWQComboBox.mm: (QComboBox::insertItem): Add back logic that puts
        an item in a certain position. Even though this is called insertItem, the
        behavior is to replace an item at a certain position.
	* src/kwq/KWQKComboBox.mm: (KComboBox::setSize): No need to fill the
        array with empty strings; just a waste of time based on how we do things.


git-svn-id: svn://svn.chromium.org/blink/trunk@821 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-23 21:39:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a23cf8c3e130bd1a131d251583530574f1776a1d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jr01l5ur2wkuh6', 2, e'        * src/kdelibs/khtml/java/Makefile.am:
        * src/kdelibs/khtml/java/tests/.cvsignore:
        * src/kdelibs/khtml/java/tests/Makefile.am:
        Remove empty test subdirectory.

        * src/kdelibs/kjs/.cvsignore: Ignore kjs-test output.


git-svn-id: svn://svn.chromium.org/blink/trunk@820 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-23 00:31:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e665afa6df083677b891b6ab342b25675e2622d1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00js01l565a0qepf', 2, e'        * MIME.subproj/IFMIMEDatabase.h:
        Added a list of mime type that WebKit will be capable of handling


git-svn-id: svn://svn.chromium.org/blink/trunk@819 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-23 00:29:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ae0ce2391788b71db5cd2b0e9ad8dec2467a7d9b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jt01l50z1op9uv', 2, e'Top level:
	* prepare-ChangeLog: Detect added and removed files, fixing Radar
	2886161 (prepare-ChangeLog ignores added and removed files)

	Hack automake to not complain about libraries ending in .o or
	.dylib, to avoid the need to run autogen manually sometimes.

	* Updates/automake-1.5-mac-ported.diff:
	* Updates/install-automake.sh:
WebCore:
	Fix some things that were making automake complain.

	* src/kdelibs/kjs/Makefile.am:
	* src/kwq/Makefile.am:


git-svn-id: svn://svn.chromium.org/blink/trunk@813 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-22 23:41:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b0e5097d885953bc1163fbbbf85525879001d9f2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00ju01l54wgz4cv6', 2, e'Removed these autogenerated files.


git-svn-id: svn://svn.chromium.org/blink/trunk@811 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-22 23:19:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/207494d05b65c1430627b9d4f5039910b3bd6f8d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jv01l53vb333rf', 2, e'        * WebKit.pbproj/project.pbxproj:
        Added the MIME classes to WebKit.


git-svn-id: svn://svn.chromium.org/blink/trunk@810 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-22 23:11:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/936e41b79a1626102b5d5eefb3abaf0cf8599df4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jw01l53bk00a6x', 2, e'        * src/kdelibs/khtml/css/cssstyleselector.cpp: (khtml::applyRule):
        Fix boolean logic mistake from the original KDE sources.


git-svn-id: svn://svn.chromium.org/blink/trunk@808 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-22 22:05:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/30de3abcdcad8bd45ddeab83aa9f9a882fca9a0c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jx01l5sbc88msz', 2, e'        Finally giving up on the complete QString rewrite after doing it 3 times,
        Darin checks in some improvements for the old QString. This makes a QString
        be 8 bytes instead of 12, and improves a few other details. No dramatic
        speedups, but no slowdown either.

	* src/kwq/qt/qstring.h:
	* src/kwq/KWQString.mm:
	(QString::QString), (QString::~QString), (QString::operator=),
        (QString::unicode), (QString::latin1): Store the cache type inside the cache.
	(QString::copy): No need to deep copy here.
        (QString::simplifyWhiteSpace): Use CFStringInlineBuffer.
	(QString::insert): Fix single-character insertions so they don\'t create and
        destroy a mutable CFStringRef every time.
        (QString::operator+=): Call the appropriate insert function.
	(QString::flushCache): Store cache type inside cache.
        (QString::compareToLatin1): Use CFStringInlineBuffer.
	(operator==): Use CFStringInlineBuffer.
        (QConstString::QConstString): Store the cache type inside the cache.


git-svn-id: svn://svn.chromium.org/blink/trunk@807 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-22 21:07:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/24dfde360e275d7a6633be475dd8a7a17f70d571');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jy01l5r6xyrjxt', 2, e'	* WebView.subproj/IFWebView.mm: (-[IFWebView reapplyStyles]):
	Removed stale FIXME.

	Made changing font sizes work immediately (other than an
	unrelated crash).

	* src/kwq/KWQKHTMLSettings.mm:
	(KHTMLSettings::KHTMLSettings),
	(KHTMLSettings::fontSizes): Moved defaults-fetching code from
	constructor to accessor, so it doesn\'t get out of synch with
	preference changes.

	* src/kwq/khtml/khtml_settings.h: Added "mutable" keyword
	to declaration of m_fontSizes, so the other change would compile.

	* BrowserDocument.m: (-[BrowserDocument reapplyStyles:]):
	Added call to -[IFWebView setNeedsLayout:YES]. This causes
	a sporadic but frequent crashing bug when changing fonts
	and styles from the Preferences. I\'m going to hand lucky
	Richard a bug on that.


git-svn-id: svn://svn.chromium.org/blink/trunk@806 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-22 19:59:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5a212937f84de433275b89445228e6406a3c0533');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00jz01l58xwwf8qt', 2, e'Fixed reapplyStyles to use new KDE3 recalcStyle function.


git-svn-id: svn://svn.chromium.org/blink/trunk@805 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-22 18:20:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/52a100956e505f66ba5ae38b73db8c88054a7506');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00k001l5axn7ejbi', 2, e'        Fixed reapplyStyles to use new KDE3 recalcStyle function.


git-svn-id: svn://svn.chromium.org/blink/trunk@804 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-22 18:19:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8409267e39ebf45ca192dad0eeebaea436c70802');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00k101l5vf5is4yb', 2, e'2002-03-22  Kenneth Kocienda  <kocienda@apple.com>

        Moved KWQKloader to the new thread-safe API for accessing handle attributes.

        * src/kwq/KWQKloader.mm: (-[URLLoadClient IFURLHandleResourceDidBeginLoading:]),
        (-[URLLoadClient IFURLHandleResourceDidCancelLoading:]), (-[URLLoadClient
        IFURLHandleResourceDidFinishLoading:data:]), (-[URLLoadClient
        IFURLHandle:resourceDataDidBecomeAvailable:]), (-[URLLoadClient
        IFURLHandle:resourceDidFailLoadingWithResult:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@803 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-22 17:15:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4d7388ca9966e223fd52477d840b04e2c951532c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm5rf00k201l5my3ygdha', 2, e'        Fixed subtle measurement problems.  These were most evident of pages
        that had lots of rounding deviation.  My assumptions about being able to
        round glyph advances was incorrect.  We must pay the expense of a float addition,
        instead of integer addition.  This slows down our inner loop.  Oh well,
        we\'re still very fast.


git-svn-id: svn://svn.chromium.org/blink/trunk@802 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-22 17:06:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/702b8fcec9d353aaa40db588d24990ae173667a5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100if01l5edo5burv', 2, e'	Fixed the following post-merge crashers:

	2885602 - Alexander crashes when clicking on a particular link in Google groups
	2885564 - Alexander crashes on load failures

	* src/kdelibs/khtml/khtmlview.cpp: (KHTMLView::~KHTMLView): Fix
	Radar 2885602 by detaching the document from the view when the
	view is destroyed. This was making the document reference a
	destroyed view later.

	* src/kwq/KWQKHTMLPart.mm:
	(KHTMLPart::~KHTMLPart): Fix Radar 2885564 by checking if m_doc is
	NULL, since it\'s now inititally set to NULL.
	(KHTMLPart::KHTMLPart, KHTMLPart::init): Formatting tweaks.


git-svn-id: svn://svn.chromium.org/blink/trunk@801 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-22 08:44:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9cbef23f11d9b2162d836cf9a6ff81fbd8de8038');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100ig01l5yh5cn9cq', 2, e'	* WebView.subproj/IFWebView.mm: (-[IFWebView reapplyStyles]):
	Commented out call to applyChanges that no longer exists.
	This was breaking the build. Live font changes are
	temporarily broken again.


git-svn-id: svn://svn.chromium.org/blink/trunk@800 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-22 01:42:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cc963bacec1426691afd150022abc83b12ff544c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100ih01l5at5esl4t', 2, e'Merged changes from LABYRINTH_KDE_3_MERGE branch.


git-svn-id: svn://svn.chromium.org/blink/trunk@798 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-22 00:31:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a17d19c681ebf990b99548c497da08c61bbc7bdb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100ii01l56vz3vi0e', 2, e'Doh!


git-svn-id: svn://svn.chromium.org/blink/trunk@797 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-21 23:21:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4dcda448a85684cf52451a520ec254288b497fdd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100ij01l5i8qo5fnl', 2, e'header changes for setNeedsToApplyStyles: and reapplyStyles


git-svn-id: svn://svn.chromium.org/blink/trunk@796 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-21 23:19:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ac801e49283801dbe2c46951ae15fe90f4d82d9a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100ik01l5bgujqme0', 2, e'Added setNeedsToApplyStyles: and reapplyStyles.  This is for dynamic preferences
refresh support.


git-svn-id: svn://svn.chromium.org/blink/trunk@795 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-21 22:59:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f56230c4b69b0b683c0d1d2c9f8821303ba9bcd1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100il01l5yy3mkfk4', 2, e'2002-03-21  Kenneth Kocienda  <kocienda@apple.com>

        Fixed an issue with the disk cache taking too long to empty. Now, the disk cache
        is emptied on a background thread.

        * Database.subproj/IFURLFileDatabase.h:
        * Database.subproj/IFURLFileDatabase.m: (-[IFURLFileDatabase removeAllObjects]):
        * Misc.subproj/IFNSFileManagerExtensions.h:
        * Misc.subproj/IFNSFileManagerExtensions.m: (-[NSFileManager
        performRemoveFileAtPath:]), (-[NSFileManager backgroundRemoveFileAtPath:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@794 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-21 22:02:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3dffda2758e7020082260c383e2ddf9dcd6e612d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100im01l57tbx1efh', 2, e'	Cleaned up defaults registration and use. The class
	IFPreferences now registers the defaults at load time, early
	enough that Alexander doesn\'t have to register them separately
	as it had been. Also, all the defaults currently in use now
	have accessor cover methods, which Alexander will use
	exclusively.

	* WebView.subproj/IFPreferences.mm:
	New file, registers defaults and implements cover methods.

	* WebView.subproj/IFPreferences.h:
	This file existed but wasn\'t being used (contents #ifdeffed out).
	Now it declares the cover methods, but still has an #ifdeffed
	section for possible future stuff.

	* WebKit.pbproj/project.pbxproj: Updated for new file.

	* WebView.subproj/IFWebDataSource.mm:
	(+[IFWebDataSource initialize]): removed defaults-registration
	from here.

	Reworked access of WebKit preferences. Now they are always accessed through
	IFPreferences cover methods, never directly.

	* Defaults.plist,
	* PreferenceKeys.h:
	Took out all mention of WebKit preferences.

	* Preferences.subproj/ActiveContentPreferences.m: (-[ActiveContentPreferences
	toggleJavaEnabled:]), (-[ActiveContentPreferences toggleJavaScriptEnabled:]),
	(-[ActiveContentPreferences toggleJavaScriptCanOpenWindows:]),
	(-[ActiveContentPreferences updateJavaScriptViews]), (-[ActiveContentPreferences
	togglePluginsEnabled:]), (-[ActiveContentPreferences initializeFromDefaults]):
	* Preferences.subproj/TextPreferences.m: (-[TextPreferences defaultFontSize]),
	(-[TextPreferences setDefaultFontSize:]), (-[TextPreferences
	updateFontSampleField:]), (-[TextPreferences changeFont:]), (-[TextPreferences
	takeStandardFontChoiceFrom:]):
	Rewrote to use IFPreferences for all WebKit preferences.

	* WebBrowser.pbproj/project.pbxproj: version wars


git-svn-id: svn://svn.chromium.org/blink/trunk@793 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-21 19:38:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c23c950b6b23dc9834a88bf2511df42be43ecbe9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100in01l5l13owtbw', 2, e'	Added displayTitle field to IFURIEntry. This is intended to hold the string
	used in menu items, window titles, etc. Alexander uses this to cache the
	center-truncated title for pages with very long titles.

	* History.subproj/IFURIEntry.h:
	* History.subproj/IFURIEntry.m: (-[IFURIEntry setDisplayTitle:]), (-[IFURIEntry
	dictionaryRepresentation]), (-[IFURIEntry initFromDictionaryRepresentation:]):

	Made Go, Window, and Debug menus use center-truncated strings for long URLs.

	* StringTruncator.h,
	* StringTruncator.m:
	New class, donated by Albert Dul, that truncates a string to a given width,
	inserting an ellipses in the center.

	* Defaults.plist,
	* PreferenceKeys.h: New (non-UI) user default for maximum menu item width.

	* AppController.h:
	* AppController.m:
	(-[AppController setUpStringTruncator]): set the StringTruncator to use
	the menu font at the menu font size.
	(-[AppController awakeFromNib]): call setUpStringTruncator.
	(_URLMenuTitleMaxWidth): read the max width from prefs and cache it in a variable.
	(-[AppController menuTitleForURL:withTitle:]): New method, uses center-truncated
	string technology.
	(-[AppController _menuTitleForURIEntry:]): Calls menuTitleForURL:withTitle, storing
	result using -[IFURIEntry setDisplayTitle] so we never have to measure this entry
	again.
	(-[AppController insertHistoryEntry:intoMenu:atIndex:]): Use _menuTitleForURIEntry.
	(-[AppController _removeHistoryFromMenu]): added leading underscore to name (I gotta
	do this more systematically).
	(-[AppController _addHistoryToMenu]): broke out into separate method for convenience.
	(-[AppController updateHistoryInMenu]): report timing with WebKitDebug

	* BrowserDocument.m: (-[BrowserDocument displayName]):
	Use center-truncated string technology.

	* Debug/DebugUtilities.m:
	(+[DebugUtilities addBookmarkToMenu:forURL:keyEquivalent:]),
	(+[DebugUtilities loadDebugBookmarks:]):
	Use center-truncated string technology for debug bookmarks (not cached).

	* WebBrowser.pbproj/project.pbxproj: Updated for new files.


git-svn-id: svn://svn.chromium.org/blink/trunk@792 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-21 01:11:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d19d043de25091021f403ef490d42197a769646');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100io01l57hu0vfw1', 2, e'Fixed NSPopupButton performance bottleneck.


git-svn-id: svn://svn.chromium.org/blink/trunk@787 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-20 04:01:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff649da339bea0020aa781120b4f95835d4c5173');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100ip01l51cy6bg1q', 2, e'Fixed IFWebView leak.


git-svn-id: svn://svn.chromium.org/blink/trunk@785 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-20 02:15:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c5dc6335ca8569ba56ca8a9a718e501b29fd67f2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100iq01l56t5h54yn', 2, e'iChanged float width cache to use shorts.


git-svn-id: svn://svn.chromium.org/blink/trunk@783 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-19 22:57:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e939e447935a196b3fb7bd2945cbc1752d9da7d7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100ir01l52rh42ovb', 2, e'Improved cache-miss case for non-latin1 characters.


git-svn-id: svn://svn.chromium.org/blink/trunk@780 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-19 18:23:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/968b35602b810d9cf3dc9d581b6c0abc1db4f910');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100is01l5bjpo6wsw', 2, e'	* src/kwq/KWQListImpl.mm: (KWQListImpl::sort): Use insertion sort for
	small lists. Also special case for lists of size 2 and under.


git-svn-id: svn://svn.chromium.org/blink/trunk@778 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-19 00:10:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e5a5039e6f96e390af3771e7720fc526b8f42e88');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100it01l536tswxl1', 2, e'        Added comments about new layout scheme.  Cleaned up code.
        Improved core measurement routine.

	Turned off logging by default.


git-svn-id: svn://svn.chromium.org/blink/trunk@777 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-18 23:26:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/47212f1ce061150a54916d020ca8950c2704829c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100iu01l5pc63swjx', 2, e'Fix NULL case.


git-svn-id: svn://svn.chromium.org/blink/trunk@776 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-18 23:09:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d2822dabd65137806f38665dbfd8f90db27c9e63');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100iv01l5fbgi5i8u', 2, e'2002-03-18  Kenneth Kocienda  <kocienda@apple.com>

        Changed file load thread so that it tries to use a memory-mapped file to
        read from the file system instead of using CFStreams. Now more than 2x faster.

        * CacheLoader.subproj/IFFileURLProtocolHandler.h:
        * CacheLoader.subproj/IFFileURLProtocolHandler.m: (-[IFFileURLProtocolHandler
        didLoadData:]), (-[IFFileURLProtocolHandler fileLoadThread]),
        (-[IFFileURLProtocolHandler beginLoadInBackground]), (-[IFFileURLProtocolHandler
        endLoadInBackground]):

        Changed instance of memcpy to the new IFFastMemoryMove function

        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (-[IFHTTPURLProtocolHandler
        performStreamRead:]):

        Moved timeout back to 60 seconds from 240 seconds.

        * CacheLoader.subproj/IFURLLoad.m:

        NSData now reads from a mapped file instead of using NSFileManager to read the file.

        * Database.subproj/IFURLFileDatabase.m: (-[IFURLFileDatabase objectForKey:]):
        * WebFoundation.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@775 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-18 22:29:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aa438a77a491e4e3f69aa01dc84e542d88fced64');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100iw01l5ycmd7uu4', 2, e'        Redo inlining of QChar and QString and some other small speed improvements.
        Sadly, this doesn\'t seem to make things measurably faster, but I decided to
        commit my work rather than discarding it; it doesn\'t make things slower.

	* src/kwq/qt/qstring.h:
	* src/kwq/KWQChar.mm:
	* src/kwq/KWQString.mm:
        Do a lot more inlining. Also, the CFStringRef inside a QString is now never
        nil, so we can get rid of many checks for nil.

	* src/kwq/KWQFontMetrics.mm: (QFontMetrics::width): Use _rectForString() a
        couple more places.


git-svn-id: svn://svn.chromium.org/blink/trunk@774 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-18 22:10:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6db2b8489401a266e8b159c77373c2ee09fbe262');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100ix01l55yjjiipq', 2, e'Changed to use non direct _rectForString() function.   Avoids
unnecessary NSString allocation.


git-svn-id: svn://svn.chromium.org/blink/trunk@773 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-18 19:16:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f3828a5fa6c529af661e2f638ea0e6ee82f49a40');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100iy01l5nu2l722p', 2, e'	* prepare-ChangeLog: use ${cvs_command} rather than
	cvs in new update line; makes it work on appecvs-encrusted
	Jaguars again.

	Imposed age limit on history items saved to/loaded from disk.
	Sped up history loading by reversing list before processing entries.

	* History.subproj/IFWebHistoryPrivate.m:
	(+[IFWebHistoryPrivate initialize]): Register default for age limit.
	(-[IFWebHistoryPrivate _ageLimitDate]): New convenience method, returns a date older
	than any history entry that should be stored/loaded.
	(-[IFWebHistoryPrivate arrayRepresentation]): skip too-old dates.
	(-[IFWebHistoryPrivate _loadHistoryGuts:]), (-[IFWebHistoryPrivate _saveHistoryGuts:]):
	Broke into separate methods to make timing wrapper less messy. Respect age limit.
	Report number of items saved/loaded in timing message.
	(-[IFWebHistoryPrivate loadHistory]), (-[IFWebHistoryPrivate saveHistory]):
	use broken-out _guts methods.
	* WebKit.pbproj/project.pbxproj: version wars


git-svn-id: svn://svn.chromium.org/blink/trunk@772 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-18 17:40:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b0b267f4d20b703791e1157f61fc4c8e83c5b98a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100iz01l5ydaetzvq', 2, e'        * src/kwq/KWQFontMetrics.mm: (QFontMetricsPrivate::getInfo),
        (QFontMetrics::width), (QFontMetrics::_width), (QFontMetrics::boundingRect),
        (QFontMetrics::size): Don\'t make the info object right away, in case the
        metrics object is only used to compute ascent and descent.


git-svn-id: svn://svn.chromium.org/blink/trunk@771 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-18 17:34:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4e393908d56ce33dbdb28e5038d8eb397bb0ed37');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100j001l51k9jefbd', 2, e'2002-03-18  Kenneth Kocienda  <kocienda@apple.com>

        I reworked the code a bit in IFURLLoadManager so I could remove some more locking and made
        the locking that still needs to be there more fine grained.

        * CacheLoader.subproj/IFURLLoadManager.m: (-[IFURLLoadManager objectForURL:]),
        (-[IFURLLoadManager setObject:forURL:attributes:expiry:]), (-[IFURLLoadManager
        invalidateURL:]), (-[IFURLLoadManager clearAllCaches]), (-[IFURLLoadManager
        cancelRequestWithURLHandle:]), (-[IFURLLoadManager cancelAllRequestsWithURL:]),
        (-[IFURLLoadManager cancelAllRequestsInGroup:]):

        Some small code clean ups here.

        * Database.subproj/IFURLFileDatabase.m: (-[IFURLFileDatabase initWithPath:]),
        (-[IFURLFileDatabase setObject:forKey:]), (-[IFURLFileDatabase
        removeObjectForKey:]), (-[IFURLFileDatabase objectForKey:]), (-[IFURLFileDatabase
        open]):


git-svn-id: svn://svn.chromium.org/blink/trunk@770 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-18 15:34:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e2e98efc8e4b04b91ab5a29e6c37c77db3470352');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100j101l5hxxdbx9t', 2, e'Implementation of replacement code for NSLayoutManager.  Huge
performance gains.


git-svn-id: svn://svn.chromium.org/blink/trunk@768 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-18 05:45:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e5460c8c8dcc22db2c3530bde30a10746f69a4fc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100j201l5j9qvedad', 2, e' i        Fixed scroll bar flash.  Add provisional view to go along with
        provisional widget.

        Temporary hack to bypass spin-o-death problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@767 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-17 03:22:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b68ef6d92a48880c63196f78bfca90df3b365c71');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100j301l5iettqjne', 2, e'iFixed error handling.  Removed ObjC code for url handle client from KHTMLPart.
Need to sanitize KHTMLPart further.

Changed stop to use stopLoading on frame instead of datasource.

Fixed error handling.  Fixed most frame loading problems.
Cleaned up frame state machine.
Moved IFMainURLHandleClient from WebCore.


git-svn-id: svn://svn.chromium.org/blink/trunk@765 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-17 02:08:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/31135073e33e95372d03c510374ad668feb67f08');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100j401l5tgjyqc3i', 2, e'iFixed crasher initializing items in popup button.
Increased fragment cache initial size.


git-svn-id: svn://svn.chromium.org/blink/trunk@756 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-16 01:00:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/89b81ac0fc3e3ef04018ffbb76573fbf12559fcf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100j501l59f9vaocv', 2, e'Made scrolling a little nicer by sending an updateEvent before NPP_SetWindow instead of after


git-svn-id: svn://svn.chromium.org/blink/trunk@755 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-16 00:51:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/164e494980298201de5e9154f519951a628391ca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100j601l58gf3ko2y', 2, e'	Impose default-based limit (1000 by default) on number of history items
	saved/loaded. Also instrumented timing for saving/loading history.

	* History.subproj/IFWebHistoryPrivate.m:
	(+[IFWebHistoryPrivate initialize]): register default for WebKitHistoryItemLimit.

	(-[IFWebHistoryPrivate arrayRepresentation]): respect limit
	(-[IFWebHistoryPrivate loadHistory]): respect limit, time the load.
	(-[IFWebHistoryPrivate saveHistory]): time the save.

	* WebKit.pbproj/project.pbxproj: version wars

	* Debug/DebugUtilities.m: (-[IFWebHistory populateHistoryWithTestData:]):
	Changed number of items generated by Populate History menu item to 1000.


git-svn-id: svn://svn.chromium.org/blink/trunk@754 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-15 23:59:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5964532d51a1b241ce05ecad933f6adc42e4d35a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100j701l5a7ci52aw', 2, e'iMore string usage optimizations.  Got another 10% or so.


git-svn-id: svn://svn.chromium.org/blink/trunk@753 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-15 23:08:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c3cde0eab2ccfa6001ab843e6c79ca8287659acb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm4d100j801l5fvq0opkx', 2, e'	Fixed bug where history entry images weren\'t showing up, except by historical
	accident in some cases.
	Made IFWebHistory no longer be a singleton class; made the file location
	be passed in at init time.

	* History.subproj/IFURIEntry.m: (-[IFURIEntry image]): Get the default image
	a way that works with frameworks; only get the default image once.

	* History.subproj/IFWebHistory.h:
	* History.subproj/IFWebHistory.m:
	(+[IFWebHistory webHistoryWithFile:]): New convenience constructor that returns
	a new IFWebHistory object with a particular disk file.
	(-[IFWebHistory initWithFile:]): New init method for specifying a disk file.
	(-[IFWebHistory file]): New accessor for file path.
	(-[IFWebHistory loadHistory]),
	(-[IFWebHistory	saveHistory]): Use file accessor.
	Also removed the methods that were computing a file path to use.

	* History.subproj/IFWebHistoryPrivate.h:
	* History.subproj/IFWebHistoryPrivate.m:
	(-[IFWebHistoryPrivate initWithFile:]),
	(-[IFWebHistoryPrivate dealloc]), (-[IFWebHistoryPrivate file]),
	(-[IFWebHistoryPrivate loadHistory]), (-[IFWebHistoryPrivate saveHistory]):
	Guts of implementation for file-manipulation stuff.

	* Resources/url_icon.tiff: ran tiffUtil to premultiply the alpha channel. This
	was spewing error messages that I didn\'t notice before because they only
	happen on Puma and I was on Jaguar.

	* WebKit.pbproj/project.pbxproj: not sure what change I made, maybe version wars.

	Made app\'s IFWebHistory object come from AppController rather than using
	the now-obsolete sharedWebHistory; made Populate History Debug item create
	a large number of items so I can test the performance of loading them; added
	Erase All History item to Debug menu for convenience.

	* AppController.h:
	* AppController.m:
	(GetRefPath), (FindFolderPath),
	(-[AppController _computeHistoryFilePath]): New methods, moved from
	IFWebHistory, to determine the file path for the History file.

	(-[AppController webHistory]): new method to get at app-wide IFWebHistory.

	(-[AppController awakeFromNib]), (-[AppController dealloc]),
	(-[AppController applicationWillTerminate:]),
	(-[AppController insertItemsForDate:intoMenu:atIndex:withRunningTotal:limit:]),
	(-[AppController updateHistoryInMenu]): Updated to use [AppController webHistory]
	instead of [IFWebHistory sharedWebHistory]

	* BrowserDocument.m: (-[BrowserDocument addHistoryEntryForCurrentPage]):
	Updated to use [AppController webHistory] instead of [IFWebHistory sharedWebHistory]

	* Debug/DebugUtilities.m:
	(+[DebugUtilities createDebugMenu]): Added Erase All History and separator.
	(-[IFWebHistory	populateHistoryWithTestData:]): Changed approach. It used to read
	a few valid URLs from a disk file; now it creates a lot of bogus ones.

	* Debug/FakeHistory.plist: Removed this list now that Populate History computes
	items from scratch.

	* GlobalHistory.m: (+[GlobalHistory sharedGlobalHistory]),
	(-[GlobalHistory webHistory]), (-[GlobalHistory init]),
	(-[GlobalHistory outlineView:child:ofItem:]),
	(-[GlobalHistory outlineView:numberOfChildrenOfItem:]),
	(-[GlobalHistory receivedEntriesChangedNotification:]),
	(-[GlobalHistory removeSelectedItems:]), (-[GlobalHistory removeAll:]):
	Updated to use AppController\'s webHistory instead of [IFWebHistory sharedWebHistory]

	* WebBrowser.pbproj/project.pbxproj: updated for removed file


git-svn-id: svn://svn.chromium.org/blink/trunk@752 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-15 22:17:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/29e26645ee0487e7f89fcfa9241aab4fe6563c7a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hl01l5zbid1qid', 2, e'Oops again.


git-svn-id: svn://svn.chromium.org/blink/trunk@751 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-15 19:09:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/00987e90417e926ee614b59cadbb1bf064ee1dad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hm01l561j10si7', 2, e'        * src/kwq/KWQFontMetrics.mm: (QFontMetrics::descent): Oops, removed a - sign
        that I should have left in there.


git-svn-id: svn://svn.chromium.org/blink/trunk@750 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-15 19:08:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e16c44e323ec6c9899f52729db84057aa100df5b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hn01l5vesf1fe0', 2, e'        Some more optimizations. Carves another 6% or so off of NSView.html.

        * src/kwq/KWQChar.mm: (QChar::QChar): Handle characters > 0x7F correctly.
        (QChar::cell): Remove unnecessary & operation.
        (QChar::row): Remove unnecessary & operation.
        (QChar::latin1): Do a simpler check rather than calling row().
        (QChar::operator char): Do the same work as latin1 inline.
        (operator==) (operator!=), (operator>=), (operator>), (operator<=), (operator<):
        Handle characters > 0x7F correctly.

        * src/kwq/KWQFontMetrics.mm: (QFontMetrics::ascent), (QFontMetrics::descent):
        Cache the ascent and descent rather than computing it each time we are called.


git-svn-id: svn://svn.chromium.org/blink/trunk@749 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-15 18:30:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2992d3f2c81952b43bd9166649aae37b948ec463');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300ho01l559eawk7n', 2, e'        Optimizations for creating empty QFont objects, measuring certain single
        characters, and copying QFontMetrics objects. Makes loading NSView.html about
        18% faster.

        * src/kwq/qt/qfontmetrics.h: Use a ref-counted pointer so QFontMetrics objects
        for the same QFont can share data.

        * src/kwq/KWQFont.mm: (loadDefaultFont): New, used to load the default
        font used for default-initialized QFont objects.
        (QFont::_initializeWithFont): Don\'t recompute theh family name, point size, or
        traits.
        (QFont::setFamily), (QFont::setPixelSizeFloat), (QFont::setWeight),
        (QFont::setItalic),: autorelease the font, as we do in the destructor, since
        someone could still be using the result of getFont.
        (QFont::operator==): Add a comment about a problem with this function.

        * src/kwq/KWQFontMetrics.mm: (QFontMetrics::QFontMetrics): Add a refCount, and
        a cached width for space and lower-case "x", the two single characters that
        are often measured.
        (QFontMetrics::~QFontMetrics): Simplify.
        (QFontMetrics::operator=): Just copy the underlying data pointer rather than
        making our own KWQLayoutInfo object.
        (QFontMetrics::baselineOffset): Make const.
        (QFontMetrics::width): Add the caching for space and "x".


git-svn-id: svn://svn.chromium.org/blink/trunk@748 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'darin', '2002-03-15 15:49:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d5a5f588ca46e1e8bf045a7f27309294718f7101');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hp01l54g4b7djj', 2, e'        Optimizations that remove unnecessary cfstring allocations of local scope
        strings.  QString::gstring_toQString and QString::gstring_toCFString were
        added to simplify the reuse of a static CFString as the backing store for
        local QStrings.  Hit the top two problem areas.  Many more gains to be had
        by using this technique.


git-svn-id: svn://svn.chromium.org/blink/trunk@747 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-15 13:57:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d30a3026b060843d2897cfe3afdd4a02a4fd4075');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hq01l5sizzheu7', 2, e'        Fixed another problem in QString::find().
        Added dangerous but fast string allocation optimization to render_text.cpp.


git-svn-id: svn://svn.chromium.org/blink/trunk@746 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-15 03:46:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8c71a8e1325e66a05fbb75165db41ea4eb46313a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hr01l523mnqdf2', 2, e'Fixed optimized find() implementation.  I had the sense of caseSensitive inverted.


git-svn-id: svn://svn.chromium.org/blink/trunk@744 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-15 01:16:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b0e0fedea99788bf46a54a23cbef6ef83703fb67');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hs01l5vsrc53yr', 2, e'Fixed compile error.:wq


git-svn-id: svn://svn.chromium.org/blink/trunk@742 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-15 00:17:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/539c3ddca70ac396e9af749ae8b268f5cac18d25');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300ht01l5z9778ymx', 2, e'Attempted implementation of space optimizations.  Disabled for now.


git-svn-id: svn://svn.chromium.org/blink/trunk@741 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-15 00:02:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/381310d1a6db7993f18227975fd2ac5a6cbbfe0f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hu01l5f2fikbih', 2, e'	Made history store its data in ~/Library/Application Support/<app name>/History.plist

	* History.subproj/IFWebHistoryPrivate.m:
	(GetRefPath), (FindFolderPath): Functions copied from NSSavePanel.m for using
	FindFolder in a POSIX sort of way. Ken plans to put some version of this in
	IFNSFileManagerExtensions eventually, which I\'ll switch to later.
	(-[IFWebHistoryPrivate historyFilePath]): Construct the path using FindFolderPath
	and the file name.
	(-[IFWebHistoryPrivate loadHistory]),
	(-[IFWebHistoryPrivate saveHistory]): failure case debug messages are now more specific.


git-svn-id: svn://svn.chromium.org/blink/trunk@740 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-14 22:36:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/af62bdeb91901aadfa6baefb3c951d29bf1c4c38');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hv01l5n5vnmygb', 2, e'2002-03-14  Kenneth Kocienda  <kocienda@apple.com>

        Fix for this bug:

        Radar 2877924 ("/Users is not a directory" warning when /Users is a link to a directory)

        In addition, the URL file database is now much more "optimistic" about creating directories and files.
        The result should be a whole lot less chatter on fs_usage.

        * Database.subproj/IFURLFileDatabase.m: (-[IFURLFileDatabase setObject:forKey:]),
        (-[IFURLFileDatabase open]):
        * Misc.subproj/IFNSFileManagerExtensions.h:
        * Misc.subproj/IFNSFileManagerExtensions.m: (-[NSFileManager
        createFileAtPathWithIntermediateDirectories:contents:attributes:directoryAttribut
        es:]), (-[NSFileManager createIntermediateDirectoriesForPath:attributes:]),
        (-[NSFileManager fileExistsAtPath:isDirectory:traverseLink:]):
        * WebFoundation.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@739 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-14 20:53:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/167c59f2dffd319e0a1da12bfceb38901b6a8a9e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hw01l5tbek53jb', 2, e'Implemented a progressively cache fragment.


git-svn-id: svn://svn.chromium.org/blink/trunk@738 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-14 20:30:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4c20a7c14a1480c6bac41fe3131474a11dcf97da');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hx01l519lpkjy3', 2, e'Updated debugging code.  Disabled optimized QString::find.


git-svn-id: svn://svn.chromium.org/blink/trunk@737 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-14 03:09:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/33761b9b6281edaae032e79d2aec03075b81b83a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hy01l5en4b434l', 2, e' Added support to stop plugins in removeFromSuperview.


git-svn-id: svn://svn.chromium.org/blink/trunk@736 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-14 02:07:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/373598aa9a82c2d5d526ebc0002fab9c4f4fc6e8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300hz01l5548k55tl', 2, e'Removed fprintfs.


git-svn-id: svn://svn.chromium.org/blink/trunk@735 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-14 02:03:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7bf7cd3a1564b104a1b629491adcf76b2b57bb4f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300i001l526j5pz6k', 2, e'- Added support for the OpenURL AppleScript command
- Added stubs for ShowFile and OpenBookmark AppleScript commands
- Added a stub for "start" in IFPluginView
- Made IFPluginView observe NSWindowWillCloseNotification


git-svn-id: svn://svn.chromium.org/blink/trunk@734 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-14 01:39:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/609ec17cf5464bf6600d9b558d2391b3d51dc207');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300i101l5au3oe8n6', 2, e'Fixed open window w/ no open windows crasher.


git-svn-id: svn://svn.chromium.org/blink/trunk@732 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-14 00:30:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d384a74cb16da6d3d3839d6aa08899a751393d7d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300i201l5bmjkj2s1', 2, e'Added font cache.


git-svn-id: svn://svn.chromium.org/blink/trunk@731 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-13 23:49:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/27a636caf5f221d77f7df54b1308e0bcd386ce6d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300i301l5dgtogal2', 2, e'Re-worked fragment cache to minimize memory usage.


git-svn-id: svn://svn.chromium.org/blink/trunk@730 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-13 18:34:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d3b47af9fc76fa25a382812a438b84334f9279f0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300i401l5vcuhxonp', 2, e'2002-03-13  Kenneth Kocienda  <kocienda@apple.com>

	Labyrinth:

        Rolled back change in never-expires-test since my change to WFTool got hammered
        by cvs/applecvs last week and I can\'t yet take advantage of the new options
        processing code that should be there, but isn\'t. Arrrrgghh!

        * Tests/WebFoundation-CacheLoader/never-expires-test:

        Updated for new didRedirectToURL callback. This is a partial fix for this bug:
        Radar 2879234 (Redirected URLs not used for subsequent GETs)

        * Tests/WebFoundationC/ifurlhandlec-test.c: (ResourceDidRedirectToURL), (run):
        * Tools/wftool/WFTool.m: (-[WFTool IFURLHandle:didRedirectToURL:]):


	WebCore:

        Updated for new didRedirectToURL callback. This is a partial fix for this bug:
        Radar 2879234 (Redirected URLs not used for subsequent GETs)

        * src/kwq/KWQKHTMLPart.mm: (-[KHTMLPartLoadClient
        IFURLHandle:didRedirectToURL:]):
        * src/kwq/KWQKloader.mm: (-[URLLoadClient IFURLHandle:didRedirectToURL:]):


	WebFoundation:

        Updated for new didRedirectToURL callback. This is a partial fix for this bug:
        Radar 2879234 (Redirected URLs not used for subsequent GETs)

        * CacheLoader.subproj/IFHTTPURLHandle.h:
        * CacheLoader.subproj/IFHTTPURLProtocolHandler.h:
        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (-[IFHTTPURLProtocolHandler
        initWithURLLoad:]), (-[IFHTTPURLProtocolHandler dealloc]),
        (-[IFHTTPURLProtocolHandler createHTTPRequest]), (-[IFHTTPURLProtocolHandler
        performHTTPHeaderRead:]), (-[IFHTTPURLProtocolHandler setRedirectedURL:]),
        (-[IFHTTPURLProtocolHandler setResponseHeaders:]), (-[IFHTTPURLProtocolHandler
        shouldCacheResourceData]):
        * CacheLoader.subproj/IFURLCacheLoaderConstantsPrivate.h:
        * CacheLoader.subproj/IFURLHandle.h:
        * CacheLoader.subproj/IFURLHandle.m: (_sendDidRedirectToURLMessages),
        (-[IFURLHandleInstanceVariables initWithHandle:]),
        (-[IFURLHandleInstanceVariables prepareCallbacks]),
        (-[IFURLHandleInstanceVariables dealloc]), (-[IFURLHandleSynchronousClient
        IFURLHandle:didRedirectToURL:]), (-[IFURLHandle finalURL]), (-[IFURLHandle
        redirectedURL]), (-[IFURLHandle didRedirectToURL:]), (-[IFURLHandle
        setFinalURL:]), (-[IFURLHandle notifyClientsBackgroundLoadFailed]),
        (-[IFURLHandle notifyClientsURLRedirected]):
        * CacheLoader.subproj/IFURLHandleC.h:
        * CacheLoader.subproj/IFURLHandleC.m: (IFURLHandleDidRedirectToURL),
        (IFURLHandleGetFinalURL), (IFURLHandleGetRedirectedURL):
        * CacheLoader.subproj/IFURLHandleCallBackClient.m: (-[IFURLHandleCallBackClient
        IFURLHandle:didRedirectToURL:]):
        * CacheLoader.subproj/IFURLHandleClient.h:
        * CacheLoader.subproj/IFURLHandlePrivate.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@729 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-13 17:27:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/60d7485d468d96ca774e44501105d2f338fa8d7f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300i501l5291a09qq', 2, e'	Added support for persistent history. Following in the grand footsteps of
	Ken, it currently stores data in /tmp/alexander.history

	* Resources/url_icon.tiff: default IFURIEntry image, moved here from WebBrowser.
	* WebKit.pbproj/project.pbxproj: Updated to add image file.

	* History.subproj/IFURIEntry.m:
	(-[IFURIEntry image]):
	If there\'s no explicit image, return the default one.

	(-[IFURIEntry dictionaryRepresentation]): return a representation suitable
	for saving to an xml file.
	(-[IFURIEntry initFromDictionaryRepresentation:]): init given the representation
	returned from dictionaryRepresentation.

	* History.subproj/IFWebHistory.h:
	* History.subproj/IFWebHistory.m: (-[IFWebHistory saveHistory]):
	Added saveHistory call.

	* History.subproj/IFWebHistoryPrivate.h: added saveHistory call.

	* History.subproj/IFWebHistoryPrivate.m:
	(-[IFWebHistoryPrivate arrayRepresentation]): return a representation suitable for
	saving to an xml file.
	(-[IFWebHistoryPrivate historyFilePath]): return location of history on disk.
	(-[IFWebHistoryPrivate loadHistory]): read history from disk.
	(-[IFWebHistoryPrivate saveHistory]): write history to disk.

	(-[IFWebHistoryPrivate init]): call loadHistory
	(-[IFWebHistoryPrivate removeEntryForURLString:]): changed NSLog to WEBKITDEBUG

    Save history before quitting, and associated tweaks.

	* AppController.m:
	(-[AppController awakeFromNib]): register as application delegate
	(-[AppController applicationWillTerminate:]): save history before app terminates

	* BrowserDocument.m:
	(-[BrowserDocument addHistoryEntryForCurrentPage]): Don\'t set an image here;
	IFURIEntry now handles the image (at least for the default case)

	* Resources/Images/url_icon.tiff: Moved this image to WebKit.
	* WebBrowser.pbproj/project.pbxproj: Updated for removed file.


git-svn-id: svn://svn.chromium.org/blink/trunk@727 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-13 03:07:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3ade10933ca445d773d46cb1bc663103b47ec45a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300i601l58hyt0iwb', 2, e'Optimized implementation of compareToLatin1() and find() to not allocate
additional CFString.


git-svn-id: svn://svn.chromium.org/blink/trunk@726 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-13 02:24:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/586d29ad53d84c1435225987fe9cb05e150209d1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300i701l5t8yoojd6', 2, e'i        Fixed call back ordering problems when an error occurs.
        More twiddling with scroll bars.
Re-implemented QPainter::drawTiledPixmap to use core graphics patterns.  Currently this depends
on SPI.  The performance boost is huge osx.macnn.com draws 40x faster now.


git-svn-id: svn://svn.chromium.org/blink/trunk@725 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-11 22:00:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ba21a94e5aa517aa86598829390ae239eabf2af6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300i801l5oz2fpale', 2, e'2002-03-09  Ken Kocienda  <kocienda@apple.com>

        Fixed this bug:
        Radar 2859368 (IFURLFileDatabase must set correct permissions when creating files)

        The IFURLFileDatabase now creates directories and files with the correct permissions.

        * Database.subproj/IFURLFileDatabase.m: (+[IFURLFileDatabase initialize]),
        (-[IFURLFileDatabase setObject:forKey:]), (-[IFURLFileDatabase open]):
        * Misc.subproj/IFNSFileManagerExtensions.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@724 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-03-09 20:59:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/91b17c5e1ceb9eb4cb2abb6f9abc7970a624d086');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300i901l5t9hbokwd', 2, e'Re-implemented KWQFont to lazily request font from NSFontManager instead of
user converFont:.  I did this after sampling loads of http://www.apple.com/retail/theater
and found that converting fonts was very expensive.

        Fixed scroll bar recursion problems.
Took a long time to find a stupid typo bug in [IFBaseWebController _frameForDataSource:fromFrame:]
that overwrote an input parameter that should been a local variable.  This caused a crash the
second time a page that contained an iframe was loaded.


git-svn-id: svn://svn.chromium.org/blink/trunk@723 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-09 01:25:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/49bb358181ccae9f099f9ba8f3bad433886d4cf3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300ia01l5qv4mnlnx', 2, e'        Instrumentation of the text fragment metrics cache.
        Added _FAST_QSTRING_TO_NSSTRING.


git-svn-id: svn://svn.chromium.org/blink/trunk@720 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-08 20:58:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2889d6b4abd6dab60c4c6848090d17af6ae6fb87');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300ib01l5sdgzuqfl', 2, e'	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::openURL), (KHTMLPart::end):
	Changed openURL() and end() messages to use debug levels. You
	can see these by setting your WebKitLogLevel mask to include
	0x00000008

    Changed all use of NSLog to use WebKitDebug stuff instead. You can see all
    of these by setting your WebKitLogLevel mask to include 0x01000000

	* BrowserDocument.m: (-[BrowserDocument saveScrollPosition]), (-[BrowserDocument
	restoreScrollPosition]), (-[BrowserDocument goToURL:withLoadType:]),
	(-[BrowserDocument receivedProgress:forResource:fromDataSource:]),
	(-[BrowserDocument receivedError:forResource:partialProgress:fromDataSource:]),
	(-[BrowserDocument statusTextForDataSource:]), (-[BrowserDocument
	locationWillChangeTo:forFrame:]), (-[BrowserDocument
	locationChangeStartedForFrame:]), (-[BrowserDocument
	locationChangeCommittedForFrame:]), (-[BrowserDocument
	locationChangeDone:forFrame:]), (-[BrowserDocument
	receivedPageTitle:forDataSource:]), (-[BrowserDocument
	serverRedirectTo:forDataSource:]), (-[BrowserDocument
	createFrameNamed:for:inParent:]), (-[BrowserDocument mainFrame]),
	(-[BrowserDocument frameForDataSource:]):

	* WebBrowser.pbproj/project.pbxproj: Moved recently-added files to alpha
	ordered spot in file list.


git-svn-id: svn://svn.chromium.org/blink/trunk@719 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-08 17:06:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/43f253850c4d65883b3e59de9727d470fa55713d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300ic01l50kphzmsj', 2, e'	* Misc.subproj/IFError.m: (-[IFError errorDescription]):
	Removed a line of debugging spam. Oops!

    Made an untitled window appear at launch for Jaguar by adding a bogus
    Editor document type.

	* WebBrowser.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@718 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-08 00:50:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d353ef1deb515cd17141b86c5fc2fd19b2a62075');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300id01l59d3e7btq', 2, e'
        Fixed occasional scroll bar problem in iframes.
        Fixed occasional problem removing scroll bar onb main page.


git-svn-id: svn://svn.chromium.org/blink/trunk@717 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-08 00:44:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/23dfb7ef1c2f2d2c29221190b0b2846d043f09ce');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm30300ie01l5t39xnzfu', 2, e'	* CacheLoader.subproj/IFURLCacheLoaderConstants.h:
	Fixed two typos in constant names (not used anywhere).

	* WebFoundation.pbproj/project.pbxproj: Jaguar/Puma
	version wars.

	First pass at adding error strings to IFError. They are
	properly localized, but they don\'t include any parameters,
	and the strings haven\'t been made user-friendly.

	* Misc.subproj/IFError.m:
	(+[IFError initialize]): New method, set up a dictionary
	mapping error code to localized error string.
	(-[IFError errorDescription]): Read string from dictionary.

	* English.lproj/IFError.strings: New file, auto-generated
	by the genstrings tool.

	* WebKit.pbproj/project.pbxproj: Removed stray -F /symroots.
	This shouldn\'t have been in there since symroots location is
	no longer hardwired.

	* BrowserDocument.m: (-[BrowserDocument locationChangeDone:forFrame:]):
	Make error message include errorDescription. This is not final UI, have
	no fear. Useful for debugging though.

	* WebBrowser.pbproj/project.pbxproj: Jaguar/Puma version wars


git-svn-id: svn://svn.chromium.org/blink/trunk@716 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-08 00:04:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/739778ac50bba10feff57d9b75c90bdb4bc8e28d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00gr01l5fs4rdtnf', 2, e'Included PARAM tags as arguments to WCJavaAppletWidget


git-svn-id: svn://svn.chromium.org/blink/trunk@715 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-07 23:31:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73232c1293af50a086ca2926cbef8a669870e6cb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00gs01l5lclts4jx', 2, e'Added a tracking rect to IFPluginView so that we can send cursor events


git-svn-id: svn://svn.chromium.org/blink/trunk@714 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-07 22:11:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/80da4d08ef3f2ca3b4a4a92c034a5c4dd5e153a5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00gt01l54qxnil5a', 2, e'	* src/kwq/kwqdebug.h: New debug level constants, kept in
	synch with WebKitDebug.h

	* src/kwq/KWQKHTMLPart.mm: (-[KHTMLPartLoadClient
	IFURLHandleResourceDidBeginLoading:]), (-[KHTMLPartLoadClient
	IFURLHandleResourceDidCancelLoading:]), (-[KHTMLPartLoadClient
	IFURLHandleResourceDidFinishLoading:data:]), (-[KHTMLPartLoadClient
	IFURLHandle:resourceDataDidBecomeAvailable:]), (-[KHTMLPartLoadClient
	IFURLHandle:resourceDidFailLoadingWithResult:]):
	* src/kwq/KWQKloader.mm: (-[URLLoadClient IFURLHandleResourceDidBeginLoading:]),
	(-[URLLoadClient IFURLHandleResourceDidCancelLoading:]), (-[URLLoadClient
	IFURLHandleResourceDidFinishLoading:data:]), (-[URLLoadClient
	IFURLHandle:resourceDataDidBecomeAvailable:]), (-[URLLoadClient
	IFURLHandle:resourceDidFailLoadingWithResult:]), (Loader::load),
	(Loader::servePendingRequests):
	* src/kwq/KWQView.mm: (-[KWQHTMLView layout]), (-[KWQHTMLView drawRect:]):
	Changed numeric debug levels to symbolic ones.

	Defined more symbolic debug-level constants; specified ranges for use by
	different software levels (core/kit/client==browser) to enable easier
	isolation of debug messages.

	* Misc.subproj/WebKitDebug.h: #defined new debug levels for existing uses;
	renamed a couple.

	* Misc.subproj/WebKitDebug.m: (WebKitLog), (WebKitDebug): Updated for
	renamed debug levels.

	* WebView.subproj/IFBaseWebController.mm:
	(-[IFBaseWebController receivedProgress:forResource:fromDataSource:]):
	* WebView.subproj/IFWebDataSourcePrivate.mm: (-[IFWebDataSource _stopLoading]):
	* WebView.subproj/IFWebView.mm: (-[IFWebView layout]),
	(-[IFWebView setNeedsDisplay:]), (-[IFWebView setNeedsLayout:]), (-[IFWebView drawRect:]),
	(-[IFWebView mouseDragged:]):
	* WebView.subproj/IFWebViewPrivate.mm: (-[IFWebView _resetView]):
	Changed numeric debug levels to symbolic ones.

	* WebKit.pbproj/project.pbxproj: Jaguar/Puma version war.


git-svn-id: svn://svn.chromium.org/blink/trunk@713 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-07 19:36:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d4ef48febdc2c27ca5e547f59b21e35b23c132b2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00gu01l5oh9obp3i', 2, e'Fixed break for Jersey test. Removed a warning that was only affecting sheridan


git-svn-id: svn://svn.chromium.org/blink/trunk@711 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-07 19:19:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/32c7d98c45bf7f6c04c3cd1c2d068e63e5e7f78e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00gv01l5wtwxg1a4', 2, e'Intentional break to test jersey


git-svn-id: svn://svn.chromium.org/blink/trunk@710 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-07 19:14:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/544ed49fd71e75c78f529f156637a14439ddc9e0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00gw01l5evwhxeod', 2, e'
Lots of little changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@709 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-07 19:14:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c9da658b2518cbe75a3f0db7c4a08102af7f8c39');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00gx01l589se7tzn', 2, e'	Removed unused file in kdelibs that I missed in previous commit.


git-svn-id: svn://svn.chromium.org/blink/trunk@707 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2002-03-07 14:55:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1ad53e2a1d7b99b7f5e0e9a6c5c6d92de016e10d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00gy01l57orgf5df', 2, e'	Removed unused files in kdelibs.


git-svn-id: svn://svn.chromium.org/blink/trunk@706 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2002-03-07 06:38:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/04878295966c76f3a1d9b5e2ac988eb48d004701');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00gz01l5lquu565q', 2, e'	* Misc.subproj/IFError.h: Removed stray but evil import.

	* BrowserDocument.m: (-[BrowserDocument locationChangeStartedForFrame:]),
	(-[BrowserDocument locationChangeCommittedForFrame:]):
	Commented back in some error logging stuff now that things are mostly working.
	(-[BrowserDocument locationChangeDone:forFrame:]): Added cheesy hack to show
	load errors; will refine soon.


git-svn-id: svn://svn.chromium.org/blink/trunk@705 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-07 01:57:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e35e7a70229c885fc76b0aa6d7e7a1f812beada1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00h001l5509i1wrg', 2, e'Plugins can now set status bar text


git-svn-id: svn://svn.chromium.org/blink/trunk@704 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-06 21:10:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/301a02af47da6a4ed0f52bc9c347c2b07c9a0e20');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00h101l596k2c4wv', 2, e'Fixed extern "C" horkage.


git-svn-id: svn://svn.chromium.org/blink/trunk@703 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-06 18:47:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bfd321ab4a2529a631c96bf1e761ccacf46a872d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00h201l5sggdmji0', 2, e'	Added APPLE_CHANGES define for compiling our changes to kdelibs.

	Cleaned up all our changes to kdelibs, removed bitrot, and replaced use
	of _KWQ_ with new APPLE_CHANGES define.


git-svn-id: svn://svn.chromium.org/blink/trunk@702 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2002-03-06 17:47:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3f3c5038675c7d71ac0700c8b6c58d74a0566a40');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00h301l5lxagn1a1', 2, e'	* src/kwq/KWQKURL.mm: (KURL::KURL): If resolving a relative URL
	fails, assume it\'s absolute and possibly malformed, rather than
	appending it to the path of the previous URL. This fixes a
	CPU-spinning hang that John and Richard found.


git-svn-id: svn://svn.chromium.org/blink/trunk@701 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-06 15:06:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b3385e6bf92d333a95b9db59093a763792e16a38');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00h401l5bzipvd8d', 2, e'Top level:
	Install NSStringBuffer.h from Jaguar on Puma systems, so WebKit
	can compile with -Werror once again. Fixes:

	Radar 2867700 (Need to install Jaguar NSStringBuffer.h on Puma so
	we can build WebKit with -Werror again)

	* Updates/NSStringBuffer.h-jaguar:
	* Updates/install-NSStringBuffer.sh:
	* Updates/update:
WebKit:
	* WebKit.pbproj/project.pbxproj: Turn on -Werror.


git-svn-id: svn://svn.chromium.org/blink/trunk@700 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-06 13:37:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2063fa952e0256f3a1146b4a0f3f50e816f57e2d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00h501l5yjdykcwa', 2, e'        Streamlined layout and drawing.  We now do the minimum amount of drawing and
        layout.


git-svn-id: svn://svn.chromium.org/blink/trunk@699 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-06 02:06:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/515036d9fcf07662a03e524b19d2a93dbe7ecc87');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00h601l5egqzicje', 2, e'Attempt to fix symbol errors.


git-svn-id: svn://svn.chromium.org/blink/trunk@698 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-06 01:13:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6ae1c85d6aa336c593d6e68bee403db75eade437');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00h701l58ozsexg3', 2, e'    Replaced mechanism for setting array of 7 font sizes from user\'s chosen
    font size with a far simpler one that gets better results.

	* Preferences.subproj/TextPreferences.m:
	(-[TextPreferences defaultFontSize]): Renamed from mediumFontSize
	(-[TextPreferences setDefaultFontSize:]): Renamed from setMediumFontSize;
	now does everything by computation, no table involved.
	(-[TextPreferences updateFontSampleField:]), (-[TextPreferences changeFont:]):
	updated for name changes.
	* Defaults.plist: Tweak default sizes so they match what algorithm returns.

	* WebView.subproj/IFWebDataSource.mm: (+[IFWebDataSource initialize]):
	Tweak default font sizes so they match what algorithm used in Alexander
	returns.


git-svn-id: svn://svn.chromium.org/blink/trunk@697 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-06 00:46:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/413b014073103e7b7dd53bfbc5726dd1766038f7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00h801l5u72o889f', 2, e'        Pass errors correctly to browser.
        Removed old notification code.
        Added support for IFError.
        Lots of little cleanups.
        Improved IFWebFrame state handling.


git-svn-id: svn://svn.chromium.org/blink/trunk@696 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-06 00:33:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/625dd2a6ee76030d3735289910adca975ea04062');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00h901l5sa6v5ci7', 2, e'Fixed previous break


git-svn-id: svn://svn.chromium.org/blink/trunk@695 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-06 00:24:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/53f8fff7c81eb65efeed8406c9835d0cab84f036');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00ha01l5urpefisj', 2, e'Intentional break to test jersey


git-svn-id: svn://svn.chromium.org/blink/trunk@694 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-06 00:19:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/483b01ae7af3651090bd58348cee5c3d9f651764');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00hb01l5kzn4jxeg', 2, e'Fixed special case of retain count being -1.


git-svn-id: svn://svn.chromium.org/blink/trunk@693 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-05 20:30:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fb5274ac64993478a6e3708c43b06bf95095571e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00hc01l58hzmwi30', 2, e'- Now passing DOCBASE to the Java plug-in
- Enabled the Java preference
- Made \'alex\' Alexander\'s signature

Modified Files:
	WebBrowser/WebBrowser.pbproj/project.pbxproj
	WebCore/src/kwq/KWQKHTMLPart.mm
	WebCore/src/kwq/WCJavaAppletWidget.mm


git-svn-id: svn://svn.chromium.org/blink/trunk@692 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-05 19:52:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a607a519a1de27289d367eda1a709023b3dd55b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00hd01l5hnwtkfak', 2, e'	* WebView.subproj/IFWebDataSource.mm: (+[IFWebDataSource initialize]):
	Changed default font sizes to match scheme used in Alexander. There are
	some serious wackinesses with KDE engine font size handling; if and when
	we address those we might revisit these default sizes.

    Made font size preference in Alexander work.

	* Defaults.plist: Added font size defaults that match those in WebKit (since
	Alexander Preferences window may use these before WebKit is initialized)
	* PreferenceKeys.h: Removed old single-size default; added key for size array.

	* Preferences.subproj/TextPreferences.m:
	(-[TextPreferences mediumFontSize]): New convenience method to get the size
	that\'s displayed in the Preferences UI.
	(-[TextPreferences setMediumFontSize:]): New method to convert the user\'s
	chosen size into a size array, and store that array in user defaults.
	(-[TextPreferences updateFontSampleField:]),
	(-[TextPreferences changeFont:]): Use new API.


git-svn-id: svn://svn.chromium.org/blink/trunk@691 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-05 18:40:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d6d3cb0eb831231833eaabf0839f559fc5d865c6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00he01l5zesqct4e', 2, e'File needed to isolate web data source allocation from web core.


git-svn-id: svn://svn.chromium.org/blink/trunk@690 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-05 18:40:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d68c288c16d1501063c7360f7484bc9794a2b6be');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00hf01l55m910i0w', 2, e'WebFoundation/
	First cut at HTTP Authentication support and API. This fixes Radar
	2858993
	(HTTP Authentication challenges are not handled). However, there
	are still many loose ends indicated by all the FIXMEs in the code.

	New IFAuthenticationManager class and related classes:

	* AuthenticationManager.subproj/IFAuthenticationHandler.h:
	* AuthenticationManager.subproj/IFAuthenticationHandlerDispatcher.h:
	* AuthenticationManager.subproj/IFAuthenticationHandlerDispatcher.m:
	(dispatchToHandler), (dispatcherCopyDescription),
	(-[IFAuthenticationHandlerDispatcher _dispatchToHandler]),
	(-[IFAuthenticationHandlerDispatcher initWithAuthenticationHandler:]),
	(-[IFAuthenticationHandlerDispatcher dealloc]),
	(-[IFAuthenticationHandlerDispatcher authenticate:]),
	(-[IFAuthenticationHandlerDispatcher hasHandler:]):
	* AuthenticationManager.subproj/IFAuthenticationManager.h:
	* AuthenticationManager.subproj/IFAuthenticationManager.m:
	(-[IFAuthenticationManagerPrivate init]), (-[IFAuthenticationManagerPrivate
	dealloc]), (-[IFAuthenticationManager dealloc]), (-[IFAuthenticationManager
	init]), (+[IFAuthenticationManager sharedAuthenticationManager]),
	(-[IFAuthenticationManager addAuthenticationHandler:]),
	(-[IFAuthenticationManager removeAuthenticationHandler:]),
	(IFNSURLRemoveAnythingAfterPath), (IFNSURLCanonicalRoot), (IFNSURLGetParent),
	(-[IFAuthenticationManager realmForURL:]), (-[IFAuthenticationManager
	realmKeyWithRealm:withURL:]), (-[IFAuthenticationManager
	addCredentialsToInitialHTTPRequest:]), (-[IFAuthenticationManager
	checkForAuthenticationFailureInHTTPResponse:withURL:]),
	(-[IFAuthenticationManager invokeHandlersWithURL:realm:]),
	(-[IFAuthenticationManager
	addCredentialsToRetryHTTPRequest:afterFailureResponse:]):
	* AuthenticationManager.subproj/IFAuthenticationManagerPrivate.h:
	* AuthenticationManager.subproj/IFAuthenticationRequest.h:
	* AuthenticationManager.subproj/IFAuthenticationRequest.m:
	(-[IFAuthenticationRequest
	initWithURL:realm:username:passwordSentInClear:previousFailures:]),
	(+[IFAuthenticationRequest
	authenticationRequestWithURL:realm:username:passwordSentInClear:previousFailures:
	]), (-[IFAuthenticationRequest dealloc]), (-[IFAuthenticationRequest url]),
	(-[IFAuthenticationRequest realm]), (-[IFAuthenticationRequest username]),
	(-[IFAuthenticationRequest willPasswordBeSentInClear]),
	(-[IFAuthenticationRequest previousFailures]):
	* AuthenticationManager.subproj/IFAuthenticationResult.h:
	* AuthenticationManager.subproj/IFAuthenticationResult.m:
	(-[IFAuthenticationResult initWithUsername:password:]), (+[IFAuthenticationResult
	authenticationResultWithUsername:password:]), (-[IFAuthenticationResult
	dealloc]), (-[IFAuthenticationResult username]), (-[IFAuthenticationResult
	password]):

	Hook authentication into the loader:

	* CacheLoader.subproj/IFHTTPURLProtocolHandler.h:
	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (-[IFHTTPURLProtocolHandler
	initWithURLLoad:]), (-[IFHTTPURLProtocolHandler dealloc]),
	(-[IFHTTPURLProtocolHandler retryAfterAuthenticationFailure:]),
	(-[IFHTTPURLProtocolHandler createHTTPRequest]), (-[IFHTTPURLProtocolHandler
	handleReadStreamEvent:event:]), (-[IFHTTPURLProtocolHandler
	performHTTPHeaderRead:]):

	Added a few more useful extensions:

	* Misc.subproj/IFNSArrayExtensions.h:
	* Misc.subproj/IFNSArrayExtensions.m: (-[NSArray
	indexOfObjectSatisfyingPredicate:withObject:]):
	* Misc.subproj/IFNSStringExtensions.h:
	* Misc.subproj/IFNSStringExtensions.m: (-[NSString
	parseAsKeyValuePairHandleQuotes:]), (-[NSString hasSubstring:atIndex:]),
	(-[NSString encodeBase64]):
	* Misc.subproj/IFNSURLExtensions.h:
	* Misc.subproj/IFNSURLExtensions.m: (+[NSURL
	URLWithScheme:user:password:host:port:path:parameter:query:fragment:]):

	* WebFoundation.pbproj/project.pbxproj: Build updates.

	* CacheLoader.subproj/IFFileURLProtocolHandler.m: (-[IFFileURLProtocolHandler
	canCacheResourceData]): Added a random FIXME.
WebKit/
	Removed references to IFAuthenticationHandler, since that protocol
	now lives in WebFoundation and it\'s no longer quite appropriate to
	include as part of a controller.

	* WebView.subproj/IFBaseWebController.mm:
	* WebView.subproj/IFWebController.h:
WebBrowser/
	Added authentication support:

	* AppController.m: (-[AppController awakeFromNib]): Install the
	authentication handler.

	Implementation of Alexander\'s authentication handler, which
	currently prompts the user with a modal dialog. UI still needs
	fine-tuning.

	* AuthenticationHandler.h:
	* AuthenticationHandler.m: (+[AuthenticationHandler install]),
	(-[AuthenticationHandler init]), (-[AuthenticationHandler dealloc]),
	(-[AuthenticationHandler authenticate:]), (-[AuthenticationHandler cancel:]),
	(-[AuthenticationHandler logIn:]), (-[AuthenticationHandler loadNib]),
	(-[AuthenticationHandler showAuthenticationPanel]):

	* AuthenticationPanel.nib: UI for the authentication panel.

	* BrowserDocument.m: Added newline at end of file.


git-svn-id: svn://svn.chromium.org/blink/trunk@689 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-03-05 14:03:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/83c3148003c4ea93e92d8d84a7c528f808adeca4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00hg01l5rxcp798o', 2, e'        Changes to support \'provisional\' data sources.
        API changes to IFBaseWebController, removed redundant methods.


git-svn-id: svn://svn.chromium.org/blink/trunk@688 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-05 02:01:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/51cf697905327b6a3a46e97ba874e822914601ed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00hh01l5auc2z1t4', 2, e'	Changed default fonts.

	* WebView.subproj/IFWebDataSource.mm:
	(+[IFWebDataSource initialize]): Changed default fonts to ones
	that actually exist (this was listing "Times-Roman" where it
	meant either "Times" or "Times New Roman"). I\'m about to check
	in working font preferences, so it won\'t matter too much if you
	don\'t like the defaults (although we should of course make sure
	that the defaults are sensible, which I think they are).

    Made font preferences work (though not font size preferences; that is next).
    Various font-related tweaking.

	* AppController.m: (+[AppController initialize]):
	Added NSLog in case where Defaults.plist couldn\'t be parsed as a dictionary;
	this can be caused by typos or cut-and-paste errors and is often difficult
	to notice.

	* BrowserDocument.m: (-[BrowserDocument changeFont:]),
	* LocationFieldEditor.m: (-[LocationFieldEditor changeFont:]):
	Pass changeFont: messages to the preferences window, so the font panel keeps
	working when you bring a browser window to the front.

	* Defaults.plist:
	* PreferenceKeys.h:
	Removed values for WebKit preferences, since the default values for those
	are stored in WebKit. Removed size-per-font defaults since at least for
	now there will be a single font size for all fonts. Added default for
	"medium font size", which will be used later to construct the array of
	font sizes WebKit wants.

	* Preferences.subproj/TextPreferences.m:

	(-[TextPreferences updateFontSampleField:]): use same sizeKey for each
	sample; use localizedNameForFamily instead of fontName for displayed text;
	get font from chosen family name with standard weight so sample field won\'t
	show typeface that WebKit won\'t use.

	(-[TextPreferences updateFontSampleFields]):
	New method, calls updateFontSampleField on each field.

	(-[TextPreferences chooseFont:]): New method, bottleneck for the three
	font-choosing methods;

	(-[TextPreferences chooseSerifFont:]),
	(-[TextPreferences chooseSansSerifFont:]),
	(-[TextPreferences chooseMonospacedFont:]):
	Call chooseFont: instead of	duplicating code.

	(-[TextPreferences changeFont:]): use same sizeKey for all fonts; update
	all sample fields after change since size changes affect all fonts; store
	familyName instead of fontName.

	(-[TextPreferences takeStandardFontChoiceFrom:]): use same sizeKey for all fonts.

	(-[TextPreferences initializeFromDefaults]): Call updateFontSampleFields.

	(-[TextPreferences moduleWillBeRemoved]): Close the font panel when the
	text preferences pane is no longer showing.

	* Preferences.subproj/WBPreferences.m: (-[WBPreferences windowWillClose:]):
	Call moduleWillBeRemoved on current module.


git-svn-id: svn://svn.chromium.org/blink/trunk@687 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-04 23:09:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6508443e65a0dbee5dbf8fed5e926279c3f78c52');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00hi01l5atc7br59', 2, e'	* WebView.subproj/IFWebDataSource.mm: (+[IFWebDataSource initialize]):
	Reverted default fonts to what they were before I accidentally
	checked in some debugging changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@686 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-04 22:20:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5aff7fb3cd20145af6088c608935e217da8137c0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00hj01l5aehx8ew5', 2, e'- Now, no stream is created when there is no URL passed to IFPluginView. This is done for the Java plug-in since it handles its own downloading/caching.
- IFPluginView can now handle nil arguments. This is for full-page non-embedded plug-ins.


git-svn-id: svn://svn.chromium.org/blink/trunk@685 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-04 21:22:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/85aea632f4c72002d60dadf38fcf6d71ae19cf9e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnm1kb00hk01l5t2zfwhx8', 2, e'- Treating Java.plugin like a CFM plug-in until it exports the correct mach-o symbols
- Enabled AppleScript in Alexander
- Fixed a partial URL problem with WCJavaAppletWidget

Modified Files:
    WebBrowser/WebBrowser.pbproj/project.pbxproj
    WebCore/src/kdelibs/khtml/rendering/render_applet.cpp
    WebCore/src/kwq/WCJavaAppletWidget.mm
    WebCore/src/kwq/WCPlugin.h WebCore/src/kwq/WCPlugin.mm
    WebCore/src/kwq/npapi.h


git-svn-id: svn://svn.chromium.org/blink/trunk@684 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-04 17:58:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6f6266e4d3ff7e5f9853482def7389767a70ce6f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500fx01l546sn9bkn', 2, e'Improved the plug-in search scheme to make it easier to change the plug-in locations in the future. Added Alexander\'s PlugIns directory to the search locations


git-svn-id: svn://svn.chromium.org/blink/trunk@683 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-02 00:29:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2a4575cb2055c0e955a72c64c9ffa5364d69afb2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500fy01l553iysid4', 2, e'Disabling Java for now


git-svn-id: svn://svn.chromium.org/blink/trunk@682 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-01 23:13:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/071e6a504af99baf84232d4f0fd7f53667bb576b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500fz01l56skfgmxs', 2, e'First implementation of WCJavaAppletWidget.
Removed unecessary items from plug-in initialization prototypes.
Added a method getPluginWithFilename to WCPluginDataase to find Java.plugin.

Modified Files:
	WebBrowser/Debug/DebugBookmarks.plist
	WebCore/src/kdelibs/khtml/rendering/render_applet.cpp
	WebCore/src/kwq/KWQKHTMLPart.mm WebCore/src/kwq/Makefile.am
	WebCore/src/kwq/WCPlugin.mm WebCore/src/kwq/WCPluginDatabase.h
	WebCore/src/kwq/WCPluginDatabase.mm
	WebCore/src/kwq/WCPluginWidget.h
	WebCore/src/kwq/WCPluginWidget.mm
	WebKit/Plugins.subproj/IFPluginView.h
	WebKit/Plugins.subproj/IFPluginView.mm
Added Files:
	WebCore/src/kwq/WCJavaAppletWidget.h
	WebCore/src/kwq/WCJavaAppletWidget.mm


git-svn-id: svn://svn.chromium.org/blink/trunk@681 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-03-01 22:14:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/efde208c7f8eb0d201dcdfd6ba08be145c919a58');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500g001l5rq9qgjy9', 2, e'        Fixed a potentially large leak in frames.  View associated w/
        frame was not being released.

        Added scaffolding for correct frame by frame load complete check.

        Moved private IFWebBaseController method implementations to
        IFWebBaseControllerPrivate.mm.


git-svn-id: svn://svn.chromium.org/blink/trunk@680 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-01 19:59:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/81142c538fd134faddde0ceb966c2da0a21fb962');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500g101l55i932s7e', 2, e'Finished up progress notifications for main document.


git-svn-id: svn://svn.chromium.org/blink/trunk@679 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-03-01 02:37:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7abd15888c31bd2d49e865dbf4ae551561131ec1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500g201l5gr874gp5', 2, e'	Changed font preferences wiring so that we\'re actually setting WebKit defaults
	where they exist. Unfortunately this doesn\'t change the displayed font, due
	to a familyname-vs-fontname discrepancy that we\'ll have to work out a solution
	for.

	Made the "Empty Cache" and "Clear History" buttons in Storage Preferences work.

	* Defaults.plist:
	* PreferenceKeys.h: changed and added some default strings.

	* Preferences.subproj/StoragePreferences.m:
	(-[StoragePreferences historyDiskUseString]),
	(-[StoragePreferences cacheDiskUseString]): Stop returning a pretend string,
	return "<unknknown>" instead.
	(-[StoragePreferences clearCache:]): Implement using IFURLLoadManager
	(-[StoragePreferences clearHistory:]): Implement using IFWebHistory

	* Preferences.subproj/TextPreferences.h:
	* Preferences.subproj/TextPreferences.m:
	(-[TextPreferences changeFont:]),
	(-[TextPreferences takeStandardFontChoiceFrom:]),
	(-[TextPreferences initializeFromDefaults]):
	Wire up "default font" choice and use new WebKit-style keys where appropriate

    * Preferences.subproj/TextPreferences.nib: Wired up the default font menu.


git-svn-id: svn://svn.chromium.org/blink/trunk@678 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-03-01 00:37:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b9ebf27838f9e91db1cea871fdaacdbb5b0e3a50');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500g301l56fmpnuar', 2, e'2002-02-28  Ken Kocienda  <kocienda@pobox.com>

        Changes focused on fixing this bug:

        Radar 2869449 (Pages do not fully render)

        This is primarily a bug in the no-copy data object. It was freeing
        bytes earlier than it should have been when it was asked to join all
        its bytes together for writing to the disk cache.

        In the course of doing this work, I also made quite a few changes in the IFURLHandle
        and IFURLHandleLoadManager interaction.

        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (-[IFHTTPURLProtocolHandler
        beginLoadInBackground]), (-[IFHTTPURLProtocolHandler endLoadInBackground]):
        * CacheLoader.subproj/IFURLHandle.m: (-[IFURLHandle cancelLoadInBackground]),
        (-[IFURLHandle loadInForeground:]), (-[IFURLHandle addClient:]), (-[IFURLHandle
        removeClient:]), (-[IFURLHandle backgroundLoadDidBegin]), (-[IFURLHandle
        didLoadData:]), (-[IFURLHandle backgroundLoadComplete]), (-[IFURLHandle
        backgroundLoadFailedWithResultCode:]), (-[IFURLHandle
        notifyClientsBackgroundLoadCancelled]), (-[IFURLHandle
        notifyClientsBackgroundLoadDidBegin]), (-[IFURLHandle notifyClientsDidLoadData]),
        (-[IFURLHandle notifyClientsBackgroundLoadComplete]), (-[IFURLHandle
        notifyClientsBackgroundLoadFailed]):
        * CacheLoader.subproj/IFURLLoad.h:
        * CacheLoader.subproj/IFURLLoad.m: (-[IFURLLoad flags]), (-[IFURLLoad
        succeeded]), (-[IFURLLoad failedWithResultCode:]), (-[IFURLLoad
        canCacheResourceData]), (-[IFURLLoad beginOriginLoad]), (-[IFURLLoad
        didBeginLoading]), (-[IFURLLoad cleanup]):
        * CacheLoader.subproj/IFURLLoadManager.m: (+[IFURLLoadManager initialize]),
        (+[IFURLLoadManager sharedManager]), (-[IFURLLoadManager objectForURL:]),
        (-[IFURLLoadManager setObject:forURL:attributes:expiry:]), (-[IFURLLoadManager
        invalidateURL:]), (-[IFURLLoadManager clearAllCaches]), (-[IFURLLoadManager
        initWithDefaultStack]), (-[IFURLLoadManager requestWithURLHandle:]),
        (-[IFURLLoadManager cancelRequestWithURLHandle:]), (-[IFURLLoadManager
        cancelAllRequestsWithURL:]), (-[IFURLLoadManager cancelAllRequestsInGroup:]),
        (-[IFURLLoadManager caches]), (-[IFURLLoadManager loadDidFinish:]):
        * CacheLoader.subproj/IFURLLoadManagerPrivate.h:
        * CacheLoader.subproj/IFURLLoadPrivate.h:
        * CacheLoader.subproj/IFURLProtocolHandler.h:
        * CacheLoader.subproj/IFURLProtocolHandler.m: (-[IFURLProtocolHandler
        canCacheResourceData]):
        * Database.subproj/IFURLFileDatabase.m: (-[IFURLFileDatabase setObject:forKey:]):
        * Misc.subproj/IFMutableData.h:
        * Misc.subproj/IFMutableDataPrivate.m: (-[IFByteRange copyWithZone:]),
        (-[IFMutableData joinBlocks]):
        * Misc.subproj/IFMutableDataPrivate.m: (-[IFByteRange copyWithZone:]),
        (-[IFMutableData joinBlocks]):
        * WebFoundation.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@677 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-28 19:05:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/05515a074aa0d4b115b984a655e8152e15289b0c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500g401l5u41z09ps', 2, e'Fixed a Jaguar crasher. Some differences in the way strmcp behaves


git-svn-id: svn://svn.chromium.org/blink/trunk@676 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-28 02:25:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7f5b89f6f5d3479457ec43b4d730defae8c7aade');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500g501l5gy18w48z', 2, e'2002-02-27  Kenneth Kocienda  <kocienda@apple.com>

        I have changed the way that WebCore is glued to WebFoundation and WebKit.
        If you used or relied upon any code in the following files, you should
        now use the IF* equivalents straight up.

        - Labyrinth/WebCore/include/WCBackForwardList.h
        - Labyrinth/WebCore/include/WCURICache.h
        - Labyrinth/WebCore/include/WCURICacheData.h
        - Labyrinth/WebCore/include/WCURIEntry.h
        - Labyrinth/WebCore/include/WCURIEntry.h

        All changes in this commit are related to making dependant code work with the new convention.

	WebKit:
        * History.subproj/IFURIEntry.h:
        * History.subproj/IFURIEntry.m:
        * Plugins.subproj/IFPluginView.mm: (-[IFPluginView
        newStream:mimeType:notifyData:]), (-[IFPluginView
        IFURLHandle:resourceDataDidBecomeAvailable:]), (-[IFPluginView
        IFURLHandleResourceDidFinishLoading:data:]), (-[IFPluginView
        IFURLHandleResourceDidBeginLoading:]), (-[IFPluginView
        IFURLHandleResourceDidCancelLoading:]), (-[IFPluginView
        IFURLHandle:resourceDidFailLoadingWithResult:]):
        * WebKit.pbproj/kocienda.pbxuser:
        * WebKit.pbproj/project.pbxproj:

	WebFoundation:
        * CacheLoader.subproj/IFURLCacheLoaderConstants.h:
        * CacheLoader.subproj/IFURLCacheLoaderConstants.m:
        * CacheLoader.subproj/IFURLCacheObject.m: (-[IFURLCacheObject initWithCoder:]),
        (-[IFURLCacheObject encodeWithCoder:]):
        * WebFoundation.pbproj/project.pbxproj:

	WebCore:
        * include/WCBackForwardList.h:
        * include/WCURICache.h:
        * include/WCURICacheData.h:
        * include/WCURIEntry.h:
        * include/WCURLHandle.h:
        * src/kwq/KWQKHTMLPart.h:
        * src/kwq/KWQKHTMLPart.mm: (-[KHTMLPartLoadClient
        IFURLHandleResourceDidBeginLoading:]), (-[KHTMLPartLoadClient
        IFURLHandleResourceDidCancelLoading:]), (-[KHTMLPartLoadClient
        IFURLHandleResourceDidFinishLoading:data:]), (-[KHTMLPartLoadClient
        IFURLHandle:resourceDataDidBecomeAvailable:]), (-[KHTMLPartLoadClient
        IFURLHandle:resourceDidFailLoadingWithResult:]), (KHTMLPart::slotData),
        (KHTMLPart::openURL):
        * src/kwq/KWQKjobclasses.mm:
        * src/kwq/KWQKloader.mm: (-[URLLoadClient IFURLHandleResourceDidBeginLoading:]),
        (-[URLLoadClient IFURLHandleResourceDidCancelLoading:]), (-[URLLoadClient
        IFURLHandleResourceDidFinishLoading:data:]), (-[URLLoadClient
        IFURLHandle:resourceDataDidBecomeAvailable:]), (-[URLLoadClient
        IFURLHandle:resourceDidFailLoadingWithResult:]):
        * src/kwq/Makefile.am:
        * src/kwq/kio/jobclasses.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@675 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-27 19:47:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0e771dd1c207d55d1db0139acb5801284c7ce57c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500g601l5peu95oju', 2, e'Top level:
	Stop borrowing QDir and QFile.

	* borrowed-classes.txt: Turn off all remaining borrowed classes.

	New functionality to set up a standard filesystem in /tmp for testing.

	* Tests/libiftest/IFTestDirectory.c: (IFSetUpTestDirectory):
	* Tests/libiftest/IFTestDirectory.h:
	* Tests/libiftest/Makefile.am:
	* Tests/libiftest/testdir.tar.gz:

	 Add new tests, also alphabetize all the Qt tests.

	* Tests/qt/Makefile.am:
	* Tests/qt/qdir-test.chk:
	* Tests/qt/qdir-test.cpp: (testDir), (main):
	* Tests/qt/qfile-test.chk:
	* Tests/qt/qfile-test.cpp: (ReadAndPrintMD5), (main):
	* Tests/test.list:
WebCore:
	Replace QDir and QFile with clean-room implementations. Add glob
	support ot QRegExp reimplementation.

	* src/kwq/KWQDir.mm: (QDir::KWQDirPrivate::KWQDirPrivate),
	(QDir::KWQDirPrivate::~KWQDirPrivate), (QDir::QDir), (QDir::~QDir),
	(QDir::absPath), (QDir::absFilePath), (QDir::cdUp), (QDir::exists),
	(QDir::entryList), (QDir::operator=), (QDir::swap):
	* src/kwq/KWQFile.mm: (QFile::KWQFilePrivate::KWQFilePrivate),
	(QFile::KWQFilePrivate::~KWQFilePrivate), (QFile::QFile), (QFile::~QFile),
	(QFile::exists), (QFile::open), (QFile::close), (QFile::readBlock),
	(QFile::size):
	* src/kwq/KWQRegExp.mm: (QRegExp::KWQRegExpPrivate::KWQRegExpPrivate),
	(RegExpFromGlob), (QRegExp::KWQRegExpPrivate::compile), (QRegExp::QRegExp):
	* src/kwq/KWQStrList.h:
	* src/kwq/Makefile.am:
	* src/kwq/qt/_qdir.h:
	* src/kwq/qt/_qfile.h:
	* src/kwq/qt/_qfileinfo.h:
	* src/kwq/qt/qdir.h:
	* src/kwq/qt/qfile.h:
	* src/kwq/qt/qiodevice.h:
	* src/kwq/qt/qregexp.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@674 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-27 11:38:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/74ef30a634435b60920a45e44a5ed02e05af8ba8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500g701l5ii9u83zo', 2, e'Added a defaults key for enabling Java. Off by default for now.


git-svn-id: svn://svn.chromium.org/blink/trunk@673 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-27 01:27:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/799139030fb0e443ed5d9be12dc5fdae7122f2dc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500g801l5btqpl8hr', 2, e'	* History.subproj/IFURIEntry.m: (-[IFURIEntry dealloc]):
	Added missing dealloc method that \'leaks\' found.

	* History.subproj/IFURIList.m: (-[IFURIList dealloc]):
	Added missing [super dealloc] call that \'leaks\' found.

	* BrowserWindow.m:
	(-[BrowserWindow toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:]):
	Removed obsolete comment.

	* LoadProgressMonitor.m: (-[LoadProgressMonitor dealloc]):
	* SearchChannel.m: (-[SearchChannel dealloc]):
	Added missing [super dealloc] calls that \'leaks\' found.


git-svn-id: svn://svn.chromium.org/blink/trunk@672 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-02-26 23:24:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/96397ad83b957fa0a8e61ee4458b48cfd5d58d36');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500g901l5rqaw2vzd', 2, e'Now sending complete URL\'s to the plug-in classes - woops


git-svn-id: svn://svn.chromium.org/blink/trunk@671 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-26 23:22:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/198b2d22c9c0d6fbbbf196f5ff4abb6050422eef');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500ga01l5uq7pm015', 2, e'Added support for mach-o bundled plugins.


git-svn-id: svn://svn.chromium.org/blink/trunk@670 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-26 22:44:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d933785c8feba9d7817057175bc0ff4a224e95b6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gb01l5225dsfb8', 2, e'Top level:
	* Tests/qt/qstringlist-test.cpp: (main): Clean up a problem that
	was causing a bogus test failure.
WebCore:
	Fix two significant memory leaks in QList found by our automated
	leak-checking code.

	* src/kwq/KWQListImpl.mm: (KWQListNode::~KWQListNode),
	(KWQListImpl::KWQListPrivate::copyList),
	(KWQListImpl::KWQListPrivate::~KWQListPrivate), (KWQListImpl::sort):

	Fix a tiny bug tweaked by the new regexp code - we need to flush
	the cache after calling out to QRegExp::match because it might
	make calls on the string which create a cache. Caught by the
	regression tests.

	* src/kwq/KWQString.mm: (QString::replace):


git-svn-id: svn://svn.chromium.org/blink/trunk@668 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-26 02:04:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/78441be84a6026f056d51de87d814f762ffe7a03');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gc01l549p29ea1', 2, e'Added support for multiple plug-ins per page


git-svn-id: svn://svn.chromium.org/blink/trunk@667 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-26 02:01:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/254cbb59fef27313346d9f965d25291f9a7cca80');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gd01l5pc6xblhp', 2, e'Top level:
	Stop borrowing QRegExp and QValueList.

	* borrowed-classes.txt:

	Added more test cases for QRegExp and QValueList.

	* Tests/qt/qregexp-test.chk:
	* Tests/qt/qregexp-test.cpp: (main):
	* Tests/qt/qstringlist-test.cpp: (main):
	* Tests/qt/qvaluelist-test.chk:
	* Tests/qt/qvaluelist-test.cpp: (main):
WebCore:
	Reimplemented QRegExp in terms of POSIX regexp facilities. This
	will only support Latin1, however, it won\'t support all languages.

	* src/kwq/qt/qregexp.h:
	* src/kwq/KWQRegExp.mm: (QRegExp::KWQRegExpPrivate::KWQRegExpPrivate),
	(QRegExp::KWQRegExpPrivate::compile),
	(QRegExp::KWQRegExpPrivate::~KWQRegExpPrivate), (QRegExp::QRegExp),
	(QRegExp::~QRegExp), (QRegExp::operator=), (QRegExp::pattern), (QRegExp::match):

	Reimplement QValueList as a doubly-linked list, using a generic
	implementation class and a templatized facade.

	* src/kwq/qt/qvaluelist.h:
	* src/kwq/KWQValueListImpl.h:
	* src/kwq/KWQValueListImpl.mm: (KWQValueListNodeImpl::KWQValueListNodeImpl),
	(KWQValueListNodeImpl::~KWQValueListNodeImpl),
	(KWQValueListIteratorImpl::KWQValueListIteratorImpl),
	(KWQValueListIteratorImpl::~KWQValueListIteratorImpl),
	(KWQValueListIteratorImpl::operator=), (KWQValueListIteratorImpl::operator==),
	(KWQValueListIteratorImpl::operator!=), (KWQValueListIteratorImpl::node),
	(KWQValueListIteratorImpl::operator++), (KWQValueListIteratorImpl::operator--),
	(KWQValueListImpl::KWQValueListPrivate::KWQValueListPrivate),
	(KWQValueListImpl::KWQValueListPrivate::~KWQValueListPrivate),
	(KWQValueListImpl::KWQValueListPrivate::copyList),
	(KWQValueListImpl::KWQValueListPrivate::deleteList),
	(KWQValueListImpl::KWQValueListImpl), (KWQValueListImpl::~KWQValueListImpl),
	(KWQValueListImpl::clear), (KWQValueListImpl::count),
	(KWQValueListImpl::isEmpty), (KWQValueListImpl::appendNode),
	(KWQValueListImpl::prependNode), (KWQValueListImpl::removeEqualNodes),
	(KWQValueListImpl::containsEqualNodes), (KWQValueListImpl::removeIterator),
	(KWQValueListImpl::fromLast), (KWQValueListImpl::firstNode),
	(KWQValueListImpl::lastNode), (KWQValueListImpl::begin), (KWQValueListImpl::end),
	(KWQValueListImpl::nodeAt), (KWQValueListImpl::operator=),
	(KWQValueListImpl::copyOnWrite):
	* src/kwq/Makefile.am:

	* src/kwq/kio/netaccess.h: Don\'t declare private copy constructor
	- this class needs to be copyable to be stored in a QValueList!

	Hack these scripts a bit so the large tables they generate are
	constant data.

	* src/kwq/make-charset-table.pl:
	* src/kdelibs/khtml/css/makeprop:
	* src/kdelibs/khtml/css/makevalues:
	* src/kdelibs/khtml/misc/makeattrs:
	* src/kdelibs/khtml/misc/maketags:


git-svn-id: svn://svn.chromium.org/blink/trunk@666 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-25 04:11:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/381f36914a74d832dfc4bc5fe2a95f89f6d8672f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500ge01l5j02qa2l8', 2, e'	* src/kwq/WCLoadProgress.h: Add the forgotten WCLoadProgress.h.


git-svn-id: svn://svn.chromium.org/blink/trunk@665 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-24 02:52:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c700b5806f124ead5315f01d037840aee64ed7fc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gf01l5byyqrxuh', 2, e'WebFoundation:
	Fix prebinding:

	* WebFoundation.pbproj/project.pbxproj: Set first segment address
	to 0x2000000 to avoid colliding with apps. Need to have permanent
	value assigned at some point.
WebCore:
	Fix prebinding:

	* src/Makefile.am: Enable prebinding, set first segment address to
	0x2200000 to avoid colliding with apps or our other
	frameworks. Change other link flags to support prebinding.

	Set up some hacks to avoid link-time dependency on
	WebKit. Prebinding is incompatible with - undefined suppress, so
	we can\'t have WebCore depend on symbols provided by WebKit any
	more:

	* src/kwq/KWQKHTMLPart.h:
	* src/kwq/KWQKloader.mm: (WCSetIFLoadProgressMakeFunc), (-[URLLoadClient
	WCURLHandleResourceDidFinishLoading:data:userData:]), (-[URLLoadClient
	WCURLHandle:resourceDataDidBecomeAvailable:userData:]):
	* src/kwq/WCPluginWidget.h:
	* src/kwq/WCPluginWidget.mm: (WCSetIFPluginMakeFunc),
	(WCPluginWidget::WCPluginWidget):
WebKit:
	Fix prebinding:

	* WebKit.pbproj/project.pbxproj: Set first segment address
	0x4000000 to avoid colliding with apps or our other frameworks.

	Set up some hacks to avoid link-time dependency on
	WebKit. Prebinding is incompatible with - undefined suppress, so
	we can\'t have WebCore depend on symbols provided by WebKit any
	more:

	* Plugins.subproj/IFPluginView.mm: (IFPluginMake), (+[IFPluginView load]),
	(startupVolumeName):
	* WebView.subproj/IFBaseWebController.mm: (IFLoadProgressMake), (+[IFLoadProgress
	load]):


git-svn-id: svn://svn.chromium.org/blink/trunk@664 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-23 07:21:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/59f82e2000deafa01fb55ff341c44f20d5e6f994');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gg01l58t01wbvb', 2, e'Now sending null events after first drawRect when the port is valid. This was causing Flash to crash


git-svn-id: svn://svn.chromium.org/blink/trunk@663 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-23 00:29:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/40286d2e95fd93a4e143e5926e37bfb430f39a9a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gh01l51mc5l5jn', 2, e'Fixed a problem where plug-ins would show up blank


git-svn-id: svn://svn.chromium.org/blink/trunk@662 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-22 23:58:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/76e35d37dc753c0a20cda8d00f774027ace1fc4d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gi01l5aw417p2y', 2, e'	Added relatively complete unit tests for the two simple methods in
	this category. These found bugs! Yay for unit tests!

	* Tests/WebFoundation-Misc/ifnscalendardateextensions-test.chk:
	* Tests/WebFoundation-Misc/ifnscalendardateextensions-test.m: (main):

	Fixed problems in NSCalendarDate extensions revealed by unit tests.

	* Misc.subproj/IFNSCalendarDateExtensions.h:
	* Misc.subproj/IFNSCalendarDateExtensions.m:
	Removed [NSCalendarDate daysSinceDate:], which was broken.
	(-[NSCalendarDate compareDay:]): New method, returns NSComparisonResult.
	(-[NSCalendarDate isToday]): Rewrote to use compareDay:

	* WebFoundation.pbproj/project.pbxproj: Didn\'t change this on purpose, probably
	auto-changed by opening it in Puma.


	Updated for modified NSCalendarDate extensions API.

	* History.subproj/IFWebHistoryPrivate.m:
	(-[IFWebHistoryPrivate findIndex:forDay:]): use compareDate: instead of
	daysSinceDate:, which no longer exists.


git-svn-id: svn://svn.chromium.org/blink/trunk@661 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-02-22 22:26:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/606f68a9d8e2666e78456d620d0b0118736c75d8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gj01l5c3ztbdgs', 2, e'Added data: to didFinish:


git-svn-id: svn://svn.chromium.org/blink/trunk@660 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-22 22:13:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d43a1db6dc0cc86c0eec4df4d44d87f5aef150b2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gk01l5semtipy4', 2, e'Added data: to IFURLHandleResourceDidFinishLoading:.


git-svn-id: svn://svn.chromium.org/blink/trunk@659 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-22 21:20:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/977bed51cac49ce2af321b909f1bb5fefc37b7f3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gl01l5jft8fy7f', 2, e'Implemented missing getter for provisionalDataSource.


git-svn-id: svn://svn.chromium.org/blink/trunk@658 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-22 20:36:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c8b87bd54c105ba1823841d0307a96f77ac6b0cf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gm01l57tf1n8b0', 2, e'Normalized code paths for setMainDataSource on controller and setDataSource on frame.


git-svn-id: svn://svn.chromium.org/blink/trunk@657 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-22 20:27:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/45e4545a93509beffc985e0fa9af9112f3232198');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gn01l5fzrnduch', 2, e'Added support for web page URL requests. Fixed a warning


git-svn-id: svn://svn.chromium.org/blink/trunk@656 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-22 19:08:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/da3c3d0be3cf33f48683b1c93c302d0f631d7e21');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500go01l5vm6zrx6m', 2, e'2002-02-22  Kenneth Kocienda  <kocienda@apple.com>

    Added missing calls to [super dealloc]

    Changed memory allocation strategy in IFHTTPURLProtocolHandler. This no
    longer allocates a fixed size block, but only allocates the size that
    has been read from the network.

    Fixed potential smasher related to freeing run loop sources.

    Many memory cleanups, mostly work in tracking down ref counts and making
    sure things get freed when they should.

    Changed the way that the handle array is maintained inside IFURLLoad.
    The new code minimizes copying of the handle list while preserving thread
    safety.

    Some fixes in IFURLLoadManager.m to support cancelling URLs. More work
    to be done here.

    Removed IFByteBlock class from IFMutableData and replaced with a no-copy
    NSData from Foundation. The IFByteBlock class seemed redundant, and I could
    remove the IFData class as well. This is a nice reduction in complexity in
    the no-copy system.

	* CacheLoader.subproj/IFFileURLProtocolHandler.m: (-[IFFileURLProtocolHandler
	dealloc]):
	* CacheLoader.subproj/IFHTTPURLHandle.m:
	* CacheLoader.subproj/IFHTTPURLProtocolHandler.h:
	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (-[IFHTTPURLProtocolHandler
	setResponseHeaders:]), (-[IFHTTPURLProtocolHandler performStreamRead:]):
	* CacheLoader.subproj/IFURLCacheObject.m:
	* CacheLoader.subproj/IFURLDiskCache.m: (-[IFURLDiskCache
	initWithSizeLimit:path:]):
	* CacheLoader.subproj/IFURLHandle.m: (-[IFURLHandleInstanceVariables dealloc]),
	(-[IFURLHandle cancelLoadInBackground]), (-[IFURLHandle backgroundLoadDidBegin]),
	(-[IFURLHandle didLoadData:]), (-[IFURLHandle backgroundLoadComplete]),
	(-[IFURLHandle backgroundLoadFailedWithResultCode:]), (-[IFURLHandle
	setResourceData:]), (-[IFURLHandle notifyClientsDidLoadData]):
	* CacheLoader.subproj/IFURLHandleCallBackClient.m: (-[IFURLHandleCallBackClient
	dealloc]):
	* CacheLoader.subproj/IFURLLoad.h:
	* CacheLoader.subproj/IFURLLoad.m: (-[IFURLLoad handles]), (-[IFURLLoad
	didLoadBytes:length:]), (-[IFURLLoad updateHandles]), (-[IFURLLoad succeeded]),
	(-[IFURLLoad failedWithResultCode:]), (-[IFURLLoad dealloc]), (+[IFURLLoad
	shutdown]), (+[IFURLLoad streamHandlerRunLoop]), (-[IFURLLoad
	initWithURL:attributes:flags:]), (-[IFURLLoad addHandle:]), (-[IFURLLoad
	removeHandle:]), (-[IFURLLoad removeAllHandles]), (-[IFURLLoad didBeginLoading]),
	(-[IFURLLoad checkForNewHandles]), (+[IFURLLoad IFURLLoadCacheCheckerRun:]),
	(+[IFURLLoad IFURLLoadCFStreamHandlerRun:]):
	* CacheLoader.subproj/IFURLLoadManager.m: (-[IFURLLoadManager
	initWithDefaultStack]), (-[IFURLLoadManager objectForURL:]), (-[IFURLLoadManager
	requestWithURLHandle:]), (-[IFURLLoadManager cancelRequestWithURLHandle:]):
	* CacheLoader.subproj/IFURLLoadPrivate.h:
	* CacheLoader.subproj/IFURLMemoryCache.m: (-[IFURLMemoryCache
	initWithSizeLimit:]), (-[IFURLMemoryCache dealloc]):
	* CacheLoader.subproj/IFURLProtocolHandler.m: (-[IFURLProtocolHandler
	initWithURLLoad:]):
	* CookieManager.subproj/IFCookie.m: (-[IFCookiePrivate dealloc]), (-[IFCookie
	dealloc]):
	* CookieManager.subproj/IFCookieManager.m: (-[IFCookieManagerPrivate dealloc]),
	(-[IFCookieManager dealloc]):
	* CookieManager.subproj/IFCookieManagerC.m: (-[IFCookieCallBackAcceptHandler
	dealloc]):
	* Misc.subproj/IFBinaryHeap.m: (-[IFBinaryHeap dealloc]):
	* Misc.subproj/IFMonitor.m: (-[IFMonitor dealloc]):
	* Misc.subproj/IFMutableData.h:
	* Misc.subproj/IFMutableData.m: (-[IFMutableData getBytes:length:]),
	(-[IFMutableData getBytes:range:]), (-[IFMutableData subdataWithRange:]),
	(-[IFMutableData initWithBytes:length:copy:freeWhenDone:bytesAreVM:]),
	(-[IFMutableData dealloc]):
	* Misc.subproj/IFMutableDataPrivate.h:
	* Misc.subproj/IFMutableDataPrivate.m: (-[IFByteRange dealloc]), (-[IFMutableData
	createBlockForRange:buffer:]), (-[IFMutableData
	dataObjectsGreaterThanMatchedOffset:]), (-[IFMutableData byteBlocksForRange:]),
	(-[IFMutableData bytesInRange:]), (-[IFMutableData appendBytes:length:]):
	* Misc.subproj/IFReadWriteLock.m: (-[IFReadWriteLock dealloc]):
	* Misc.subproj/IFRecursiveReadWriteLock.m:
	* WebFoundation.pbproj/project.pbxproj:


        Sent handle an autorelease message.

        * src/kwq/KWQKHTMLPart.mm: (-[KHTMLPartLoadClient
        WCURLHandleResourceDidCancelLoading:userData:]), (-[KHTMLPartLoadClient
        WCURLHandleResourceDidFinishLoading:userData:]), (-[KHTMLPartLoadClient
        WCURLHandle:resourceDidFailLoadingWithResult:userData:]):
        * src/kwq/KWQKloader.mm: (-[URLLoadClient
        WCURLHandleResourceDidCancelLoading:userData:]), (-[URLLoadClient
        WCURLHandleResourceDidFinishLoading:userData:]), (-[URLLoadClient
        WCURLHandle:resourceDidFailLoadingWithResult:userData:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@655 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-22 16:06:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c5b596bc8da4ae806c853209eccd0dcb0e0c8b36');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gp01l5v2hncob9', 2, e'Top level:
	* Tests/harness.c: (runtest): Run regression tests with debug
	frameworks. If they pass, run them again so the leak checker
	actually works (it never finds leaks with the debug frameworks in
	use).

	Fix regression test failures:

	* Tests/CookieManager/wkcookie-test.m: (main):
	* Tests/WebFoundation-Misc/ifnsobjectextensions-test.m: (main):
WebCore:
	* src/kwq/KWQString.mm: (QString::fill): Fix a bug that was
	triggering assertion failures in CF.

	* src/kdelibs/kjs/kjs-test: Turn off some environment variables to
	make the tests pass.
WebFoundation:
	* Misc.subproj/IFNSStringExtensions.m: (-[NSString
	parseAsKeyValuePairHandleQuotes:]): Fix a bug that was leading to
	an assertion failure.


git-svn-id: svn://svn.chromium.org/blink/trunk@654 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-22 06:31:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/38592f82ec7159ababb88ad41c064784b6d24757');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlzl500gq01l515m4ny75', 2, e'Stop support.


git-svn-id: svn://svn.chromium.org/blink/trunk@653 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-22 02:40:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f8a41140c03a76ef1e10933e9862d4ee030cad6d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000f301l5t0lt9u56', 2, e'Stop supprt.


git-svn-id: svn://svn.chromium.org/blink/trunk@652 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-22 02:40:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/50ec0645fd14c22dfdb8c310be5c19fb4e375fd5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000f401l5lx29fq8t', 2, e'IFCarbonWindowView is no longer necessary. Removing.


git-svn-id: svn://svn.chromium.org/blink/trunk@651 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-22 02:21:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/daa347300f46a217550b0a4e8e0b7d505effa910');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000f501l574jc55ld', 2, e'BIG FIX: Plug-ins now use the window\'s port and share this port with other plug-ins. This allowed me to fix scrolling and clipping and mouse events.


git-svn-id: svn://svn.chromium.org/blink/trunk@650 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-22 02:14:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c55c1438b36b7fe1c0fb50a415ea557a41dd8bc4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000f601l5yuybyzxe', 2, e'Top level:
	* Tests/harness.c: (main): Set DYLD_IMAGE_SUFFIX to "_debug" so our
	automated tests all run with assertions enabled.

	* Tests/libiftest/IFCheckLeaks.c: (IFCheckLeaksAtExitHandler): but
	turn if off before launching `leaks\', since it makes `leaks\' fail
	in spectacular ways.
WebCore:
	* src/kwq/KWQString.mm: (QString::fromCFString): Don\'t pass a
	length to CFStringCreateMutableCopy, since that makes the string
	fixed-length, which makes assertions fail when in debugging mode.


git-svn-id: svn://svn.chromium.org/blink/trunk@649 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-21 23:03:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e6df6d5e44868133bdd077b8a7dcbb7209109e45');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000f701l5rshqfoxg', 2, e'    Some groundwork to bring WebFoundation callbacks up to
    WebKit.


git-svn-id: svn://svn.chromium.org/blink/trunk@648 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-21 01:48:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c754491545844609facf78ec98772133dbe69278');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000f801l50ipx4f4t', 2, e'	* WebView.subproj/IFWebController.h: Fix my WebController screw-up.


git-svn-id: svn://svn.chromium.org/blink/trunk@647 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-20 21:53:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d86a9168de628a810008d5478c2616540b98d79d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000f901l5rqczrox2', 2, e'	Add automated leak checking to all the tests.

	* Tests/CookieManager/.cvsignore:
	* Tests/CookieManager/Makefile.am:
	* Tests/CookieManager/wkcookie-test.m: (main):
	* Tests/CookieManager/wkcookiemanager-test.m: (main):
	* Tests/Makefile.am:
	* Tests/WebFoundation-Misc/.cvsignore:
	* Tests/WebFoundation-Misc/Makefile.am:
	* Tests/WebFoundation-Misc/ifnsarrayextensions-test.m: (main):
	* Tests/WebFoundation-Misc/ifnsobjectextensions-test.m: (main):
	* Tests/WebFoundation-Misc/ifnsstringextensions-test.m: (main):
	* Tests/WebFoundation-Misc/ifrecursivereadwritelock-test.m: (thread_main),
	(main):
	* Tests/harness.c: (runtest), (main):
	* Tests/kde/.cvsignore:
	* Tests/kde/Makefile.am:
	* Tests/kde/kurl-test.chk:
	* Tests/kde/kurl-test.cpp: (main):
	* Tests/libiftest/.cvsignore:
	* Tests/libiftest/IFCheckLeaks.c: (IFOverwriteRegisters), (IFClearTheStack),
	(IFCheckLeaksAtExitHandler), (IFCheckLeaksAtExit):
	* Tests/libiftest/IFCheckLeaks.h:
	* Tests/libiftest/Makefile.am:
	* Tests/libiftest/objc-dummy.mm: (IF_objective_c_hack):
	* Tests/qt/.cvsignore:
	* Tests/qt/Makefile.am:
	* Tests/qt/qarray-test.cpp: (main):
	* Tests/qt/qbuffer-test.cpp: (main):
	* Tests/qt/qchar-test.cpp: (main):
	* Tests/qt/qcstring-test.cpp: (main):
	* Tests/qt/qdate-test.cpp: (main):
	* Tests/qt/qdatetime-test.cpp: (main):
	* Tests/qt/qdict-test.cpp: (main):
	* Tests/qt/qlist-test.cpp: (main):
	* Tests/qt/qmap-test.cpp: (main):
	* Tests/qt/qpoint-test.cpp: (main):
	* Tests/qt/qptrdict-test.cpp: (main):
	* Tests/qt/qrect-test.cpp: (main):
	* Tests/qt/qregexp-test.cpp: (main):
	* Tests/qt/qsize-test.cpp: (main):
	* Tests/qt/qsortedlist-test.cpp: (main):
	* Tests/qt/qstack-test.cpp: (main):
	* Tests/qt/qstring-test.cpp: (main):
	* Tests/qt/qstringlist-test.cpp: (main):
	* Tests/qt/qtime-test.cpp: (main):
	* Tests/qt/qvaluelist-test.cpp: (main):
	* Tests/qt/qvector-test.cpp: (main):
	* configure.in:


git-svn-id: svn://svn.chromium.org/blink/trunk@646 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-20 20:06:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1d0eedff8637fcebc7b6a520b9770c7b821ce0b7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fa01l554czynx7', 2, e'	Finished first cut at IFWebHistory implementation. All methods are implemented
	except the string-matching ones.

	* History.subproj/IFURIEntry.h:
	* History.subproj/IFURIEntry.m: (-[IFURIEntry initWithURL:title:image:comment:]),
	(-[IFURIEntry lastVisitedDate]), (-[IFURIEntry setModificationDate:]),
	(-[IFURIEntry setLastVisitedDate:]):
	Changed all NSDates to be NSCalendarDates.

	* History.subproj/IFWebHistory.h:
	* History.subproj/IFWebHistory.m: (-[IFWebHistory init]), (-[IFWebHistory
	dealloc]), (-[IFWebHistory sendEntriesChangedNotification]), (-[IFWebHistory
	addEntry:]), (-[IFWebHistory removeEntry:]), (-[IFWebHistory
	removeEntriesForDay:]), (-[IFWebHistory removeAllEntries]), (-[IFWebHistory
	orderedLastVisitedDays]), (-[IFWebHistory orderedEntriesLastVisitedOnDay:]),
	(-[IFWebHistory entriesWithAddressContainingString:]), (-[IFWebHistory
	entriesWithTitleOrAddressContainingString:]), (-[IFWebHistory containsURL:]):
	Implemented all IFWebHistory methods by calling through to IFWebHistoryPrivate object.
	Send a change notification each time the actual data changes. Removed all
	canned-data mechanisms.

	* History.subproj/IFWebHistoryPrivate.h:
	* History.subproj/IFWebHistoryPrivate.m: (-[IFWebHistoryPrivate init]),
	(-[IFWebHistoryPrivate dealloc]), (-[IFWebHistoryPrivate findIndex:forDay:]),
	(-[IFWebHistoryPrivate insertEntry:atDateIndex:]), (-[IFWebHistoryPrivate
	removeEntryForURLString:]), (-[IFWebHistoryPrivate addEntry:]),
	(-[IFWebHistoryPrivate removeEntry:]), (-[IFWebHistoryPrivate
	removeEntriesForDay:]), (-[IFWebHistoryPrivate removeAllEntries]),
	(-[IFWebHistoryPrivate orderedLastVisitedDays]), (-[IFWebHistoryPrivate
	orderedEntriesLastVisitedOnDay:]), (-[IFWebHistoryPrivate
	entriesWithAddressContainingString:]), (-[IFWebHistoryPrivate
	entriesWithTitleOrAddressContainingString:]), (-[IFWebHistoryPrivate
	containsURL:]):
	Implemented guts of history mechanism using a dictionary for URL lookup and
	a sorted array of dates with entries and a sorted array of sorted arrays of
	entries per date.

	* WebKit.pbproj/project.pbxproj: Updated for new files


    Made History window work.

	* BrowserDocument.h: whitespace changes only

	* BrowserDocument.m:
	(-[BrowserDocument addHistoryEntryForCurrentPage]): New method.
	(-[BrowserDocument locationChangeDone:forFrame:]): Call new method.
	(-[BrowserDocument locationChangeStartedForFrame:initiatedByUserEvent:]):
	Changed postNotification to use simpler userinfo-free version.

	* GlobalHistory.m:
	(+[GlobalHistory sharedGlobalHistory]): Register for changed notifications
	from IFWebHistory

	(-[GlobalHistory outlineView:objectValueForTableColumn:byItem:]): Use "today"
	for current date; "unknown title" for nil titles.
	(-[GlobalHistory historyIsEmpty]): New private convenience method.
	(-[GlobalHistory expandToday]): New method, expands the triangle for today\'s
	history entries if the first triangle is for today.
	(-[GlobalHistory updateButtons]),
	(-[GlobalHistory validateUserInterfaceItem:]): Use historyIsEmpty
	(-[GlobalHistory receivedEntriesChangedNotification:]): New method, react to
	change notification by reloading data and updating buttons.
	(-[GlobalHistory removeSelectedItems:]),
	(-[GlobalHistory removeAll:]):
	Implemented by calling IFWebHistory methods.
	(-[GlobalHistory showWindow:]): expand today\'s triangle

    * English.lproj/History.nib: Removed "completely fake" from History window title.


git-svn-id: svn://svn.chromium.org/blink/trunk@645 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-02-20 01:14:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/df2446dd22cb71b8b3758b63588c38e4cf75ba85');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fb01l5zpiu9lnw', 2, e'	First piece of implementing IFWebHistory. None of the mutators do anything,
	and the accessors return canned data. But at least all the temporary hackery
	is hiding behind legitimate API.

	* History.subproj/IFWebHistory.h:
	* History.subproj/IFWebHistory.m:

	(+[IFWebHistory sharedWebHistory]):
	Implemented sensibly.

	(-[IFWebHistory createTestEntryWithURLString:title:date:]),
	(-[IFWebHistory	testDataDates]), (-[IFWebHistory testData]),
	Private temporary hackery to return fake data.

	(-[IFWebHistory orderedLastVisitedDays]),
	(-[IFWebHistory	orderedEntriesLastVisitedOnDay:]):
	Implemented using temporary hackery.

	(-[IFWebHistory addEntry:]),
	(-[IFWebHistory removeEntry:]),
	(-[IFWebHistory removeAllEntries]):
	Unimplemented mutator methods.

	(-[IFWebHistory	entriesWithAddressContainingString:]),
	(-[IFWebHistory	entriesWithTitleOrAddressContainingString:]),
	(-[IFWebHistory containsURL:]):
	Methods that we\'ll need eventually, currently unimplemented. We may flesh out
	the API a little more before we actually implement any of these.

	(-[NSCalendarDate daysSinceDate:]): Convenience method in category; will
	probably move to another file soon.

	* WebKit.pbproj/project.pbxproj: Updated for new files




    Made history implementation use IFWebHistory; removed temporary hackery.
    (Actually it was mostly just moved to IFWebHistory, but now it\'s hiding
    behind a legitimate API.)

	* GlobalHistory.m:
	(+[GlobalHistory testData]): Removed this temporary hackery.

	(-[GlobalHistory outlineView:child:ofItem:]),
	(-[GlobalHistory outlineView:isItemExpandable:]),
	(-[GlobalHistory outlineView:numberOfChildrenOfItem:]),
	(-[GlobalHistory outlineView:objectValueForTableColumn:byItem:]):
	Replaced hacky implementation with use of new IFWebHistory API.


git-svn-id: svn://svn.chromium.org/blink/trunk@642 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-02-19 01:18:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/28cdbe9d9a7ac1d3e7afea26245cf9eb46b0a518');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fc01l5yqzgmi9e', 2, e'Fixed snafu.


git-svn-id: svn://svn.chromium.org/blink/trunk@641 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-19 01:08:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c76a005c4d50936bca52dae07c7beca858db4858');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fd01l5euzb0kne', 2, e'2002-02-18  Kenneth Kocienda  <kocienda@apple.com>

        Changed build style to Development

        * build-style.txt:


git-svn-id: svn://svn.chromium.org/blink/trunk@640 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-19 00:31:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dc620169d4f458070923bc5eccf35cd814105bd2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fe01l5h5iqi1l4', 2, e'2002-02-18  Kenneth Kocienda  <kocienda@apple.com>

        Fixed breakge that came up when project file merged.

        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@639 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-19 00:28:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/258fe3a82a8832a7daaa53b855f0aef129b594d8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000ff01l5y0ichdme', 2, e'2002-02-18  Kenneth Kocienda  <kocienda@apple.com>

        Changes to support building standalone Alexander with Frameworks
        and libraries contained inside the app package.

        * Makefile.am:
        * Tests/Makefile.am:
        * build-style.txt:
        * configure.in:

       * WebBrowser/Makefile.am:
        * WebBrowser.pbproj/project.pbxproj:

        * WebFoundation/Makefile.am:
        * WebFoundation.pbproj/project.pbxproj:

        * WebKit/Makefile.am:
        * WebKit.pbproj/kocienda.pbxuser:
        * WebKit.pbproj/project.pbxproj:

         * WebCore/src/Makefile.am:
        * WebCore/src/kwq/KWQKHTMLPart.mm: (KHTMLPart::khtmlMouseMoveEvent):
        * WebCore/src/kwq/KWQView.mm: (-[KWQHTMLView mouseUp:]), (-[KWQHTMLView mouseDown:]):
        * WebCore/src/kwq/kde/_kurl.cpp: (KURL::htmlRef):


git-svn-id: svn://svn.chromium.org/blink/trunk@638 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-19 00:26:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8ef637f212c8b6d81f8f874124700d0317b9d052');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fg01l5wn0l6mlu', 2, e'Fixed warning.


git-svn-id: svn://svn.chromium.org/blink/trunk@637 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-18 22:57:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cd818b5637827f5eb6303ca101c50463f3f82d8a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fh01l5f68cowd0', 2, e'Fixed to  preferences dialog problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@636 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-18 22:22:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/27f28642cda0a447a1dc42c34655d29268ad4a62');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fi01l5bjhbv5uo', 2, e'Performance measurement.


git-svn-id: svn://svn.chromium.org/blink/trunk@635 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-18 21:21:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3cd2030c0e705c83848346b10f2ba43dabf4c621');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fj01l5ley1722e', 2, e'Performance stuff.


git-svn-id: svn://svn.chromium.org/blink/trunk@634 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-18 21:21:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3565767320e620601ba25d252613c110104f2d52');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fk01l5qbgko9ig', 2, e'Fixed simple bug that broke forms.


git-svn-id: svn://svn.chromium.org/blink/trunk@633 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-18 19:37:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0bf8a4c21ba388fcf4c1da0d25b81108479bbbf6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fl01l5n1h0prno', 2, e'Top level:
	* borrowed-classes.txt, configure.in: Stop borring KURL.

	Gajillions of test cases for KURL:

	* Tests/Makefile.am:
	* Tests/kde/.cvsignore:
	* Tests/kde/Makefile.am:
	* Tests/kde/kurl-test.chk:
	* Tests/kde/kurl-test.cpp: (testURL), (main):
	* Tests/kde/objc-dummy.mm: (objective_c_hack):
	* Tests/test.list:
WebCore:
	Reimplement KURL in terms of CFURL (many workarounds needed to
	account for differing semantics).

	* src/kwq/kdecore/kurl.h:
	* src/kwq/KWQKURL.mm: (KURL::KWQKURLPrivate::KWQKURLPrivate),
	(KURL::KWQKURLPrivate::~KWQKURLPrivate), (KURL::KWQKURLPrivate::init),
	(KURL::KWQKURLPrivate::makeRef), (CFStringToQString), (escapeQString),
	(pathEndsWithSlash), (KWQCFURLCopyEscapedPath),
	(KURL::KWQKURLPrivate::decompose), (KURL::KWQKURLPrivate::compose), (KURL::KURL),
	(KURL::~KURL), (KURL::isEmpty), (KURL::isMalformed), (KURL::hasPath),
	(KURL::url), (KURL::protocol), (KURL::host), (KURL::port), (KURL::pass),
	(KURL::user), (KURL::ref), (KURL::query), (KURL::path), (KURL::setProtocol),
	(KURL::setHost), (KURL::setPort), (KURL::setRef), (KURL::setQuery),
	(KURL::setPath), (KURL::prettyURL), (KURL::operator=), (KURL::decode_string),
	(KURL::copyOnWrite):
	* src/kwq/Makefile.am: Add new file to build.

	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::begin,
	KHTMLPart::submitForm): Don\'t

	Minor tweaks to make it all build:

	* src/kwq/kde/_kurl.cpp:
	* src/kwq/qt/_qurl.cpp:
	* src/kwq/qt/_qurl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@632 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-17 07:17:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/12e7f57c5497c1204e2555c69a9bd612eaaf6bc5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fm01l58lfmqorh', 2, e'Notes to self.


git-svn-id: svn://svn.chromium.org/blink/trunk@631 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-16 21:44:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/240b05b5b1a04f70a81d589182604f73b3d3e7b6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fn01l59qhr5a5c', 2, e'        Fixed problem with default text not showing up in text area.
        Fixed problem with scroll widgets not showing up in select list.


git-svn-id: svn://svn.chromium.org/blink/trunk@630 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-16 21:44:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/794dee40e7bcdf9b4cffcc9e6a454fddaf810e37');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fo01l5tnb8d319', 2, e'Comments added as reminders to fix frame<->datasource ownership.


git-svn-id: svn://svn.chromium.org/blink/trunk@629 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-16 19:58:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/736a66689fee3f6c92a52dfe4fd6a6df2e395004');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fp01l5u6pntetx', 2, e'Lots of changes for forms.


git-svn-id: svn://svn.chromium.org/blink/trunk@627 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-16 04:06:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/775652f7aecf0f0817dbe079d847486982d7dda1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fq01l50en3b2d1', 2, e'2002-02-15  Kenneth Kocienda  <kocienda@apple.com>

	Lots of interface cleanups in preparation of the WebFoundation-0.1 release.

	Radar 2859843 (IFURLLoad must present a better interface to protocol handlers)
	Radar 2862349 (Move ivars in public headers inside a private class in the .m file)
	Radar 2861762 (IFURLDataProvider is obsolete)
	Radar 2861762 (IFURLDataProvider is obsolete)
	Radar 2861787 (Add charset ivar to IFURLHandle)

	* CacheLoader.subproj/IFHTTPURLHandle.h:
	* CacheLoader.subproj/IFHTTPURLHandle.m: (-[IFHTTPURLHandleInstanceVariables
	init]), (-[IFHTTPURLHandleInstanceVariables dealloc]), (-[IFHTTPURLHandle
	requestMethod]), (-[IFHTTPURLHandle requestHeaders]), (-[IFHTTPURLHandle
	requestData]), (-[IFHTTPURLHandle responseHeaders]), (-[IFHTTPURLHandle
	contentLength]), (-[IFHTTPURLHandle copyWithZone:]), (-[IFHTTPURLHandle
	dealloc]), (-[IFHTTPURLHandle setResponseHeaders:]), (-[IFHTTPURLHandle
	hasResponseHeaders]):
	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
	* CacheLoader.subproj/IFURLCache.h:
	* CacheLoader.subproj/IFURLCache.m: (-[IFURLCacheInstanceVariables init]),
	(-[IFURLCacheInstanceVariables dealloc]), (-[IFURLCache sizeLimit]),
	(-[IFURLCache setSizeLimit:]), (-[IFURLCache objectSizeLimit]), (-[IFURLCache
	setObjectSizeLimit:]), (-[IFURLCache currentUsage]), (-[IFURLCache
	initWithSizeLimit:]), (-[IFURLCache dealloc]), (-[IFURLCache
	truncateToSizeLimit:]), (-[IFURLCache setCurrentUsage:]):
	* CacheLoader.subproj/IFURLCachePrivate.h:
	* CacheLoader.subproj/IFURLCachePrivate.m:
	* CacheLoader.subproj/IFURLDataProvider.h:
	* CacheLoader.subproj/IFURLDiskCache.m: (-[IFURLDiskCache clearCache]):
	* CacheLoader.subproj/IFURLHandle.h:
	* CacheLoader.subproj/IFURLHandle.m: (-[IFURLHandleInstanceVariables
	initWithHandle:]), (-[IFURLHandleInstanceVariables dealloc]), (-[IFURLHandle
	loadInBackground]), (-[IFURLHandle cancelLoadInBackground]), (-[IFURLHandle
	loadInForeground:]), (-[IFURLHandle addClient:]), (-[IFURLHandle removeClient:]),
	(-[IFURLHandle url]), (-[IFURLHandle canonicalURL]), (-[IFURLHandle finalURL]),
	(-[IFURLHandle flags]), (-[IFURLHandle attributes]), (-[IFURLHandle statusCode]),
	(-[IFURLHandle resultCode]), (-[IFURLHandle contentType]), (-[IFURLHandle
	characterSet]), (-[IFURLHandle availableResourceData]), (-[IFURLHandle
	contentLengthReceived]), (-[IFURLHandle isEqual:]), (-[IFURLHandle hash]),
	(-[IFURLHandle description]), (+[IFURLHandle initialize]), (+[IFURLHandle
	registerURLHandleClass:]), (+[IFURLHandle URLHandleClassForURL:]), (+[IFURLHandle
	canInitWithURL:]), (-[IFURLHandle initWithURL:]), (-[IFURLHandle
	initWithURL:cached:]), (-[IFURLHandle dealloc]), (-[IFURLHandle
	setAttribute:forKey:]), (-[IFURLHandle backgroundLoadDidBegin]), (-[IFURLHandle
	didLoadData:]), (-[IFURLHandle backgroundLoadComplete]), (-[IFURLHandle
	backgroundLoadFailedWithResultCode:]), (-[IFURLHandle cacheable]), (-[IFURLHandle
	setCacheable:]), (-[IFURLHandle setStatusCode:]), (-[IFURLHandle
	setResultCode:]), (-[IFURLHandle setFinalURL:]), (-[IFURLHandle
	notifyClientsBackgroundLoadCancelled]), (-[IFURLHandle
	notifyClientsBackgroundLoadDidBegin]), (-[IFURLHandle notifyClientsDidLoadData]),
	(-[IFURLHandle notifyClientsBackgroundLoadComplete]), (-[IFURLHandle
	notifyClientsBackgroundLoadFailed]):
	* CacheLoader.subproj/IFURLHandleC.m:
	* CacheLoader.subproj/IFURLHandlePrivate.h:
	* CacheLoader.subproj/IFURLLoad.m: (+[IFURLLoad IFURLLoadCacheCheckerRun:]):
	* CacheLoader.subproj/IFURLLoadManager.h:
	* CacheLoader.subproj/IFURLLoadManager.m: (-[IFURLLoadManagerInstanceVariables
	init]), (-[IFURLLoadManagerInstanceVariables dealloc]), (-[IFURLLoadManager
	initWithDefaultStack]), (+[IFURLLoadManager sharedManager]), (-[IFURLLoadManager
	objectForURL:]), (-[IFURLLoadManager setObject:forURL:attributes:expiry:]),
	(-[IFURLLoadManager clearAllCaches]), (-[IFURLLoadManager handleURLLoadDone:]),
	(-[IFURLLoadManager handleURLLoadedResourceData:]), (-[IFURLLoadManager
	dealloc]), (-[IFURLLoadManager requestWithURLHandle:]), (-[IFURLLoadManager
	cancelRequestWithURLHandle:]), (-[IFURLLoadManager cancelAllRequestsWithURL:]),
	(-[IFURLLoadManager cancelAllRequestsInGroup:]), (-[IFURLLoadManager caches]):
	* CacheLoader.subproj/IFURLMemoryCache.m: (-[IFURLMemoryCache
	truncateToSizeLimit]), (-[IFURLMemoryCache clearCache]):
	* Database.subproj/IFDatabase.m: (-[IFDatabase removeAllObjects]):
	* Database.subproj/IFNDBMDatabase.m: (-[IFNDBMDatabase removeAllObjects]):
	* Database.subproj/IFURLFileDatabase.m: (-[IFURLFileDatabase removeAllObjects]):
	* Misc.subproj/WebFoundation.h:
	* WebFoundation.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@625 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-16 00:46:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a7dd5c997841efbca2a1f0b4d788083c2e2d9c26');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fr01l52c7a8j0y', 2, e'Flash seems to require a plug-in instance struct to be created. Otherwise, crash


git-svn-id: svn://svn.chromium.org/blink/trunk@624 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-15 18:57:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cc41b4ca6d8a27078af262ba3c583d6b3e649ecc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fs01l5dpvy3btr', 2, e'2002-02-14  Kenneth Kocienda  <kocienda@apple.com>

        Did a lot of API cleanup and code formatting.

        Worked on the following bugs, with these results:

        Fixed bugs:
        Radar 2859564 (Clean up untilDate:/expiry: API on IFURLCache)
        Radar 2859575 (truncateToSizeLimit does not belong in public interface for IFURLCache)
        Radar 2859632 (Remove set methods from IFHTTPURLHandle)
        Radar 2859834 (Implement IFHTTPURLHandle delegate method callbacks)
        Radar 2861054 (Clean up constants)

        Progress on bugs:
        Radar 2860531 (Implement special dictionary for IFURLLoadManager)
        Radar 2861001 (Update names of internal class categories)
        Radar 2860482 (Make sure all flags variables are unsigned)
        Radar 2860128 (Add canonicalized URLs to IFURLHandle; make sure they\'re used appropriately)
        Radar 2859577 (Decide on external visibility of WebFoundation headers)

        * CacheLoader.subproj/IFFileURLHandle.h:
        * CacheLoader.subproj/IFFileURLHandle.m:
        * CacheLoader.subproj/IFFileURLProtocolHandler.h:
        * CacheLoader.subproj/IFFileURLProtocolHandler.m: (+[IFFileURLProtocolHandler
        canonicalizeURL:]), (-[IFFileURLProtocolHandler fileLoadThread]):
        * CacheLoader.subproj/IFHTTPURLHandle.h:
        * CacheLoader.subproj/IFHTTPURLHandle.m: (-[IFHTTPURLHandle copyWithZone:]),
        (-[IFHTTPURLHandle dealloc]):
        * CacheLoader.subproj/IFHTTPURLHandleC.h:
        * CacheLoader.subproj/IFHTTPURLProtocolHandler.h:
        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (+[IFHTTPURLProtocolHandler
        canonicalizeURL:]), (-[IFHTTPURLProtocolHandler initWithURLLoad:]),
        (-[IFHTTPURLProtocolHandler beginLoadInBackground]), (-[IFHTTPURLProtocolHandler
        endLoadInBackground]), (-[IFHTTPURLProtocolHandler dealloc]),
        (-[IFHTTPURLProtocolHandler setResponseHeaders:]), (-[IFHTTPURLProtocolHandler
        performStreamRead:]):
        * CacheLoader.subproj/IFURLCache.h:
        * CacheLoader.subproj/IFURLCache.m: (-[IFURLCache objectForURL:]):
        * CacheLoader.subproj/IFURLCacheLoaderConstants.h:
        * CacheLoader.subproj/IFURLCacheLoaderConstants.m:
        * CacheLoader.subproj/IFURLCacheObject.h:
        * CacheLoader.subproj/IFURLCachePrivate.h:
        * CacheLoader.subproj/IFURLCachePrivate.m:
        * CacheLoader.subproj/IFURLDataProvider.h:
        * CacheLoader.subproj/IFURLDiskCache.h:
        * CacheLoader.subproj/IFURLDiskCache.m: (-[IFURLDiskCache objectForURL:]):
        * CacheLoader.subproj/IFURLHandle.h:
        * CacheLoader.subproj/IFURLHandle.m: (-[IFURLHandle loadInBackground]),
        (-[IFURLHandle cancelLoadInBackground]), (-[IFURLHandle loadInForeground]),
        (-[IFURLHandle loadInForeground:]), (-[IFURLHandle isEqual:]), (-[IFURLHandle
        hash]), (-[IFURLHandle description]), (-[IFURLHandle copyWithZone:]):
        * CacheLoader.subproj/IFURLHandleC.h:
        * CacheLoader.subproj/IFURLHandleCallBackClient.h:
        * CacheLoader.subproj/IFURLHandleClient.h:
        * CacheLoader.subproj/IFURLHandleConstants.h:
        * CacheLoader.subproj/IFURLHandlePrivate.h:
        * CacheLoader.subproj/IFURLHandlePrivate.m: (-[IFURLHandle
        setAttribute:forKey:]):
        * CacheLoader.subproj/IFURLLoad.h:
        * CacheLoader.subproj/IFURLLoad.m: (-[IFURLLoad statusCode]), (-[IFURLLoad
        resultCode]), (-[IFURLLoad url]), (-[IFURLLoad attributes]), (-[IFURLLoad
        flags]), (-[IFURLLoad handles]), (-[IFURLLoad resourceData]), (-[IFURLLoad
        didLoadBytes:length:]), (-[IFURLLoad updateHandles]), (-[IFURLLoad succeeded]),
        (-[IFURLLoad failedWithResultCode:]), (-[IFURLLoad isEqual:]), (-[IFURLLoad
        hash]), (-[IFURLLoad description]), (-[IFURLLoad dealloc]), (+[IFURLLoad
        URLLoadWithURL:attributes:flags:]), (-[IFURLLoad initWithURL:attributes:flags:]),
        (-[IFURLLoad addHandle:]), (-[IFURLLoad beginOriginLoad]), (-[IFURLLoad
        didBeginLoading]), (-[IFURLLoad setResourceData:]), (+[IFURLLoad
        IFURLLoadCacheCheckerRun:]):
        * CacheLoader.subproj/IFURLLoadManager.h:
        * CacheLoader.subproj/IFURLLoadManager.m: (-[IFURLLoadManager
        initWithDefaultStack]), (+[IFURLLoadManager sharedURLLoadManager]),
        (-[IFURLLoadManager requestWithURLHandle:]), (-[IFURLLoadManager
        cancelRequestWithURLHandle:]), (-[IFURLLoadManager cancelAllRequestsWithURL:]),
        (-[IFURLLoadManager cancelAllRequestsInGroup:]), (-[IFURLLoadManager
        handleURLLoadedResourceData:]):
        * CacheLoader.subproj/IFURLLoadPrivate.h:
        * CacheLoader.subproj/IFURLMemoryCache.h:
        * CacheLoader.subproj/IFURLMemoryCache.m: (-[IFURLMemoryCache objectForURL:]):
        * CacheLoader.subproj/IFURLProtocolHandler.h:
        * CacheLoader.subproj/IFURLProtocolHandler.m: (+[IFURLProtocolHandler
        canonicalizeURL:]):
        * CookieManager.subproj/IFCookie.h:
        * CookieManager.subproj/IFCookieAcceptHandler.h:
        * CookieManager.subproj/IFCookieC.h:
        * CookieManager.subproj/IFCookieManager.h:
        * CookieManager.subproj/IFCookieManagerC.h:
        * CookieManager.subproj/IFCookiePrivate.h:
        * Database.subproj/IFDatabase.h:
        * Database.subproj/IFDatabase.m: (-[IFDatabase removeAllObjects]):
        * Misc.subproj/IFMutableDataPrivate.m: (-[IFByteRange isEqual:]):
        * Misc.subproj/WebFoundation.h:
        * Misc.subproj/WebFoundationPrivate.h:
        * WebFoundation.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@623 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-14 23:36:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9d16aaf2b756e4b1e43dd6d27d7925f6d2b9b7b7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000ft01l5tmtr8rog', 2, e'Fixed a crash when IFPluginView were dealloced before URLHandles were complete


git-svn-id: svn://svn.chromium.org/blink/trunk@622 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-14 19:11:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c7de16ac1851029fd1174d02d2f44b103aedfc61');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fu01l5ni4cbgec', 2, e'Use NSSwitchButton for check boxes.


git-svn-id: svn://svn.chromium.org/blink/trunk@621 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-14 04:19:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2791f20152ede3027b30367cd3e52d421db378a2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fv01l5yz56sjfo', 2, e'Fixed cleanup problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@620 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-14 03:18:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/794594768a2c50e701e92aaa51a952826238996e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlyc000fw01l534cp2eiy', 2, e'Removed dead code.


git-svn-id: svn://svn.chromium.org/blink/trunk@619 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-14 03:18:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b9b1da4a8221616fa8d650b7f79afb6a6b4932f9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600e901l5u6quv7ux', 2, e'Fixed a bug where the QT Plug-in would complain about not using QT 5. This was because sometimes I wasn\'t passing a mime type to the plug-in


git-svn-id: svn://svn.chromium.org/blink/trunk@618 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-13 19:14:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d10150da6a6dd53b4d6f089674002aa8216ada4d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ea01l54mcxlhia', 2, e'2002-02-13  Kenneth Kocienda  <kocienda@apple.com>

    Cleaned up IFURLHandle and IFHTTPURLHandle init interfaces, making them attribute-based.
    Made URL handle classes immutable.
    Made additions to C glue to match changes made in Objective-C code.
    Added more FIXME bug lines.
    Cleaned up cache interfaces so their names are more consistent.

        * CacheLoader.subproj/IFHTTPURLHandle.h:
        * CacheLoader.subproj/IFHTTPURLHandle.m: (+[IFHTTPURLHandle canInitWithURL:]),
        (+[IFHTTPURLHandle canonicalizeURL:]), (-[IFHTTPURLHandle initWithURL:]),
        (-[IFHTTPURLHandle initWithURL:cached:]), (-[IFHTTPURLHandle requestHeaders]),
        (-[IFHTTPURLHandle requestData]), (-[IFHTTPURLHandle responseHeaders]),
        (-[IFHTTPURLHandle contentLengthReceived]), (-[IFHTTPURLHandle percentComplete]):
        * CacheLoader.subproj/IFHTTPURLHandleC.h:
        * CacheLoader.subproj/IFHTTPURLHandleC.m: (IFHTTPURLHandleCreate),
        (IFHTTPURLHandleGetRequestHeaders), (IFHTTPURLHandleGetResponseHeaders):
        * CacheLoader.subproj/IFHTTPURLProtocolHandler.h:
        * CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (-[IFHTTPURLProtocolHandler
        initWithURLLoad:]), (-[IFHTTPURLProtocolHandler beginLoadInBackground]):
        * CacheLoader.subproj/IFURLCache.h:
        * CacheLoader.subproj/IFURLCache.m: (-[IFURLCache
        setObject:forURL:attributes:expiry:]), (-[IFURLCache setObject:forURL:]),
        (-[IFURLCache currentUsage]):
        * CacheLoader.subproj/IFURLDiskCache.m: (-[IFURLDiskCache setObject:forURL:]),
        (-[IFURLDiskCache clearCache]), (-[IFURLDiskCache setSizeLimit:]),
        (-[IFURLDiskCache usage]):
        * CacheLoader.subproj/IFURLHandle.h:
        * CacheLoader.subproj/IFURLHandle.m: (+[IFURLHandle canonicalizeURL:]),
        (-[IFURLHandle initWithURL:]), (-[IFURLHandle initWithURL:cached:]),
        (-[IFURLHandle flushCachedData]), (-[IFURLHandle canonicalURL]), (-[IFURLHandle
        attributes]), (-[IFURLHandle failureReason]), (-[IFURLHandle dealloc]):
        * CacheLoader.subproj/IFURLHandleC.h:
        * CacheLoader.subproj/IFURLHandleC.m: (IFURLHandleCreate),
        (IFURLHandleGetCanonicalURL), (IFURLHandleGetAttributes):
        * CacheLoader.subproj/IFURLLoad.h:
        * CacheLoader.subproj/IFURLLoad.m: (+[IFURLLoad shutdown]), (-[IFURLLoad
        succeeded]), (-[IFURLLoad failedWithResultCode:]), (-[IFURLLoad
        beginOriginLoad]), (-[IFURLLoad didBeginLoading]), (-[IFURLLoad cancel]),
        (-[IFURLLoad updateStatistics]), (+[IFURLLoad IFURLLoadCacheCheckerRun:]):
        * CacheLoader.subproj/IFURLLoadManager.h:
        * CacheLoader.subproj/IFURLLoadManager.m: (-[IFURLLoadManager
        requestWithURLHandle:]), (-[IFURLLoadManager cancelRequestWithURLHandle:]),
        (-[IFURLLoadManager cancelAllRequestsWithURL:]), (-[IFURLLoadManager
        cancelAllRequestsInGroup:]), (-[IFURLLoadManager objectForURL:]),
        (-[IFURLLoadManager setObject:forURL:attributes:expiry:]), (-[IFURLLoadManager
        clearAllCaches]), (-[IFURLLoadManager handleURLLoadedResourceData:]):
        * CacheLoader.subproj/IFURLMemoryCache.m: (-[IFURLMemoryCache containsURL:]):
        * CacheLoader.subproj/WCURLHandleGlue.m: (WCURLHandleCreate):
        * Database.subproj/IFNDBMDatabase.m: (-[IFNDBMDatabase setObject:forKey:]),
        (-[IFNDBMDatabase removeObjectForKey:]), (-[IFNDBMDatabase objectForKey:]):
        * Database.subproj/IFURLFileDatabase.m: (-[IFURLFileDatabase setObject:forKey:]),
        (-[IFURLFileDatabase objectForKey:]), (-[IFURLFileDatabase keys]):
        * Misc.subproj/IFCWrapperHacks.h:
        * Misc.subproj/IFMutableDataPrivate.h:
        * Misc.subproj/IFMutableDataPrivate.m:
        * WebFoundation.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@617 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-13 18:27:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ced737ded8f3cecef33f5c0b67fb194e715e717b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600eb01l502l9xuxb', 2, e'Removed some KWQ code from kdelibs. Fixed a bug where OBJECT tags weren\'t working. Added multiple stream capability for plugins


git-svn-id: svn://svn.chromium.org/blink/trunk@616 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-13 03:05:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f5d776156fc6345cc070084174c0f3608e837b11');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ec01l5hki0gf4m', 2, e'
Made basic forms work.


git-svn-id: svn://svn.chromium.org/blink/trunk@615 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-13 02:16:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e6de83b2374b235d6553ca3f2e00562ff5836ba5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ed01l5yn4svvkp', 2, e'Made basic forms works.


git-svn-id: svn://svn.chromium.org/blink/trunk@614 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-13 02:16:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/abb67695108f9599cd7f0f147da7041215339b8e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ee01l5f0w1296k', 2, e'WebFoundation:
	Implement "file:" URL scheme. Also, fix up a few bugs this turned up.

	Implement new IFURLHandle and IFURLProtocolHandler subclasses for
	`file:\'. The protocol handler creates a new thread for each file
	load which could be considered somewhat excessive, but
	definitively avoids blocking, and allows for cancellation. Run
	loop sources are used to report success or failure, to avoid
	destroying the protocol handler before its work is done.

	* CacheLoader.subproj/IFFileURLHandle.h:
	* CacheLoader.subproj/IFFileURLHandle.m: (+[IFFileURLHandle canInitWithURL:]):
	* CacheLoader.subproj/IFFileURLProtocolHandler.h:
	* CacheLoader.subproj/IFFileURLProtocolHandler.m: (+[IFFileURLProtocolHandler
	canInitWithURL:]), (-[IFFileURLProtocolHandler initWithURLLoad:]),
	(-[IFFileURLProtocolHandler dealloc]), (-[IFFileURLProtocolHandler
	fileLoadThread]), (-[IFFileURLProtocolHandler sendLoadNotification]),
	(fileLoadThreadStart), (fileProtocolHandlerCopyDescription),
	(sendFinishedMessage), (-[IFFileURLProtocolHandler beginLoadInBackground]),
	(-[IFFileURLProtocolHandler endLoadInBackground]):

	Stick to `http:\' and `https:\' URIs instead of accepting all:

	* CacheLoader.subproj/IFHTTPURLHandle.m: (+[IFHTTPURLHandle canInitWithURL:]):
	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (+[IFHTTPURLProtocolHandler
	canInitWithURL:]):

	Register subclasses for `file:\':

	* CacheLoader.subproj/IFURLHandle.m: (+[IFURLHandle initialize]):
	* CacheLoader.subproj/IFURLProtocolHandler.m: (+[IFURLProtocolHandler
	initialize]):


	* CacheLoader.subproj/IFURLLoad.m: (-[IFURLLoad beginOriginLoad]):
	Lock the IFURLLoad object while kicking off the protocol handler
	and examining the status code, otherwise a really fast protocol
	handler can report completion and therefore destroy this load
	object before it can look at the status. This leads to what we
	technically refer to as "crashy crashy".


	* WebFoundation.pbproj/project.pbxproj: Add new files to build.
WebCore:
	Make some tweaks to glue together KDE\'s and CF\'s concepts of URLs
	a bit better. In particular, CF thinks "file:/some/path" is an
	invalid URL, while KDE thinks this is the canonical form for a
	file URL.

	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::openURL), (KHTMLPart::closeURL),
	(KHTMLPart::checkCompleted):
	* src/kwq/KWQKjobclasses.mm:


git-svn-id: svn://svn.chromium.org/blink/trunk@613 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-12 11:46:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1d6ad745ad98486ec9c456c8cf911df7ef15093f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ef01l5g55n339i', 2, e'	* borrowed-classes.txt: Stopped borrowing QVector, QList,
	QCollection and QTL.

	Extended tests for QList, QSortedList (to test QList::sort more
	thoroughly) and QVector. Especially excercise autodeletion
	semantics and corner cases more thoroughly.

	* Tests/qt/qlist-test.chk:
	* Tests/qt/qlist-test.cpp: (operator<<), (main):
	* Tests/qt/qsortedlist-test.chk:
	* Tests/qt/qsortedlist-test.cpp: (main):
	* Tests/qt/qvector-test.chk:
	* Tests/qt/qvector-test.cpp: (operator<<), (printVectorNullTolerant), (main):

	* Tests/qt/qmap-test.cpp (CheckRedBlackRules): Tweak a bit to
	violate QMap\'s abstraction for glass-box testing.
WebCore:
	Reimplemented QList, QVector and QCollection from
	scratch. Implemented copy-on-write optimization for QMap.

	Minimally reimplement QCollection.

	* src/kwq/qt/qcollection.h:
	* src/kwq/KWQCollection.mm: (QCollection::QCollection), (QCollection::operator=),
	(QCollection::~QCollection), (QCollection::autoDelete),
	(QCollection::setAutoDelete):

	* src/kwq/qt/qdict.h, src/kwq/qt/qptrdict.h: Include
	qcollection.h, not _qcollection.h

	Reimplement QList as a doubly-linked list.

	* src/kwq/qt/qlist.h:
	* src/kwq/KWQListImpl.h:
	* src/kwq/KWQListImpl.mm: (KWQListImpl::KWQListPrivate::copyList),
	(KWQListImpl::KWQListPrivate::KWQListPrivate),
	(KWQListImpl::KWQListPrivate::~KWQListPrivate),
	(KWQListIteratorImpl::KWQListIteratorPrivate::KWQListIteratorPrivate),
	(KWQListImpl::KWQListImpl), (KWQListImpl::~KWQListImpl), (KWQListImpl::isEmpty),
	(KWQListImpl::count), (KWQListImpl::clear), (KWQListImpl::sort),
	(KWQListImpl::at), (KWQListImpl::insert), (KWQListImpl::remove),
	(KWQListImpl::removeFirst), (KWQListImpl::removeLast), (KWQListImpl::removeRef),
	(KWQListImpl::getLast), (KWQListImpl::current), (KWQListImpl::first),
	(KWQListImpl::last), (KWQListImpl::next), (KWQListImpl::prev),
	(KWQListImpl::take), (KWQListImpl::append), (KWQListImpl::prepend),
	(KWQListImpl::containsRef), (KWQListImpl::assign), (KWQListImpl::addIterator),
	(KWQListImpl::removeIterator), (KWQListIteratorImpl::KWQListIteratorImpl),
	(KWQListIteratorImpl::~KWQListIteratorImpl), (KWQListIteratorImpl::count),
	(KWQListIteratorImpl::toFirst), (KWQListIteratorImpl::toLast),
	(KWQListIteratorImpl::current), (KWQListIteratorImpl::operator--),
	(KWQListIteratorImpl::operator++), (KWQListIteratorImpl::operator=):

	Reimplement QVector in terms of CFArray.

	* src/kwq/qt/qvector.h:
	* src/kwq/KWQVectorImpl.h:
	* src/kwq/KWQVectorImpl.mm: (KWQVectorImpl::KWQVectorPrivate::KWQVectorPrivate),
	(KWQVectorImpl::KWQVectorPrivate::~KWQVectorPrivate),
	(KWQVectorImpl::KWQVectorImpl), (KWQVectorImpl::~KWQVectorImpl),
	(KWQVectorImpl::clear), (KWQVectorImpl::isEmpty), (KWQVectorImpl::count),
	(KWQVectorImpl::size), (KWQVectorImpl::remove), (KWQVectorImpl::resize),
	(KWQVectorImpl::insert), (KWQVectorImpl::at), (KWQVectorImpl::assign),
	(KWQVectorImpl::KWQVectorImpl::swap):

	Implemented copy-on-write optimization for QMap. This had the
	pleasant side effect of improving the separation between pointer
	manipulation and key/value manipulation.

	* src/kwq/qt/qmap.h:
	* src/kwq/KWQMapImpl.h:
	* src/kwq/KWQMapImpl.mm: (KWQMapImpl::KWQMapPrivate::KWQMapPrivate),
	(KWQMapImpl::KWQMapPrivate::~KWQMapPrivate), (KWQMapImpl::KWQMapImpl),
	(KWQMapImpl::~KWQMapImpl), (KWQMapImpl::copyOnWrite), (KWQMapImpl::copyTree),
	(KWQMapImpl::rebalanceAfterInsert), (KWQMapImpl::rebalanceAfterRemove),
	(KWQMapImpl::findInternal), (KWQMapImpl::insertInternal),
	(KWQMapImpl::removeInternal), (KWQMapImpl::swap), (KWQMapImpl::countInternal),
	(KWQMapImpl::clearInternal), (KWQMapImpl::beginInternal),
	(KWQMapImpl::endInternal):

	* src/kwq/Makefile.am: Add new files to build.

	* src/kdelibs/khtml/rendering/render_text.cpp
	(TextSlaveArray::findFirstMatching): Fix two places where the KDE
	code was depending on implementation details of QVector.


git-svn-id: svn://svn.chromium.org/blink/trunk@612 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-12 08:46:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/012d79f83a1f22b442f0b785693f61413795d672');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600eg01l5bq2nznbz', 2, e'	Fixed bug where clicking on empty browser page would crash. This could
	happen when the start page was empty, or failed to load.

	* WebView.subproj/IFWebView.mm:
	(-[IFWebView mouseUp:]), (-[IFWebView mouseDown:]):
	Checked for nil widget before dispatching mouse events.


git-svn-id: svn://svn.chromium.org/blink/trunk@611 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-02-12 04:32:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1024dfd1954367e735fc8ae692c3ebcc6af5afd3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600eh01l57no8z5pm', 2, e'2002-02-11  Kenneth Kocienda  <kocienda@apple.com>

        Removed a bunch of logging messages to reduce the spamage.

        * CacheLoader.subproj/IFHTTPURLHandle.h:
        * CacheLoader.subproj/IFHTTPURLHandle.m: (-[IFHTTPURLHandle
        initWithURL:flags:group:requestMethod:requestDataDict:]), (-[IFHTTPURLHandle
        initWithURL:flags:group:requestMethod:requestData:]), (-[IFHTTPURLHandle
        setRequestData:]):
        * CacheLoader.subproj/IFURLMemoryCache.m: (-[IFURLMemoryCache objectForURL:]):
        * Database.subproj/IFURLFileDatabase.m: (-[IFURLFileDatabase setObject:forKey:]):
        * Misc.subproj/IFMutableData.m: (-[IFMutableData getBytes:length:]),
        (-[IFMutableData getBytes:range:]), (-[IFMutableData subdataWithRange:]):
        * Misc.subproj/IFMutableDataPrivate.m: (-[IFMutableData
        createBlockForRange:buffer:]), (-[IFMutableData
        dataObjectsGreaterThanMatchedOffset:]), (-[IFMutableData byteBlocksForRange:]),
        (-[IFMutableData bytesInRange:]):
        * Misc.subproj/IFNSFileManagerExtensions.m: (-[NSFileManager
        createIntermediateDirectoriesForPath:attributes:]):
        * WebFoundation.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@610 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-11 23:34:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1b8ae25d1e9f365af451c73b874787fdd6781da4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ei01l50hg04tv3', 2, e'2002-02-11  Kenneth Kocienda  <kocienda@apple.com>

    Added new files.

	* CacheLoader.subproj/IFCachedObject.h:
	* CacheLoader.subproj/IFCachedObject.m:
	* CacheLoader.subproj/IFURLCacheLoaderConstants.h:
	* CacheLoader.subproj/IFURLCacheLoaderConstants.m:

    Changed setRequestData to return BOOL to reflect fact that it might fail given
    the state of the handle.

	* CacheLoader.subproj/IFHTTPURLHandle.h:
	* CacheLoader.subproj/IFHTTPURLHandle.m: (-[IFHTTPURLHandle setRequestData:]):


    Added setResponseHeaders method, and cleaned up code that actually reads the
    stream to set headers.

	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (-[IFHTTPURLProtocolHandler
	endLoadInBackground]), (-[IFHTTPURLProtocolHandler performHTTPHeaderRead:]),
	(-[IFHTTPURLProtocolHandler setResponseHeaders:]):


    Modified class so that it is smart about attributes associated with cached data
    and not just the data itself. Added IFURLCacheObject class to help out with this.

    Tweaked cache object accessor interface.

	* CacheLoader.subproj/IFURLCache.h:
	* CacheLoader.subproj/IFURLCache.m: (-[IFURLCache objectForURL:]), (-[IFURLCache
	cacheObject:forURL:withAttributes:untilDate:]), (-[IFURLCache
	cacheObject:forURL:]), (-[IFURLCache setSizeLimit:]), (-[IFURLCache
	initWithSizeLimit:]):
	* CacheLoader.subproj/IFURLCacheObject.h:
	* CacheLoader.subproj/IFURLCacheObject.m: (+[IFURLCacheObject
	URLCacheObject:url:attributes:expiry:]), (-[IFURLCacheObject initWithCoder:]),
	(-[IFURLCacheObject encodeWithCoder:]), (-[IFURLCacheObject object]),
	(-[IFURLCacheObject url]), (-[IFURLCacheObject attributes]), (-[IFURLCacheObject
	expiry]), (-[IFURLCacheObject dealloc]):


    Changed on-disk cache location from a URL to a path.

    Added implementation of disk caching with a file-per-URL database as the backing store.

	* CacheLoader.subproj/IFURLDiskCache.h:
	* CacheLoader.subproj/IFURLDiskCache.m: (-[IFURLDiskCache initWithSizeLimit:]),
	(-[IFURLDiskCache initWithSizeLimit:path:]), (-[IFURLDiskCache objectForURL:]),
	(-[IFURLDiskCache cacheObject:forURL:]), (-[IFURLDiskCache containsURL:]),
	(-[IFURLDiskCache invalidateURL:]):


	Removed fromStream:(CFReadStreamRef)stream from interface. The need to pass this has been
	obsoleted by the creation of protocol handler classes.

	Fixed a bug that assumed we always get back a no-copy data object from the network. The
	disk cache does not return such objects.

	* CacheLoader.subproj/IFURLHandle.h:
	* CacheLoader.subproj/IFURLHandle.m: (+[IFURLHandle initialize]), (-[IFURLHandle
	didLoadData:]), (-[IFURLHandle notifyClientsDidLoadData]):
	* CacheLoader.subproj/IFURLHandleC.h:
	* CacheLoader.subproj/IFURLHandleC.m: (IFURLHandleDidLoadData):
	* CacheLoader.subproj/IFURLHandleConstants.h:


    Much work to support the on-disk cache, and returning attributes with cached objects.

	* CacheLoader.subproj/IFURLLoad.h:
	* CacheLoader.subproj/IFURLLoad.m: (-[IFURLLoad initWithURL:flags:]),
	(-[IFURLLoad setResourceData:]), (-[IFURLLoad updateHandlesWithData]),
	(-[IFURLLoad cleanup]), (+[IFURLLoad IFURLLoadCacheCheckerRun:]):
	* CacheLoader.subproj/IFURLLoadManager.h:
	* CacheLoader.subproj/IFURLLoadManager.m: (-[IFURLLoadManager
	initWithDefaultStack]), (-[IFURLLoadManager cacheObjectForURL:]),
	(-[IFURLLoadManager cacheObject:forURL:withAttributes:untilDate:]),
	(-[IFURLLoadManager handleURLLoadDone:]), (-[IFURLLoadManager
	handleURLLoadedResourceData:]):


    Changed internal IFMemoryCacheObject so that it subclasses the new IFCacheObject.

    Now supports returning attributes with cached objects.

	* CacheLoader.subproj/IFURLMemoryCache.m: (+[IFMemoryCacheObject
	memoryCacheObjectWithObject:url:attributes:expiry:]), (-[IFMemoryCacheObject
	setExpiration:]), (-[IFMemoryCacheObject expire]), (-[IFMemoryCacheObject
	isExpired]), (-[IFMemoryCacheObject dealloc]), (-[IFURLMemoryCache
	truncateToSizeLimit]), (-[IFURLMemoryCache objectForURL:]):


    Added database subproj.

	* Database.subproj/IFDatabase.h:
	* Database.subproj/IFDatabase.m: (-[IFDatabase setObject:forKey:]), (-[IFDatabase
	removeObjectForKey:]), (-[IFDatabase objectForKey:]), (-[IFDatabase keys]),
	(-[IFDatabase count]), (-[IFDatabase initWithPath:]), (-[IFDatabase dealloc]),
	(-[IFDatabase open]), (-[IFDatabase close]), (-[IFDatabase sync]), (-[IFDatabase
	path]), (-[IFDatabase isOpen]):
	* Database.subproj/IFNDBMDatabase.h:
	* Database.subproj/IFNDBMDatabase.m: (-[IFNDBMDatabase initWithPath:]),
	(-[IFNDBMDatabase dealloc]), (-[IFNDBMDatabase setObject:forKey:]),
	(-[IFNDBMDatabase removeObjectForKey:]), (-[IFNDBMDatabase objectForKey:]),
	(-[IFNDBMDatabase keys]), (-[IFNDBMDatabase open]), (-[IFNDBMDatabase close]),
	(-[IFNDBMDatabase sync]):
	* Database.subproj/IFURLFileDatabase.h:
	* Database.subproj/IFURLFileDatabase.m: (+[IFURLFileDatabase initialize]),
	(-[IFURLFileDatabase initWithPath:]), (-[IFURLFileDatabase dealloc]),
	(+[IFURLFileDatabase uniqueFilePathForKey:]), (-[IFURLFileDatabase
	setObject:forKey:]), (-[IFURLFileDatabase removeObjectForKey:]),
	(-[IFURLFileDatabase objectForKey:]), (-[IFURLFileDatabase keys]),
	(-[IFURLFileDatabase open]), (-[IFURLFileDatabase close]), (-[IFURLFileDatabase
	sync]):
	* Misc.subproj/IFMutableDataPrivate.m: (-[IFData
	initWithBytes:length:copy:freeWhenDone:bytesAreVM:]):


    Added class.

	* Misc.subproj/IFNSFileManagerExtensions.h:
	* Misc.subproj/IFNSFileManagerExtensions.m: (-[NSFileManager
	createDirectoryAtPathWithIntermediateDirectories:attributes:]), (-[NSFileManager
	createFileAtPathWithIntermediateDirectories:contents:attributes:directoryAttribut
	es:]), (-[NSFileManager createIntermediateDirectoriesForPath:attributes:]):


    Removed obsoleted IFContentType.

	* Misc.subproj/WebFoundation.h:
	* WebFoundation.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@609 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-11 19:05:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/562113f23658dbd2b34ccf0beabbe4d6838097b3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ej01l5tr1t9s0j', 2, e'	Changed back & forward to goBack and goForward and made them not return
	a value (so signatures match those in WebBrowser). Added backEntry and
	forwardEntry that don\'t alter the list. These will be needed to ask to
	go to the URL at the back position without altering the back list until
	the change is committed.

	* History.subproj/IFBackForwardList.h:
	* History.subproj/IFBackForwardList.m: (-[IFBackForwardList goBack]),
	(-[IFBackForwardList backEntry]), (-[IFBackForwardList currentEntry]),
	(-[IFBackForwardList forwardEntry]), (-[IFBackForwardList goForward]):


	* BrowserDocument.m: (-[BrowserDocument goBack]), (-[BrowserDocument goForward]):
	Updated to match new API from IFBackForwardList. Behavior is unchanged for now.


git-svn-id: svn://svn.chromium.org/blink/trunk@608 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-02-09 01:10:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/192264b33ceb33abb28c795853296984d1d63321');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ek01l5kzb5qrxq', 2, e'removed unnecessary adjustment for scroll width.`:


git-svn-id: svn://svn.chromium.org/blink/trunk@607 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-08 02:20:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e8337fa4ca8dcf17544d4e4515b85e27efd75d12');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600el01l5tb8lg79h', 2, e'Fixed deallocs.


git-svn-id: svn://svn.chromium.org/blink/trunk@606 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-08 02:20:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/94924261d54bc1690cb6e41bd5a7cfbf2e9bea2c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600em01l5j9a6pxsn', 2, e'New file.


git-svn-id: svn://svn.chromium.org/blink/trunk@605 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-08 01:56:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/62225ee6e4ac853694fbd3aec5c6ff64e7ca969d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600en01l5gdxebzv0', 2, e'More changes to IFLocationChangeHandler API.


git-svn-id: svn://svn.chromium.org/blink/trunk@604 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-08 01:55:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e5d838375b90a5e25f06e7a323854ca807cd2d7a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600eo01l546r2bzw7', 2, e'factor private class out of IFWebFrame.


git-svn-id: svn://svn.chromium.org/blink/trunk@603 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-08 01:38:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f5f43a1407704cbbaf4b38617c84af8791a73461');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ep01l5kl0vcb5u', 2, e'Fixed HIToolbox include problem. Ricard added a call to stop in IFWebViewPrivate


git-svn-id: svn://svn.chromium.org/blink/trunk@602 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-08 01:26:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/16a15416104447dcac408dec6b2701897536043d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600eq01l5soaoyp6a', 2, e'- Renamed WebCore plug-in classes to WC*.
- Created Plugins.subproj in WebKit.
- Created IFCarbonWindowView.
- Moved IFPluginView to WebKit.

- Turned off -Werror in WebKit until Macjiej updates the warning problem in NSStringBuffer.h

Modified Files:
	WebCore/src/kwq/KWQKConfigBase.mm
	WebCore/src/kwq/KWQKHTMLPart.mm WebCore/src/kwq/Makefile.am
 	WebCore/src/kwq/npapi.h WebCore/src/kwq/npapi.mm
	WebKit/WebKit.pbproj/project.pbxproj
Added Files:
	WebCore/src/kwq/WCPlugin.h WebCore/src/kwq/WCPlugin.mm
	WebCore/src/kwq/WCPluginDatabase.h
	WebCore/src/kwq/WCPluginDatabase.mm
	WebCore/src/kwq/WCPluginWidget.h
	WebCore/src/kwq/WCPluginWidget.mm
	WebKit/Plugins.subproj/IFCarbonWindowView.h
	WebKit/Plugins.subproj/IFCarbonWindowView.m
	WebKit/Plugins.subproj/IFPluginView.h
	WebKit/Plugins.subproj/IFPluginView.mm
Removed Files:
	WebCore/src/kwq/WKPlugin.h WebCore/src/kwq/WKPlugin.mm
	WebCore/src/kwq/WKPluginDatabase.h
	WebCore/src/kwq/WKPluginDatabase.mm
	WebCore/src/kwq/WKPluginView.h WebCore/src/kwq/WKPluginView.mm
	WebCore/src/kwq/WKPluginWidget.h
	WebCore/src/kwq/WKPluginWidget.mm


git-svn-id: svn://svn.chromium.org/blink/trunk@601 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-08 00:21:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d2cdae793824473a0177d16e46737e08f95635aa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600er01l5uygdsyhj', 2, e'Updated IFLocationChangeHandler API.


git-svn-id: svn://svn.chromium.org/blink/trunk@600 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-07 23:03:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f884948ab18554a40896495b184bd21ddafe4a2e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600es01l53u7hgjgr', 2, e'Fixed comment.


git-svn-id: svn://svn.chromium.org/blink/trunk@599 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-07 02:15:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/584a42bf506160fac3c9da4224dbe8135c17899e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600et01l5wlc2u0sr', 2, e'Fixed debuggging test.


git-svn-id: svn://svn.chromium.org/blink/trunk@598 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-07 02:15:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e5abcf6621b12c2c5e51f87ea625111261093c61');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600eu01l5w8b46361', 2, e'Fixed allocation problems.


git-svn-id: svn://svn.chromium.org/blink/trunk@597 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-07 02:00:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a57493e7e788985a4cb02519d2b5de451b984955');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ev01l5vlpi5umu', 2, e'Fixed allocation problems.  Implemented parent->child management
    for datasource correctly.


git-svn-id: svn://svn.chromium.org/blink/trunk@596 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-07 02:00:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3a7cf956e112dea2aa796c64646e342395d7e3bd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ew01l566rewx6n', 2, e'Updated to reflect new API.


git-svn-id: svn://svn.chromium.org/blink/trunk@595 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-06 04:53:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8bf50e83532460d83667491c1edb6012270d51fc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ex01l5vq0p7orw', 2, e'WebKit:
	Remove old obsolete cache code from tree and build.

	* Cache.subproj/NSURICache.h:
	* Cache.subproj/NSURICache.m:
	* Cache.subproj/NSURICacheData.h:
	* Cache.subproj/NSURICacheData.m:
	* Cache.subproj/NSURILoad.h:
	* Cache.subproj/NSURILoad.m:
	* Cache.subproj/NSURILoadReallyPrivate.h:
	* Cache.subproj/_NSURICacheQueue.h:
	* Cache.subproj/_NSURICacheQueue.m:
	* Misc.subproj/WebKitReallyPrivate.h:
	* Misc.subproj/_NSMonitor.h:
	* Misc.subproj/_NSMonitor.m:
	* WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@594 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-06 03:11:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/392dfdef630844025ca34d7ea459cc27b0b28e8d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ey01l52qx7ixkg', 2, e'Working dynamic scroll bars.


git-svn-id: svn://svn.chromium.org/blink/trunk@593 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-06 01:59:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3089422de6b12793d818456e1e264f3c5d63a76a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600ez01l53jhy0ehm', 2, e'Reintegrated Ken\'s cache changes after stomping them out


git-svn-id: svn://svn.chromium.org/blink/trunk@592 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-05 20:47:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/89363747a1c932ebfa89ea8e9c468f0d7f0dff3e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600f001l5ilxdlfm2', 2, e'Added support for the object tag. Added getPluginForURL in WKPluginDatabase. Now grabbing remaining info from plug-in resources


git-svn-id: svn://svn.chromium.org/blink/trunk@591 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-05 19:15:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ab36688ed63ce946c0419214c102aed1a60698f3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600f101l5h6dgd773', 2, e'2002-02-05  Kenneth Kocienda  <kocienda@apple.com>

        I know WebViewTest is dead, but this was breaking the build...

        * Tests/khtmlview/_KWQOwner.h:
        * Tests/khtmlview/_KWQOwner.m: (-[_KWQOwner applicationDidFinishLaunching:]),
        (-[_KWQOwner _setURL:]), (-[_KWQOwner changeURL:]), (-[_KWQOwner back:]),
        (-[_KWQOwner forward:]), (-[_KWQOwner newUriDone:]):

        Changes to move these last bits of code to the new cache API.

        * src/kwq/KWQKjobclasses.mm:
        * src/kwq/WKPluginView.h:
        * src/kwq/WKPluginView.mm: (-[WKPluginView drawRect:]), (-[WKPluginView
        WCURLHandleResourceDidBeginLoading:userData:]), (-[WKPluginView
        WCURLHandleResourceDidCancelLoading:userData:]), (-[WKPluginView
        WCURLHandleResourceDidFinishLoading:userData:]), (-[WKPluginView
        WCURLHandle:resourceDataDidBecomeAvailable:userData:]), (-[WKPluginView
        WCURLHandle:resourceDidFailLoadingWithResult:userData:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@590 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-05 16:32:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9359ea5744699cb13c749e2a285cd2808192115b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlx4600f201l5vv0r4olr', 2, e'Top level:
 	Fix everything for WebFoundation and WebKit WK --> IF rename.

 	* Tests/CookieManager/wkcookie-test.m:
WebBrowser:
	Fix everything for WK --> IF rename.

	* BackForwardListEntry.h:
	* BrowserDocument.h:
	* BrowserDocument.m: (-[BrowserDocument init]), (-[BrowserDocument
	setMainWebView:]), (-[BrowserDocument goToURLBypassingBackForwardList:]),
	(-[BrowserDocument receivedProgress:forResource:fromDataSource:]),
	(-[BrowserDocument receivedError:forResource:partialProgress:fromDataSource:]),
	(-[BrowserDocument setStatusText:forDataSource:]), (-[BrowserDocument
	statusTextForDataSource:]), (-[BrowserDocument authenticate:]),
	(-[BrowserDocument locationChangeStartedForDataSource:]), (-[BrowserDocument
	locationChangeInProgressForDataSource:]), (-[BrowserDocument
	locationChangeDone:forDataSource:]), (-[BrowserDocument
	receivedPageTitle:forDataSource:]), (-[BrowserDocument
	serverRedirectTo:forDataSource:]), (-[BrowserDocument
	createFrameNamed:for:inParent:]):
	* BrowserWindow.h:
	* WebController.h:
	* WebController.m: (-[WebController
	receivedProgress:forResource:fromDataSource:]), (-[WebController
	receivedError:forResource:partialProgress:fromDataSource:]), (-[WebController
	setStatusText:forDataSource:]), (-[WebController
	locationChangeStartedForDataSource:]), (-[WebController
	locationChangeInProgressForDataSource:]), (-[WebController
	locationChangeDone:forDataSource:]), (-[WebController
	receivedPageTitle:forDataSource:]), (-[WebController
	serverRedirectTo:forDataSource:]):
WebCore:
	Fix everything for WK --> IF rename.

	* src/kwq/KWQKHTMLPart.h:
	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::khtmlMouseReleaseEvent),
	(KHTMLPart::requestFrame), (KHTMLPart::checkCompleted):
WebFoundation:
	Rename all classes from WK prefix to IF prefix.

	* CacheLoader.subproj/IFCachedObject.h:
	* CacheLoader.subproj/IFCachedObject.m:
	* CacheLoader.subproj/IFContentType.h:
	* CacheLoader.subproj/IFContentType.m:
	* CacheLoader.subproj/IFHTTPURLHandle.h:
	* CacheLoader.subproj/IFHTTPURLHandle.m: (+[IFHTTPURLHandle canInitWithURL:]),
	(-[IFHTTPURLHandle initWithURL:cached:]), (-[IFHTTPURLHandle
	initWithURL:flags:group:requestMethod:requestData:]):
	* CacheLoader.subproj/IFHTTPURLHandleCookies.h:
	* CacheLoader.subproj/IFHTTPURLProtocolHandler.h:
	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m: (readStreamCallback),
	(-[IFHTTPURLProtocolHandler initWithURLLoad:]), (-[IFHTTPURLProtocolHandler
	beginLoadInBackground]), (-[IFHTTPURLProtocolHandler endLoadInBackground]),
	(-[IFHTTPURLProtocolHandler handleReadStreamEvent:event:]),
	(-[IFHTTPURLProtocolHandler performHTTPHeaderRead:]), (-[IFHTTPURLProtocolHandler
	performStreamRead:]), (-[IFHTTPURLProtocolHandler determineError]):
	* CacheLoader.subproj/IFURLCache.h:
	* CacheLoader.subproj/IFURLCache.m: (-[IFURLCache objectForURL:]), (-[IFURLCache
	cacheObject:forURL:untilDate:]), (-[IFURLCache expiryForURL:]), (-[IFURLCache
	setExpiryForURL:date:]), (-[IFURLCache invalidateURL:]), (-[IFURLCache
	clearCache]), (-[IFURLCache truncateToSizeLimit:]):
	* CacheLoader.subproj/IFURLDataProvider.h:
	* CacheLoader.subproj/IFURLDiskCache.h:
	* CacheLoader.subproj/IFURLDiskCache.m:
	* CacheLoader.subproj/IFURLHandle.h:
	* CacheLoader.subproj/IFURLHandle.m: (-[IFURLHandleSynchronousClient init]),
	(-[IFURLHandleSynchronousClient IFURLHandleResourceDidBeginLoading:]),
	(-[IFURLHandleSynchronousClient IFURLHandleResourceDidCancelLoading:]),
	(-[IFURLHandleSynchronousClient IFURLHandleResourceDidFinishLoading:]),
	(-[IFURLHandleSynchronousClient IFURLHandle:resourceDataDidBecomeAvailable:]),
	(-[IFURLHandleSynchronousClient IFURLHandle:resourceDidFailLoadingWithResult:]),
	(_sendLoadCancelledMessages), (_sendLoadDidBeginMessages),
	(_sendDidLoadDataMessages), (_sendLoadCompleteMessages),
	(_sendLoadFailedMessages), (_handleRetain), (_handleRelease),
	(_handleCopyDescription), (+[IFURLHandle initialize]), (+[IFURLHandle
	canInitWithURL:]), (-[IFURLHandle initWithURL:cached:]), (-[IFURLHandle
	addClient:]), (-[IFURLHandle removeClient:]), (-[IFURLHandle loadInBackground]),
	(-[IFURLHandle cancelLoadInBackground]), (-[IFURLHandle backgroundLoadDidBegin]),
	(-[IFURLHandle didLoadData:fromStream:]), (-[IFURLHandle
	backgroundLoadComplete]), (-[IFURLHandle backgroundLoadFailedWithResultCode:]),
	(-[IFURLHandle loadInForeground:]), (-[IFURLHandle statusCode]), (-[IFURLHandle
	resultCode]), (-[IFURLHandle isEqual:]), (-[IFURLHandle hash]), (-[IFURLHandle
	cacheable]), (-[IFURLHandle setCacheable:]), (-[IFURLHandle setStatusCode:]),
	(-[IFURLHandle setResultCode:]), (-[IFURLHandle
	notifyClientsBackgroundLoadCancelled]), (-[IFURLHandle
	notifyClientsBackgroundLoadDidBegin]), (-[IFURLHandle notifyClientsDidLoadData]),
	(-[IFURLHandle notifyClientsBackgroundLoadComplete]), (-[IFURLHandle
	notifyClientsBackgroundLoadFailed]):
	* CacheLoader.subproj/IFURLHandleCGlue.h:
	* CacheLoader.subproj/IFURLHandleCGlue.m: (-[IFURLHandleCGlueClient
	initWithClientContext:]), (-[IFURLHandleCGlueClient
	IFURLHandleResourceDidBeginLoading:]), (-[IFURLHandleCGlueClient
	IFURLHandleResourceDidCancelLoading:]), (-[IFURLHandleCGlueClient
	IFURLHandleResourceDidFinishLoading:]), (-[IFURLHandleCGlueClient
	IFURLHandle:resourceDataDidBecomeAvailable:]), (-[IFURLHandleCGlueClient
	IFURLHandle:resourceDidFailLoadingWithResult:]), (IFURLHandleCreate),
	(IFURLHandleRelease), (IFURLHandleLoadInBackground):
	* CacheLoader.subproj/IFURLLoad.m: (+[IFURLLoad initialize]), (+[IFURLLoad
	URLLoadWithURL:flags:]), (-[IFURLLoad initWithURL:flags:]), (-[IFURLLoad
	addHandle:]), (-[IFURLLoad removeHandle:]), (-[IFURLLoad schedule]), (-[IFURLLoad
	statusCode]), (-[IFURLLoad resultCode]), (-[IFURLLoad succeeded]), (-[IFURLLoad
	failedWithResultCode:]), (-[IFURLLoad protocolHandler]), (-[IFURLLoad
	beginOriginLoad]), (-[IFURLLoad didBeginLoading]), (-[IFURLLoad cleanup]),
	(-[IFURLLoad setStatusCode:]), (-[IFURLLoad setResultCode:]), (+[IFURLLoad
	IFURLLoadCacheCheckerRun:]), (+[IFURLLoad IFURLLoadThrottlerRun:]), (+[IFURLLoad
	IFURLLoadLoaderRun:]), (+[IFURLLoad IFURLLoadSweeperRun:]), (+[IFURLLoad
	IFURLLoadCFStreamHandlerRun:]):
	* CacheLoader.subproj/IFURLLoadManager.m: (-[IFURLLoadManager
	initWithDefaultStack]), (+[IFURLLoadManager sharedURLLoader]),
	(-[IFURLLoadManager concurrentNetworkLoadLimit]), (-[IFURLLoadManager
	setConcurrentNetworkLoadLimit:]), (-[IFURLLoadManager canAccessNetwork]),
	(-[IFURLLoadManager setCanAccessNetwork:]), (-[IFURLLoadManager
	networkLoadTimeout]), (-[IFURLLoadManager setNetworkLoadTimeout:]),
	(-[IFURLLoadManager requestWithURLHandle:]), (-[IFURLLoadManager
	cancelRequestWithURLHandle:]), (-[IFURLLoadManager cancelAllRequestsWithURL:]),
	(-[IFURLLoadManager handleURLLoadDone:]), (-[IFURLLoadManager
	handleURLLoadedResourceData:]):
	* CacheLoader.subproj/IFURLMemoryCache.m: (+[IFMemoryCacheObject
	memoryCacheObjectWithObject:]), (+[IFMemoryCacheObject
	memoryCacheObjectWithObject:expiry:]), (-[IFMemoryCacheObject initWithObject:]),
	(-[IFMemoryCacheObject touch]), (-[IFMemoryCacheObject isExpired]),
	(-[IFURLMemoryCache initWithSizeLimit:]), (-[IFURLMemoryCache
	truncateToSizeLimit]), (-[IFURLMemoryCache objectForURL:]), (-[IFURLMemoryCache
	cacheObject:forURL:untilDate:]), (-[IFURLMemoryCache invalidateURL:]):
	* CacheLoader.subproj/IFURLProtocolHandler.m: (+[IFURLProtocolHandler
	initialize]), (+[IFURLProtocolHandler canInitWithURL:]), (-[IFURLProtocolHandler
	initWithURLLoad:]), (-[IFURLProtocolHandler beginLoadInBackground]),
	(-[IFURLProtocolHandler endLoadInBackground]):
	* CacheLoader.subproj/WCURLHandleGlue.m: (-[WCURLHandleClientProxy
	IFURLHandleResourceDidBeginLoading:]), (-[WCURLHandleClientProxy
	IFURLHandleResourceDidCancelLoading:]), (-[WCURLHandleClientProxy
	IFURLHandleResourceDidFinishLoading:]), (-[WCURLHandleClientProxy
	IFURLHandle:resourceDataDidBecomeAvailable:]), (-[WCURLHandleClientProxy
	IFURLHandle:resourceDidFailLoadingWithResult:]), (WCURLHandleCreate):
	* CookieManager.subproj/IFCookie.m: (+[IFCookie cookieWithDictionary:]),
	(setVersion), (setName), (setValue), (setDefaultsFromOriginURL), (setDomain),
	(setPath), (setSecure), (setExpires), (-[IFCookie initWithDictionary:]),
	(-[IFCookie version]), (-[IFCookie name]), (-[IFCookie value]), (-[IFCookie
	expires]), (-[IFCookie sessionOnly]), (-[IFCookie domain]), (-[IFCookie path]),
	(-[IFCookie secure]), (-[IFCookie comment]), (-[IFCookie commentURL]),
	(-[IFCookie portList]), (+[IFCookie cookieWithV0Spec:forURL:]),
	(MakeCookieWithV0Spec), (-[IFCookie compare:]), (-[IFCookie description]):
	* CookieManager.subproj/IFCookieManager.m: (+[IFCookieManager
	sharedCookieManager]), (-[IFCookieManager cookies]), (-[IFCookieManager
	setCookie:]), (-[IFCookieManager deleteCookie:]), (-[IFCookieManager
	deleteCookieWithName:domain:path:]), (-[IFCookieManager
	cookieRequestHeadersForURL:]), (-[IFCookieManager
	setCookiesFromResponseHeaders:forURL:]), (-[IFCookieManager addAcceptHandler:]),
	(-[IFCookieManager removeAcceptHandler:]), (-[IFCookieManager
	addChangeListener:]), (-[IFCookieManager removeChangeListener:]),
	(-[IFCookieManager description]):
	* Misc.subproj/IFBinaryHeap.m: (_IFBinaryHeapRetain), (_IFBinaryHeapRelease),
	(_IFBinaryHeapCopyDescription), (_IFBinaryHeapCompare), (_heap), (+[IFBinaryHeap
	binaryHeap]), (+[IFBinaryHeap binaryHeapWithBinaryHeap:]), (-[IFBinaryHeap
	init]), (-[IFBinaryHeap initWithBinaryHeap:]):
	* Misc.subproj/IFMonitor.m: (-[IFMonitor description]):
	* Misc.subproj/IFMutableData.m: (-[IFMutableData getBytes:length:]),
	(-[IFMutableData getBytes:range:]), (-[IFMutableData subdataWithRange:]):
	* Misc.subproj/IFMutableDataPrivate.m: (IFDataCheckBound), (+[IFByteRange
	rangeWithRange:]), (-[IFByteRange isEqual:]), (+[IFByteBlock
	byteBlockWithBytes:length:]), (-[IFMutableData createBlockForRange:buffer:]),
	(-[IFMutableData dataObjectsGreaterThanMatchedOffset:]), (-[IFMutableData
	byteBlocksForRange:]), (-[IFMutableData bytesInRange:]), (-[IFMutableData
	appendBytes:length:]), (+[IFData dataWithByteBlock:]), (-[IFData
	initWithByteBlock:]), (-[IFData getBytes:range:]), (-[IFData subdataWithRange:]):
	* Misc.subproj/IFNSArrayExtensions.m:
	* Misc.subproj/IFNSObjectExtensions.m:
	* Misc.subproj/IFQueue.m: (+[IFQueue newNode]), (-[IFQueue init]), (-[IFQueue
	put:]), (-[IFQueue take]), (-[IFQueue peekAt:]), (-[IFQueue remove:]), (-[IFQueue
	clear]), (-[IFQueue indexOf:]):
	* Misc.subproj/IFReadWriteLock.m: (-[IFReadWriteLock init]):
WebKit:
	Rename all classes from WK prefix to IF prefix.

	* Cache.subproj/IFLoadChunk.h:
	* Cache.subproj/IFWebCache.h:
	* Cache.subproj/IFWebCacheClient.h:
	* Cache.subproj/IFWebContentType.h:
	* History.subproj/IFAttributedURL.h:
	* History.subproj/IFBackForwardList.h:
	* History.subproj/IFBackForwardList.m: (-[IFBackForwardList init]),
	(-[IFBackForwardList addEntry:]), (-[IFBackForwardList back]),
	(-[IFBackForwardList currentEntry]), (-[IFBackForwardList forward]),
	(-[IFBackForwardList description]):
	* History.subproj/IFURIEntry.h:
	* History.subproj/IFURIEntry.m: (WCCreateURIEntry), (-[IFURIEntry isEqual:]),
	(-[IFURIEntry description]):
	* History.subproj/IFURIList.h:
	* History.subproj/IFURIList.m: (newURIListNode), (freeNode), (-[IFURIList
	dealloc]), (-[IFURIList addEntry:]), (-[IFURIList removeURL:]), (-[IFURIList
	removeEntry:]), (-[IFURIList entryForURL:]), (-[IFURIList entryAtIndex:]),
	(-[IFURIList removeEntryAtIndex:]), (-[IFURIList removeEntriesToIndex:]):
	* Misc.subproj/IFException.h:
	* Misc.subproj/IFException.m:
	* WebKit.pbproj/project.pbxproj:
	* WebView.subproj/IFBaseWebController.h:
	* WebView.subproj/IFBaseWebController.mm: (+[IFObjectHolder holderWithObject:]),
	(-[IFBaseWebController init]), (-[IFBaseWebController initWithView:dataSource:]),
	(-[IFBaseWebController setDirectsAllLinksToSystemBrowser:]),
	(-[IFBaseWebController directsAllLinksToSystemBrowser]), (-[IFBaseWebController
	setView:andDataSource:]), (-[IFBaseWebController
	createFrameNamed:for:inParent:]), (-[IFBaseWebController viewForDataSource:]),
	(-[IFBaseWebController dataSourceForView:]), (-[IFBaseWebController mainView]),
	(-[IFBaseWebController mainDataSource]), (-[IFBaseWebController
	setStatusText:forDataSource:]), (-[IFBaseWebController
	statusTextForDataSource:]), (-[IFBaseWebController authenticate:]),
	(-[IFBaseWebController receivedProgress:forResource:fromDataSource:]),
	(-[IFBaseWebController
	receivedError:forResource:partialProgress:fromDataSource:]),
	(-[IFBaseWebController locationWillChangeTo:]), (-[IFBaseWebController
	locationChangeStartedForDataSource:]), (-[IFBaseWebController
	locationChangeInProgressForDataSource:]), (-[IFBaseWebController
	locationChangeDone:forDataSource:]), (-[IFBaseWebController
	receivedPageTitle:forDataSource:]), (-[IFBaseWebController
	serverRedirectTo:forDataSource:]):
	* WebView.subproj/IFBaseWebControllerPrivate.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@589 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-05 02:45:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/186e9f26d6c29f80f1a277f4c7299bff12749855');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00df01l5nq40vi81', 2, e'Top level:
	Fix everything for WebFoundation and WebKit WK --> IF rename.

	* Tests/CookieManager/wkcookie-test.m:
	* Tests/CookieManager/wkcookiemanager-test.m:
	* Tests/khtmlview/_KWQOwner.h:
	* Tests/khtmlview/_KWQOwner.m:

WebFoundation:
	Rename all WK files to IF (classes not renamed yet).

	* CacheLoader.subproj/IFCachedObject.h:
	* CacheLoader.subproj/IFCachedObject.m:
	* CacheLoader.subproj/IFContentType.h:
	* CacheLoader.subproj/IFContentType.m:
	* CacheLoader.subproj/IFHTTPURLHandle.h:
	* CacheLoader.subproj/IFHTTPURLHandle.m:
	* CacheLoader.subproj/IFHTTPURLHandleCookies.h:
	* CacheLoader.subproj/IFHTTPURLProtocolHandler.h:
	* CacheLoader.subproj/IFHTTPURLProtocolHandler.m:
	* CacheLoader.subproj/IFURLCache.h:
	* CacheLoader.subproj/IFURLCache.m:
	* CacheLoader.subproj/IFURLDataProvider.h:
	* CacheLoader.subproj/IFURLDiskCache.h:
	* CacheLoader.subproj/IFURLDiskCache.m:
	* CacheLoader.subproj/IFURLHandle.h:
	* CacheLoader.subproj/IFURLHandle.m:
	* CacheLoader.subproj/IFURLHandleCGlue.h:
	* CacheLoader.subproj/IFURLHandleCGlue.m:
	* CacheLoader.subproj/IFURLHandleClient.h:
	* CacheLoader.subproj/IFURLLoad.h:
	* CacheLoader.subproj/IFURLLoad.m:
	* CacheLoader.subproj/IFURLLoadManager.h:
	* CacheLoader.subproj/IFURLLoadManager.m:
	* CacheLoader.subproj/IFURLMemoryCache.h:
	* CacheLoader.subproj/IFURLMemoryCache.m:
	* CacheLoader.subproj/IFURLProtocolHandler.h:
	* CacheLoader.subproj/IFURLProtocolHandler.m:
	* CacheLoader.subproj/WCURLHandleGlue.m:
	* CacheLoader.subproj/WKCachedObject.h:
	* CacheLoader.subproj/WKCachedObject.m:
	* CacheLoader.subproj/WKContentType.h:
	* CacheLoader.subproj/WKContentType.m:
	* CacheLoader.subproj/WKHTTPURLHandle.h:
	* CacheLoader.subproj/WKHTTPURLHandle.m:
	* CacheLoader.subproj/WKHTTPURLHandleCookies.h:
	* CacheLoader.subproj/WKHTTPURLProtocolHandler.h:
	* CacheLoader.subproj/WKHTTPURLProtocolHandler.m:
	* CacheLoader.subproj/WKURLCache.h:
	* CacheLoader.subproj/WKURLCache.m:
	* CacheLoader.subproj/WKURLDataProvider.h:
	* CacheLoader.subproj/WKURLDiskCache.h:
	* CacheLoader.subproj/WKURLDiskCache.m:
	* CacheLoader.subproj/WKURLHandle.h:
	* CacheLoader.subproj/WKURLHandle.m:
	* CacheLoader.subproj/WKURLHandleCGlue.h:
	* CacheLoader.subproj/WKURLHandleCGlue.m:
	* CacheLoader.subproj/WKURLHandleClient.h:
	* CacheLoader.subproj/WKURLLoad.h:
	* CacheLoader.subproj/WKURLLoad.m:
	* CacheLoader.subproj/WKURLLoadManager.h:
	* CacheLoader.subproj/WKURLLoadManager.m:
	* CacheLoader.subproj/WKURLMemoryCache.h:
	* CacheLoader.subproj/WKURLMemoryCache.m:
	* CacheLoader.subproj/WKURLProtocolHandler.h:
	* CacheLoader.subproj/WKURLProtocolHandler.m:
	* CookieManager.subproj/IFCookie.h:
	* CookieManager.subproj/IFCookie.m:
	* CookieManager.subproj/IFCookieAcceptHandler.h:
	* CookieManager.subproj/IFCookieChangeListener.h:
	* CookieManager.subproj/IFCookieManager.h:
	* CookieManager.subproj/IFCookieManager.m:
	* CookieManager.subproj/IFCookieManagerPrivate.h:
	* CookieManager.subproj/IFCookiePrivate.h:
	* CookieManager.subproj/WKCookie.h:
	* CookieManager.subproj/WKCookie.m:
	* CookieManager.subproj/WKCookieAcceptHandler.h:
	* CookieManager.subproj/WKCookieChangeListener.h:
	* CookieManager.subproj/WKCookieManager.h:
	* CookieManager.subproj/WKCookieManager.m:
	* CookieManager.subproj/WKCookieManagerPrivate.h:
	* CookieManager.subproj/WKCookiePrivate.h:
	* Misc.subproj/IFBinaryHeap.h:
	* Misc.subproj/IFBinaryHeap.m:
	* Misc.subproj/IFMonitor.h:
	* Misc.subproj/IFMonitor.m:
	* Misc.subproj/IFMutableData.h:
	* Misc.subproj/IFMutableData.m:
	* Misc.subproj/IFMutableDataPrivate.h:
	* Misc.subproj/IFMutableDataPrivate.m:
	* Misc.subproj/IFOrderable.h:
	* Misc.subproj/IFQueue.h:
	* Misc.subproj/IFQueue.m:
	* Misc.subproj/IFReadWriteLock.h:
	* Misc.subproj/IFReadWriteLock.m:
	* Misc.subproj/WKBinaryHeap.h:
	* Misc.subproj/WKBinaryHeap.m:
	* Misc.subproj/WKMonitor.h:
	* Misc.subproj/WKMonitor.m:
	* Misc.subproj/WKMutableData.h:
	* Misc.subproj/WKMutableData.m:
	* Misc.subproj/WKMutableDataPrivate.h:
	* Misc.subproj/WKMutableDataPrivate.m:
	* Misc.subproj/WKOrderable.h:
	* Misc.subproj/WKQueue.h:
	* Misc.subproj/WKQueue.m:
	* Misc.subproj/WKReadWriteLock.h:
	* Misc.subproj/WKReadWriteLock.m:
	* WebFoundation.pbproj/project.pbxproj:
WebKit:
	Rename all WK files to IF (classes not renamed yet).

	* Cache.subproj/IFLoadChunk.h:
	* Cache.subproj/IFWebCache.h:
	* Cache.subproj/IFWebCacheClient.h:
	* Cache.subproj/IFWebContentType.h:
	* Cache.subproj/WKLoadChunk.h:
	* Cache.subproj/WKWebCache.h:
	* Cache.subproj/WKWebCacheClient.h:
	* Cache.subproj/WKWebContentType.h:
	* History.subproj/IFAttributedURL.h:
	* History.subproj/IFBackForwardList.h:
	* History.subproj/IFBackForwardList.m:
	* History.subproj/IFURIEntry.h:
	* History.subproj/IFURIEntry.m:
	* History.subproj/IFURIList.h:
	* History.subproj/IFURIList.m:
	* History.subproj/WKAttributedURL.h:
	* History.subproj/WKBackForwardList.h:
	* History.subproj/WKBackForwardList.m:
	* History.subproj/WKURIEntry.h:
	* History.subproj/WKURIEntry.m:
	* History.subproj/WKURIList.h:
	* History.subproj/WKURIList.m:
	* Misc.subproj/WKException.h:
	* Misc.subproj/WKException.m:
	* WebKit.pbproj/project.pbxproj:
	* WebView.subproj/IFBaseWebController.h:
	* WebView.subproj/IFBaseWebController.mm:
	* WebView.subproj/IFBaseWebControllerPrivate.h:
	* WebView.subproj/IFBaseWebControllerPrivate.mm:
	* WebView.subproj/IFDefaultWebController.h:
	* WebView.subproj/IFDefaultWebController.mm:
	* WebView.subproj/IFDefaultWebControllerPrivate.h:
	* WebView.subproj/IFDefaultWebControllerPrivate.mm:
	* WebView.subproj/IFDynamicScrollBarsView.m:
	* WebView.subproj/IFGrabBag.h:
	* WebView.subproj/IFPreferences.h:
	* WebView.subproj/IFWebController.h:
	* WebView.subproj/IFWebDataSource.h:
	* WebView.subproj/IFWebDataSource.mm:
	* WebView.subproj/IFWebDataSourcePrivate.h:
	* WebView.subproj/IFWebDataSourcePrivate.mm:
	* WebView.subproj/IFWebFrame.h:
	* WebView.subproj/IFWebFrame.m:
	* WebView.subproj/IFWebView.h:
	* WebView.subproj/IFWebView.mm:
	* WebView.subproj/IFWebViewPrivate.h:
	* WebView.subproj/IFWebViewPrivate.mm:
	* WebView.subproj/WKDefaultWebController.h:
	* WebView.subproj/WKDefaultWebController.mm:
	* WebView.subproj/WKDefaultWebControllerPrivate.h:
	* WebView.subproj/WKDefaultWebControllerPrivate.mm:
	* WebView.subproj/WKDynamicScrollBarsView.h:
	* WebView.subproj/WKDynamicScrollBarsView.m:
	* WebView.subproj/WKGrabBag.h:
	* WebView.subproj/WKPreferences.h:
	* WebView.subproj/WKWebController.h:
	* WebView.subproj/WKWebDataSource.h:
	* WebView.subproj/WKWebDataSource.mm:
	* WebView.subproj/WKWebDataSourcePrivate.h:
	* WebView.subproj/WKWebDataSourcePrivate.mm:
	* WebView.subproj/WKWebFrame.h:
	* WebView.subproj/WKWebFrame.m:
	* WebView.subproj/WKWebView.h:
	* WebView.subproj/WKWebView.mm:
	* WebView.subproj/WKWebViewPrivate.h:
	* WebView.subproj/WKWebViewPrivate.mm:
WebBrowser:
	Fix everything for WebFoundation and WebKit WK --> IF rename.

	* BackForwardListEntry.h:
	* BrowserDocument.h:
	* BrowserDocument.m:
	* BrowserWindow.h:
	* WebController.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@588 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-02-05 00:02:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7cee279e763f44c7ee23632739e9fcadccb882ed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dg01l5nhie9v78', 2, e'2002-02-04  Kenneth Kocienda  <kocienda@apple.com>

        Rearranged and cleaned up some cache API.

        * CacheLoader.subproj/WKURLCache.h:
        * CacheLoader.subproj/WKURLCache.m: (-[WKURLCache sizeLimit]), (-[WKURLCache
        setSizeLimit:]), (-[WKURLCache objectSizeLimit]), (-[WKURLCache
        setObjectSizeLimit:]), (-[WKURLCache currentUsage]), (-[WKURLCache
        truncateToSizeLimit:]), (-[WKURLCache initWithSizeLimit:]):
        * CacheLoader.subproj/WKURLDiskCache.h:
        * CacheLoader.subproj/WKURLDiskCache.m: (-[WKURLDiskCache initWithSizeLimit:]),
        (-[WKURLDiskCache initWithSizeLimit:location:]):
        * CacheLoader.subproj/WKURLMemoryCache.h:
        * CacheLoader.subproj/WKURLMemoryCache.m: (-[WKMemoryCacheObject size]),
        (-[WKURLMemoryCache initWithSizeLimit:]), (-[WKURLMemoryCache
        truncateToSizeLimit]), (-[WKURLMemoryCache cacheObject:forURL:untilDate:]),
        (-[WKURLMemoryCache clearCache]), (-[WKURLMemoryCache setSizeLimit:]):
        * WebFoundation.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@587 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-04 19:01:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f2d87b8bd585f58f4f038e8881a869b9b4d236c5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dh01l5j8o8bodo', 2, e'2002-02-01  Kenneth Kocienda  <kocienda@apple.com>

        More cleanups to the no-copy NSData API.
        This time the callback from the cache/loader has been
        simplified from:
        - (void)WKURLHandle:(WKURLHandle *)sender resourceDataDidBecomeAvailable:(UInt8 *)bytes offset:(unsigned)offset length:(unsigned)length;
        to:
        - (void)WKURLHandle:(WKURLHandle *)sender resourceDataDidBecomeAvailable:(NSData *)data;
        This was made possible by some rearrangement in the private API.
	Changed name of WKByteBlockData to WKData.

        * include/WCURLHandle.h:
        * src/kwq/KWQKHTMLPart.mm: (-[KHTMLPartLoadClient
        WCURLHandle:resourceDataDidBecomeAvailable:userData:]):
        * src/kwq/KWQKloader.mm: (-[URLLoadClient
        WCURLHandle:resourceDataDidBecomeAvailable:userData:]):
        * CacheLoader.subproj/WCURLHandleGlue.m: (-[WCURLHandleClientProxy
        WKURLHandle:resourceDataDidBecomeAvailable:]):
        * CacheLoader.subproj/WKURLHandle.m: (-[WKURLHandleSynchronousClient
        WKURLHandle:resourceDataDidBecomeAvailable:]), (-[WKURLHandle
        notifyClientsDidLoadData]):
        * CacheLoader.subproj/WKURLHandleCGlue.h:
        * CacheLoader.subproj/WKURLHandleCGlue.m: (-[WKURLHandleCGlueClient
        WKURLHandle:resourceDataDidBecomeAvailable:]):
        * CacheLoader.subproj/WKURLHandleClient.h:
        * Misc.subproj/WKMutableDataPrivate.h:
        * Misc.subproj/WKMutableDataPrivate.m: (-[WKMutableData
        dataObjectsGreaterThanMatchedOffset:]), (+[WKData dataWithByteBlock:]), (-[WKData
        subdataWithRange:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@586 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-02 05:06:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0b43c50815cfac66a2f380b250e7a7f710057aef');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00di01l5t2vzeu9k', 2, e'Enabled plug-in detection for Javascript. Apple.com now works as it should. Also fixed plug-in deallocation


git-svn-id: svn://svn.chromium.org/blink/trunk@585 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-02-02 01:58:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2ac888e86c84f066920c839370385ffc9526fb2c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dj01l5sfpk3uys', 2, e'Implemenation of locationChangeDone:forDataSource;


git-svn-id: svn://svn.chromium.org/blink/trunk@584 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-02 01:36:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/54052a4719ba7d1a451c1eb93b8825502030fa3e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dk01l58ewki7ej', 2, e'Changes for dynamic scrolling views (not complete).
Added simple support for WKLocationChangeHandler so Alexander will diplsay
page when load is done.


git-svn-id: svn://svn.chromium.org/blink/trunk@583 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-02 01:28:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bb568ee0bffa0d91e87547681204bde1ad594809');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dl01l5wc3z1b8n', 2, e'Added files from WebBrowser`


git-svn-id: svn://svn.chromium.org/blink/trunk@582 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-01 21:56:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5e6ab968298e4c9dc02f79ece41ad7536cfc9b89');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dm01l5335ythhw', 2, e'	Added call to examine the entry at the current index in
	the back/forward list without modifying the list. I needed
	this to save context data (in my case, scroll position)
	on the currently-viewed entry.

	* History.subproj/WKBackForwardList.h:
	* History.subproj/WKBackForwardList.m:
	(-[WKBackForwardList currentEntry]):
	Just returns the entry at the current index.

	Added useful mechanism and hideous hack for using remembered scroll positions
	with the back/forward list. There\'s no way to do this cleanly at this level;
	we have to get WebKit involved. Most of this code is fine though, only the
	restoring part should have to be redone.

	* BackForwardListEntry.h:
	* BackForwardListEntry.m: (+[BackForwardListEntry entryWithURL:]),
	(-[BackForwardListEntry scrollPoint]), (-[BackForwardListEntry setScrollPoint:]):
	New subclass of WKURIEntry; remembers a scroll point with each entry, and adds
	a convenience constructor. Some or all of this may move into WebKit later.

	* BrowserDocument.m:
	(-[BrowserDocument saveScrollPosition]):
	New method, reads the current scroll position from the view and stores it
	into the current back/forward list entry.

	(-[BrowserDocument restoreScrollPosition]):
	New method, reads the previously-saved scroll position from the current
	back/forward list entry and scrolls the view to match.

	(-[BrowserDocument restoreScrollPositionFromTimerHack:]),
	(-[BrowserDocument restoreScrollPositionLaterHack]):
	Timer-based hackery to wait a little while before calling restoreScrollPosition
	since calling it before the new page has loaded has no effect. This will have
	to be replaced with a WebKit-based mechanism for telling the webView what the
	incoming page\'s initial scroll point should be.

	(-[BrowserDocument goToURLBypassingBackForwardList:]),
	(-[BrowserDocument goToURL:]),
	(-[BrowserDocument goBack]),
	(-[BrowserDocument goForward]):
	Call the save/restore methods at the right places.

	* WebBrowser.pbproj/project.pbxproj: Updated for new files


git-svn-id: svn://svn.chromium.org/blink/trunk@581 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-02-01 19:02:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2486c55d05acc37783fd8ba27ef5207068abcd8d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dn01l5wjhnnzlc', 2, e'2002-02-01  Kenneth Kocienda  <kocienda@apple.com>

        At Richard\'s urging, I made some changes to the API of WKMutableData. I cleaned
        up the API, and hid the extra no-copy functionality so that it is not visible
        outside of this framework. Everything should be functionally equivalent with
        these changes.

        * CacheLoader.subproj/WKURLHandle.m: (-[WKURLHandle notifyClientsDidLoadData]):
        * Misc.subproj/WKMutableDataPrivate.h:
        * Misc.subproj/WKMutableDataPrivate.m: (WKDataCheckBound), (-[WKMutableData
        dataObjectsGreaterThanMatchedOffset:]), (+[WKByteBlockData dataWithByteBlock:]),
        (-[WKByteBlockData initWithByteBlock:]), (-[WKByteBlockData length]),
        (-[WKByteBlockData getBytes:]), (-[WKByteBlockData getBytes:length:]),
        (-[WKByteBlockData getBytes:range:]), (-[WKByteBlockData subdataWithRange:]),
        (-[WKByteBlockData copyWithZone:]), (-[WKByteBlockData dealloc]):


        Made some cleanups to the no-copy NSData API, and those changes
        make the use of the no-copy functionality in this client code
        much cleaner.

        * include/WCURLHandle.h:
        * src/kwq/KWQKloader.mm: (-[URLLoadClient
        WCURLHandle:resourceDataDidBecomeAvailable:offset:length:userData:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@580 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-01 17:14:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cc0223e0dd4710f076b6c761c780830e2a19b910');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00do01l5d8rtclmr', 2, e'Added QString constructor, fixed javascript at head of document bug.


git-svn-id: svn://svn.chromium.org/blink/trunk@579 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-01 03:12:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/da6e4bd3445730d01305c62980f4aaf9bc3fddeb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dp01l5dss73gqr', 2, e'	* History.subproj/WKURIList.m: (newURIListNode):
	retain entries before adding them to list. The node-freeing
	routine was releasing, but the node-adding routine wasn\'t
	retaining. Bad asymmetry, made up for by WebViewTest not
	autoreleasing. I fixed that too.

	* Tests/khtmlview/_KWQOwner.m: (-[_KWQOwner newUriDone:]):
	autorelease new WKURIEntry before handing it to
	WKBackForwardList.

    Implemented simple back/forward, using the existing back/forward code that
    WebViewTest was using (after fixing an object lifetime bug there). Also
    cleaned up viewSource stuff a little.

	* BrowserDocument.h:
	Added declarations for canGoBack, canGoForward, goBack, goForward; changed
	webController to _webController; added _backForwardList.

	* BrowserDocument.m:
	(-[BrowserDocument currentURL]),
	(-[BrowserDocument setCurrentURL:]),
	(-[BrowserDocument setMainWebView:]),
	(-[BrowserDocument setUpSearchChannels]),
	(-[BrowserDocument searchChannels]):
	Just updated for instance variable name changes and/or moved around.

	(-[BrowserDocument init]): Make a back/forward list
	(-[BrowserDocument dealloc]): Nuke a back/forward list

	(-[BrowserDocument goToURLBypassingBackForwardList:]): New method, contains
	the code that used to be goToURL

	(-[BrowserDocument goToURL:]): Now calls goToURLBypassingBackForwardList and
	then adds an entry to the back/forward list.

	(-[BrowserDocument canGoBack]),
	(-[BrowserDocument canGoForward]),
	(-[BrowserDocument goBack]),
	(-[BrowserDocument goForward]): New methods, implement back/forward list by
	calling methods on WKBackForwardList

	(-[BrowserDocument openNewTextEditDocumentWithString:]): New helper method, contains
	former guts of viewSource and viewReconstructedSource.
	(-[BrowserDocument viewSource:]),
	(-[BrowserDocument viewReconstructedSource:]): Call openNewTextEditDocumentWithString.

	* BrowserWindow.h: Added declaration for viewReconstructedSource

	* BrowserWindow.m:
	(-[BrowserWindow goBack:]),
	(-[BrowserWindow goForward:]): Call BrowserDocument methods.

	(-[BrowserWindow isShowingSearchResults:]): Fixed bug where it would return YES
	if there was no URL at all displayed.

	(-[BrowserWindow validateToolbarItem:]): Call [[self document] canGoBack] instead
	of [self canGoBack], same for forward.

	(-[BrowserWindow validateMenuItem:]): add test for viewReconstructedSource. Make
	both viewSource and viewReconstructedSource enabled only if currentURL is not nil.

	(-[BrowserWindow viewReconstructedSource:]): removed casts made unnecessary by adding
	the declaration to the header file.


git-svn-id: svn://svn.chromium.org/blink/trunk@578 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-02-01 02:02:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/089c3e4b386f376ced6ce10c0267142ec25ef55b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dq01l5oj9xdr3l', 2, e'Fixed javascript at head of document problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@577 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-01 01:40:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e09fc3be4baf462c4447f7db1963de03da5ee6c3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dr01l5qrzdsruk', 2, e'	* WebKit.pbproj: Removed -O0, so it will now get all the same
	warnings as pbxbuild gets.


git-svn-id: svn://svn.chromium.org/blink/trunk@576 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-02-01 00:37:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15a7ea81c16d2e1982890dabc8f69b679e7860e3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00ds01l5v4y11zkw', 2, e'2002-01-31  Kenneth Kocienda  <kocienda@apple.com>

        Removed dependency on WC versions of these files

        * History.subproj/WKBackForwardList.h:
        * History.subproj/WKBackForwardList.m:
        * History.subproj/WKURIEntry.h:
        * History.subproj/WKURIEntry.m:
        * WebKit.pbproj/project.pbxproj:


        A set of in-progress changes. The new code here is not in a current code path,
        but I\'m checking in to make sure that some changes I made in WebKit work
        with something I was able to test.

        * CacheLoader.subproj/WKURLHandle.m: (-[WKURLHandle notifyClientsDidLoadData]):
        * Misc.subproj/WKMutableData.h:
        * Misc.subproj/WKMutableData.m: (-[WKMutableData copyWithZone:]),
        (-[WKMutableData initWithBytes:length:copy:freeWhenDone:bytesAreVM:]):
        * WebFoundation.pbproj/project.pbxproj:

        Removed dependency on WC classes backed by WebKit classes.

        * Tests/khtmlview/_KWQOwner.h:
        * Tests/khtmlview/_KWQOwner.m: (-[_KWQOwner changeURL:]), (-[_KWQOwner back:]),
        (-[_KWQOwner forward:]), (-[_KWQOwner newUriDone:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@575 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-02-01 00:28:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3b6d337250af5598ef0ac055cbddba0557ae44e9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dt01l5w7hk1vyv', 2, e'	* WebKit.pbproj:
	Marked WKURIList.h as a public header


git-svn-id: svn://svn.chromium.org/blink/trunk@574 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-02-01 00:13:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/718ad0620030320b15fbfc89502a3b041ddfff50');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00du01l5ogi6duh8', 2, e'Added document source.


git-svn-id: svn://svn.chromium.org/blink/trunk@573 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-01 00:11:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6822b8c2a170f0943d64124e196f43371a858945');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dv01l5oebguzfr', 2, e'Added document source .


git-svn-id: svn://svn.chromium.org/blink/trunk@572 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-02-01 00:11:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bcd0e368d91713826c0def06b1655192089e3c04');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dw01l5a3y7anon', 2, e'Added support for hidden plug-ins. Added focus events


git-svn-id: svn://svn.chromium.org/blink/trunk@571 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-31 23:23:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b524b6434c3f41fdd2d8f11d6ae8110b00ed7ef0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dx01l51urenc0f', 2, e'2002-01-31  Kenneth Kocienda  <kocienda@apple.com>

        Created a no-copy version of NSData (WKMutableData) that will minimize the amount of data copying.
        Removed obsoleted WKURLData class
        Incorporated use of the no-copy NSData object.

        * CacheLoader.subproj/WKHTTPURLProtocolHandler.m: (-[WKHTTPURLProtocolHandler
        performStreamRead:]):
        * CacheLoader.subproj/WKURLData.h:
        * CacheLoader.subproj/WKURLData.m:
        * CacheLoader.subproj/WKURLHandle.h:
        * Misc.subproj/WKMutableData.h:
        * Misc.subproj/WKMutableData.m: (+[WKByteBlock byteBlockWithBytes:length:]),
        (-[WKByteBlock initWithBytes:length:]), (-[WKByteBlock bytes]), (-[WKByteBlock
        length]), (-[WKByteBlock byteLength]), (-[WKByteBlock dealloc]), (+[WKByteRange
        rangeWithRange:]), (-[WKByteRange initWithRange:]), (-[WKByteRange range]),
        (-[WKByteRange isEqual:]), (-[WKByteRange hash]), (-[WKByteRange copyWithZone:]),
        (-[WKMutableData createBlockForRange:buffer:]), (-[WKMutableData length]),
        (-[WKMutableData bytes]), (-[WKMutableData byteBlocksForRange:]),
        (-[WKMutableData bytesInRange:]), (-[WKMutableData getBytes:]), (-[WKMutableData
        getBytes:length:]), (-[WKMutableData getBytes:range:]), (-[WKMutableData
        subdataWithRange:]), (-[WKMutableData
        initWithBytes:length:copy:freeWhenDone:bytesAreVM:]), (-[WKMutableData
        appendBytes:length:]), (-[WKMutableData dealloc]):
        * WebFoundation.pbproj/project.pbxproj:

        Changes to incorporate use of the no-copy NSData object.

        * include/WCURLHandle.h:
        * src/kwq/KWQKHTMLPart.mm: (-[KHTMLPartLoadClient
        WCURLHandle:resourceDataDidBecomeAvailable:offset:length:userData:]):
        * src/kwq/KWQKloader.mm: (-[URLLoadClient
        WCURLHandle:resourceDataDidBecomeAvailable:offset:length:userData:]):


git-svn-id: svn://svn.chromium.org/blink/trunk@570 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-01-31 21:28:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f761f86a2922c0d6371c74847ddc7a9708c8a292');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dy01l5qv1i1s12', 2, e'Trivial debugging changes.


git-svn-id: svn://svn.chromium.org/blink/trunk@569 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-01-31 01:41:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ab3d4ba9cdea293820889e6d3ea88d8d1e6bd81a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00dz01l5mv7mj0o9', 2, e'Cleaned up frame code.  Fixed duplicate content problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@568 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-01-30 23:38:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f16c979dd2c0bb7cdcbbbfd914ccfae80dc30fd5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00e001l5fe9iz3lg', 2, e'Cleanuped up frame code a bit.  Fixed duplicate content problem.


git-svn-id: svn://svn.chromium.org/blink/trunk@567 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-01-30 23:37:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/df805a02f2866c671be444c48fc21d9010fed67b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00e101l58ygcinxy', 2, e'        Added *.lo, *.la, and .libs to .cvsignore files

        * WebCore/.cvsignore:
        * WebCore/src/.cvsignore:
        * WebCore/src/kdelibs/khtml/css/.cvsignore:
        * WebCore/src/kdelibs/khtml/misc/.cvsignore:
        * WebCore/src/kdelibs/kjs/.cvsignore:

        Added *.lo, *.la, Icon, and .libs to .cvsignore files

        * WebFoundation/.cvsignore:

        Added *.lo, *.la, Icon, and .libs to .cvsignore files

        * WebKit/.cvsignore:


git-svn-id: svn://svn.chromium.org/blink/trunk@566 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-01-30 15:29:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d4eb0e47b42aae65b7956c036ffef0b62fac8a3d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00e201l55u7938m6', 2, e'Fix for John.


git-svn-id: svn://svn.chromium.org/blink/trunk@565 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-01-30 01:44:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d50268bc8d11d80bd2ccc793f3cffad5969b3a0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00e301l5k0tde6vy', 2, e'Added setMainView: for John.


git-svn-id: svn://svn.chromium.org/blink/trunk@564 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-01-30 01:07:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e55a39e13ffa118ca791aa279c97761a5eaf80fc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00e401l5tpfo651k', 2, e'Make copy of chars in QConstString constructor.


git-svn-id: svn://svn.chromium.org/blink/trunk@563 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-01-30 01:06:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8641f589d9ff936ad1fb6442237664c55de3852f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00e501l5sibeavx0', 2, e'2002-01-29  Kenneth Kocienda  <kocienda@apple.com>

        - Some work on response headers.
        - Some work on progress indication/content length.
        - Some beginning of support for synchronous loads.
        - Worked around a smasher that results from not having
        the no-copy NSData object ready yet.

        * CacheLoader.subproj/WKHTTPURLHandle.h:
        * CacheLoader.subproj/WKHTTPURLHandle.m: (-[WKHTTPURLHandle
        setRequestHeader:forKey:]), (-[WKHTTPURLHandle setRequestHeaders:]),
        (-[WKHTTPURLHandle removeRequestHeaderForKey:]), (-[WKHTTPURLHandle
        contentLength]):
        * CacheLoader.subproj/WKHTTPURLProtocolHandler.m: (-[WKHTTPURLProtocolHandler
        performStreamRead:]):
        * CacheLoader.subproj/WKURLHandle.h:
        * CacheLoader.subproj/WKURLHandle.m: (-[WKURLHandleSynchronousClient init]),
        (-[WKURLHandleSynchronousClient WKURLHandleResourceDidBeginLoading:]),
        (-[WKURLHandleSynchronousClient WKURLHandleResourceDidCancelLoading:]),
        (-[WKURLHandleSynchronousClient WKURLHandleResourceDidFinishLoading:]),
        (-[WKURLHandleSynchronousClient
        WKURLHandle:resourceDataDidBecomeAvailable:offset:length:]),
        (-[WKURLHandleSynchronousClient WKURLHandle:resourceDidFailLoadingWithResult:]),
        (-[WKURLHandleSynchronousClient loadFinished]), (-[WKURLHandleSynchronousClient
        lock]), (-[WKURLHandleSynchronousClient unlock]), (-[WKURLHandleSynchronousClient
        waitInterval:]), (-[WKURLHandle loadInForeground]), (-[WKURLHandle
        loadInForeground:]), (-[WKURLHandle contentLength]), (-[WKURLHandle
        contentLengthReceived]), (-[WKURLHandle percentComplete]), (-[WKURLHandle
        dealloc]):
        * CacheLoader.subproj/WKURLLoad.m: (-[WKURLLoad dealloc]):

        - Added in a dummy protocol to clean up a warning that results
        from calling a method on an id.
        - Cleaned up handle variable in KWQKHTMLPart. This can now be freed
        once we get a proper notification that a load is done.
        - Support for reading text encoding from HTTP headers added back in.

        * include/WCURLHandle.h:
        * src/kwq/KWQKHTMLPart.mm: (encodingFromContentType), (KHTMLPart::slotData),
        (KHTMLPart::openURL), (KHTMLPart::closeURL):


git-svn-id: svn://svn.chromium.org/blink/trunk@562 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-01-30 00:32:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/999d4b23036891432275225ad1ebeae4dfdbad2f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00e601l5in5vn4u3', 2, e'String fix.


git-svn-id: svn://svn.chromium.org/blink/trunk@561 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-01-29 23:27:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/88dce9f0d4831eb3dba58f2a9ada4378eaf2f575');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00e701l5d2hrr7x0', 2, e'First pass at frame code.  Still needs lots of cleanup.


git-svn-id: svn://svn.chromium.org/blink/trunk@560 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-01-29 23:14:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6b62f7bac725fec01d56e4b41e007be39e8502ad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlvvf00e801l57jfuc4k2', 2, e'First pass at frame code.  Still needs  lots of cleanup.


git-svn-id: svn://svn.chromium.org/blink/trunk@559 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-01-29 23:14:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ab763b4d824b40868527b0de4a29f0142f816b2f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlum000cl01l5bmlb67m8', 2, e'2002-01-29  Kenneth Kocienda  <kocienda@apple.com>

        Checked in the missing file

        * include/WCURLHandle.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@558 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-01-29 16:56:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d82e0abafa3df11d9f0803ee9555075587a4310c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlum100cm01l5ww3fv3gg', 2, e'2002-01-29  Kenneth Kocienda  <kocienda@apple.com>

        These now link with WebFoundation, or contain directives
        for linking with WebFoundation.

        * Tests/draw/drawApp/drawApp.pbproj/project.pbxproj:
        * Tests/khtmlview/WebViewTest/WebViewTest.pbproj/project.pbxproj:
        * Tests/qt/Makefile.am:

        WebBrowser now links with WebFoundation

        * WebBrowser.pbproj/project.pbxproj:

        Changed over to the new cache loader in WebFoundation

        * src/kwq/KWQKHTMLPart.h:
        * src/kwq/KWQKHTMLPart.mm: (-[KHTMLPartLoadClient init]), (-[KHTMLPartLoadClient
        WCURLHandleResourceDidBeginLoading:userData:]), (-[KHTMLPartLoadClient
        WCURLHandleResourceDidCancelLoading:userData:]), (-[KHTMLPartLoadClient
        WCURLHandleResourceDidFinishLoading:userData:]), (-[KHTMLPartLoadClient
        WCURLHandle:resourceDataDidBecomeAvailable:offset:length:userData:]),
        (-[KHTMLPartLoadClient WCURLHandle:resourceDidFailLoadingWithResult:userData:]),
        (-[KHTMLPartLoadClient dealloc]), (KHTMLPart::slotData), (KHTMLPart::openURL):
        * src/kwq/KWQKjobclasses.mm:
        * src/kwq/KWQKloader.mm: (-[URLLoadClient initWithLoader:]), (-[URLLoadClient
        WCURLHandleResourceDidBeginLoading:userData:]), (-[URLLoadClient
        WCURLHandleResourceDidCancelLoading:userData:]), (-[URLLoadClient
        WCURLHandleResourceDidFinishLoading:userData:]), (-[URLLoadClient
        WCURLHandle:resourceDataDidBecomeAvailable:offset:length:userData:]),
        (-[URLLoadClient WCURLHandle:resourceDidFailLoadingWithResult:userData:]),
        (-[URLLoadClient dealloc]):
        * src/kwq/kio/jobclasses.h:

        Many cleanups and changes that resulted from integrating the
        cache/loader into WebViewTest and Alexander.

        * CacheLoader.subproj/WKHTTPURLHandle.m: (-[WKHTTPURLHandle
        initWithURL:flags:group:requestMethod:requestData:]), (-[WKHTTPURLHandle
        dealloc]):
        * CacheLoader.subproj/WKHTTPURLProtocolHandler.m: (-[WKHTTPURLProtocolHandler
        initWithURLLoad:]):
        * CacheLoader.subproj/WKURLData.m:
        * CacheLoader.subproj/WKURLHandle.m: (-[WKURLHandle dealloc]):
        * CacheLoader.subproj/WKURLHandleClient.h:
        * CacheLoader.subproj/WKURLLoad.h:
        * CacheLoader.subproj/WKURLLoad.m: (+[WKURLLoad initialize]), (-[WKURLLoad
        initWithURL:flags:]), (-[WKURLLoad schedule]), (-[WKURLLoad lock]), (-[WKURLLoad
        unlock]), (-[WKURLLoad dealloc]), (-[WKURLLoad beginOriginLoad]), (-[WKURLLoad
        timedOut]), (+[WKURLLoad WKURLLoadCacheCheckerRun:]), (+[WKURLLoad
        WKURLLoadThrottlerRun:]), (+[WKURLLoad WKURLLoadSweeperRun:]), (+[WKURLLoad
        WKURLLoadCFStreamHandlerRun:]):
        * CacheLoader.subproj/WKURLLoadManager.m: (-[WKURLLoadManager
        initWithDefaultStack]), (-[WKURLLoadManager cancelRequestWithURLHandle:]),
        (-[WKURLLoadManager cancelAllRequestsWithURL:]), (-[WKURLLoadManager
        cacheObject:forURL:]), (-[WKURLLoadManager handleURLLoadDone:]),
        (-[WKURLLoadManager handleURLLoadedResourceData:]):
        * CacheLoader.subproj/WKURLMemoryCache.m: (-[WKURLMemoryCache
        truncateToSizeLimit]), (-[WKURLMemoryCache cacheObject:forURL:untilDate:]):
        * WebFoundation.pbproj/project.pbxproj:

        WebKit now links with WebFoundation

        * WebKit.pbproj/kocienda.pbxuser:
        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@557 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-01-29 16:20:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/de6bbe72dd6e44708e0f260ee3adab807c3acb58');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlum100cn01l5jljtrcvf', 2, e'Top level:
	* borrowed-classes.txt: Stop borrowing QMap, QDict, QPtrDict and
	QSortedList.

	Added the usual bunch of new test cases, especially for QMap,
	where we also do some glassbox testing and check Red/Black tree
	invariant consistency.

	* Tests/qt/qdict-test.chk:
	* Tests/qt/qdict-test.cpp: (operator<<), (main):
	* Tests/qt/qmap-test.chk:
	* Tests/qt/qmap-test.cpp: (CheckRedBlackRulesAtNode), (CheckRedBlackRules),
	(main):
	* Tests/qt/qptrdict-test.chk:
	* Tests/qt/qptrdict-test.cpp: (operator<<), (main):
	* Tests/test.list:

WebCore:
	Reimplement QDict, QMap, QPtrDict and QSortedList.

	Reimplement QDict in terms of CFDictionary:

	* src/kwq/qt/qdict.h:
	* src/kwq/KWQDictImpl.h:
	* src/kwq/KWQDictImpl.mm: (KWQDictImpl::KWQDictImpl), (KWQDictImpl::insert),
	(KWQDictImpl::remove), (KWQDictImpl::find),
	(KWQDictIteratorImpl::KWQDictIteratorImpl),
	(KWQDictIteratorImpl::currentStringKey):

	Reimplement QMap as a right-threaded red-black tree, splitting
	the work between template classes that manipulate keys and values
	and non-template base classes that handle all the pointer
	manipulation:

	* src/kwq/qt/qmap.h:
	* src/kwq/KWQMapImpl.h:
	* src/kwq/KWQMapImpl.mm: (KWQMapNodeImpl::KWQMapNodeImpl),
	(KWQMapNodeImpl::left), (KWQMapNodeImpl::right), (KWQMapNodeImpl::predecessor),
	(KWQMapNodeImpl::successor), (KWQMapIteratorImpl::KWQMapIteratorImpl),
	(KWQMapIteratorImpl::incrementInternal), (KWQMapImpl::KWQMapImpl),
	(KWQMapImpl::rotateRight), (KWQMapImpl::rotateLeft),
	(KWQMapImpl::rebalanceAfterInsert), (KWQMapImpl::rebalanceAfterRemove),
	(KWQMapImpl::findInternal), (KWQMapImpl::insertInternal),
	(KWQMapImpl::removeInternal), (KWQMapImpl::swap), (KWQMapImpl::countInternal),
	(KWQMapImpl::clearInternal), (KWQMapImpl::beginInternal),
	(KWQMapImpl::endInternal):

	Reimplement QPtrDict in terms of CFDictionary:

	* src/kwq/qt/qptrdict.h:
	* src/kwq/KWQPtrDictImpl.h:
	* src/kwq/KWQPtrDictImpl.mm:
	(KWQPtrDictImpl::KWQPtrDictPrivate::KWQPtrDictPrivate),
	(KWQPtrDictImpl::KWQPtrDictPrivate::~KWQPtrDictPrivate),
	(KWQPtrDictImpl::KWQPtrDictImpl), (KWQPtrDictImpl::~KWQPtrDictImpl),
	(invokeDeleteFuncOnValue), (KWQPtrDictImpl::clear), (KWQPtrDictImpl::count),
	(KWQPtrDictImpl::insert), (KWQPtrDictImpl::remove), (KWQPtrDictImpl::find),
	(KWQPtrDictImpl::swap), (KWQPtrDictImpl::assign), (KWQPtrDictImpl::take),
	(KWQPtrDictIteratorImpl::KWQPtrDictIteratorPrivate::KWQPtrDictIteratorPrivate),
	(KWQPtrDictIteratorImpl::KWQPtrDictIteratorPrivate::~KWQPtrDictIteratorPrivate),
	(KWQPtrDictIteratorImpl::KWQPtrDictIteratorImpl),
	(KWQPtrDictIteratorImpl::~KWQPtrDictIteratorImpl),
	(KWQPtrDictIteratorImpl::count), (KWQPtrDictIteratorImpl::current),
	(KWQPtrDictIteratorImpl::currentKey), (KWQPtrDictIteratorImpl::toFirst),
	(KWQPtrDictIteratorImpl::operator++):

	Reimplement QSortedList:

	* src/kwq/qt/qsortedlist.h:

	* src/kwq/KWQArrayImpl.mm: Remove stray include.

	* src/kwq/Makefile.am: Add new files to build.

	* src/kwq/qt/_qdict.h, src/kwq/qt/_qgdict.h,
	src/kwq/qt/_qptrdict.h: Avoid causing problems when the relevant
	defines are not defined.


git-svn-id: svn://svn.chromium.org/blink/trunk@556 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-01-29 11:49:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2a0b2237b099deba1af764bcce5a7d66d5f51994');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00co01l570buumxr', 2, e'2002-01-23  Ken Kocienda  <kocienda@apple.com>

        Took out @executable_path hack added for Alexander demo.
        This should clear up a class of crash-on-launch issues.

        * WebKit.pbproj/project.pbxproj:


git-svn-id: svn://svn.chromium.org/blink/trunk@555 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-01-24 00:29:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/630a3544530180ae386a4f4ddf43a06402077fa5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00cp01l5u82xk4xb', 2, e'Implemented KWQDesktopWidget to represent main screen.  Used by javascript.


git-svn-id: svn://svn.chromium.org/blink/trunk@554 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-01-22 22:03:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/09dec687c55f030de157aa32e01bf394d48473b1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00cq01l5r8qcan8u', 2, e'Top level:
	Turn off some borrowed classes, improve test coverage, and improve
	build stability.

	* borrowed-classes.txt: Turn off borrowed QArray, QBuffer,
	QStringList and QStack.

	# Add many new test cases for these classes, passed by both the old
	and the new versions:

	* Tests/qt/qarray-test.chk:
	* Tests/qt/qarray-test.cpp: (main):
	* Tests/qt/qbuffer-test.chk:
	* Tests/qt/qbuffer-test.cpp: (main):
	* Tests/qt/qstack-test.chk:
	* Tests/qt/qstack-test.cpp: (main):
	* Tests/qt/qstringlist-test.chk:
	* Tests/qt/qstringlist-test.cpp: (main):
	* Tests/test.list:
	* Tests/qt/Makefile.am:

	# Change how we define the USING defines a bit to make it more
	generic. Also, be more paranoid abot the dreaded \'$ln\' problem.

	* acconfig.h:
	* autogen.sh:
	* configure.in:

WebCore:
	Reimplemented QArray, QBuffer, QStack and QStringList; also fixed
	some files for borrowed switchability, and fixed some bugs found
	by my new test cases.

	# Reimplement QArray:

	* src/kwq/qt/qarray.h:
	* src/kwq/KWQArrayImpl.h:
	* src/kwq/KWQArrayImpl.mm: (KWQArrayImpl::KWQArrayPrivate::KWQArrayPrivate),
	(KWQArrayImpl::KWQArrayPrivate::~KWQArrayPrivate), (KWQArrayImpl::KWQArrayImpl),
	(KWQArrayImpl::~KWQArrayImpl), (KWQArrayImpl::operator=), (KWQArrayImpl::at),
	(KWQArrayImpl::data), (KWQArrayImpl::size), (KWQArrayImpl::resize),
	(KWQArrayImpl::duplicate), (KWQArrayImpl::fill), (KWQArrayImpl::operator==):

	# Reimplement QBuffer:

	* src/kwq/qt/qbuffer.h:
	* src/kwq/KWQBuffer.mm: (QBuffer::QBuffer), (QBuffer::~QBuffer),
	(QBuffer::buffer), (QBuffer::size), (QBuffer::isOpen), (QBuffer::open),
	(QBuffer::close), (QBuffer::writeBlock):
	* src/kwq/qt/qiodevice.h:

	# Reimplement QStringList:

	* src/kwq/KWQStringList.mm: (QStringToCFString), (QStringList::split),
	(QStringList::QStringList), (QStringList::~QStringList), (QStringList::join),
	(QStringList::operator=):

	# Reimplement QStack:
	* src/kwq/qt/qstack.h:

	* src/kwq/Makefile.am: Add new files to build.

	* src/kwq/KWQString.mm: (QString::find): Fix bug which returned
	the very first occurence in the string even when the optional
	starting point was passed in. Some of my new regression tests
	picked this up.

	# Temporarily work around uses of non-kwq APIs:

	* src/kwq/WKPluginWidget.h:
	* src/kwq/qt/_qfile.cpp
	* src/kwq/qt/_qbuffer.cpp

	# Guard contents of all these with the appropriate USING ifdef:

	* src/kwq/KWQStrList.h:
	* src/kwq/qt/_qarray.h:
	* src/kwq/qt/_qgarray.h:
	* src/kwq/qt/_qstrlist.h:

WebFoundation:
	* .cvsignore: Ignore generated files.


git-svn-id: svn://svn.chromium.org/blink/trunk@553 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-01-22 07:51:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f3e78f39532c9d7a259f2a32a749cd5f19a90153');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00cr01l5ur7bbn5g', 2, e'Fixing dependency issue with stdarg


git-svn-id: svn://svn.chromium.org/blink/trunk@552 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-21 22:42:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6981a05b5d36d4141bd9b17899b59c7773057308');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00cs01l5rm0s27hw', 2, e'	* WebView.subproj/WKWebController.h:
	* WebView.subproj/WKWebView.h:
	Changed WKConcreteWebController to WKDefaultWebController in a
	couple of comments.


git-svn-id: svn://svn.chromium.org/blink/trunk@551 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2002-01-21 17:33:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/461121ed21d913f9bcb89d075829b1e05f2a96d8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00ct01l5jv0zseh5', 2, e'	* src/kdelibs/kjs/Makefile.am: Fix testkjs build.

	Fix a couple more static initialization problems:
	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::urlCursor):
	* src/kwq/KWQRegion.mm: (QRegion::QRegion), (QRegion::operator=):

	* src/.cvsignore, src/kdelibs/.cvsignore,
	src/kdelibs/khtml/css/.cvsignore,
	src/kdelibs/khtml/misc/.cvsignore, src/kdelibs/kjs/.cvsignore:
	Ignore stamp files.


git-svn-id: svn://svn.chromium.org/blink/trunk@550 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-01-19 08:58:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/060b14f3b123e2d18d132da6c0440dfe63fc8a54');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00cu01l5c7wgd148', 2, e'    First pass at new view/datasource/controller API.


git-svn-id: svn://svn.chromium.org/blink/trunk@549 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-01-19 02:27:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ce288394714783f252dfcdd0a7068948b98542ae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00cv01l5ivgkevjd', 2, e'Top level:
	* coding_guidelines.txt: Updated to describe format for private
	fields.

WebCore:
	Avoid static initialization of objects as much as possible. Order
	of static initializers is unpredictable and we had some
	cross-dependencies, so avoid this practice as much as possible to
	fix various startup crashes.

	* src/kwq/KWQApplication.mm: (QApplication::palette),
	(QApplication::globalStrut):
	* src/kwq/KWQChar.mm:
	* src/kwq/KWQColor.mm:
	* src/kwq/KWQCursor.mm: (QCursor::QCursor), (QCursor::~QCursor):
	* src/kwq/KWQEvent.mm:
	* src/kwq/KWQKConfigBase.mm: (KConfigBase::readEntry),
	(KConfigBase::readColorEntry), (KConfigBase::readListEntry):
	* src/kwq/KWQKHTMLSettings.mm: (KHTMLSettings::encoding):
	* src/kwq/KWQKJavaEmbed.mm: (KJavaEmbed::sizeHint),
	(KJavaEmbed::minimumSizeHint):
	* src/kwq/KWQKLocale.mm: (KLocale::language):
	* src/kwq/KWQKMimeType.mm: (KMimeType::findByURL), (KMimeType::name):
	* src/kwq/KWQKPrinter.mm: (KPrinter::margins):
	* src/kwq/KWQKProtocolManager.mm: (KProtocolManager::httpProxy):
	* src/kwq/KWQKWinModule.mm: (KWinModule::workArea):
	* src/kwq/KWQKjobclasses.mm:
	* src/kwq/KWQKnetaccess.mm:
	* src/kwq/KWQPart.mm: (KParts::Part::widget), (KParts::ReadOnlyPart::url):
	* src/kwq/KWQPixmap.mm: (QPixmap::mask):
	* src/kwq/KWQToolTip.mm: (QToolTip::palette):
	* src/kwq/kde/_kurl.cpp:
	* src/kwq/kdecore/kurl.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@548 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-01-18 23:39:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/67d4323eba8c002eedf0a3d3086f02dad2d9a603');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00cw01l542symnab', 2, e'Renamed KWQPlugin to WKPluginWidget


git-svn-id: svn://svn.chromium.org/blink/trunk@547 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-18 18:38:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/55eed6bc7666521f0bd3b69773604eaec8cbc728');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00cx01l5e2ifokt1', 2, e'	Fix a couple of problems that kept `make -j3\' from working from a
	clean start (use stamp files to serialize build a bit more where
	needed)

	* src/Makefile.am:
	* src/kdelibs/khtml/css/Makefile.am:
	* src/kdelibs/khtml/misc/Makefile.am:
	* src/kdelibs/kjs/Makefile.am:


git-svn-id: svn://svn.chromium.org/blink/trunk@546 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-01-18 05:28:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7327fced0e57b5bd0bf4a7b9776ffcb4d5c9a026');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00cy01l5nroq5o4s', 2, e'	* src/kwq/Makefile.am: Fix another bonehead mistake.


git-svn-id: svn://svn.chromium.org/blink/trunk@545 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-01-18 04:04:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fc4c69bb349fced601b5d5817783dc091f6259f1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00cz01l5f39upvit', 2, e'	Fix bonehead mistakes in last checkin which were killing Jersey.

	* src/kdelibs/khtml/ecma/Makefile.am:
	* src/kdelibs/khtml/html/Makefile.am:
	* src/kdelibs/khtml/rendering/Makefile.am:
	* src/kwq/kde/Makefile.am:


git-svn-id: svn://svn.chromium.org/blink/trunk@544 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-01-18 03:30:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9c56695bdbee49ca6280e3c0db12ff28c3896d05');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00d001l50sgbj8q5', 2, e'Top level:
	* configure.in: always substitute OBJCXXLD, for the benefit of
	WebCore speedups.

WebCore:
	Build speedups:

	* autogen.sh, configure.in: Don\'t use libtool any more. Set RANLIB
	to \'echo\' since ranlib is really slow and we don\'t really need to
	run it.

	* libtool.diff: Removed.


git-svn-id: svn://svn.chromium.org/blink/trunk@543 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-01-18 02:56:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e441b01e4d511747f16b2dab9bb091959f905ff6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00d101l5pa6ztaur', 2, e'Top level:
	Build speedups:

	* autogen.sh, configure.in: Don\'t use libtool any more. Set RANLIB
	to \'echo\' since ranlib is really slow and we don\'t really need to
	run it.

	* libtool.diff: Removed.

WebCore:
	Build speedups: Don\'t use libtool, and don\'t link static libraries
	into each other.

	* src/Makefile.am
	* src/kdelibs/khtml/Makefile.am:
	* src/kdelibs/khtml/css/Makefile.am:
	* src/kdelibs/khtml/dom/Makefile.am:
	* src/kdelibs/khtml/ecma/Makefile.am:
	* src/kdelibs/khtml/html/Makefile.am:
	* src/kdelibs/khtml/java/Makefile.am:
	* src/kdelibs/khtml/misc/Makefile.am:
	* src/kdelibs/khtml/rendering/Makefile.am:
	* src/kdelibs/khtml/xml/Makefile.am:
	* src/kdelibs/kjs/Makefile.am:
	* src/kwq/Makefile.am:
	* src/kwq/kde/Makefile.am:
	* src/kwq/qt/Makefile.am:


git-svn-id: svn://svn.chromium.org/blink/trunk@542 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-01-18 01:47:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ca958c7997a5113bd034ae07b93456b6f4e7b133');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00d201l5boyoj4yx', 2, e'Adding npapi.mm


git-svn-id: svn://svn.chromium.org/blink/trunk@541 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-18 00:55:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/408ac68ac9fd5edf8a164758040688dadc096765');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumb00d301l54cz4kbdw', 2, e'Removed npapi.c


git-svn-id: svn://svn.chromium.org/blink/trunk@540 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-18 00:51:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d615896888086b5aa77c8606056a192eaf4f807c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumc00d401l5bhbv4hl0', 2, e'Added remaining mouse events to WKPluginView. Attributes (HTML tags) are now passed to plug-ins. Routed instance-specific plug-in to browser calls to WKPluginView


git-svn-id: svn://svn.chromium.org/blink/trunk@539 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-18 00:45:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1c28078f750a399d9fed793b20437e52b8cd0e0e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumc00d501l5sqo618ql', 2, e'top level:
	* configure.in: Improve odds of avoiding $ln problem a bit
	more. Also, turn on more c++ warning flags.

	* .cvsignore: Prune cruft.

WebCore:
	* src/kwq/qt/_qpoint.h, src/kwq/qt/_qrect.h, src/kwq/qt/_qsize.h,
	src/kwq/qt/qpoint.h, src/kwq/qt/qrect.h, src/kwq/qt/qsize.h: Make
	QPoint, QRect and QSize easily turn-off-able again.


git-svn-id: svn://svn.chromium.org/blink/trunk@538 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-01-17 21:50:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/89353d8e51bcab03e881440310ede0c080b745cd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumc00d601l5opwrqg71', 2, e'        Added a some more implementations.
        Tweaked the interface to quite a few files.
        Removed all compiler warnings.

        * CacheLoader.subproj/WKHTTPURLHandle.h:
        * CacheLoader.subproj/WKHTTPURLHandle.m: (-[WKHTTPURLHandle
        initWithURL:flags:group:requestMethod:postDict:]), (-[WKHTTPURLHandle
        initWithURL:flags:group:requestMethod:postData:]), (-[WKHTTPURLHandle
        didLoadData:fromStream:]), (-[WKHTTPURLHandle requestMethod]), (-[WKHTTPURLHandle
        setPostData:]), (-[WKHTTPURLHandle contentLength]), (-[WKHTTPURLHandle
        contentLengthReceived]), (-[WKHTTPURLHandle percentComplete]):
        * CacheLoader.subproj/WKURLDiskCache.m: (-[WKURLDiskCache objectForURL:]),
        (-[WKURLDiskCache cacheObject:forURL:]), (-[WKURLDiskCache
        cacheObject:forURL:untilExpiry:]), (-[WKURLDiskCache containsURL:]),
        (-[WKURLDiskCache expiryForURL:]), (-[WKURLDiskCache setExpiryForURL:expiry:]),
        (-[WKURLDiskCache invalidateURL:]), (-[WKURLDiskCache clearCache]),
        (-[WKURLDiskCache setSizeLimit:]), (-[WKURLDiskCache usage]):
        * CacheLoader.subproj/WKURLHandle.h:
        * CacheLoader.subproj/WKURLHandle.m: (+[WKURLHandle initialize]), (+[WKURLHandle
        registerURLHandleClass:]), (+[WKURLHandle URLHandleClassForURL:]), (+[WKURLHandle
        canInitWithURL:]), (-[WKURLHandle didLoadData:fromStream:]), (-[WKURLHandle
        backgroundLoadComplete]), (-[WKURLHandle backgroundLoadFailedWithResultCode:]),
        (-[WKURLHandle availableResourceData]), (-[WKURLHandle statusCode]),
        (-[WKURLHandle resultCode]), (-[WKURLHandle failureReason]):
        * CacheLoader.subproj/WKURLHandleClient.h:
        * CacheLoader.subproj/WKURLLoad.h:
        * CacheLoader.subproj/WKURLLoad.m: (-[WKURLHandle setStatusCode:]),
        (-[WKURLHandle setResultCode:]), (-[WKHTTPURLHandle setResponseHeaders:]),
        (-[WKHTTPURLHandle hasResponseHeaders]), (WKURLLoadReadStreamCallback),
        (+[WKURLLoad initialize]), (+[WKURLLoad URLLoadWithURL:]), (-[WKURLLoad
        initWithURL:]), (-[WKURLLoad addHandle:]), (-[WKURLLoad removeHandle:]),
        (-[WKURLLoad removeAllHandles]), (-[WKURLLoad isEqual:]), (-[WKURLLoad hash]),
        (-[WKURLLoad dealloc]), (+[WKURLLoad incrementConcurrentNetworkLoadsNow]),
        (+[WKURLLoad decrementConcurrentNetworkLoadsNow]), (-[WKURLLoad
        beginNetworkLoad]), (-[WKURLLoad beginHTTPNetworkLoad]), (-[WKURLLoad
        WKURLLoadReadStreamCallback:event:data:]), (-[WKURLLoad statusCode]),
        (-[WKURLLoad resultCode]), (-[WKURLLoad setStatusCode:]), (-[WKURLLoad
        setResultCode:]), (+[WKURLLoad WKURLLoadThrottlerRun:]), (+[WKURLLoad
        WKURLLoadLoaderRun:]), (+[WKURLLoad WKURLLoadSweeperRun:]), (+[WKURLLoad
        WKURLLoadCFStreamHandlerRun:]):
        * CacheLoader.subproj/WKURLLoader.m: (+[WKURLLoader sharedURLLoader]),
        (-[WKURLLoader requestWithURLHandle:]), (-[WKURLLoader
        cancelRequestWithURLHandle:]), (-[WKURLLoader cancelAllRequestsWithURL:]),
        (-[WKURLLoader cancelAllRequestsInGroup:]), (-[WKURLLoader cachedObjectForURL:]),
        (-[WKURLLoader cacheExpiryForURL:]), (-[WKURLLoader
        setCacheExpiryForURL:expiry:]), (-[WKURLLoader expireCachedObjectNow:]),
        (-[WKURLLoader clearAllCaches]):
        * CacheLoader.subproj/WKURLMemoryCache.m: (-[WKURLMemoryCache objectForURL:]),
        (-[WKURLMemoryCache cacheObject:forURL:]), (-[WKURLMemoryCache
        cacheObject:forURL:untilExpiry:]), (-[WKURLMemoryCache containsURL:]),
        (-[WKURLMemoryCache expiryForURL:]), (-[WKURLMemoryCache
        setExpiryForURL:expiry:]), (-[WKURLMemoryCache invalidateURL:]),
        (-[WKURLMemoryCache clearCache]), (-[WKURLMemoryCache setSizeLimit:]),
        (-[WKURLMemoryCache usage]):


git-svn-id: svn://svn.chromium.org/blink/trunk@537 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2002-01-16 21:56:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b7b8f07d865fb5fd137a7cdfff410fcb83c02188');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumc00d701l5cx83gqs4', 2, e'2002-01-15  Maciej Stachowiak  <mjs@apple.com>

	* src/kdelibs/kjs/Makefile.am: Add missing files to BUILT_SOURCES
	and build rules to fix `make -j3\'


git-svn-id: svn://svn.chromium.org/blink/trunk@536 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-01-16 02:30:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dcccb61f82912dcf815549f0f6fc959220d672bc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumc00d801l5bk196sf7', 2, e'	Convert build system to automake

	* Makefile.am: Add this
	* Makefile.in: Remove this

	* configure.in:

	Remove newly autogenerated things,

	* aclocal.m4:
	* autogen.sh:
	* config.guess:
	* config.h.in:
	* config.sub:
	* configure:
	* missing:

	* acconfig.h, acinclude.m4: Templates for auto*
	* libtool.diff: Couple of tweaks needed to automake.
	* .cvsignore: Ignore the right stuff

	Add these.

	* Tests/Makefile.am:
	* Tests/draw/Makefile.am:
	* Tests/draw/drawApp/Makefile.am:
	* Tests/khtmlview/Makefile.am:
	* Tests/khtmlview/WebViewTest/Makefile.am:
	* Tests/qt/Makefile.am:

	Remove these.

	* Tests/Makefile.in:
	* Tests/draw/Makefile:
	* Tests/draw/drawApp/Makefile.in:
	* Tests/khtmlview/WebViewTest/Makefile.in:
	* Tests/qt/Makefile.in:

	Tweak link flags.

	* Tests/draw/drawApp/drawApp.pbproj/project.pbxproj:
	* Tests/khtmlview/WebViewTest/WebViewTest.pbproj/project.pbxproj:

	Ignore the right stuff.

	* Tests/khtmlview/.cvsignore:
	* Tests/khtmlview/WebViewTest/.cvsignore:
	* Tests/.cvsignore:
	* Tests/draw/.cvsignore:
	* Tests/qt/.cvsignore:

	* Tests/harness.c: Fix a couple of warnings.

	* Tests/qt/qarray-test.chk, Tests/qt/qarray-test.cpp (main):
	Remove a faulty test case: can\'t count on contents of
	uninitialized array!

	* Tests/test.list: Add a newly-enabled javascript test.

	* Updates/install-automake.sh,
	Updates/automake-1.5-mac-ported.diff, Updates/update:
	Install automake 1.5 as an update, patch for Mac OS X

	* Updates/install-gperf.sh: Fix potential minor bug for blind cut
	& pasters.


git-svn-id: svn://svn.chromium.org/blink/trunk@535 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2002-01-14 19:21:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e11622bbddf34875a2b516ce8939da5588c4112b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumc00d901l5looenqb6', 2, e'iFinally fixed underlining, HONEST!


git-svn-id: svn://svn.chromium.org/blink/trunk@534 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2002-01-10 03:38:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/418ab76c61c7cb392b6238e630894d130504fbec');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumc00da01l5t251mz0g', 2, e'Passing mouse events to plug-ins


git-svn-id: svn://svn.chromium.org/blink/trunk@533 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-10 00:26:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2e8c4bde71d2dba72b338a29193d3a5abdc8db91');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumc00db01l571wqb7y5', 2, e'Fixed header problem


git-svn-id: svn://svn.chromium.org/blink/trunk@532 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-09 01:44:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/992f4cff2238d7cb6d445fb04ad255b7dbd972c8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumc00dc01l5c6piz5j2', 2, e'Now sending null events to plug-ins


git-svn-id: svn://svn.chromium.org/blink/trunk@531 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-09 00:54:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fe103db532d3323297007ee23218c7075924bfcc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumc00dd01l5qcl24rz6', 2, e'Fixed plug-in positioning


git-svn-id: svn://svn.chromium.org/blink/trunk@530 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-08 23:21:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f8740c4b87b68b8b1b196b8d16350eb4ad0883b6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlumc00de01l5vveu3i54', 2, e'Plug-ins now rendering


git-svn-id: svn://svn.chromium.org/blink/trunk@529 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-08 20:51:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5d4163a365ef63bd975375b9f98867674dd3bec8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00br01l5vljpiwqr', 2, e'Now passing drawing coordinates to plug-in instances


git-svn-id: svn://svn.chromium.org/blink/trunk@528 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-08 20:18:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/99558d035a299ce4a9ff3055d10674f988dd3fc8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00bs01l5crvbygph', 2, e'Now passing drawing coordinates to plug-in instances


git-svn-id: svn://svn.chromium.org/blink/trunk@527 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-08 20:17:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/49711323522f1cf9044623e7d3118ff8a7f095ed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00bt01l5n2o4ito7', 2, e'Moved plug-in instance creation to WKPluginView from WKPlugin


git-svn-id: svn://svn.chromium.org/blink/trunk@526 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-07 21:38:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d0f6f924faf38c9f4d5add50c8681f7ff5ee5298');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00bu01l5m3tur2l0', 2, e'Moved plug-in instance creation to WKPluginView from WKPlugin


git-svn-id: svn://svn.chromium.org/blink/trunk@525 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-07 21:37:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/687355e92ddb43b7d8748672626e1e11eb5dd1a2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00bv01l5b6lypnhx', 2, e'Moved plug-in instance creation to WKPluginView from WKPlugin


git-svn-id: svn://svn.chromium.org/blink/trunk@524 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2002-01-07 21:31:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bb701b354b2efe8592dbe346e3fcc8803875cd70');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00bw01l5ee95yh0a', 2, e'Just updated a bunch of .cvsignore files.


git-svn-id: svn://svn.chromium.org/blink/trunk@523 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2001-12-21 18:58:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b9fab0aa823dab586895bc9315c52a9b6ef4db23');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00bx01l5xzd9zyxr', 2, e'More tweaks to text underlining.


git-svn-id: svn://svn.chromium.org/blink/trunk@522 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-21 03:02:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b7b65718bf5c3e2ea941fca4d8ecbfbd585298ed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00by01l5gq6rjkiv', 2, e'Top level:

	* prepare-ChangeLog: Improved C++ support; handle constructor
	initializers and operator overloads properly, and ignore the const
	qualifier so const methods get picked up.

	Various changes relating to reduction in borrowed classes:

	* Tests/qt/qpoint-test.chk, Tests/qt/qpoint-test.cpp,
	Tests/qt/qrect-test.chk, Tests/qt/qrect-test.cpp,
	Tests/qt/qsize-test.chk, Tests/qt/qsize-test.cpp: Disable tests
	that don\'t apply to new versions of these classes.

	* borrowed-classes.txt: Turn off QPoint, QSize, QRect.

WebCore:

	* src/kwq/KWQCString.mm: (QCString::QCString),
	(QCString::isEmpty), (QCString::isNull), (QCString::length): Fix
	some bugs found by the test suite in the emptiness/null semantics.

	Reimplement QPoint, QSize and QRect:

	* src/kwq/qt/qpoint.h, src/kwq/qt/qrect.h, src/kwq/qt/qsize.h:
	Update.
	* src/kwq/KWQPoint.mm: (QPoint::QPoint), (QPoint::x), (QPoint::y),
	(QPoint::manhattanLength), (operator+), (operator-), (operator<<):
	Fresh implementations.
	* src/kwq/KWQRect.mm: (QRect::QRect), (QRect::isNull), (QRect::isValid),
	(QRect::x), (QRect::y), (QRect::left), (QRect::top), (QRect::right),
	(QRect::bottom), (QRect::width), (QRect::height), (QRect::topLeft),
	(QRect::size), (QRect::setWidth), (QRect::setHeight), (QRect::intersect),
	(QRect::intersects), (QRect::operator&), (operator==), (operator!=),
	(operator<<): Likewise.
	* src/kwq/KWQSize.mm: (QSize::QSize), (QSize::isValid), (QSize::width),
	(QSize::height), (QSize::setWidth), (QSize::setHeight), (QSize::expandedTo),
	(operator+), (operator==), (operator!=), (operator<<): Likewise.
	* src/kwq/qt/_qpoint.cpp, src/kwq/qt/_qrect.cpp,
	src/kwq/qt/_qsize.cpp: Disable the whole file contents when
	building.
	* src/kwq/Makefile.in: Add new files to build.

	Start moving away from QShared so we can remove it:

	* src/kwq/qt/qbrush.h, src/kwq/KWQBrush.mm: (QBrush::QBrush),
	(QBrush::color),
	(QBrush::setColor), (QBrush::style), (QBrush::setStyle),
	(QBrush::operator==), (QBrush::operator!=): Don\'t use shared data
	for this simple value object, the optimization value is
	quastionable anyway.
	* src/kwq/qt/qpen.h, src/kwq/KWQPen.mm: (QPen::QPen),
	(QPen::color), (QPen::width), (QPen::style),
	(QPen::setColor), (QPen::setWidth), (QPen::setStyle),
	(QPen::operator==): Likewise.
	* src/kwq/KWQPainter.mm: (QPainter::setPen), (QPainter::setBrush):
	Update for changes to pen.
	* src/kwq/KWQRefPtr.h: New reference-counted pointer template.
	* src/kwq/qt/qguardedptr.h, src/kwq/KWQGuardedPtr.mm:
	(QGuardedPtrPrivate::QGuardedPtrPrivate): Use KWQRefPtr instead of
	QShared.
	* src/kwq/qt/qvariant.h, src/kwq/KWQVariant.mm:
	(QVariant::QVariant), (QVariant::~QVariant),
	(QVariant::operator=): Use KWQRefPtr instead of
	QShared.
	* src/kwq/qt/qnamespace.h: Remove private constructor and
	destructor since people want to subclass this.

	* src/kwq/_KWQOwner.h: Add include guards and standard license.

	* src/kdelibs/khtml/ecma/kjs_binding.h: Add include of qvariant.h,
	how could stuff ever compile without this?


git-svn-id: svn://svn.chromium.org/blink/trunk@521 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2001-12-19 04:39:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/51352cb4dfc5fd1f32ecb44a732407222682df27');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00bz01l59ax9xlaq', 2, e'Finally fixed underlining.


git-svn-id: svn://svn.chromium.org/blink/trunk@520 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-19 03:54:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1d4fa0a34cdd144f59fd16c4eea8ba1b848c6028');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00c001l5t6dnrye2', 2, e'        Deleted one little word

        * Documentation/WebKit-White-Paper/WebKit-White-Paper.html:


git-svn-id: svn://svn.chromium.org/blink/trunk@519 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-19 00:20:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e2bd61563fbe3de53f368e2402c51fe00d78272a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00c101l5ylkkb1l3', 2, e'Restructing of headers in prepartion for implementation.  Added new WK*
headers to PB project description.


git-svn-id: svn://svn.chromium.org/blink/trunk@518 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-19 00:08:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/df0adfdf2af392a2a34d2bfe19039a0ca86cbbd7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00c201l5tf5t2uqs', 2, e'        Updated based on comments from John and Richard

        * Documentation/WebKit-White-Paper/WebKit-White-Paper.html:
        * Documentation/WebKit-White-Paper/images/webkit-cache-loader.jpg:


git-svn-id: svn://svn.chromium.org/blink/trunk@517 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-19 00:01:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f6b9d7dc2b68ef83a020a88c493438b8d572d6fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00c301l5v2ko3qg8', 2, e'	* src/kwq/Makefile.in: Re-apply my changes, which accidentally got
	clobbered.


git-svn-id: svn://svn.chromium.org/blink/trunk@516 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2001-12-18 23:55:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7642756dd9ec1e2fc055528aa815411949d21dde');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00c401l5fcxsy8qx', 2, e'        Updated the white paper text and graphics.

        * Documentation/WebKit-White-Paper/WebKit-White-Paper.html:
        * Documentation/WebKit-White-Paper/images/webkit-cache-loader.jpg:
        * Documentation/WebKit-White-Paper/images/webkit-classes.jpg:


git-svn-id: svn://svn.chromium.org/blink/trunk@515 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-18 21:21:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ce7d8b0727681c4230bdd12cab411e0405064d1e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00c501l5jaszc2gm', 2, e'KWQWidget.mm


git-svn-id: svn://svn.chromium.org/blink/trunk@514 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-12-18 18:23:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d376b66a2b4d10607f601ec5cc93336506ecbff2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00c601l5x4a4ng2d', 2, e'WKPluginView.h


git-svn-id: svn://svn.chromium.org/blink/trunk@513 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-12-18 18:22:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6900faf6401a295a90d61b9113b306e5a90a2c69');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00c701l56n6r4acr', 2, e'Initial submission of the plug-in classes


git-svn-id: svn://svn.chromium.org/blink/trunk@512 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-12-18 18:21:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2e69b2b6db54b72e4bcf43f5fe0ce8c425d7f1d3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00c801l5tza8fdij', 2, e'Added change comments that I was keeping in header files.


git-svn-id: svn://svn.chromium.org/blink/trunk@511 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-18 17:52:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/be3903ad5d096da030b7fa9d100f4114f6cfe163');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00c901l5bdbgnb6s', 2, e'        Merged "Changes" information into individual files

        * Cache.subproj/WKLoadChunk.h:
        * Cache.subproj/WKWebCache.h:
        * Cache.subproj/WKWebCacheClient.h:
        * Cache.subproj/WKWebContentType.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@510 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-18 17:01:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9735c35aabe33bc50f1cfc3d1d273e7de6dff4eb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00ca01l54nm24od7', 2, e'        Fixed small cpp glitch in WKWebCache.
        Added WKAttributedURL header.
        Updated WKBackForwardList with ifdef\'ed out new design.

        * Cache.subproj/WKWebCache.h:
        * History.subproj/WKAttributedURL.h:
        * History.subproj/WKBackForwardList.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@509 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-18 00:41:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/06ecc2e94b2f436c536cf5612ad498e7a7de1f1b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00cb01l5f98t617c', 2, e'        Added header files by chopping up the CacheAPI.h document I have been working on.

        * Cache.subproj/WKLoadChunk.h:
        * Cache.subproj/WKWebCache.h:
        * Cache.subproj/WKWebCacheClient.h:
        * Cache.subproj/WKWebContentType.h:


git-svn-id: svn://svn.chromium.org/blink/trunk@508 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-17 22:54:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c9d0bebe05468bb4ac06c48c8db1004d6956b6e5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00cc01l5tv15fpqo', 2, e'        Did some verb tense cleanup.

        * Documentation/WebKit-White-Paper/WebKit-White-Paper.html:


git-svn-id: svn://svn.chromium.org/blink/trunk@507 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-17 22:21:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3b6cd98c41f64ab3f00d000d3bc6c00b7e88002e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00cd01l5ttfrfep7', 2, e'        Added the current draft of the WebKit white paper.

        * Documentation/WebKit-White-Paper/WebKit-White-Paper.html:
        * Documentation/WebKit-White-Paper/images/webkit-cache-loader.jpg:


git-svn-id: svn://svn.chromium.org/blink/trunk@506 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-17 22:08:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/186d17a18156acd24b02b8f4910d37b98463f88f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00ce01l5gy1mukpc', 2, e'	Simplified WKLocationChangeHandler and updated
	WKAuthenticationHandler.

	* WebView.subproj/WKWebController.h:
	(WKWebDataSource): Renamed methods to be forDataSource, not
	byDataSource.
	(-[WKWebDataSource locationChangeInProgressForDataSource:]): Added.
	(-[WKWebDataSource locationChangeDone:forDataSource:]): Added as a
	collapsed version of locationChangeCancelled:,
	locationChangeStopped: and locationChangeFinished:.
	(WKSimpleAuthenticationResult, WKSimpleAuthenticationRequest):
	made these interfaces instead of structs.


git-svn-id: svn://svn.chromium.org/blink/trunk@505 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2001-12-15 02:19:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/08504eead624a68f4dbb7912fbc72beb90274278');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00cf01l53uohzk8e', 2, e'Added files to temporarily hold incomplete API.


git-svn-id: svn://svn.chromium.org/blink/trunk@504 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-15 01:59:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2437beae833f7d9dc5a86220eda8b9383acc1868');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00cg01l57cypf5c7', 2, e'	Minor cleanups, mostly for naming consistency.

	* WebView.subproj/WKWebController.h:
	(WKSimpleAuthenticationRequest) name field `url\', not `uri\'.
	(-[WKWebDataSourceErrorHandler receivedError:forDataSource:]):
	renamed from `error:inDataSource:\' so that it\'s a verb phrase.

	* WebView.subproj/WKWebDataSource.h:
	(-[WKWebDataSource initWithURL:]): Rename `inputUrl\' argument to
	`inputURL\'.
	(-[WKWebDataSource initWithLoader:]): Change argument type from
	`WKURILoader\' to `WKLoader\'.
	(-[WKWebDataSource wasRedirected]): Renamed from `isRedirected\',
	the past tense seems more appropriate here.
	(-[WKWebDataSource setJavaEnabled:]): Add missing semicolon.
	(-[WKWebDataSource pluginsEnabled:]): renamed from `pluginEnabled\'
	for consistency with `setPluginsEnabled:\'.

	* WebView.subproj/WKWebView.h:
	(-[WKWebView fontSizes]): renamed from `fontSize\' for sonsistency
	with `setFontSizes:\'.
	(-[WKWebView setContextMenusEnabled]): renamed from
	\'setEnableContextMenus:\' for consistency with
	`contextMenusenabled\'.


git-svn-id: svn://svn.chromium.org/blink/trunk@503 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2001-12-14 23:06:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7d57d4ee2f44a51821d83720a08ea9a032e1b4e6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00ch01l5x7x4b84i', 2, e'Fixed spelling mistake.


git-svn-id: svn://svn.chromium.org/blink/trunk@502 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-14 21:42:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/65038169ac2f072e156f69cfa23cb2664a605712');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00ci01l5iom43l38', 2, e'	After discussion with Don, Removed all methods relating to
	resolved URLs, since browsers don\'t actually treat aliases
	specially.

	* WebView.subproj/WKWebController.h: removed inputURLresolvedTo: methods.
	* WebView.subproj/WKWebDataSource.h: remove resolvedURL method,
	and mentions of it in comments.


git-svn-id: svn://svn.chromium.org/blink/trunk@501 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2001-12-14 19:23:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2294f2ac32281fd44b6202b9a0e15eb28b690e18');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00cj01l5kstn6rjw', 2, e'WebCore changes:

	Changes for international character set support. Still needs work,
	but no worse than before. amazon.co.jp renders almost correctly.

	* src/kwq/KWQCharsets.h, src/kwq/KWQCharsets.mm:
	(KWQCFStringEncodingFromIANACharsetName,
	KWQCFStringEncodingFromMIB, KWQCFStringEncodingToIANACharsetName,
	KWQCFStringEncodingToMIB): New functions that translate between
	the Qt concept of charaxcter sets and the
	(buildDictionaries): static helper function for the above.
	* src/kwq/KWQtextcodec.mm: (codecForCFStringEncoding,
	QTextCodec::codecForMib), QTextCodec::codecForName,
	QTextCodec::codecForLocale, QTextCodec::name,QTextCodec::mibEnum):
	Implement for real.
	* src/kwq/KWQKCharsets.mm: (KCharsets::codecForName,
	KCharsets::charsetForEncoding, KCharsets::charsetForEncoding):
	Implement for real.
	* src/kwq/KWQKHTMLPart.mm: (KHTMLPart::slotData): Get encoding
	from headers if present.
	(encodingFromContentType): Helper function for the above.
	(KHTMLPart::begin): Reinitialize decoder for every page.
	(KHTMLPart::write): Minor bug fix.
	(KHTMLPart::setEncoding): Implement.
	(KHTMLPart::khtmlMouseMoveEvent,
	KHTMLPart::khtmlMouseReleaseEvent, KHTMLPart::checkCompleted):
	Simplify ifdefs to make prepare-ChangeLog happy.
	* src/kwq/qt/qstring.h, src/kwq/KWQString.mm:
	(QString::fromCFString): New convenience method to create a
	QString from an immutable CFString by copying,
	* src/kwq/character-sets.txt: IANA document describing character
	sets.
	* src/kwq/make-charset-table.pl, src/kwq/make-mac-encodings.c:
	Helper programs to construct charset tables from IANA document.
	* src/kwq/Makefile.in: Update to handle the autogenerated code.
	* src/kwq/.cvsignore: Ignore new autogenerated files.

	* src/kdelibs/khtml/misc/decoder.cpp: (Decoder::decode): Fix
	decoding when the encoding is specified in the http headers (which
	seems like it could never have worked in KDE).

	* include/WCBackForwardList.h, include/WCURICache.h,
	include/WCURICacheData.h, include/WCURIEntry.h: Fix prototypes of
	C functions with no arguments to use (void), not (), to avoid
	warnings in WebKit.

WebKit changes:

	Warning fixes and support to pass the http headers along with
	cache data items

	* Cache.subproj/NSURICacheData.h, Cache.subproj/NSURICacheData.m:
	(+[NSURICacheData
	dataWithURL:status:error:headers:data:size:notificationString:userData:],
	-[NSURICacheData
	initWithURL:status:error:headers:data:size:notificationString:userData:]),
	-[NSURICacheData dealloc], -[NSURICacheData error],
	-[NSURICacheData headers]:
	NSURICacheData now carries a copy of the response headers
	dictionary.
	* Cache.subproj/NSURICache.m: include "WCURICache.h" to fix warnings.
	(-[NSURICache requestWithURL:requestor:userData:]):
	Handle headers in CacheData.
	* Cache.subproj/NSURILoad.h, Cache.subproj/NSURILoad.m:
	(-[NSURILoad __NSURILoadReadStreamCallback:event:data:],
	-[NSURILoad headers], -[NSURILoad dealloc], -[NSURILoad done]):
	An NSURILoad object now carries the response headers associated
	with its connection, if any.

	* History.subproj/WKBackForwardList.m: include WCBackForwardList.h
	to fix warning.
	* History.subproj/WKURIEntry.m: include WCURIEntry.h to fix
	warning.
	* Misc.subproj/WebKitDebug.h: Use (void) for C prototypes, not ().
	* WebView.subproj/NSWebPageDataSource.mm: (+[NSWebPageDataSource
	initialize]): Remove unused variable to fix warning.
	* WebKit.pbproj/project.pbxproj: Enable many warning flags and -Werror


git-svn-id: svn://svn.chromium.org/blink/trunk@500 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2001-12-14 06:57:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ef1f38d2aab6f2e18b04e6f696ca6dedc06d901d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlsee00ck01l5zya24dbi', 2, e'	* WebView.subproj/WKWebController.h: Defined initial version of
	WKAuthenticationHandler interface, and associated
	WKSimpleAuthenticationRequest and WKSimpleAuthenticationResult
	structs.


git-svn-id: svn://svn.chromium.org/blink/trunk@499 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2001-12-14 02:34:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ebc1b3a123b8c1a00596c228328ba0307e976227');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00ax01l5mqktxatf', 2, e'More revisions to API.


git-svn-id: svn://svn.chromium.org/blink/trunk@498 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-14 00:09:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/66fd9fe86f5e50a3179d80f2b769433f3cb2c12b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00ay01l5ud9edobz', 2, e'Changes to support the model being a tree of documents.


git-svn-id: svn://svn.chromium.org/blink/trunk@497 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-13 22:02:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d9cc527c351d347d0ac1853499f852208e93da11');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00az01l5aqft1s4i', 2, e'More changes and notes based on our API discussion meetings.


git-svn-id: svn://svn.chromium.org/blink/trunk@496 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-13 01:36:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f6a18b8eea89b74641c660af646a34f3230b5ea8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00b001l5qgyeqsbn', 2, e'Fixed a typo.


git-svn-id: svn://svn.chromium.org/blink/trunk@495 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-12 03:28:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/426e3619ccf1314f32b96b50d9481a269f2ccaf2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00b101l5ni363r7u', 2, e'More changes to the WebView API.


git-svn-id: svn://svn.chromium.org/blink/trunk@494 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-12 03:20:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd7259f1a3c9aa4382cff09c936f522fe5fab290');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00b201l5e8ydhc4a', 2, e'Didn\'t mean to make last commit


git-svn-id: svn://svn.chromium.org/blink/trunk@493 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-12-12 02:41:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4fdf8ce601a7cbffefc1ee1d08ac715ebd0bbf2f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00b301l5zfyx4muq', 2, e'Added another .copy() to get around Gramp\'s + QConstString problem


git-svn-id: svn://svn.chromium.org/blink/trunk@492 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-12-12 02:37:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ce7ef12e8bfbde8d1d0dc5017beb797ce57eecfb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00b401l5unw4kznv', 2, e'Added another .copy() to get around Gramp\'s + QConstString problem


git-svn-id: svn://svn.chromium.org/blink/trunk@491 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-12-12 02:19:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff122596981438309d2305930739bfa1b2581cb9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00b501l5h47vkke2', 2, e'Make deep copy in parseAttribute to fix memory smasher


git-svn-id: svn://svn.chromium.org/blink/trunk@490 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-12-12 00:49:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b2ba6f35db6e17ff2f5fc255af5c0495cf67fc07');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00b601l56fafcozr', 2, e'Properly initialize cache and cacheType members QConstString constructor


git-svn-id: svn://svn.chromium.org/blink/trunk@489 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-12-12 00:47:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0b57547b3e9d8fbb079eaaa9e23474d4d40f5161');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00b701l5717gj4mz', 2, e'Added debug string so that other could debug this problem: no url being passed to requestObject


git-svn-id: svn://svn.chromium.org/blink/trunk@488 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-12-11 18:57:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c5d817f4b8a1653ebd8e2ad69d637dfdc62d66e0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00b801l5up54xmo4', 2, e'Added http://cb.apple.com/plugin.html to WebViewTest to test plug-ins


git-svn-id: svn://svn.chromium.org/blink/trunk@487 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-12-11 18:33:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6c987263448c51177885b79164e90d763062d7e3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00b901l5wfdubhgo', 2, e'Added default for pluginsEnabled


git-svn-id: svn://svn.chromium.org/blink/trunk@486 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-12-11 17:53:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/546b0eff808bb71051f0b56ac35bacb73475c6c1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00ba01l5lc1qq9q2', 2, e'	* WebView.subproj/WKWebController.h:
	* WebView.subproj/WKWebDataSource.h:
	* WebView.subproj/WKWebView.h:

	Fixed some typos and misspellings.


git-svn-id: svn://svn.chromium.org/blink/trunk@485 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'sullivan', '2001-12-11 01:00:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a0d747f7a9fbdf18a975764c6f30ae0b70a09dfd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bb01l5ekk328ps', 2, e'Went back and did a better job of cleaning up the warnings
that resulted from comparing signed and unsigned numbers.

* src/kwq/KWQString.mm: (QString::insert), (QString::remove),
(QString::truncate):


git-svn-id: svn://svn.chromium.org/blink/trunk@484 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-10 21:56:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/20ba3c38dec7296d50cb6ec52517a1be2041c616');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bc01l5y2wb9jbs', 2, e'New API described in headers.


git-svn-id: svn://svn.chromium.org/blink/trunk@483 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-08 02:20:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6dadfdaca97b57f92bdde0ed38c1e68578421643');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bd01l5yofokf3e', 2, e'Changes to clean up warnings.
Also big swath of new API for WebView and WebdataSource


git-svn-id: svn://svn.chromium.org/blink/trunk@482 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-07 21:58:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7e99013c4ad16776af442099f667cde8c71e3161');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00be01l53slc249k', 2, e'Fixed small bug in a comparison that was making -Wall complain

* src/kwq/KWQString.mm:

Removed -Werror cflag. That\'s probably a bit premature.

* configure:
* configure.in:


git-svn-id: svn://svn.chromium.org/blink/trunk@481 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-07 21:39:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4da1c4a6bc7a6b1e46232b6c8ceb86d6791b7505');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bf01l5nlmzzely', 2, e'I made a pass through the code and cleaned up all compiler warnings
reported by -Wall.
I also added some beginning of support for inlining functions.


git-svn-id: svn://svn.chromium.org/blink/trunk@480 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-07 21:11:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f3b771ed7a7b1f90015a212751d6636e094c65ca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bg01l5wo4pzi8t', 2, e'Fixed warning


git-svn-id: svn://svn.chromium.org/blink/trunk@479 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-07 18:57:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9e24aa6525afffe853becb0c425d8a75f2505096');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bh01l5664xs1mg', 2, e'Fixed compiler warning that actually turned out to be a bug!  Imagine that.


git-svn-id: svn://svn.chromium.org/blink/trunk@478 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-12-07 18:45:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e19678432d2bd46eca06e8f9e9c8d620023f2bb9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bi01l5rorrf3oj', 2, e'	* Cache.subproj/NSURICacheData.m: (+[NSURICacheData
	dataWithURL:status:error:data:size:notificationString:userData:]),
	(-[NSURICacheData
	initWithURL:status:error:data:size:notificationString:userData:]):
	Remove redundant semicolons between the end of the prototype and
	the open brace, because they confuse the changelog script.


git-svn-id: svn://svn.chromium.org/blink/trunk@477 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2001-12-06 19:09:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/eebc204f38a55d5b32ae81b4066aabd54a1da80a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bj01l5253j39d2', 2, e'	* prepare-ChangeLog: Script to automatically generate a skeleton
	ChangeLog entry. Run it as ./prepare-ChangeLog from the Labyrinth
	top level, after settimg the EMAIL_ADDRESS environment variable.

	* ChangeLog, WebCore/ChangeLog, WebKit/ChangeLog: Added top-level
	ChangeLog and ChangeLogs for WebCore and WebKit.


git-svn-id: svn://svn.chromium.org/blink/trunk@476 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'mjs', '2001-12-06 18:59:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/649e95d1e3802febcf45768eb7e9a759a4df6237');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bk01l5wqgzmun3', 2, e'Deleted reference to InterThreadMessaging files


git-svn-id: svn://svn.chromium.org/blink/trunk@475 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-06 18:13:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/63eb3783fb367400fbd84d44667fe535590a073b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bl01l52pkta6nq', 2, e'This is my first attempt at getting the build server to work, and in
removing our dependency and a hardcoded symroots directory.


git-svn-id: svn://svn.chromium.org/blink/trunk@474 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-06 17:52:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d67df80540e6de37cd29991d756acaac3f917935');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bm01l50ene4344', 2, e'Cleaned up some memory leaks associated created by the threads that
handle load throttling.
Some other memory cleanups as well.


git-svn-id: svn://svn.chromium.org/blink/trunk@473 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-12-04 18:20:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/173c9882f1ff5c7cea7d105cbf00cbcc02212e90');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bn01l55o95m3qa', 2, e'Changes that make the back and forward button work.
As a bonus, we also get a progress indicator for page loads.


git-svn-id: svn://svn.chromium.org/blink/trunk@471 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-30 20:49:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/030ea4583821d3d118befc21f91d319e2978b813');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bo01l5gnv8tv2o', 2, e'
Lots of little changes.  More stubbling towards getting events to work.


git-svn-id: svn://svn.chromium.org/blink/trunk@470 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-30 02:02:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f350cf3df96590f3993bb2fe37828afe169537a6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bp01l5k1z4y799', 2, e'Various clean ups to the loader code.
Added first hacks at the history portion of the framework.


git-svn-id: svn://svn.chromium.org/blink/trunk@469 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-29 17:31:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b96f3cd9175dba07f8e34b44a8076f1f6bff4b07');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlr9i00bq01l5rw2w59oy', 2, e'First pass at events, very messy.


git-svn-id: svn://svn.chromium.org/blink/trunk@468 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-21 23:47:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dad0521f757a918cf8c44c715be7a9cea9ca34e2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600a301l5mup9jjkd', 2, e'Fixes some rendering issues, like those that sniff for browser types
and versions. As part of this, we now send a MSIE User-Agent string.


git-svn-id: svn://svn.chromium.org/blink/trunk@467 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-20 21:57:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b1777e3f5560ff9fc8bb6bccd61ebb8f978b0b49');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600a401l5ui6s2jck', 2, e'Fixed "double letter" problem that resulted from a too-naive fix of the
"underline" bug. Both should be fixed now.


git-svn-id: svn://svn.chromium.org/blink/trunk@466 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-20 19:30:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/89ccf87f3afc3ea9166f77f323e307e46e0df91d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600a501l5ms6j2fme', 2, e'More changes tweaking the text layout/drawing implementation.
Changed the size of the list item bullets.


git-svn-id: svn://svn.chromium.org/blink/trunk@465 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-20 19:04:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6e8297a78699501b451e829f7207f252590a6b17');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600a601l57v7mxtip', 2, e'Performance tuning tricks.


git-svn-id: svn://svn.chromium.org/blink/trunk@464 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-19 23:19:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/208acb80656f46f1dcff3561d978d8b33093fc23');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600a701l5p73wyyx7', 2, e'Fixed bug in a debug statement


git-svn-id: svn://svn.chromium.org/blink/trunk@463 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-16 19:45:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/42a73893bcdff948f4b9994b9811084cab114dad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600a801l5l8lxlo6p', 2, e'Removed all NSLog statements from the code base, replacing them with
KWQDEBUG/WEBKITDEBUG statements.
Added some assertion macros to the WebCore and the WebKit.


git-svn-id: svn://svn.chromium.org/blink/trunk@462 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-16 19:37:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fd3ab44f0cb608005130e3392b33cd2a2e32bc65');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600a901l5p94n4frj', 2, e'Changes to the make system to support building via make with the -j option


git-svn-id: svn://svn.chromium.org/blink/trunk@461 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-16 16:20:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3ae4b78e12dbb1fc4d492478502b0673e042817e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600aa01l5fq11z4dk', 2, e'Changed standard default font sizes.
Fixed relative URL problem.
Fixed color names of the form #fff.


git-svn-id: svn://svn.chromium.org/blink/trunk@460 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-16 03:40:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2deed2bbf354d7a5ea9d4b48ed405bcf51dd4785');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600ab01l5mf0zjtwn', 2, e'This fixes one major source of bugs we have been experiencing.
The change is in adding back in some support for text decoding. This
takes the place of some code that was using unterminated byte strings
as c-style strings (with the unpredictable results one might expect).


git-svn-id: svn://svn.chromium.org/blink/trunk@459 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-16 01:04:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/10d066ea09be454320638dfddda34a6a9d96043a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600ac01l5j6cxv67m', 2, e'Work in progress on getting loads working more efficiently


git-svn-id: svn://svn.chromium.org/blink/trunk@458 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-15 17:35:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/55eef01209a07cf418f1c767ed5930f350319f40');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600ad01l58bv3hr7q', 2, e'Fixed a buffer overrun in leftRight()


git-svn-id: svn://svn.chromium.org/blink/trunk@457 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-15 17:32:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8e30d39d6f9b40285a012318bebb242a16460eb5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600ae01l5zs74c4z0', 2, e'Fixed color to parse #000 style color names.


git-svn-id: svn://svn.chromium.org/blink/trunk@456 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-15 04:43:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/803f9d1324633f384033ded704f1b524dd6d8865');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600af01l5x1j5amuq', 2, e'Debugging functions.


git-svn-id: svn://svn.chromium.org/blink/trunk@455 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-15 03:45:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/866b3fc8f1c87cb885b5015267dbdff8c123601b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600ag01l5chn1oih6', 2, e'Making sure that functions return proper values


git-svn-id: svn://svn.chromium.org/blink/trunk@454 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-14 23:51:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/833d6920bb8d24442d0d24e5a8eded6f465c4a68');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600ah01l5lxrvq8ap', 2, e'Making sure that functions are return proper values


git-svn-id: svn://svn.chromium.org/blink/trunk@453 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-14 20:07:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/30d9af96d513a0f3b7d701adae1918f58a2033f1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600ai01l5be6d2pgr', 2, e'I reworked the code that loads data from the network, and sends
notifications to the khtml engine. This should result in some nice speedups


git-svn-id: svn://svn.chromium.org/blink/trunk@452 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-14 17:42:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b68f48f76e9c46bd6e6da627954c6289a663dd5e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600aj01l5s83yzdd0', 2, e'Fixed a boo-boo that resulted from Richard\'s checkin last night:
I added a declaration for _initializeWithFont


git-svn-id: svn://svn.chromium.org/blink/trunk@451 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-14 17:42:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a8fb3d13f3db8458b94f5c79ff07a1dd8e01cd62');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600ak01l5m8dj5wbn', 2, e'More optimizations to improve performance of font metrics.


git-svn-id: svn://svn.chromium.org/blink/trunk@450 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-14 01:23:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5c95b63d7199e23ff59221c7540c697768ad087e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600al01l5xxl0disk', 2, e'Worked on rendering "background" images:

        - Images set as the page bg in body tgas now works
        - Images set as table backgrounds now works


git-svn-id: svn://svn.chromium.org/blink/trunk@449 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-13 23:50:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3815c92b698fe06304b542756d24f6c69fb9c67a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600am01l547wdrkts', 2, e'Fixed daffy window resize problems.


git-svn-id: svn://svn.chromium.org/blink/trunk@448 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-13 22:38:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/af9de0ef74d7de607a31cf75acb81c52c0bfff23');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600an01l5t9wyjqwl', 2, e'Removed extraneous code in _rectForString


git-svn-id: svn://svn.chromium.org/blink/trunk@447 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-13 22:08:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/76056c20f416fb0ef3d549e10617eed2dbb1fe09');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600ao01l5av44juw1', 2, e'Fixed bug that was causing background images in body tags to clobber
the content on the page


git-svn-id: svn://svn.chromium.org/blink/trunk@446 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-13 17:57:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/276179fa4da1a66e24c52dfe48f2ebfd3ada8fd5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600ap01l5rl41mx0g', 2, e'Lots of changes to improve text rendering and some early attempts to optimize font
metrics.

Fixed drawing of lines.


git-svn-id: svn://svn.chromium.org/blink/trunk@445 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-13 04:33:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/96663d1022602fd697c472cb93ee09fd2ac923b7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600aq01l5vtdj7vro', 2, e'NSURICacheJobID is defunct


git-svn-id: svn://svn.chromium.org/blink/trunk@444 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-12 22:40:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4bcea574075b87f0a6272f4a5585b319df6c31e2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600ar01l53ik7s5rd', 2, e'Some more small cleanups that should improve stability.


git-svn-id: svn://svn.chromium.org/blink/trunk@443 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-12 22:05:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a4ad18b1f032da74ee4939f3a0ceb43013898afa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600as01l571skij35', 2, e'- Eliminated WCURICacheJobID class. It was on its way to being obsolete, and
I finally did it in.


git-svn-id: svn://svn.chromium.org/blink/trunk@442 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-12 21:39:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a01aa0c0d35036ef5b1cd9a0de7534828c646508');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600at01l5s2kcstjs', 2, e'jersey test


git-svn-id: svn://svn.chromium.org/blink/trunk@441 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-11 10:05:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/03918e7610e090becb7b04823e45644f05c2faeb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600au01l5y0clkcd5', 2, e'testing jersey


git-svn-id: svn://svn.chromium.org/blink/trunk@440 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-11 00:53:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/748ae7f136feed044a58d7278c35580af82d6373');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600av01l5jxjz7dii', 2, e'testing jersey


git-svn-id: svn://svn.chromium.org/blink/trunk@439 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-11 00:51:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/05388b67c7f0e33c4ef3c0361096d476f9e8f72e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlpw600aw01l5bap1gumq', 2, e'jersey test


git-svn-id: svn://svn.chromium.org/blink/trunk@438 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-10 23:37:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/18ee0824c303fa3f9177541cf920ecb3c0361912');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009901l5mg9gdtf8', 2, e'jersey test


git-svn-id: svn://svn.chromium.org/blink/trunk@437 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-10 23:30:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b0a30f5ab3247966ebe56949f4c366adedb74bd8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009a01l55is4p7z3', 2, e'jersey test


git-svn-id: svn://svn.chromium.org/blink/trunk@436 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-10 23:21:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4da9b109ba79fc6acf294fe53f0dc62c3801943a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009b01l5aks90bll', 2, e'jersey test


git-svn-id: svn://svn.chromium.org/blink/trunk@435 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-10 22:59:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5eeaf6fc3cea6b5dd897fe07e64189ff635d6d07');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009c01l53i7gwt2m', 2, e'More fixes for window resizing, etc.


git-svn-id: svn://svn.chromium.org/blink/trunk@434 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-10 02:13:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a2df427e350d3747abbd1a9e9566d526248468e4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009d01l5ppp905lq', 2, e'More fixes.  Added support for incremental layout.


git-svn-id: svn://svn.chromium.org/blink/trunk@433 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-10 01:33:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/08b1b844804a347f85fd53f00fd5e41d9d2ac2d1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009e01l5k164wehk', 2, e'Fixed duplication of addSubview calls.


git-svn-id: svn://svn.chromium.org/blink/trunk@432 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-09 23:29:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/de74faf8466c124d19ddab626c84ae717fcf8ed9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009f01l5yiasjx9h', 2, e'More rendering/forms fixes.


git-svn-id: svn://svn.chromium.org/blink/trunk@431 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-09 22:14:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9827d5b61257c6404590829ebd7c76e3e9e7c6de');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009g01l52xmyf4im', 2, e'Fixed sizeHint().


git-svn-id: svn://svn.chromium.org/blink/trunk@430 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-09 22:12:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/757068b159231ab7aa57acf613394a65cfac1688');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009h01l5be3mv4k5', 2, e'Temporary fix to support desktop dimension.


git-svn-id: svn://svn.chromium.org/blink/trunk@429 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-09 22:12:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c550a6b63a1a406a3a7d1a367f4dab38261fee2a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009i01l5s1mp3r7a', 2, e'Cleaned up some table rendering issues.
Added some better support for named colors in QColor.
Some cleanups in QBrush and QPen.


git-svn-id: svn://svn.chromium.org/blink/trunk@428 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-09 18:12:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/afb435d542d89fc354e2479bead76a7ba89251b5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009j01l5lfyp20e0', 2, e'Added checks to validate arguments passed in through public API methods.
Invalid arguments now throw exceptions.


git-svn-id: svn://svn.chromium.org/blink/trunk@427 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-08 21:33:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4ca2b75f6d11ab29fb2c68af30fdf993e5c7c990');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009k01l5c4bdaym4', 2, e'Adding remaining strings to Localizable.strings files


git-svn-id: svn://svn.chromium.org/blink/trunk@426 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-08 21:30:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fe1d1542b1bf2a31e1676a2bddde736ad8669bec');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009l01l52gqaypjm', 2, e'More fixes to improve layout.


git-svn-id: svn://svn.chromium.org/blink/trunk@425 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-08 21:15:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/72b3487c5230ea94d2132ccb0487084307d1e28b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009m01l5k1wb0fo7', 2, e'Fixes to do page sizing.  And other fixes to get forms to render almost correctly.


git-svn-id: svn://svn.chromium.org/blink/trunk@424 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-08 20:15:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/38ac732cfe4ba489572fa92e132f436e4da9c22a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009n01l5yheoc0ax', 2, e'A large set of changes:

	- I did a pass over all .mm files in WebCore/src/kwq, adding
	actual return values for all functions that return something
	(there were *many* cases where callers were left dangling).
	- I added numerous log statements throughout the code.
	- I made the log statement system configurable at runtime, so the
	amount of logging can be increased or decreased as desired.
	- I added an implementation for QVariant.
	- I cleaned up the implementations of QBrush and QPen.
	- I made general fixups and cleanups in various places.


git-svn-id: svn://svn.chromium.org/blink/trunk@423 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-08 14:53:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fd340a123df9a8f091696565bf7cd9bc5642a505');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009o01l5g7ztxhx5', 2, e'Renamed defaults keys to something more friendly such as WebKitStandardFont


git-svn-id: svn://svn.chromium.org/blink/trunk@422 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-08 00:59:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d5e15b33689cb7ef8626ad8bcb9d97e521f117d9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009p01l5g45p5uw8', 2, e'This file has been moved to: Labyrinth/Tests/khtmlview/draw.mm


git-svn-id: svn://svn.chromium.org/blink/trunk@421 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-07 17:45:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dd77b99d11541d9ca9942557a8293e9490ff90d6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009q01l5lnlhcme4', 2, e'Added the 7 tier-1 lproj\'s to WebKit including localizable strings


git-svn-id: svn://svn.chromium.org/blink/trunk@420 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-07 03:23:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/51ad90cfb85525004e71a095ebfbebe507811171');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009r01l55iztqzs4', 2, e'Added the 7 tier-1 lproj\'s to WebKit including localizable strings


git-svn-id: svn://svn.chromium.org/blink/trunk@419 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-07 03:00:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7126899fb43ecbf374806aa9cb5a24329b62a84f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009s01l5sf72lvsx', 2, e'Added the 7 tier-1 lproj\'s to WebKit including localizable strings


git-svn-id: svn://svn.chromium.org/blink/trunk@418 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-07 02:52:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fdee9bc4227d8c05fe5e58a9ffdf52169d749cef');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009t01l5dkiqtm5b', 2, e'i18n now fetches WebKit\'s localized strings


git-svn-id: svn://svn.chromium.org/blink/trunk@417 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-07 02:44:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2d1b1c1718fe318195e01f55830b72f78b346ccb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009u01l5gx84bqek', 2, e'Support for forms.  Incomplete.  Lots of problems.


git-svn-id: svn://svn.chromium.org/blink/trunk@416 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-06 22:53:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2ef1097a8d3e6ed636618309b4cecdf502ddcded');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009v01l5757gnjlw', 2, e'Fixed project reference to html4.css


git-svn-id: svn://svn.chromium.org/blink/trunk@415 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-06 19:04:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9eaa0165b6a2d7b7e5fe92a171f4f81d310936f8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009w01l5l0dbqsoy', 2, e'KWQKstddirs now accesses html4.css in WebKit\'s Resources directory


git-svn-id: svn://svn.chromium.org/blink/trunk@414 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-06 18:47:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/610bb6acb587ffcc9e5d91244ddc72c9abf28c80');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009x01l5yogx2m58', 2, e'Added the com.apple.webkit identifier to the WebKit framework. Added html4.css to the frameworks Resources directory


git-svn-id: svn://svn.chromium.org/blink/trunk@413 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-06 18:14:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/99cb40ac3e545426e4823b11baf9c5e6f902a4c6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009y01l5y1kpwwzz', 2, e'Added KWQGuardedPtr to object list


git-svn-id: svn://svn.chromium.org/blink/trunk@412 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-06 17:14:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7474f3f34ddf73706630cc7a902e8ee7fdc19145');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol6009z01l5or57ofvi', 2, e'Tweaked again to add kdelibs directory to include paths


git-svn-id: svn://svn.chromium.org/blink/trunk@411 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-06 17:03:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b44c4f270d49a5dc884f27b002cfe433683466d2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol600a001l5vgugmhab', 2, e'Added kjs directory


git-svn-id: svn://svn.chromium.org/blink/trunk@410 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-06 17:02:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9545a488b93269558cd9c777d3d5bcee8c59cba3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol600a101l5j2lniu8q', 2, e'A number of changes that help to get javascript up and running:

        - Modified a number of Makefiles to include ecma directory
        - Tweaked a bunch of kjs files that used \'id\' as a local variable
          name. Now that these files are included in .mm\'s there\'s a name
          conflict with the Objective-C type. In each case, the \'id\' local
          variable name was changed to \'_id\'.


git-svn-id: svn://svn.chromium.org/blink/trunk@409 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-06 16:41:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/491174c3c2f23b567377a7b348a4e244b3da849f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlol600a201l5s13hukt9', 2, e'A number of changes that help to get javascript up and running:

	- Modified a number of Makefiles to include ecma directory
	- Tweaked a bunch of kjs files that used \'id\' as a local variable
	  name. Now that these files are included in .mm\'s there\'s a name
	  conflict with the Objective-C type. In each case, the \'id\' local
	  variable name was changed to \'_id\'.


git-svn-id: svn://svn.chromium.org/blink/trunk@408 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-06 16:40:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bdd52b2837abefa4642851a0df57448e6eea15d0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008f01l5004txpxk', 2, e'Stupid implementation of i18n to return same string.


git-svn-id: svn://svn.chromium.org/blink/trunk@407 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-05 22:08:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/93ad15b9f0bd596a31aeb4417d376dfe325fddb1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008g01l5boazeli5', 2, e'Added fonts sizes to defaults


git-svn-id: svn://svn.chromium.org/blink/trunk@406 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-05 18:33:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/44a5ae594a6d874c78cb9ae08059c60f86dd47ac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008h01l5lxcint6x', 2, e'Committed evil hack to prevent double freeing of image bytes since
NSData doesn\'t give a sufficiently good *public* API.....ooof


git-svn-id: svn://svn.chromium.org/blink/trunk@405 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-03 00:50:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5c9d58b2c65b0c73d7750389a3f63f61b106781c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008i01l5z4b06g0u', 2, e'Fixed some geometry issues with drawing the web page view, and removed
some of the ugly, hard-coded hacks that helped us to get this far.
I also removed the unneeded double-buffering from the view drawing.


git-svn-id: svn://svn.chromium.org/blink/trunk@404 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-02 23:14:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7cbfc993493289d107c339f613e3fcac29424b4d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008j01l5agg7vant', 2, e'Enabled user defaults for KWQKHTMLSettings


git-svn-id: svn://svn.chromium.org/blink/trunk@403 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-11-02 21:37:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b581830e582d0c2daec0c33b41356cd061f479af');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008k01l5s8xn8agx', 2, e'Update framework project to include public headers.


git-svn-id: svn://svn.chromium.org/blink/trunk@402 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-02 21:23:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3d45ca0944fcd7ba58825edb2ba334d722778abd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008l01l5qcq6mf4e', 2, e'Added and removed files to project.


git-svn-id: svn://svn.chromium.org/blink/trunk@401 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-02 20:47:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff7c58c1079546e983ce155d7a160aa530c293b3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008m01l5ah814q57', 2, e'Some additional files that go along with the recent large change to the make
system


git-svn-id: svn://svn.chromium.org/blink/trunk@400 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-02 19:29:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cc9f8e7f713f628064cb451c9d3856bb9632936a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008n01l5thcyyya0', 2, e'It\'s that time again: I have made a number of changes to the make system.

The two major modification are:

1. The tests directory, which was formerly buried in WebCore, has been moved to the top-level in Labyrinth, and is now a peer of WebCore and WebKit.

2. I have moved the the configure and Makefiles from WebCore one directory up so that they may serve for all of Labyrinth. In other words, running `configure` and `make` in Labyrinth now builds "everything," including WebCore, WebKit, and the test programs.


git-svn-id: svn://svn.chromium.org/blink/trunk@399 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-02 19:22:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4e05a5b0824333c50f2a00392794137967dc5b89');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008o01l5fzdbksk3', 2, e'Added template +initialize for Chris.


git-svn-id: svn://svn.chromium.org/blink/trunk@398 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-01 23:45:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6ef5b5470f4bfc285b77a1c8ba71d630754b5559');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008p01l5j6ivzduw', 2, e'Rearranged layout of class templates.  Clear seperation of WebCore and C++
infected code in NSWeb*Private.h declarations.  Our implementations must also
be objective-c++.


git-svn-id: svn://svn.chromium.org/blink/trunk@397 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-11-01 23:18:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/164f2d682bd3ce16df65834959bec0de6599bb1d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008q01l5e1ar9ort', 2, e'Removed files from this part of the tree; moved to a top-level
Labyrinth directory called Tests


git-svn-id: svn://svn.chromium.org/blink/trunk@395 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-01 22:18:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1c62a9685433f2e7e64013de47225fae35433f46');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008r01l56i44p7u8', 2, e'Some small code cleanups, and removal of some unneeded debugging messages


git-svn-id: svn://svn.chromium.org/blink/trunk@394 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-11-01 00:43:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/79241fcddda2a50d47b71ac87533e5a27d217683');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008s01l5r7c2ipu6', 2, e'First check in of stubs for NSWebPageView classes.


git-svn-id: svn://svn.chromium.org/blink/trunk@393 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-31 21:48:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/93f4c3c84c08afe627362835b2b9062c32833ff7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008t01l54rql2fz6', 2, e'Changes to add address bar to test app.


git-svn-id: svn://svn.chromium.org/blink/trunk@392 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-31 21:46:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/adb79c7b2b35dc31591d4700da7b4a194e0e9c2f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008u01l5m3tyj3bp', 2, e'A collection of changes focusing on rendering and loading:
	- Images now load
	- Removed loader.cpp; added KWQKloader.cpp
	- Reworked some of the API in WCURI land
	- Assorted other small changes anf fixes


git-svn-id: svn://svn.chromium.org/blink/trunk@391 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-31 21:29:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/01a23ffbaa156c11c4eca70a4dabb3d64c8238ab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008v01l5mfwj65dk', 2, e'Fixed copy() method: it needs to be s deep copy


git-svn-id: svn://svn.chromium.org/blink/trunk@390 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-31 21:15:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9461098f162f3f6a62e07cf10d4e35b1f3d4dce6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008w01l5biof4n0t', 2, e'More improvements to rendering. The major addition is that links draw
correctly now.


git-svn-id: svn://svn.chromium.org/blink/trunk@389 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-26 21:23:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/72f8b0cbefd0d216c125e28689c85904e88246bd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008x01l5o36fjhht', 2, e'locate and locateLocal now return /symroots + filename


git-svn-id: svn://svn.chromium.org/blink/trunk@388 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-26 19:02:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/927b996b8408aa23c136a378aaa7fc6247f3f27f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008y01l58465i4jn', 2, e'This is a fairly bit set of changes that improves rendering.


git-svn-id: svn://svn.chromium.org/blink/trunk@387 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-25 23:01:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c06acc45113362cc8cb67efc2242961156cacf1e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz008z01l5tqxzw5qp', 2, e'Fixed qdict-test.chk


git-svn-id: svn://svn.chromium.org/blink/trunk@386 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-24 18:31:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/54e06a27ebbac25722460ce7d5ac18a9bff4ec4f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz009001l5nzit3xrc', 2, e'Fixed bug in setCurrentDate


git-svn-id: svn://svn.chromium.org/blink/trunk@385 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-24 17:57:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1eaa0c812565d560e15d035736550ccb8b84c0d4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz009101l5u0gvy8pa', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@384 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-24 05:28:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d25df366387c46b617e23845d8d8c52eab5a8aa1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz009201l55a0g7clf', 2, e'Forgot to submit qdatetime.h for first KWQDateTime submission


git-svn-id: svn://svn.chromium.org/blink/trunk@383 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-24 03:56:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d3e444c1a05e46165115a185a0cde39dae0c559a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz009301l578uwwneb', 2, e'First submission of our implementation of KWQDateTime


git-svn-id: svn://svn.chromium.org/blink/trunk@382 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-24 03:01:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e75ac7dbb9ca0462186e7eb93562cb2cccdb1c34');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz009401l51nwbkc4f', 2, e'Commented out QDateTime from the borrowed classes


git-svn-id: svn://svn.chromium.org/blink/trunk@381 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-24 03:00:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b02f8c0e631326f6e564c94c7c9c1e54bdbf741c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz009501l5ldyqhcx0', 2, e'Fixed qdatetime tests


git-svn-id: svn://svn.chromium.org/blink/trunk@380 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-24 02:18:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/98356ac3f084107daaf8f13a374c4dc9d752cca0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz009601l55j0to6jq', 2, e'Added


git-svn-id: svn://svn.chromium.org/blink/trunk@379 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-23 15:44:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/02f4db850daa772ff596655d510b5b1704099cba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz009701l5cc00hkb6', 2, e'A numer of changes that (hopefully) move ahead our efforts with
rendering. This set of changes includes:
	- More fully implemented colors, color groups, and palettes
	- Re-worked constructors that create fewer temporaries and
	  eliminate problems with some attempts at assignment
	- An implementation of QRegion
	- Tweaks to the html view and the html part


git-svn-id: svn://svn.chromium.org/blink/trunk@378 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-23 15:24:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5e78d2e06d8c06aa332b70e3aa09973bc396e588');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlmlz009801l5d12ka9yj', 2, e'Lots of stuff to get WebViewTest to run.


git-svn-id: svn://svn.chromium.org/blink/trunk@377 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-20 03:19:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/22d01327f0cad617ac0a05a45c827d2fa01f4fae');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007l01l5mko0a5q4', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@376 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-19 21:33:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4798b91af2b49f1e853986acdc70a712b2ec721a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007m01l5bfvitg1e', 2, e'Fixes for getting WebViewTest running.


git-svn-id: svn://svn.chromium.org/blink/trunk@375 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-19 18:22:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1df5eaac7576f9480486f249320ec4f2d8976464');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007n01l5ju2nls91', 2, e'Removed a release temporarily.


git-svn-id: svn://svn.chromium.org/blink/trunk@374 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-19 16:54:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ec36a1b0067af083ba4248eb7f21bfe4eefca413');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007o01l5sm1h83u7', 2, e'More hacks to get the borrowed qstring to work


git-svn-id: svn://svn.chromium.org/blink/trunk@373 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-19 14:45:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/53d0524772d7912f4d02fe1c8c3ac2636a6bada4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007p01l5qfo618aj', 2, e'Fixed inadvertent horkage by rjw


git-svn-id: svn://svn.chromium.org/blink/trunk@372 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-19 14:23:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dc3333825da6f91b9ff9cc695e6f0779a9ca9722');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007q01l52at8a052', 2, e'Hacks to get khtmlview test to run.


git-svn-id: svn://svn.chromium.org/blink/trunk@371 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-19 05:28:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b9609b31132a2846cd7f390cea3fa09e686ff390');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007r01l58rhrnxkh', 2, e'Chnages (hacks) to get khtmlview test to run.


git-svn-id: svn://svn.chromium.org/blink/trunk@370 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-19 03:50:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cfceea53a55ecfc69194d14ded2a35f1bc003a19');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007s01l549b6wahu', 2, e'Disable when using borrowed qstring


git-svn-id: svn://svn.chromium.org/blink/trunk@369 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-19 01:40:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff449dc1da06cfcd434e29e413b796ce29c66369');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007t01l5xwimwly9', 2, e'Fixed stupid signed arithmetic bug in mid


git-svn-id: svn://svn.chromium.org/blink/trunk@368 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-19 01:38:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/704c29abf1896bfd934f95c475fa098c18774f8a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007u01l5pp1tji36', 2, e'Added support for efficiently handling requests for the same uri
by more than one client


git-svn-id: svn://svn.chromium.org/blink/trunk@367 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-18 22:19:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/787bbd02beba7582bee3d5e8861f8004f8a41602');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007v01l5ncekyh25', 2, e'nother checkit


git-svn-id: svn://svn.chromium.org/blink/trunk@366 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-18 21:28:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/28e5793ba647be4b4c446471ddae3b066fcea9ca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007w01l5rnh4hj4p', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@365 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 21:25:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a606612005bc7e62568bf80bdd36011576cefd39');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007x01l5tgzj4zuz', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@364 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 21:11:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6d34876df4d3028c278274ca578c4e95daa6bcf6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007y01l5jzvxcsgi', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@363 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 21:08:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4bb80802cff02e329dd911d080e21df9b4e5c75a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2007z01l5d6hs0wht', 2, e'Added classes to get past drawing problems.


git-svn-id: svn://svn.chromium.org/blink/trunk@362 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-18 21:08:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f23caceeb590513e23a34bfaef18b6c5a7130d21');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008001l58caohg4m', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@361 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 21:07:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ce258ed1c642adaa8300dd2b6198fee07b0231c6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008101l5pbjhr0dx', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@360 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 21:02:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/45fdcf96b10a07f638fb027d655a03cda592aaf3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008201l5ayg9as6a', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@359 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 18:13:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8069dfacf31ccfaac04d9c95e9faa338ed605ecc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008301l50hc61gqz', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@358 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 18:07:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3aaba45a1a59e1d0ba671ce98d3e0831080aa2cf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008401l5gm9hgrhc', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@357 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 18:02:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8705123dc4a3fea7a962738a9e97463b3f84b246');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008501l5b4wv19aw', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@356 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 17:57:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7c83af2d90e4ebd7f3b403b95a61baf989027796');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008601l5g45zfexw', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@355 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 17:54:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f86f2ee727acd96f7df4d84f306cc53c175a58ad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008701l5b0ekmzmz', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@354 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 17:47:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/774a6a9885a84318a6d1365899739495ea7a7e34');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008801l5uyvw0rn6', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@353 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 17:44:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/060300bc3f265a8899740278d09480d5e2d28a95');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008901l5nudnsg6v', 2, e'File should not have been checked in


git-svn-id: svn://svn.chromium.org/blink/trunk@352 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-18 17:30:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/462be0f8e9253f50a1c46a4cc0f17613f89caf22');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008a01l5ylsuckt2', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@351 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-18 17:20:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2f41edbbf87dcf8e49b784a6eb8593940c436ece');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008b01l506iea3zy', 2, e'Stubbed in a few functions


git-svn-id: svn://svn.chromium.org/blink/trunk@350 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-18 00:43:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a82437b9c1ae16da25a66552994565fcf3b44232');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008c01l5yqdlvh30', 2, e'First attempt at a real implementation


git-svn-id: svn://svn.chromium.org/blink/trunk@349 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-17 23:21:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/57a6f24ecfd190424177546850636710d3cb8fcf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008d01l5bd355j72', 2, e'Fixed the codecForName breakage


git-svn-id: svn://svn.chromium.org/blink/trunk@348 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-17 23:20:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/829e72dc54d7aa1ea66a925830f19f86aa7658a5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlkl2008e01l5taybf7eh', 2, e'Whacky hacking to try to get the system to start chomping on data loaded
from the network


git-svn-id: svn://svn.chromium.org/blink/trunk@347 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-17 21:51:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/320b7b22aaab43d4f9867c6d6c3fe2d6c4db07b8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai006r01l5f8bm9p7p', 2, e'Make the constructor use a CFStringEncoding type


git-svn-id: svn://svn.chromium.org/blink/trunk@346 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-17 20:16:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/11d0ff6600b5d26554f6380587c152235b7eeabb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai006s01l5s3ag143z', 2, e'Anal-retentive tweaking


git-svn-id: svn://svn.chromium.org/blink/trunk@345 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-17 20:14:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cb55cf5eef2e7626122886638afd26a9caa8fe73');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai006t01l57r03s846', 2, e'First attempt at a real implementation


git-svn-id: svn://svn.chromium.org/blink/trunk@344 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-17 20:02:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/61957a20d8d7b460d84cdf07acb3d2f4e511ddee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai006u01l55jrpd2qj', 2, e'Added fromStringWithEncoding for QTextCodec implementation


git-svn-id: svn://svn.chromium.org/blink/trunk@343 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-17 20:01:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/87b67e57dccd3ef58aafea112d14c2ee63731ddf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai006v01l56z5f4mtv', 2, e'Updated project so that its include paths are less screwed up than before


git-svn-id: svn://svn.chromium.org/blink/trunk@342 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-17 18:55:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0200ad2adb97bbbc589a930305fad0e0d05c0aaa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai006w01l57gkcvhme', 2, e'Unscrewed up the project by re-adding files that mysteriously disappeared


git-svn-id: svn://svn.chromium.org/blink/trunk@341 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-17 18:49:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6ae24739a1b146d3136cdfa8a23451b90d43e931');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai006x01l59sryc1br', 2, e'Added WebCore include directory to header search path


git-svn-id: svn://svn.chromium.org/blink/trunk@340 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-17 18:43:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8bf834db9a369651f35e719ef1f1c12bf774d9a1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai006y01l5hw24qzuk', 2, e'I\'m a dope, and had been checking in all these changes to the repository on my local disk. Here is an update for the "real" repository.


git-svn-id: svn://svn.chromium.org/blink/trunk@339 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-17 13:56:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/973d9fd89c3b41b222e47ed9eead0b1c0a9a2e32');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai006z01l51nx9dydr', 2, e'More comments.


git-svn-id: svn://svn.chromium.org/blink/trunk@338 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-16 23:29:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8889b7414812ecde824aa6c757d72f6fd25645cc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007001l5vqcsuk9v', 2, e'Now executes perl scripts with an explicit perl invocation rather than
relying on them to be executable


git-svn-id: svn://svn.chromium.org/blink/trunk@337 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-16 22:26:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3a4173a29b92bb6b38e375f35ebc8d6feed7c651');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007101l5pyqmlb5n', 2, e'Removed dependency on whacky objective-C internals


git-svn-id: svn://svn.chromium.org/blink/trunk@336 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-16 22:22:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d0c2089241962fb320997d031d8f22056bf4b880');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007201l54udvxd7l', 2, e'More changes for the new build system


git-svn-id: svn://svn.chromium.org/blink/trunk@335 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-16 22:14:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3e0bef56ff009724625545eb778a5abc67ef3f95');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007301l539rsg592', 2, e'I have made substantial changes to the build environment in WebCore, specifically to the way we link our code. The main improvement is that we now build a single library, called libwebcore.dylib, for the whole source tree.


git-svn-id: svn://svn.chromium.org/blink/trunk@334 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-16 22:10:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/edd7669cc8bb75218b594f66e6e25f14ed9c738f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007401l5bgiprfpd', 2, e'Fixed comments, again.


git-svn-id: svn://svn.chromium.org/blink/trunk@333 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-16 22:04:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/69db6d324391fcfd065157e6c9f4b306e89e3bdd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007501l5vimo8lr3', 2, e'Fixed comments.


git-svn-id: svn://svn.chromium.org/blink/trunk@332 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-16 22:00:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e51dd5e52cbb8a01d27810325ac058ae531557de');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007601l52ozk9sqy', 2, e'Implemented KWQTextArea that has all the functionality we need for the <TEXTAREA> widget.  KWQTextEdit.mm emulates the kde/Qt APIs and passes call through to KWQTextArea.


git-svn-id: svn://svn.chromium.org/blink/trunk@331 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-16 21:58:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/731089d8ac975fb79fcd571b5c0be920afd94483');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007701l54kxminwr', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@330 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-15 23:37:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aabe94fa0681a750e9203f84b1dab97c7d998d9f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007801l5e4ix3zta', 2, e'qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@329 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-15 22:31:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5301cb5c234d002d104629b32c09ba010d2e8a21');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007901l5yos4vppc', 2, e'Modified the stubs so they won\'t actually explode for now


git-svn-id: svn://svn.chromium.org/blink/trunk@328 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-15 19:27:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e397f5def292d466d4183687fdfc5e3abd9f861d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007a01l5vfgokgow', 2, e'Added partially implemented log and did some tweaking


git-svn-id: svn://svn.chromium.org/blink/trunk@327 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-15 19:26:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2c10e4b8ca9c6068dfc162ff37e113ac5567289c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007b01l5ed5uiroe', 2, e'Changed ref to draw.mm to Project Relative


git-svn-id: svn://svn.chromium.org/blink/trunk@326 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-15 19:26:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b3ff4e5e668e20bfdeedccf464b920493a2dd8ac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007c01l5z83o05ks', 2, e'More work on KWQKHTMLPart <--> WebViewTest integration


git-svn-id: svn://svn.chromium.org/blink/trunk@325 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-15 18:31:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/166f59070d37b42d200234fb919e7146c49000cf');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007d01l5u6fnlpf8', 2, e'Changes that help to make the WebViewTest work


git-svn-id: svn://svn.chromium.org/blink/trunk@324 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-15 18:04:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fc549aa32db70dcdb89576bce821d563df117663');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007e01l5a63wwhit', 2, e'WCURICacheClient.h is obsolete, removed include


git-svn-id: svn://svn.chromium.org/blink/trunk@323 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-15 16:37:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/11b27a63010b1ce2f70ee55928f9b0d922a7735d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007f01l5i18jw4ee', 2, e'Changes and additions to make the WebViewTest work, and to begin
the process of bringing WebCore and WebKit together


git-svn-id: svn://svn.chromium.org/blink/trunk@322 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-15 14:23:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2c5ca0938fe7fb179a943b28c61fe7a299be27a4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007g01l5hhujjew1', 2, e'Added .cvsignore file


git-svn-id: svn://svn.chromium.org/blink/trunk@321 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-15 14:19:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c09585251a471f07399d4e8a323bc60e5742e00e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007h01l572kq5y1p', 2, e'Implemented NSString conversion macros


git-svn-id: svn://svn.chromium.org/blink/trunk@320 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-13 01:07:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7afc7b2f23d989b4535b6d4a9d92b76a45264629');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007i01l5q0rod21v', 2, e'Fixed compile brain damage.


git-svn-id: svn://svn.chromium.org/blink/trunk@319 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-13 00:18:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/154d9ca964adab5ee86916df4f2d333dec19a831');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007j01l5ff2j3dhl', 2, e'More operator overloading and numerics hell (so just shoot me)


git-svn-id: svn://svn.chromium.org/blink/trunk@318 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-12 23:36:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/367e1aae610353a75437f30bd88115c28cc7d716');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnliai007k01l5u0ql7gwi', 2, e'Added textfield to support input type password and maxlength attribute.
Implemented the button types and combobox
.


git-svn-id: svn://svn.chromium.org/blink/trunk@317 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-12 20:02:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cbe22d5e079e3a9d7a4ae1ef2bf01f5bbd89b42b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym005x01l5e7qmsqt5', 2, e'Re-enabled several tests


git-svn-id: svn://svn.chromium.org/blink/trunk@316 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-12 17:02:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b75affc170a7df9619ed3e2b9ef70581c8ba7b57');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym005y01l5hyz91i3h', 2, e'Ignore the generated Makefile


git-svn-id: svn://svn.chromium.org/blink/trunk@315 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-12 15:37:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8664ec7d9c379e28eb1070f6cff84447ae1e00b8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym005z01l5i29rokbu', 2, e'Removed generated file


git-svn-id: svn://svn.chromium.org/blink/trunk@314 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-12 15:30:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6d524d6f9a2ba14d27de8f8b1c0197ee82992e18');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006001l5tuc3c05l', 2, e'Disabled borrowed QString


git-svn-id: svn://svn.chromium.org/blink/trunk@313 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-12 01:55:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/be1334517aa2aeda8d5517b268078cf810554894');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006101l58t7fnss6', 2, e'Re-factored integer conversion code and other changes


git-svn-id: svn://svn.chromium.org/blink/trunk@312 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-12 01:54:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4d37a0b9fff4c66fd7835a7dac437c1db62f7bc1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006201l57klkdkfj', 2, e'Added support for QButton.


git-svn-id: svn://svn.chromium.org/blink/trunk@311 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-11 23:29:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6c95a7660fe9efb3ec4ecffa56a670fe6bdaebe1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006301l5t1h35w9o', 2, e'Fixed brain damage due to my changes re: id -> _id.


git-svn-id: svn://svn.chromium.org/blink/trunk@310 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-11 21:30:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6ba7b099bd8b4a880cdddedd77b7e0f148796662');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006401l569gbstjs', 2, e'Redefine Fixed around include of Cocoa.h for build voodoo


git-svn-id: svn://svn.chromium.org/blink/trunk@309 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-11 01:52:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d3b02f17ef4898fd513facabd682761c166d1a4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006501l5jq56ut4z', 2, e'Replaced incorrectly formatted license


git-svn-id: svn://svn.chromium.org/blink/trunk@308 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-11 01:17:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dfdab47a86a8219aba0354816c90bdf309a599ad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006601l5o4p5qfqe', 2, e'Added some comments to openURL.


git-svn-id: svn://svn.chromium.org/blink/trunk@307 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-10 22:00:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/777bc20ae98bea9fdae74b3e3c50fa37ff57850c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006701l5byflw1k8', 2, e'First add of files for project


git-svn-id: svn://svn.chromium.org/blink/trunk@306 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-10 17:45:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f259430b45ef33ff3ffe87f08f5f6b9aae7a36ca');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006801l5c3algu84', 2, e'Needed to add -lkde to link line.


git-svn-id: svn://svn.chromium.org/blink/trunk@305 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-10 01:59:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d034a927a3dbad9e2f9c0c20f475877809331ac3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006901l50p76nrdp', 2, e'Added debugging to more stubs.  Added implementation of write() to KHTMLPart.


git-svn-id: svn://svn.chromium.org/blink/trunk@304 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-10 01:56:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/eb8d6d10ecfe6af108f3a2a05a2884725ddc63c1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006a01l59lklfegs', 2, e'Added debugging to stubs.  Cleaned up test program.


git-svn-id: svn://svn.chromium.org/blink/trunk@303 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-08 22:56:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73130f786aba79f353e97d7c29fbc97e6b81a098');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006b01l5ocwfha4d', 2, e'Changed owner of htmlview test app nib.


git-svn-id: svn://svn.chromium.org/blink/trunk@302 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-08 21:09:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2c8ea7cdfb8db173ae637096f4c21f8b10dff453');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006c01l5i81q222z', 2, e'More stubs.


git-svn-id: svn://svn.chromium.org/blink/trunk@301 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-08 20:25:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7958fc4787f7ffde1975504e75f5b726e3acda89');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006d01l5q2id5t0f', 2, e'Remove older file


git-svn-id: svn://svn.chromium.org/blink/trunk@300 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-08 18:45:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f690d2b2a1ff9487b3b10207077e04113ad28b7f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006e01l56iplci2u', 2, e'More stubs.


git-svn-id: svn://svn.chromium.org/blink/trunk@299 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-06 02:04:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/de03ddae879a6a987bc414ae4ccc3b8fefd2209b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006f01l5ru7oe9l7', 2, e'Fun with operator+


git-svn-id: svn://svn.chromium.org/blink/trunk@298 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-06 01:51:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/79ddb1dc066b3012354a0b57b59e1cbafa5ff093');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006g01l56enxlkw7', 2, e'Fun with numerics


git-svn-id: svn://svn.chromium.org/blink/trunk@297 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-06 01:11:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/df767d273acafb434861783d63630bdcfbf8e38f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006h01l529ajurce', 2, e'More stubs.


git-svn-id: svn://svn.chromium.org/blink/trunk@296 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-06 01:03:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/55dfa4b401015bf79a102d9b7dda361cdb17a3b6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006i01l5qkk127ip', 2, e'More stubs.


git-svn-id: svn://svn.chromium.org/blink/trunk@295 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-06 00:12:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/869b2ac5110a0c26c198f5e558881aa025481c91');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006j01l5wj9kqui7', 2, e'More stubs.


git-svn-id: svn://svn.chromium.org/blink/trunk@294 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-05 23:12:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/05f58fb369aeff92df836bdd3969d63338c817c6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006k01l5tda6zhad', 2, e'Fixed padding bug in arg


git-svn-id: svn://svn.chromium.org/blink/trunk@293 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 21:16:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/74c78e55bf526fff521790e311c1b484265b3129');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006l01l5argi3kow', 2, e'More stubs.


git-svn-id: svn://svn.chromium.org/blink/trunk@292 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-05 20:55:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0fb9be76405257bbc30b3251f779b446982b10b9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006m01l50ssskdk3', 2, e'Fixed stupid off-by-one bug in findRev


git-svn-id: svn://svn.chromium.org/blink/trunk@291 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 20:43:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff169962ea133939f32581aea1a79561d765ccc4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006n01l53djlmrva', 2, e'Use kCFAllocatorNull for contents deallocator


git-svn-id: svn://svn.chromium.org/blink/trunk@290 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 20:10:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ed43d14c0360f002e13f7af5b2cf32dde391277a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006o01l5v9l3jocg', 2, e'Completed implementation


git-svn-id: svn://svn.chromium.org/blink/trunk@289 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 18:58:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5f3bbd7f381018020c2b140a29325d416e8de4ba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006p01l51oc1hm74', 2, e'Implemented fill


git-svn-id: svn://svn.chromium.org/blink/trunk@288 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 18:07:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bec3b15e1fd0248968678b5c43ef114985f8436d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlfym006q01l56h5oefuw', 2, e'Fixed possible bug in replace


git-svn-id: svn://svn.chromium.org/blink/trunk@287 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 17:21:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/25c96ce6f8031b157cb0190ea90f1e04ec7ed834');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxd005301l5d7nnzub0', 2, e'Implemented replace


git-svn-id: svn://svn.chromium.org/blink/trunk@286 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 17:17:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/59d9a82380b14f2d913422b6a5a3b4a6fa5007d7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxd005401l5icyj1g40', 2, e'Implemented truncate


git-svn-id: svn://svn.chromium.org/blink/trunk@285 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 16:36:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3ff076246b05fb60e0d6526428125e00d3558e3c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxd005501l5ps7hagb1', 2, e'Implemented remove


git-svn-id: svn://svn.chromium.org/blink/trunk@284 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 16:28:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/67d9ea5b095bb41304c66b4ba9329d7a99b3e347');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxd005601l57rpg9h0n', 2, e'Implemented sprintf


git-svn-id: svn://svn.chromium.org/blink/trunk@283 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 16:14:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15d6d43decc73518fc358f09db48e76af306aa79');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxd005701l5wl9bkt32', 2, e'Added leftRight and re-wrote stripWhiteSpace and simplifyWhiteSpace


git-svn-id: svn://svn.chromium.org/blink/trunk@282 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 15:38:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15db2323416eee2f571c0022263dff8ec336d568');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxd005801l50vdfpp5x', 2, e'Added private leftRight function


git-svn-id: svn://svn.chromium.org/blink/trunk@281 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 15:37:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6601367f50a8f6d1a69d1ecb3675741d25cc2440');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxd005901l5bm90n039', 2, e'More stubs.  Created a khtml_settings in kwq.


git-svn-id: svn://svn.chromium.org/blink/trunk@280 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-05 03:01:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e2f3210bb3b0720ce1c30627110ade8daf86de41');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxd005a01l5ot9elx4o', 2, e'Still more implementation


git-svn-id: svn://svn.chromium.org/blink/trunk@279 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-05 02:12:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7884be2be1c6cfde0f20feed190dbf5329e3ab21');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxd005b01l5zqigdvyy', 2, e'More stubs.


git-svn-id: svn://svn.chromium.org/blink/trunk@278 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-05 01:18:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d24f58099cb6e2b43e8ec74c7b4e1cdd2e3ac2b0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxd005c01l5o1ow6p2j', 2, e'Added khtml_events.cpp.


git-svn-id: svn://svn.chromium.org/blink/trunk@277 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-05 01:17:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/41361b56e776e7932fbae8c70e1546722aa5e5f8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxd005d01l56iqf9q79', 2, e'More stubs.


git-svn-id: svn://svn.chromium.org/blink/trunk@276 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-05 00:28:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5b0c4731f42db8de9d50ccd20893d976b9fa9e05');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005e01l5itd7pn8z', 2, e'Added some warnings for unimplemented functions via NSLog


git-svn-id: svn://svn.chromium.org/blink/trunk@275 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-04 17:45:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73e9313182126d36c70b5a717f49424bc7b9e005');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005f01l55udbduhr', 2, e'A few tweaks to compose and visual functions


git-svn-id: svn://svn.chromium.org/blink/trunk@274 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-04 17:27:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0987c6af9179f03bb0442fa62b18f823876738fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005g01l5s5q1aldd', 2, e'Replaced stupid usage of __CFStringMakeConstantString


git-svn-id: svn://svn.chromium.org/blink/trunk@273 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-04 15:59:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a3c7414f66fbc9ad19a82f2871971e382f33dd4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005h01l5g5hvjcee', 2, e'Fixed a few bugs from previous checkin


git-svn-id: svn://svn.chromium.org/blink/trunk@272 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-04 15:11:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/408a1c8f3ff1085c2252df846639df129445cc08');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005i01l50jtw8gen', 2, e'More stubs...
?\\004


git-svn-id: svn://svn.chromium.org/blink/trunk@271 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-04 03:10:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/63e7f8d00afe582ecc186cb23530ae574a91f3f2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005j01l5dxt0p1ow', 2, e'Many changes


git-svn-id: svn://svn.chromium.org/blink/trunk@270 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-04 03:08:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/826566982781d446888d2b82dbdbf8aab7b2511b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005k01l5dujw0gbu', 2, e'Stubs added.


git-svn-id: svn://svn.chromium.org/blink/trunk@269 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-04 02:02:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1d817353ffcc439ff07da5965e65ee1203947c63');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005l01l5duzi7b97', 2, e'Changes to make libkde.a
.


git-svn-id: svn://svn.chromium.org/blink/trunk@268 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-04 01:37:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0dd5501660717377360e883e13b9a6d2ec870f94');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005m01l5dfsu1efp', 2, e'Changes to make libkde.a


git-svn-id: svn://svn.chromium.org/blink/trunk@267 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-04 01:36:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/09a3ce2e27313f7250bad9f595624ed536bf52ec');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005n01l5nil54xfc', 2, e'Simple linkage test app.


git-svn-id: svn://svn.chromium.org/blink/trunk@266 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-04 01:23:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6b55938f9a4a551a17714fc6e32ecf9f67ca5e54');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005o01l5bsui9vj0', 2, e'New stubs for widgets.


git-svn-id: svn://svn.chromium.org/blink/trunk@265 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-04 01:21:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/efee702097af7b9f1a37f1e958ea4c2fdcdee1bc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005p01l56zo7hd3c', 2, e'Making a small change to test jersey


git-svn-id: svn://svn.chromium.org/blink/trunk@264 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-04 00:24:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4220ad4419b27993e7b1e9c88d09644dc1a599ee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005q01l5ml1h0vy5', 2, e'Making a small change to test jersey


git-svn-id: svn://svn.chromium.org/blink/trunk@263 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-10-03 23:39:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e11eab0d3a1b2cf7c4d66184d9589327bc2bb218');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005r01l57dmj0xir', 2, e'Added -f-no-coalesce-static-vtables.


git-svn-id: svn://svn.chromium.org/blink/trunk@262 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-03 22:02:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4a6b8599aae7d0da63ff9d0e0fee5d6b87c4f6e9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005s01l5e7dfwwl3', 2, e'Simple script to make libkde.a


git-svn-id: svn://svn.chromium.org/blink/trunk@261 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-03 21:31:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b564bd571324bab7fe5230c6399b2428b8beb48c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005t01l5zmx15o9o', 2, e'Added some comments about \'struct KWQFontData\'.  We may remove this data
struct in the future if not needed to save malloc/free.


git-svn-id: svn://svn.chromium.org/blink/trunk@260 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-03 20:29:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a1cfba5411868f63869f8895db5a869012a24898');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005u01l59a31ee27', 2, e'Added isNumber function for khtmlview.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@259 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-03 19:08:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/529e55db534abec463d9df88e05373d9d3dbeadd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005v01l5a3bwxd4i', 2, e'Fun, fun, fun with operator overloading


git-svn-id: svn://svn.chromium.org/blink/trunk@258 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-03 17:38:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/98e342763747241ff1e8682de536997ec26195dd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnldxf005w01l55mtdi750', 2, e'More implementation, comments, and fixes for operators


git-svn-id: svn://svn.chromium.org/blink/trunk@257 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-03 17:38:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fcecf51033d7bfa12d3a96db088ed58a815aad43');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblg004901l5358wpl24', 2, e'Commented out some more tests we don\'t implement


git-svn-id: svn://svn.chromium.org/blink/trunk@256 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-03 17:35:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/90063e95c0b5a666f4316e61248b7dce6fdb6afe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblg004a01l5w1qvrs82', 2, e'Header for our version of KHTMLPart.


git-svn-id: svn://svn.chromium.org/blink/trunk@255 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-03 01:38:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b101ed0b3cfead942e61c43617f18161f3a81471');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblg004b01l5mk28wnn8', 2, e'This file now references out KWQKHTMLPart header.


git-svn-id: svn://svn.chromium.org/blink/trunk@254 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-03 01:37:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bd1d95289c63cfd90f19ec2d419bce98309654dd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblg004c01l51x71fh9n', 2, e'More implementations


git-svn-id: svn://svn.chromium.org/blink/trunk@253 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-03 01:27:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0fa849d20537a738672acafab55315322d63873f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblg004d01l5y8ymzy96', 2, e'Changes and additions to support compiling src/kdelibs/khtml/khtmlview.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@252 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-02 23:27:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/85ca512dfc598556b63c2101ff2ba48224763c77');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblg004e01l5iezudz75', 2, e'Changed fromLatin1 prototype


git-svn-id: svn://svn.chromium.org/blink/trunk@251 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-02 23:13:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ff41a92e2518eef7a41cc5f5811b7268bcb0e1fb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblg004f01l57r3rbiv5', 2, e'Implemented fromLatin1, utf8, and local8Bit functions


git-svn-id: svn://svn.chromium.org/blink/trunk@250 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-02 23:13:15.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73e08d7825d0c93ff9c6a988bba76aba9df71e66');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblg004g01l57mog7fen', 2, e'Files to emulate portions of KHTMLPart.


git-svn-id: svn://svn.chromium.org/blink/trunk@249 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-02 22:27:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/244415a1998cdeceda03ea6095b29e3b06fb3e4b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblg004h01l550dkdrdj', 2, e'Added KWQKHTMLPart.[h|mm]


git-svn-id: svn://svn.chromium.org/blink/trunk@248 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-02 22:26:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/be7dff15774085c0227315f5edea2545ead53a29');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004i01l5n7tv6erp', 2, e'Massive implementation and reorganization


git-svn-id: svn://svn.chromium.org/blink/trunk@247 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-02 21:50:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/060b85421a9b2ce3476c50cfb7cb23bab14fbd1e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004j01l5053zaxpo', 2, e'Use kCFAllocatorDefault instead of NULL and added QChar::null


git-svn-id: svn://svn.chromium.org/blink/trunk@246 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-10-02 21:49:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3e13f1ad571301edb9070f5f781a82cc147e1757');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004k01l5xkicj855', 2, e'Added *.moc


git-svn-id: svn://svn.chromium.org/blink/trunk@245 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-02 21:21:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/caff673d906560d31cf5902dc671e836222f0c83');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004l01l567nkz180', 2, e'Added directory to the build


git-svn-id: svn://svn.chromium.org/blink/trunk@244 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-02 21:21:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d119e678855218397a000d90447a2bced235258');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004m01l5qvkvxvjg', 2, e'Remove stupid foo in resource.


git-svn-id: svn://svn.chromium.org/blink/trunk@243 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-01 20:37:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0501752163042d607f6f9e25f4bc491c777558e3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004n01l5dm6sz5zk', 2, e'Moved some functions and their definitions, and marked them as only
needed when compiling with USING_BORROWED_KURL


git-svn-id: svn://svn.chromium.org/blink/trunk@242 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-01 18:02:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d1da0a398782bdd01d99aff01ef030e7fbbb2b1e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004o01l59qlnb5qa', 2, e'Added additional methods for text drawing.
Fixed problems with qnamespace.h enumurations.
Added more text tests to draw.mm


git-svn-id: svn://svn.chromium.org/blink/trunk@241 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-10-01 17:55:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3d9a743c3155904e740e2ebe808816d3d381fd7f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004p01l50zdkfyl3', 2, e'Additions to this interface to support using borrowed KURL.
Also modified several interfaces to bring into line with with the "real"
QString has, due to the fact that the similar, but slightly different
interfaces caused some problems when the compiler tries to choose an
overloaded function.


git-svn-id: svn://svn.chromium.org/blink/trunk@240 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-01 16:46:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/36b0caeeb0791c2c0089964b54df99db3e916e24');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004q01l5vk0wokb0', 2, e'Build fixes, primarilt focused on getting KURL and QStrList to work.


git-svn-id: svn://svn.chromium.org/blink/trunk@239 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-01 15:40:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d8c51868988109f076b223b2b730c961133124c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004r01l5qg0h0jq2', 2, e'Updated to add /src/kwq/kde directory


git-svn-id: svn://svn.chromium.org/blink/trunk@238 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-01 15:30:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3f2469597f836211f24a88bac5bb51a5f8c9ce4d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004s01l529gwrmrs', 2, e'Yes I\'m a dummy ... #ifdef USING_BORROWED_QSTRINGLIST must be
#ifndef USING_BORROWED_QSTRINGLIST


git-svn-id: svn://svn.chromium.org/blink/trunk@237 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-01 15:13:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/50471d5608a16632aa66c185054607378b598096');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004t01l53us9ql5c', 2, e'Oops! unterminated `#if\' conditional in last checkin


git-svn-id: svn://svn.chromium.org/blink/trunk@236 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-01 15:12:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/87a810abd97d34605a61cabc85adb3b111a51302');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004u01l5wd73hykg', 2, e'Modified to support switchable borrowing of implementation


git-svn-id: svn://svn.chromium.org/blink/trunk@235 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-01 15:11:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fa9e12e9841d9d1e47bb8d9f92ef66cab6b1b840');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004v01l5eyda3apf', 2, e'Updated Makefile to include /src/kwq/kde


git-svn-id: svn://svn.chromium.org/blink/trunk@234 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-01 15:07:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ccb2928f3aa1d6ac0016dd0711ba1bec78ebbd95');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004w01l5przgu7b1', 2, e'Added and modified some classes in an effort to get the borrowed
KURL fully intergrated


git-svn-id: svn://svn.chromium.org/blink/trunk@233 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-10-01 14:30:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dcf106a50d4e9e63c0b09cf9d3cb97cd9a5b903b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004x01l57278fdyy', 2, e'Added hack from qstring.h to prevent Fixed, Rect, and Boolean problem


git-svn-id: svn://svn.chromium.org/blink/trunk@232 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-29 01:33:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/50cc8007280b22251f1e19a6c0e11189fa863653');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004y01l5mc8fx5v8', 2, e'Minor tweaks


git-svn-id: svn://svn.chromium.org/blink/trunk@231 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-29 01:31:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/eec16394722dc2c821375cf1229adbaf9a031114');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh004z01l5jg8s7bfd', 2, e'Temporarily ommented out some tests


git-svn-id: svn://svn.chromium.org/blink/trunk@230 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-29 01:28:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f0da5511fbf5e71f32c4f9c3f8c2cd9ad6cbc08f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh005001l5h1sxvi70', 2, e'Adding qsortedlist to test harness


git-svn-id: svn://svn.chromium.org/blink/trunk@229 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-28 23:56:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/407ea834259e224aa379a1fdc01e16b50a2bfc0a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh005101l5do6z5rqm', 2, e'Added qvector-test to test.list


git-svn-id: svn://svn.chromium.org/blink/trunk@228 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-28 23:09:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8fdd86daa00966827d3e5fb609deaa304cd532aa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnlblh005201l5vk7z78zb', 2, e'Extended qvector and qsize test


git-svn-id: svn://svn.chromium.org/blink/trunk@227 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-28 23:09:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/375f1b483d37c855fcbe361baa94d0864e0bbde1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003f01l5054akff8', 2, e'Fixed qarray-test. Extended qdate, qdatetime, qtime, qpoint and qrect tests


git-svn-id: svn://svn.chromium.org/blink/trunk@226 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-28 21:40:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d27c6c4180bc16d5a9459cf609e291125e7f4e06');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003g01l5975awyhp', 2, e'Cleaned up comments.


git-svn-id: svn://svn.chromium.org/blink/trunk@225 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-28 20:38:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e703919f1b317c54bfb11706d90857c95fb8bd85');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003h01l51vqc18vg', 2, e'Fixed minor build problems.


git-svn-id: svn://svn.chromium.org/blink/trunk@224 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-28 20:35:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/48d1d07948d4526dc67b839198c1ce775c683a76');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003i01l58v0gfgvu', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@223 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-28 20:00:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3bb18897380013bf14eabc87bea5d16b4ceaad9f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003j01l53gcvdwyx', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@222 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-28 19:45:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0e223ab08d20122eab8ee41d991512a83633acf7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003k01l5mkw666qo', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@221 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-28 19:02:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a861f1da85641dbff2608031a430fd290d94df4c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003l01l5wzi6huwx', 2, e'More QString implementation


git-svn-id: svn://svn.chromium.org/blink/trunk@220 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-28 18:20:50.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9a90ae73501adda902f62273a0d2e7d62b9bde14');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003m01l5n77fkzyh', 2, e'Added a little more error checking


git-svn-id: svn://svn.chromium.org/blink/trunk@219 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-28 18:18:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/64ec80bb257ab4e56e4196193e0a86e3390d397d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003n01l5o9xiihrm', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@218 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-28 02:36:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2cae740d9a65860995a302760be627d9517f7191');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003o01l53jxt58xt', 2, e'Files needed for rendering.


git-svn-id: svn://svn.chromium.org/blink/trunk@217 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-28 02:32:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b88fed545de1493ea08048327b23e1acd352f5de');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003p01l5zidcntpy', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@216 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-28 02:25:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8209cda11aa421c8bb39a428f7da3dbcc2b9f689');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003q01l5kqd1rl31', 2, e'Added more functions to qmap-test


git-svn-id: svn://svn.chromium.org/blink/trunk@215 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-27 22:29:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3bde8df2d4f23c6dcd9115fb14cb5e3535b69fec');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003r01l5u542rfsa', 2, e'Fixed the output for qstring-test.


git-svn-id: svn://svn.chromium.org/blink/trunk@214 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-27 22:05:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f8ecdcb0254dd632732e8080fa9d2065804b71ad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003s01l54a7xgac8', 2, e'Fixed qarray-test failure


git-svn-id: svn://svn.chromium.org/blink/trunk@213 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-27 21:02:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e5b2a39de07dc1e806d16861424ea8276c6a6c62');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003t01l53p7jgssv', 2, e'Adding remaining functions to qcstring-test. Cleaned up output.


git-svn-id: svn://svn.chromium.org/blink/trunk@212 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-27 20:57:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3f2b32b73f29f471ce26b6aa079f514589154931');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003u01l51duaguf4', 2, e'Fixes to process for switching use of borrowed strings and kwq strings


git-svn-id: svn://svn.chromium.org/blink/trunk@211 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-27 18:19:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/807c5d44bb8e5e59fab147e418ce551cf3a45b2f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003v01l55k278t7y', 2, e'Added class


git-svn-id: svn://svn.chromium.org/blink/trunk@210 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-27 17:36:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9f51c79dcc3d131a14afa4f099508e3ad2b0a05d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003w01l5flqoykdc', 2, e'This is the big mondo check-in that moves us away from the global
"KWQ complete" methodology of incorporating our own KWQ-implementations
of Qt/KDE classes, and moves us to a granular "using-borrowed" method.
This will give us much more control over switching to new KWQ classes
as they become available to replace those already provided by Qt/KDE.


git-svn-id: svn://svn.chromium.org/blink/trunk@209 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-27 17:35:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9a45dc3cfa1a2bd2cba466e573c985ef3d0a1965');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003x01l57hskliyt', 2, e'Added more functions to qvaluelist-test. Fixed dict tests


git-svn-id: svn://svn.chromium.org/blink/trunk@208 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-26 23:15:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0585c84812db2442d90b33b9c34e4c83fbdb2951');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003y01l5p1z0uix7', 2, e'Removed append from qptrdict.h


git-svn-id: svn://svn.chromium.org/blink/trunk@207 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-26 22:25:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d452d0b1323c75c3ac6cf2fedc570fecd9a321e0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41003z01l544gvz4ja', 2, e'Removed append from qptrdict.h


git-svn-id: svn://svn.chromium.org/blink/trunk@206 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-26 22:24:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/95eb24aee200af92df7c46f7bd3a11143e280713');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41004001l5q3v0sfo9', 2, e'Added take, clear, count and = methods to qptrdict-test


git-svn-id: svn://svn.chromium.org/blink/trunk@205 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-26 22:21:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/35f8a7f6ab718561c308a9a851196a5132e1b9c9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41004101l5z5ywcfd0', 2, e'Removed at from qptrdict.h as it doesn\'t belong there


git-svn-id: svn://svn.chromium.org/blink/trunk@204 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-26 21:58:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4743166c758edf7809b9c1b9d9b8996cb1b0b8d2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41004201l5c2l7jar8', 2, e'Added tests for isEmpty, cleaned up output for qstack-test


git-svn-id: svn://svn.chromium.org/blink/trunk@203 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-26 21:07:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/285c9dfdfe76839dc2aa7456a84dede406b76ab7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41004301l59ks0b41t', 2, e'Added tests for count, sort, at insert, remove, current, last, first and more to qlist-test


git-svn-id: svn://svn.chromium.org/blink/trunk@202 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-26 20:26:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fe9646c3dd0d513dea784d6622ccee1009e03e86');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41004401l509fsaqft', 2, e'Added tests for count, = and clear methods to qdict-test.


git-svn-id: svn://svn.chromium.org/blink/trunk@201 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-26 18:06:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f588b35467a253d61304bade9d780f513e76ec5d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41004501l5d5zfcxqo', 2, e'Added tests for at and duplicate to qarray-test. Commented out uneccessary tests.


git-svn-id: svn://svn.chromium.org/blink/trunk@200 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-26 17:49:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/630295288542ff0d27c99c496d9b0804ae9d1fa0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41004601l5lgv7eh3t', 2, e'Reduced scope of test to what is actually implemented in KWQChar.mm


git-svn-id: svn://svn.chromium.org/blink/trunk@199 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-26 01:54:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/97a79b5aebcb294f2753ced0b05b24cf4c3622ce');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41004701l58zmi0i83', 2, e'Added more functions to qarray-test


git-svn-id: svn://svn.chromium.org/blink/trunk@198 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-26 00:03:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6271404a8968a0c79f332f83a8d981d19cc19f3d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnla41004801l54wyv0uya', 2, e'Now works with -disable-kwq-complete


git-svn-id: svn://svn.chromium.org/blink/trunk@197 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-25 23:46:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2f243c7b168f3d76aa7f95217ea2d79e258007f1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002l01l5wosa3j9f', 2, e'Removed KWQFile.o from object list


git-svn-id: svn://svn.chromium.org/blink/trunk@196 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-25 23:34:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3967d14e5d3bd47a9e4b8a4a7043d20c3d16d9e2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002m01l552fq2k8k', 2, e'Added support for QFile.
This involved bringing over more files from Qt, and adding
some special voodoo to configure for sys/stat.h


git-svn-id: svn://svn.chromium.org/blink/trunk@195 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-25 23:17:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ed76cf5eacb0a6e8c6c0dfb9dbc5c07df275037b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002n01l5lwnmz09l', 2, e'Adding more functions to qstring-test


git-svn-id: svn://svn.chromium.org/blink/trunk@194 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-25 22:28:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/3d989d1e4307e426a762b41a2c73f11fa6090aeb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002o01l5q9ovbw7p', 2, e'Fixed qstring-test.chk


git-svn-id: svn://svn.chromium.org/blink/trunk@193 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-25 17:30:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8aad9f00a935f93f5bcc4c3b0b2839856adc43ba');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002p01l55sjr0zmm', 2, e'Adding qstring-test to the list of tests


git-svn-id: svn://svn.chromium.org/blink/trunk@192 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-25 17:16:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/387b6de98c1426e74789d151e2c29b0a0416bf31');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002q01l5qdye4quq', 2, e'Added more tests


git-svn-id: svn://svn.chromium.org/blink/trunk@191 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-24 23:36:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/027127d25498937f5cb44924bc8ebff832cdcc39');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002r01l52ivuuko7', 2, e'Added more tests and modified existing ones


git-svn-id: svn://svn.chromium.org/blink/trunk@190 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-24 23:27:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/048a307d955ab40090bae4bdc8bc3944f54498cb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002s01l5l4e0ykqp', 2, e'Added more functions to the qchar test


git-svn-id: svn://svn.chromium.org/blink/trunk@189 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-24 21:05:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0a64cc24db5c681f693d2a065680a47f8135f3a4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002t01l5g4tkx1hd', 2, e'Updated qchar-test.chk


git-svn-id: svn://svn.chromium.org/blink/trunk@188 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-24 20:19:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6b7e535639788a7496dac62f3fa866be1eb18aef');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002u01l5ofvife00', 2, e'
Added more tests to qchar-test


git-svn-id: svn://svn.chromium.org/blink/trunk@187 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-24 19:45:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d681b57b26e2d5b617ded1ab1e62294af22cfd17');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002v01l508yeljhr', 2, e'Added iostream includes


git-svn-id: svn://svn.chromium.org/blink/trunk@186 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-24 19:05:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fa7ebc3959c4916897c05204e51d35d984b136c6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002w01l56umsupep', 2, e'Added some more test programs


git-svn-id: svn://svn.chromium.org/blink/trunk@185 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-24 18:33:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/30a1c3724ef54c95872f84eb39f059d0baac6e9a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002x01l5fil7b8ip', 2, e'
Added qchar-test to test.list


git-svn-id: svn://svn.chromium.org/blink/trunk@184 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-24 18:31:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cb2fceaf31521a0dff4dc7eccc4b4f6e0bac48ce');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002y01l5xufetmv7', 2, e'
Added qchar-test to Makefile.in


git-svn-id: svn://svn.chromium.org/blink/trunk@183 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-24 18:31:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/997d7f78df8a5eae65bf313a136b8a984dade82e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5002z01l5apdme6l4', 2, e'Fixed recursive call to make in test target


git-svn-id: svn://svn.chromium.org/blink/trunk@182 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-24 18:31:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/80cffed952efe9ac16b7b2e89b7fae64a7daa829');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003001l5zliuuwv8', 2, e'Various small tweaks and fixes made as a result of writing test programs


git-svn-id: svn://svn.chromium.org/blink/trunk@181 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-24 18:30:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b4be8ed8a0fff09eb2235d762154fce7277a4169');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003101l5qx6vy2aq', 2, e'
Added Files:
qchar-test.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@180 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-24 18:24:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/498b73b43a3f524162e7f22dcf27d3b5a86ead65');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003201l5lmxtahgr', 2, e'
Added Files:
qchar-test.chk


git-svn-id: svn://svn.chromium.org/blink/trunk@179 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'cblu', '2001-09-24 18:22:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d5b4bf9d4a74a4853fd0b1f53a5553b203a31dcc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003301l5csvbc5y1', 2, e'Added some more tests


git-svn-id: svn://svn.chromium.org/blink/trunk@178 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-24 18:05:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a74a424206739cabf7eba3ff40b91870d5448d59');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003401l5eiuu8swi', 2, e'Small tweaks and fixes as a result of writing unit tests


git-svn-id: svn://svn.chromium.org/blink/trunk@177 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-24 16:24:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/807ae692bedcd143d8a02b35f78e39390f217bbe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003501l5ilbw6f2z', 2, e'Added some new tests


git-svn-id: svn://svn.chromium.org/blink/trunk@176 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-24 16:24:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/eb09fe197e615b884b3b4580dd4e97f709019946');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003601l5wb4ontop', 2, e'Removed this obsolete file


git-svn-id: svn://svn.chromium.org/blink/trunk@175 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-24 13:58:47.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5e1aaad86f3e33496c4f612d34383edad181c8c0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003701l5ee2b675i', 2, e'Fixed some bugs in the build, and in the test files.


git-svn-id: svn://svn.chromium.org/blink/trunk@174 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-21 21:17:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/98d24c8dcd470a2321b815652890e6f483ee1c76');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003801l5isb927sm', 2, e'Added some more tests.
Added some more collection implementation files.


git-svn-id: svn://svn.chromium.org/blink/trunk@173 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-21 21:10:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e795afaa0584babce73adbafb7844a8d246ccc5a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003901l5m8l4mjtz', 2, e'Did some more work on some basic Qt tests. Fixed a couple of bugs
I discovered in our implementations.


git-svn-id: svn://svn.chromium.org/blink/trunk@172 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-21 21:09:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9c3048eb1f0855094b41904ea54ae62ebd705a4a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003a01l5or9a6x7h', 2, e'Implemented assignment operators and remaining constructor


git-svn-id: svn://svn.chromium.org/blink/trunk@171 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-21 18:12:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/61d9c92050bc1c36f9a1bc46edc220bd59bb6228');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003b01l55asl2u2q', 2, e'More anal-retentive tweaking


git-svn-id: svn://svn.chromium.org/blink/trunk@170 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-21 18:11:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4b797b004d64466fbcdc28cb1156bd16e57f45c3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003c01l55q8yvwd2', 2, e'Fixed catching of status code from forked process. Sometimes
you just gotta read the man page!


git-svn-id: svn://svn.chromium.org/blink/trunk@169 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-21 16:56:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ef9769068e755dfd1f4f54f1b0600f8f819b968b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003d01l5q4et5mjh', 2, e'Modified some ignore rules


git-svn-id: svn://svn.chromium.org/blink/trunk@168 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-21 16:45:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b24f38dc39d222ef46b095df6aaa525a2b94dab3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl7x5003e01l5ti4qf4fg', 2, e'Started to add support for unit tests. This includes:

	- A test harness program
	- Some specific tests for our Qt class implementations


git-svn-id: svn://svn.chromium.org/blink/trunk@167 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-21 16:43:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f34354e7d0006460a5b03d75509f5ba300f7f8e2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc001r01l5bbsowq0m', 2, e'Bug fixes resulting from writing qpoint unit test


git-svn-id: svn://svn.chromium.org/blink/trunk@166 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-21 16:27:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dfcfe7d44c326a4e20c7ec54dd87689f14a35b89');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc001s01l574pj6z0p', 2, e'Anal-retentive tweaking


git-svn-id: svn://svn.chromium.org/blink/trunk@165 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-21 01:37:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a08c39cfea86b9e34f10f91c509ce1eb452d546d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc001t01l5f9is3o8f', 2, e'Moved QChar implementation into new KWQChar.mm


git-svn-id: svn://svn.chromium.org/blink/trunk@164 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-21 01:36:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/86e4d7fe4913995b4c57b1d8c01aa84e4d50c0be');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc001u01l5m7gk4zo6', 2, e'Created from QChar implementation in KWQString.mm


git-svn-id: svn://svn.chromium.org/blink/trunk@163 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-21 01:35:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a2c8740b86151bff6959962ca6f5e234debea286');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc001v01l58jtjk7ia', 2, e'Completed QChar implementation


git-svn-id: svn://svn.chromium.org/blink/trunk@162 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-20 21:18:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0b42530fa3ffe1879e75627329d7557db68b58d4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc001w01l57bmmsbup', 2, e'Some more small cleanups to get building with and without _KWQ_COMPLETE_


git-svn-id: svn://svn.chromium.org/blink/trunk@161 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 20:15:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/44cf6bf4570c2a5326a181dd1fee08df0fc10479');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc001x01l51sxfsvk9', 2, e'Made some changes and confirmed that the tree builds when _KWQ_COMPLETE is
defined *and* also when it isn\'t


git-svn-id: svn://svn.chromium.org/blink/trunk@160 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 18:40:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/523c1851abdcc4b031f15d0bd17f75b2d91608b0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc001y01l5r0qrw7i8', 2, e'Still more QChar implementation


git-svn-id: svn://svn.chromium.org/blink/trunk@159 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-20 18:17:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/18dd4d8840875edffe188c14171cda493f0c8608');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc001z01l5vd5rcnz2', 2, e'Some fixes to repair breakage resulting from starting to add some of the
KWQ_COMPLETE implementations


git-svn-id: svn://svn.chromium.org/blink/trunk@158 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 18:02:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6dac847a7a8e66c4ff599032d5d265f2c6e1d33a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002001l5raap9qra', 2, e'Modified the configure system to add config.h support for Q_NO_TEXTSTREAM
symbol


git-svn-id: svn://svn.chromium.org/blink/trunk@157 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 17:00:39.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e824b6fe888ceb670bd009b29581ec0a94a08279');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002101l5d9vmmaey', 2, e'Added and modified a couple more classes in _q* land


git-svn-id: svn://svn.chromium.org/blink/trunk@156 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 16:59:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f31f657cb7a308da6c6adc8a8c6c3b1f403c02f2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002201l58ky7dsyt', 2, e'Modified configure and make system to include support for switching
the following defines in config.h via configure options:
	- _KWQ_COMPLETE_
	- _KWQ_IOSTREAM_
	- QT_NO_DATASTREAM
	- QT_NO_TEXTCODEC

Also did some cleanup on the doc generated when you do a `configure --help`


git-svn-id: svn://svn.chromium.org/blink/trunk@155 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 16:19:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aaa14380d30661e540e06671a4651f09970fcbf7');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002301l5g9amds92', 2, e'Added QRegion support


git-svn-id: svn://svn.chromium.org/blink/trunk@154 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 16:16:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/21d563c61220dab63e73c4980157302de7fc6031');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002401l5460xcj5u', 2, e'More QChar implementation and spelling fixes


git-svn-id: svn://svn.chromium.org/blink/trunk@153 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-20 15:53:55.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c636dfb889a50cb0672b676dbc0ee3cf267909cc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002501l5xu0qwth0', 2, e'Tweak to handle skipping the compilation of javaembed.cpp now that
this skipping is no longer handled by MakeSystemChanges.sh


git-svn-id: svn://svn.chromium.org/blink/trunk@152 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 15:05:33.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/acc44aa95b578b0d89d5f6a703ee7344b5764fd0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002601l5pss0bzs6', 2, e'Added new Makefile.in files for the updated build system


git-svn-id: svn://svn.chromium.org/blink/trunk@151 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 14:56:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/09b7953561740be5b833e355e17dca632ca3161a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002701l5621n085z', 2, e'Added a few more files in the QT quick and dirty implementation effort


git-svn-id: svn://svn.chromium.org/blink/trunk@150 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 14:51:30.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/db9ca9adf8baea77cd468791bee6d83ee878074a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002801l5crr568a9', 2, e'Various tweaks and fixes to the make system and a couple of assorted files
in order to make the tree build again.


git-svn-id: svn://svn.chromium.org/blink/trunk@149 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 14:49:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8d8c4db381c7f3d023eceec9fea6e347330e59ed');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002901l5cebpg4h7', 2, e'Removed recursive descent into tree to run MakeSystemChanges.sh script.
This is no longer needed given that we have removed the KDE make files
from our tree.


git-svn-id: svn://svn.chromium.org/blink/trunk@148 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 14:28:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/868ebc8aed9a8a07a4a400f7104ae2597de22c7e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002a01l5x5813t1c', 2, e'Moved the make system so that it no longer includes elements from
the KDE build system. This involved removing the following files from
each directory where they appear in the KDE distribution:

	 - Makefile.am
	 - Makefile.in
	 - configure.in.in

I have also removed the special MakeSystemChanges.sh files from the tree
as they are made obsolete by this change.

It should also be noted that any Makefile.in files that remain are "ours"
and clobber the ones that KDE had.


git-svn-id: svn://svn.chromium.org/blink/trunk@147 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-20 14:26:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/88a272f7459f02971fcfad2c1cb18d7303642a52');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002b01l5pzpkwjp6', 2, e'Added src/kwq


git-svn-id: svn://svn.chromium.org/blink/trunk@145 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-20 02:05:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6051ee8c7af4e3ccb8772eb03378a9db48414bab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002c01l5aitot3es', 2, e'Added stub files for rendering


git-svn-id: svn://svn.chromium.org/blink/trunk@144 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-20 02:04:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6de52bda4252e6c710cb0abb8df08ec38c5e2940');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002d01l5msqdhja0', 2, e'Added rules for .mm


git-svn-id: svn://svn.chromium.org/blink/trunk@143 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-20 02:02:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/97e5fa3bbf429fff99cb555dd69f670615b51ff3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002e01l5mvspwq6i', 2, e'Initial makefile.in


git-svn-id: svn://svn.chromium.org/blink/trunk@142 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-20 02:01:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/60e64715d87d476a8150aa292908fe420791f0db');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002f01l5fhz96lbx', 2, e'Added partial QChar implementation


git-svn-id: svn://svn.chromium.org/blink/trunk@141 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-20 01:32:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8e974d60b1304f4c68e212089a184bd0533888a0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002g01l5o4q9v5fz', 2, e'Added image tests.


git-svn-id: svn://svn.chromium.org/blink/trunk@140 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-20 00:17:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/add0aa2fa015824079ed786f4c5d8168cbe0ac9f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002h01l55e41fbuz', 2, e'Started making modifications that will move us towards a working Qt
layer. This includes adding many temporary _q<foo> files that are mostly
"borrowed" from Qt for the time being. So far, some basic leaf classes,
and some string stuff is ready and working.

These tests begin to support this effort.


git-svn-id: svn://svn.chromium.org/blink/trunk@139 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-19 22:33:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/aa670d1a0262fa01601acb0945cc30bef13ffb98');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002i01l51s6rlrib', 2, e'Added


git-svn-id: svn://svn.chromium.org/blink/trunk@138 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-19 22:32:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2d6f3798e399d9eb186eaaa6675a45e3386e1391');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002j01l5azcfkyof', 2, e'Started making modifications that will move us towards a working Qt
layer. This includes adding many temporary _q<foo> files that are mostly
"borrowed" from Qt for the time being. So far, some basic leaf classes,
and some string stuff is ready and working.


git-svn-id: svn://svn.chromium.org/blink/trunk@137 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-19 22:31:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dd698a631de134879db80049357cb91e320f5a82');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl5vc002k01l5x76v7t1m', 2, e'
C?\\004?\\004?\\004?\\001?\\016?\\016?\\014?\\014
VS: ----------------------------------------------------------------------


git-svn-id: svn://svn.chromium.org/blink/trunk@136 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-19 21:12:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8009453736a9034a201db8bc0e1e61787ff36726');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4000x01l52ziap9de', 2, e'Merged changes from KDE 2.2.1 distribution


git-svn-id: svn://svn.chromium.org/blink/trunk@135 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-19 15:53:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e67376dc153fa41eb56149b8ed12c508c17cc161');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4000y01l5mam7wqwh', 2, e'Added contentsHeight function for KDE 2.2.1 compatibility


git-svn-id: svn://svn.chromium.org/blink/trunk@134 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-19 15:45:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4b64fefd4fef47a8df08005a759102f9273b1915');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4000z01l5iyopx3v2', 2, e'Added qRgba and rgb functions for KDE 2.2.1 compatibility


git-svn-id: svn://svn.chromium.org/blink/trunk@133 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-19 15:44:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/941c2af3cda4489d770fc9ea0bce9e4f81d1021f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001001l5weoci176', 2, e'Added QConstString implementation and some fixes


git-svn-id: svn://svn.chromium.org/blink/trunk@132 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-19 02:16:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fbedbd225d3c69f8bc1dae2e04066a201fe99ac6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001101l53bo31ikl', 2, e'*** empty log message ***


git-svn-id: svn://svn.chromium.org/blink/trunk@131 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-19 01:42:58.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6642c3c32af4f5fd1dcf88f77eaecce2e27c6053');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001201l5o4vyupix', 2, e'Files for the kwq test app


git-svn-id: svn://svn.chromium.org/blink/trunk@130 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'rjw', '2001-09-19 01:41:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6eab4dadd63754108e4f4999875e8027fbdfb6a9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001301l5175c4l03', 2, e'This Makefile broke, by including css_extensions.o. How did this happen?


git-svn-id: svn://svn.chromium.org/blink/trunk@129 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-10 23:50:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2aacf198b30f624c505d51caf0f5b3eeaf649209');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001401l5umrhv7s5', 2, e'Finished initial code clean up. This includes:

	- Adding a no-arg constructor for every class that didn\'t have one
	- Adding a destructor for every class that didn\'t have one
	- Adding a private copy constructor for every class that didn\'t have one
	- Adding a private assignment operator for every class that didn\'t have one
	- Pretty formatting


git-svn-id: svn://svn.chromium.org/blink/trunk@128 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-10 23:46:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/05df70f02ea48ebf4a75ae262c7572e934dfba2b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001501l5gs895k56', 2, e'More header cleanups


git-svn-id: svn://svn.chromium.org/blink/trunk@127 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-10 19:19:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/df15aa6b39f50b1792ab4feea3dc593646f14042');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001601l5z2mkyem7', 2, e'More work on code cleanup


git-svn-id: svn://svn.chromium.org/blink/trunk@126 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-10 19:05:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/db7ac4e2c28bef4a6eae5c4dd94b5a80b9c29a4b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001701l5r5l5k3ch', 2, e'Hack to workaround name collision with Mac Rect and Boolean types


git-svn-id: svn://svn.chromium.org/blink/trunk@125 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-10 18:45:37.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/65e059b51e4718a18f1fdd87bb6519907e5fecbd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001801l51wz02vuv', 2, e'Updated the make system with improved handling of dependency generation


git-svn-id: svn://svn.chromium.org/blink/trunk@124 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-10 18:09:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fe599386e0cebe6240f43a4e10438168a418d2aa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001901l5rv3sxx0o', 2, e'Hack to workaround name collision with Mac Fixed type


git-svn-id: svn://svn.chromium.org/blink/trunk@123 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-10 17:53:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/be4e797b6b58a3c992e915ffd23d084c1c1ccdda');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001a01l5bo55swsc', 2, e'Fixed dependency rules on generated files


git-svn-id: svn://svn.chromium.org/blink/trunk@122 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-10 17:19:35.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d92ee8fb6d9f7e6e35e71b8b3ef9696988063b94');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001b01l5unev40wc', 2, e'Added file


git-svn-id: svn://svn.chromium.org/blink/trunk@121 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-10 16:28:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/618871d681cb05123a86170588865f106912b02d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001c01l5syhw3uv7', 2, e'Begin implementation


git-svn-id: svn://svn.chromium.org/blink/trunk@120 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-10 16:27:48.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a04b80fef83bcc1244fe45116f57d4beb740749b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001d01l5c2gd1kd4', 2, e'Touched other files, annotating and formatting classes


git-svn-id: svn://svn.chromium.org/blink/trunk@119 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-10 16:15:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cffe3416072ad5a170619ec6533269500083ba88');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001e01l54txgd5fi', 2, e'Changed KWQScrollbar.h to KWQScrollBar.h


git-svn-id: svn://svn.chromium.org/blink/trunk@118 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-10 15:17:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fb20d3c3ec8fa39cec4c6860111af5d4b953e182');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001f01l5o6sjtkrx', 2, e'Added support for khtml/misc/loader_jpeg.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@117 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-07 21:56:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ce3655a171f73db021872ed18e03aa26b9568904');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001g01l5ej4cz536', 2, e'Removed file.


git-svn-id: svn://svn.chromium.org/blink/trunk@116 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-07 16:12:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/238cc39bbcc1b0d1f34f0f72bb48cd540d530156');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001h01l5kj8m5ux4', 2, e'Some more cleanups having to do woth constructors, destructors, etc.


git-svn-id: svn://svn.chromium.org/blink/trunk@115 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-06 23:16:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d44145f49c3c6ba86529d4dcea6c236e9b8857dd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001i01l5iw02n9f9', 2, e'First pass at code cleanup: Added constructors, copy constructors,
destructors, assignment operators, etc.


git-svn-id: svn://svn.chromium.org/blink/trunk@114 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-06 22:11:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/659554f787221310a12bdeee32fcef46055696cc');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001j01l58satybet', 2, e'Functionality moved to kwq/KWQStrList.h


git-svn-id: svn://svn.chromium.org/blink/trunk@113 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-06 14:06:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5958ee60e8054907469dae853ee5a18257f2b551');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001k01l5wifgjg9s', 2, e'Some small tweaks to the make system to prevent spurious remaking of Makefile.dep


git-svn-id: svn://svn.chromium.org/blink/trunk@112 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-06 14:03:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/10fc1c0f5d4003f928c0ba38a2afc122d1dac17b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001l01l5uezam9d3', 2, e'Fixed the top-level #define directives for the header files


git-svn-id: svn://svn.chromium.org/blink/trunk@111 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-05 23:59:07.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c378b94578d29ae837fce1a6bee5283974a75094');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001m01l5i51k49ps', 2, e'Moved some more files around to remove dependencies on all files not explicitly included by KDE/QT


git-svn-id: svn://svn.chromium.org/blink/trunk@110 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-05 23:53:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b8cfae94502e0189246a8484877c9f90ebc925fb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001n01l55088rh81', 2, e'Various changes to remove files that are not explicitly included by KDE/QT code.


git-svn-id: svn://svn.chromium.org/blink/trunk@109 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-05 22:57:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2341886bd6b39a472428bba3e6431df0eaf9989f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001o01l5f7nid82f', 2, e'Cleanups on header files - all of these files now compile in a test file by themselves


git-svn-id: svn://svn.chromium.org/blink/trunk@108 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-05 20:18:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/710b249a95e428e8840133aa8e42e81380d7bb6d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001p01l5kbaukq3j', 2, e'Some small code cleanups
Removed a couple of files that we don\'t need, rolling their functionality into files that are keepers


git-svn-id: svn://svn.chromium.org/blink/trunk@107 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-05 18:10:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/302998e441e40d2a52d04fa6c5058900a255694b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl3o4001q01l5cd41m36q', 2, e'Finished in khtml/rendering directory


git-svn-id: svn://svn.chromium.org/blink/trunk@106 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-05 17:32:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e709a10634455404e85f0177ccfc876e67bfc7fe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000301l5uwzilw56', 2, e'Added drawPolyline member function


git-svn-id: svn://svn.chromium.org/blink/trunk@105 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-05 16:32:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f4f79cf07216af9692fb4695bd9d12daed806559');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000401l5ovmvbq75', 2, e'Added new QPointArrary constructor and did some mangling


git-svn-id: svn://svn.chromium.org/blink/trunk@104 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-05 16:28:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d721dd081ca8f4ef92a70c892e1bcef73dc07c2b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000501l5q1zliqxy', 2, e'removed typdef; moved to kwqdef.h


git-svn-id: svn://svn.chromium.org/blink/trunk@103 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-05 16:17:13.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8a4d14ac19cf039d5901c77897da902016b67fdb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000601l5ikc53x29', 2, e'Additions to get khtml/rendering/render_frames.cpp to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@102 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-05 16:14:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/65df3b8fdb6eba55172e83f649bca925d7cf914b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000701l5sdxnvjs1', 2, e'Added setBrush, drawEllipse, and drawArc function members


git-svn-id: svn://svn.chromium.org/blink/trunk@101 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-05 15:53:12.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/921bc3b69cb52698a9cc2469006d927e74194a9c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000801l5jzwpconv', 2, e'Added build system file


git-svn-id: svn://svn.chromium.org/blink/trunk@100 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-05 15:50:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a61d48197debc3d33a494d7cb64a9266c51dc529');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000901l5f1k7oz7t', 2, e'Finished with getting khtml/rendering/render_form.cpp to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@99 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-05 15:49:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8321562e4802de988e771e3399c79800f30517be');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000a01l5ccn7ynbs', 2, e'Added ascent member function


git-svn-id: svn://svn.chromium.org/blink/trunk@98 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-05 15:37:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f980580b7a97d0e6f211fec71cbd5c3b46b1f0b9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000b01l5ncjetd8f', 2, e'More compilation changes


git-svn-id: svn://svn.chromium.org/blink/trunk@97 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-05 14:20:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4d6daed4e9480596190f2a6ff94fb1bb49b99d60');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000c01l5psl0jvwp', 2, e'Added isValid, setWidth, and setHeight member functions


git-svn-id: svn://svn.chromium.org/blink/trunk@96 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-05 13:43:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/0b77aa6ffaad522074654e500d5a1fbd58b6f55b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000d01l51o1999jk', 2, e'Added setWidth and setHeight member functions


git-svn-id: svn://svn.chromium.org/blink/trunk@95 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-05 13:42:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b07e09657917fd183ff39b2a2d7d8fd14fb5ae63');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000e01l5ors60d2w', 2, e'Added contentsWidth function member


git-svn-id: svn://svn.chromium.org/blink/trunk@94 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-05 13:35:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/04dec3f1c9668fd0b2518779f5c4a281a82f222a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000f01l5nj3pz7ws', 2, e'Added color and normal function members


git-svn-id: svn://svn.chromium.org/blink/trunk@93 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-05 13:29:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b0ed081c6e08b8a5325d351fd93b8fdc54ff9d85');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000g01l5sxpxvpcz', 2, e'More enhancements and additions to get khtml/rendering to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@92 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-04 23:57:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fbaad27892bf918f676026a00223b0c289df87cd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000h01l5ma2a6o1z', 2, e'Added another createNewWindow function


git-svn-id: svn://svn.chromium.org/blink/trunk@91 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 23:54:31.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b2ef3498a79eb9093de5e4a61a85e6a6d5a699ee');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000i01l5tpacxnv4', 2, e'Added Box constant


git-svn-id: svn://svn.chromium.org/blink/trunk@90 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 23:50:20.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/15e249c98a76634c497d96dae65e8f67b53039e1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000j01l5udtqk9xb', 2, e'Now inherit from QFrame, added scrollbar support


git-svn-id: svn://svn.chromium.org/blink/trunk@89 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 23:49:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/fa4c76fda5d68b4de74d08d35aec0b48f1fdf36b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000k01l5jlgyn7fb', 2, e'Added NoFrame constant


git-svn-id: svn://svn.chromium.org/blink/trunk@88 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 23:38:06.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73099168f8f79473ddd42962a4fcab922a867948');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000l01l532dx4bax', 2, e'Added setCursor member function


git-svn-id: svn://svn.chromium.org/blink/trunk@87 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 23:30:09.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2f9b38dc1c84536d9675b187c3332a37bf94d44e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000m01l56nfui9x7', 2, e'Added cursor support


git-svn-id: svn://svn.chromium.org/blink/trunk@86 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 23:25:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/751c021ff473e70f997de00b37bf605afb817fe8');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000n01l5ijc05cpr', 2, e'Added QCursor static constants


git-svn-id: svn://svn.chromium.org/blink/trunk@85 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 23:20:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bda72516f18621b4287cfa79b769649ec777a9be');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000o01l5gxvfnrxc', 2, e'Include qcursor.h to workaround bug in khtml/rendering/render_frames.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@84 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 23:09:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/06bf49b15cbd17aa1226fcb4534f18bdaf1039c5');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000p01l5gbf2eow6', 2, e'Files added while getting khtml/rendering to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@83 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-04 22:55:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/713fff6eccce4063b9f2de0e6e885c300de038fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000q01l5uv64ftt3', 2, e'Many changes as I progress through khtml/rendering


git-svn-id: svn://svn.chromium.org/blink/trunk@82 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-04 22:53:56.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ba809591961cfdc659aebe06e22f5b44741fb511');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000r01l55d6imor1', 2, e'Added file to get khtml/khtml_event.cpp to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@81 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 21:42:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/486e0c9d4bd453c8a3b6637bc4f157268a5069d9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000s01l5bpxvj7kc', 2, e'Small additions to ignore files


git-svn-id: svn://svn.chromium.org/blink/trunk@80 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-04 19:06:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/cb480fc8ae6cd046454de38aa71721edd467e71a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000t01l52581buw3', 2, e'Added make system support to khtml/html
Various small fixups to keep the tree green


git-svn-id: svn://svn.chromium.org/blink/trunk@79 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-04 19:04:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9d0c22647a315c63c46929a3642a98f0c0fdca01');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000u01l5xnxc67da', 2, e'Made QVector a subclass of QCollection in order to pick up desired
functionality, specifically the setAutoDelete method.


git-svn-id: svn://svn.chromium.org/blink/trunk@78 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-04 18:44:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ee3cda8a6ab36be45a9e66378369138a9fb18166');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000v01l58p4r24dl', 2, e'Still more compilation updates


git-svn-id: svn://svn.chromium.org/blink/trunk@77 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 18:43:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b95dfec7cfbe834a48745761e424d963274f33ab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnl1gc000w01l56es4yhi3', 2, e'Added count to iterator


git-svn-id: svn://svn.chromium.org/blink/trunk@76 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 18:35:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5d632ae48de8cae297812a9fb4f88c35e81a409e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnkzzl000101l54uwhuslr', 2, e'More workaround Hell for gramps


git-svn-id: svn://svn.chromium.org/blink/trunk@75 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 18:30:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e876d1470960f7f8e9ad0b9db44efe3f0ede9d41');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjnkzzl000201l56usx36pg', 2, e'Fixes for khtml/html, specifically html_formimpl.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@74 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-04 18:27:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/56b643ae56e4863bb0216a7784302245609a5437');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001601rqp93f90a7', 2, e'Fixes for khtml/html, specifically html_formimpl.cpp


git-svn-id: svn://svn.chromium.org/blink/trunk@74 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-04 18:27:34.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/56b643ae56e4863bb0216a7784302245609a5437');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001701rqled6nnvv', 2, e'More tweaks to the build system


git-svn-id: svn://svn.chromium.org/blink/trunk@73 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-04 16:51:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/df0b023ce9661c13ce775a5e2f95a33579654964');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001801rqr7zst4tr', 2, e'Added *.dep ignore rule


git-svn-id: svn://svn.chromium.org/blink/trunk@72 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-04 16:45:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/da8643f1c1aeff809a4b7a3e383a802450e95038');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001901rqycye2h3p', 2, e'Added some more complete dependency checking to the build system


git-svn-id: svn://svn.chromium.org/blink/trunk@71 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-09-04 16:45:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/356974293a8012fb54a71b8b8fffc4c1fc2d3d87');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001a01rqlmigjuui', 2, e'Still more changes to get this beast to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@70 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-04 03:42:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/82ede60040f31e2ceb464a7cb80e8b4eff7ad05f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001b01rqcs1l0g70', 2, e'More changes to get this beast to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@69 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-01 01:20:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/45bd600caf981c42eeeb3343b70d9782dbb90da2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001c01rq447lel5x', 2, e'More changes to get this beast to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@68 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-09-01 00:52:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d1aeaa080e67c686fbfff3a13d677a6bbbf4cb6f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001d01rq74a1fu8c', 2, e'More changes to get this beast to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@67 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-31 23:56:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d736ccf0cc918925cba01c3c0650090c87d5beb1');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001e01rqox4pjh53', 2, e'Minor changes to the build system:
    - Sub makefiles now pickup configure-generated compiler flag settings correctly
    - Some cosmetic updates to echo output


git-svn-id: svn://svn.chromium.org/blink/trunk@66 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-31 22:36:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7492c2c9969a3c27148ebdf428f52a897a686fe4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001f01rq73gs2qih', 2, e'Added top-level setup target


git-svn-id: svn://svn.chromium.org/blink/trunk@65 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-31 21:47:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d97d5ddc0201ed31560e623dc4841f8fdebc777a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001g01rqmalf0b16', 2, e'Added file


git-svn-id: svn://svn.chromium.org/blink/trunk@64 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-31 19:33:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ba71b6e44b6980926a8485db11b7e93324d3f1ac');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001h01rqde2nwbbq', 2, e'Finished getting khtml/java to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@63 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-31 19:32:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/38c4df1b56d07e5e6c8f9f3eaaa58e49a17c4f3a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001i01rq3hnuzhvt', 2, e'More changes to get this beast to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@62 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-31 19:24:11.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ef491f9f1d15f645fe2b1050ebc0eb8e306e6819');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001j01rqgavu9cd7', 2, e'Oops!


git-svn-id: svn://svn.chromium.org/blink/trunk@61 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-31 19:23:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c5eef0fb98c26f3598cc3cd38566f9d85ebe18b2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001k01rq17wm76w1', 2, e'More changes to get this beast to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@60 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-31 19:18:08.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9d1fadb922f9d498d2b420b4ede64d155c54c7f3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001l01rqtbstbxtv', 2, e'More changes to get this beast to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@59 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-31 16:32:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/956b29f5eef30d282eea40da59d5cfd886882414');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001m01rqhintxm0o', 2, e'More changes to get this beast to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@58 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-31 15:38:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7ff5a887686f6162d8076afde25d52a9491268a3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001n01rq3i16td3l', 2, e'More changes to get this beast to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@57 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-31 14:56:46.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8a0315279a980557e29d840fe3f5b7294a7e6463');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001o01rqmk5b4n9x', 2, e'Compilation updates


git-svn-id: svn://svn.chromium.org/blink/trunk@56 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-31 00:57:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/347a50daf4c2a27eae185dfc5e2c372cb64c6193');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001p01rq8h2epptt', 2, e'Fine tune of commit for khtml/misc


git-svn-id: svn://svn.chromium.org/blink/trunk@55 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-30 22:48:24.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8923b85f5f5a2bef883f88a04fa3bea0c26fbbeb');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001q01rqm7bq6ic5', 2, e'Finished getting khtml/misc to compile ... that was a bear 8-/


git-svn-id: svn://svn.chromium.org/blink/trunk@54 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-30 22:42:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/7c70e5c9598e0e5db242eff5cc0a408942e25686');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001r01rq43wgu17i', 2, e'More changes for compilation


git-svn-id: svn://svn.chromium.org/blink/trunk@53 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-30 17:48:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/75aa22db8f77027574a6ff4228e2fee5b0ddccbe');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001s01rqtiogka3l', 2, e'Finished work getting khtml/ecma to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@52 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-30 16:00:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/acc95c1cb697c4b0e0227ef18a48e5fb3244e9f0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001t01rq3zi38jh8', 2, e'Modified for this directory


git-svn-id: svn://svn.chromium.org/blink/trunk@51 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-30 16:00:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/025b61971527277524f21235c965c9cfef65d980');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001u01rqb38mr7px', 2, e'Changed definitions of SIGNAL and SLOT macros to be strings


git-svn-id: svn://svn.chromium.org/blink/trunk@50 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-30 15:47:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dde3be301c60986b0854b2c62be785aa31cca591');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001v01rqvzif63ij', 2, e'More compilation fixes and anal-retentive tweaks


git-svn-id: svn://svn.chromium.org/blink/trunk@49 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-30 07:43:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/60fde6e2791a23b8b91fa7733a7b692923744364');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001w01rqh4v1dl36', 2, e'Imported sources from kde-2.2 distribution


git-svn-id: svn://svn.chromium.org/blink/trunk@48 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-30 05:34:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/21e8c7dd0ba1b2bafbceac7cfa2e161341070a5d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001x01rqe9yq3tmc', 2, e'In process of working on khtml/ecma....


git-svn-id: svn://svn.chromium.org/blink/trunk@47 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-30 00:04:54.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9d812c9552d200d8e6b04023594d5c49589c8102');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001y01rqkts7dk92', 2, e'Added these file to help khtml/css to build


git-svn-id: svn://svn.chromium.org/blink/trunk@46 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-29 19:11:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e462e920439b251fa46ac4af656bee1e7ca12803');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmemb7001z01rqde0stzvu', 2, e'Finished getting khtml/css to compile
Added khtml/css to build system


git-svn-id: svn://svn.chromium.org/blink/trunk@45 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-29 19:10:53.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/bb88b6da934fd987575d61d9d1be95f270a13010');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000c01rqhpmm5p42', 2, e'Added names of files generated by makeprop and makevalues tools


git-svn-id: svn://svn.chromium.org/blink/trunk@44 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-29 19:01:43.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/6958f9fa4131bdcca018dbe4c379962b81a4780e');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000d01rqqrb5mus4', 2, e'Added make system support files


git-svn-id: svn://svn.chromium.org/blink/trunk@43 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-29 19:00:21.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a68ec8448689ed409b6a7d890391c4e08419ec9c');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000e01rqyp4zi8bf', 2, e'Replaced tabs with spaces
Added khtml/xml to top-level Makefile


git-svn-id: svn://svn.chromium.org/blink/trunk@42 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-29 16:54:00.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b98cb228710ec0afcd2f0470fc43140772c8c0c9');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000f01rqap67e9r5', 2, e'Finished getting khtml/xml to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@41 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-29 16:33:19.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/1781c210539c7574a70b1528609ebf052e883042');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000g01rq5n1ru8i7', 2, e'Added predeclaration of KCharsets


git-svn-id: svn://svn.chromium.org/blink/trunk@40 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-29 15:43:05.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2fda45427d51c8c249edf5a9003dc298d8dad6dd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000h01rqmn2ht49n', 2, e'More compile updates


git-svn-id: svn://svn.chromium.org/blink/trunk@39 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-29 15:17:17.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/73f875c34f6a24358b5ae624ca9269a763e2c9c0');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000i01rqsli7va87', 2, e'Added another generated file


git-svn-id: svn://svn.chromium.org/blink/trunk@38 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-29 00:59:41.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/20542c702331a922fdb7e7daa1ea96f8f3bc8a57');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000j01rqk1vciv63', 2, e'More hacks....now most of the way through khtml/xml


git-svn-id: svn://svn.chromium.org/blink/trunk@37 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-28 23:16:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/743006002f61cba791321d79e1ea824f28761aad');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000k01rqo1avlo55', 2, e'Added top-level .cvsignore file


git-svn-id: svn://svn.chromium.org/blink/trunk@36 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-28 21:14:27.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/404c61f9844ded00bb1f7c84d08afa95f56c574d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000l01rqc0ky11id', 2, e'More general modifications to the build system.
Added support to the build system for the khtml/dom directory


git-svn-id: svn://svn.chromium.org/blink/trunk@35 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-28 21:13:49.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f203ad2c6908e7296e08fbfcaeec97b47134219d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000m01rqt3aggkpj', 2, e'Added more files to ignore


git-svn-id: svn://svn.chromium.org/blink/trunk@34 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-28 21:10:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d81266fe95aaecef849a591a8a28e8596b7c40ea');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000n01rqcbyxgwnv', 2, e'Re-commit of original Makefile.in


git-svn-id: svn://svn.chromium.org/blink/trunk@33 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-28 21:10:01.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/dbb7796c67cfecdc89b576c506e22494606ef309');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000o01rqw8yrhkn1', 2, e'More whacks to get khtml/dom to compile, and, by gum, now it does!


git-svn-id: svn://svn.chromium.org/blink/trunk@32 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-28 20:21:04.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/77a0236e400391b33102611f8924a91875403317');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000p01rqhcat0mho', 2, e'Changes to get khtml/css/cssparser.cpp to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@31 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-28 20:19:29.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/50eac78db7fa0fa0cdfc39d505d85ee9acce593b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000q01rqaanto6hi', 2, e'More changes to get khtml/css/cssparser.cpp to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@30 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-28 19:40:52.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/afe7b012759fcc5b4c26b9f97428782d3e03647d');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000r01rq47ofeswg', 2, e'Another batch of changes for moving forward in khtml/dom


git-svn-id: svn://svn.chromium.org/blink/trunk@29 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-28 18:21:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d4bf14deaec6d26d72c5777baddee3cdcce82157');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000s01rqg37u5x2n', 2, e'Changes to get khtml/css/cssparser.cpp to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@28 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-28 18:12:16.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/60c4c969f7c1698cfee6d11f449dfa712671d31b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000t01rqpag15309', 2, e'Changes to get khtml/css/cssparser.cpp to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@27 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-28 18:03:51.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/c2dacd4a139c49415a1891634789792800e10541');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000u01rqgy4odmy3', 2, e'Added a bunch of extra declarations, includes, etc. in the process
of getting khtml/dom to compile.
Several new files were added as well.


git-svn-id: svn://svn.chromium.org/blink/trunk@26 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-28 17:43:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a9c154b4eac6adcfad86faadf49add4873be507a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000v01rq3l0wess5', 2, e'Added a bunch of extra declarations, includes, etc. in the process
of getting khtml/dom to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@25 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-28 17:41:23.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d8d8c8f2e32229c45a3ca97478b4c66d0fbb809f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000w01rqwh3p79pp', 2, e'Added include files to get khtml/css/cssparser.cpp to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@24 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-28 17:34:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9a138502f8633d076771f3e434088c942e87126f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000x01rqn8ueda40', 2, e'Added generated files


git-svn-id: svn://svn.chromium.org/blink/trunk@23 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-28 15:32:36.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/18aa945193eb26a13184779cb51664df00100a0f');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000y01rqvt384t2k', 2, e'Removed generated file


git-svn-id: svn://svn.chromium.org/blink/trunk@22 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-28 15:23:44.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/e4d062b17a3ee7ff1e4b87ae1f23438e26a563d3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5000z01rq1yf4wzv6', 2, e'Removed generated source files


git-svn-id: svn://svn.chromium.org/blink/trunk@21 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-28 15:20:03.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/141a5aba69cb024dc9164d8056656c981c9c2fab');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5001001rqiwywk2k8', 2, e'Modified a number of files by adding skeletal type implementations and
includes that aid in getting khtml/dom to compile.


git-svn-id: svn://svn.chromium.org/blink/trunk@20 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-28 13:51:26.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/344046283445977a4cd984860481a589fec6f2e2');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5001101rqdhsy7rsl', 2, e'Added a basic set of files for an autoconf-based build system


git-svn-id: svn://svn.chromium.org/blink/trunk@19 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-27 23:54:25.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d3533786a1349f68e57baef073cb28c51430f5f6');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5001201rqstvcp0ut', 2, e'Added files for new build system


git-svn-id: svn://svn.chromium.org/blink/trunk@18 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-27 23:50:57.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/478e5dd050f9118950baa9a67219c55ad518924a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5001301rq1swvv26q', 2, e'Changes to get some of khtml/dom files to compile


git-svn-id: svn://svn.chromium.org/blink/trunk@17 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-27 19:11:18.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/69e7cc113c49dda81852c0d649fc2fa024076908');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5001401rqzxiafcmb', 2, e'Added file


git-svn-id: svn://svn.chromium.org/blink/trunk@16 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-27 19:09:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/f1655840571415e2d5944282ca8593a4067522bd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmeky5001501rqzzotri10', 2, e'gramps can\'t type


git-svn-id: svn://svn.chromium.org/blink/trunk@15 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-27 13:08:38.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/8749fc165e5f67bd76ce4adf23a8edd47a5e98b4');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmejgc000001rqclhgya60', 2, e'Added skeleton header files


git-svn-id: svn://svn.chromium.org/blink/trunk@14 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-24 22:02:28.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/b42fc3f2bf58682267eec41c6bbb252531127eaa');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmejgd000101rqtem4q2c0', 2, e'Moved file to sub-directory


git-svn-id: svn://svn.chromium.org/blink/trunk@13 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-24 21:53:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/ddeabec46bc9b9d4e7290a4d22b10fa8a335c993');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmejgd000201rqwv6ouwjj', 2, e'Added bison-generated grammar files


git-svn-id: svn://svn.chromium.org/blink/trunk@12 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-24 18:02:32.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/2f64ff26432463f9aaf972d0c0709e3c4ea01942');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmejgd000301rqukuy5k1r', 2, e'(Really) Removed bison-generated grammar files


git-svn-id: svn://svn.chromium.org/blink/trunk@11 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-24 18:01:14.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/9ae5bcf076fc94d1d14625b33b0e7ee97ec67cd3');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmejgd000401rqtozws5jh', 2, e'Imported top-level documentation files from kde-2.2 distribution


git-svn-id: svn://svn.chromium.org/blink/trunk@10 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-24 17:44:22.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/5ba11d0cae4e7380b6b93264a8ca1392a0117d51');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmejgd000501rqtlqrju6j', 2, e'Added skeleton header files


git-svn-id: svn://svn.chromium.org/blink/trunk@9 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-24 17:22:02.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/343edd1df9e512b608045c5232728e0011a4ba7a');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmejgd000601rquted1xo2', 2, e'Added LICENSE file


git-svn-id: svn://svn.chromium.org/blink/trunk@8 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'gramps', '2001-08-24 17:17:59.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/474d74f772265b16dff499b31842c6e60b1376fd');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmejgd000701rq7hlhq75e', 2, e'Imported sources from kde-2.2 distribution


git-svn-id: svn://svn.chromium.org/blink/trunk@6 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-24 14:24:45.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/71a6669e8fd20fbe0ca79876a67a07b4b1b78855');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmejgd000801rqih2jw0jk', 2, e'Initial revision


git-svn-id: svn://svn.chromium.org/blink/trunk@4 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-24 14:24:40.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/d869b93fe74f4d6cb2dd6f6c3e9bf9daee39ba19');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmejgd000901rqrn5yj71u', 2, e'Added .cvsignore file


git-svn-id: svn://svn.chromium.org/blink/trunk@3 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-24 14:21:10.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/4214d2207a30847c6e5cd2fd9413e29697168d34');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmejgd000a01rqgxl2yj9a', 2, e'Added .cvsignore file


git-svn-id: svn://svn.chromium.org/blink/trunk@2 bbb929c8-8fbe-4397-9dbb-9b2b20218538', 'kocienda', '2001-08-24 14:11:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/de9429c7a6064a76f5e98f412b7ee785c974c18b');
INSERT INTO public.commits (id, repo_id, message, author, date, url) VALUES ('cmbjmejgd000b01rqtylsx0ly', 2, e'New repository initialized by cvs2svn.

git-svn-id: svn://svn.chromium.org/blink/trunk@1 bbb929c8-8fbe-4397-9dbb-9b2b20218538', '(no author)', '2001-08-24 14:11:42.000000 +00:00', 'https://api.github.com/repos/chromium/chromium/git/commits/a5068f5fa11005232bc4383c54f6af230f9392fb');
